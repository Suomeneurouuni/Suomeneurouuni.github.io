"use strict";(self.webpackChunkEurouuni=self.webpackChunkEurouuni||[]).push([[179],{2011:(pt,xe,O)=>{O.d(xe,{Dh:()=>ue,GT:()=>ye,cc:()=>Ee,hO:()=>Ze,on:()=>$,pX:()=>se,xv:()=>ge});var o=O(5e3),X=O(127),P=O(5813);pt=O.hmd(pt);const le=["ngOnDestroy"],se=(te,De,Be,Re={})=>new Proxy(te,{get:(ot,Ve)=>Be.runOutsideAngular(()=>{var Ke;if(te[Ve])return(null===(Ke=null==Re?void 0:Re.spy)||void 0===Ke?void 0:Ke.get)&&Re.spy.get(Ve,te[Ve]),te[Ve];if(le.indexOf(Ve)>-1)return()=>{};const Je=De.toPromise().then(_t=>{const ne=_t&&_t[Ve];return"function"==typeof ne?ne.bind(_t):ne&&ne.then?ne.then(fe=>Be.run(()=>fe)):Be.run(()=>ne)});return new Proxy(()=>{},{get:(_t,ne)=>Je[ne],apply:(_t,ne,fe)=>Je.then(ve=>{var be;const Oe=ve&&ve(...fe);return(null===(be=null==Re?void 0:Re.spy)||void 0===be?void 0:be.apply)&&Re.spy.apply(Ve,fe,Oe),Oe})})})}),ye=(te,De)=>{De.forEach(Be=>{Object.getOwnPropertyNames(Be.prototype||Be).forEach(Re=>{Object.defineProperty(te.prototype,Re,Object.getOwnPropertyDescriptor(Be.prototype||Be,Re))})})};class J{constructor(De){return De}}const ue=new o.OlP("angularfire2.app.options"),ge=new o.OlP("angularfire2.app.name");function $(te,De,Be){const ot="object"==typeof Be&&Be||{};ot.name=ot.name||"string"==typeof Be&&Be||"[DEFAULT]";const Ke=X.Z.apps.filter(Je=>Je&&Je.name===ot.name)[0]||De.runOutsideAngular(()=>X.Z.initializeApp(te,ot));try{JSON.stringify(te)!==JSON.stringify(Ke.options)&&W("error",`${Ke.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Je){}return new J(Ke)}const W=(te,...De)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[te](...De)},re={provide:J,useFactory:$,deps:[ue,o.R0b,[new o.FiY,ge]]};let Ze=(()=>{class te{constructor(Be){X.Z.registerVersion("angularfire",P.q4.full,"core"),X.Z.registerVersion("angularfire",P.q4.full,"app-compat"),X.Z.registerVersion("angular",o.q4F.full,Be.toString())}static initializeApp(Be,Re){return{ngModule:te,providers:[{provide:ue,useValue:Be},{provide:ge,useValue:Re}]}}}return te.\u0275fac=function(Be){return new(Be||te)(o.LFG(o.Lbi))},te.\u0275mod=o.oAB({type:te}),te.\u0275inj=o.cJS({providers:[re]}),te})();function Ee(te,De,Be,Re,ot){const[,Ve,Ke]=globalThis.\u0275AngularfireInstanceCache.find(Je=>Je[0]===te)||[];if(Ve)return function Ye(te,De){try{return te.toString()===De.toString()}catch(Be){return te===De}}(ot,Ke)||(Fe("error",`${De} was already initialized on the ${Be} Firebase App with different settings.${Ue?" You may need to reload as Firebase is not HMR aware.":""}`),Fe("warn",{is:ot,was:Ke})),Ve;{const Je=Re();return globalThis.\u0275AngularfireInstanceCache.push([te,Je,ot]),Je}}const Ue=!!pt.hot,Fe=(te,...De)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[te](...De)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(pt,xe,O)=>{O.d(xe,{q4:()=>ro,iC:()=>gs,fc:()=>Y3,HU:()=>B2,vb:()=>v2,JM:()=>Ml});var o=O(5e3),X=O(5867),P=O(5861),le=O(9681),se=O(2090),ye=O(4859),J=O(1877);const ue="@firebase/installations",W="w:0.5.7",re="FIS_v2",te=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function De(L){return L instanceof se.ZR&&L.code.includes("request-failed")}function Be({projectId:L}){return`https://firebaseinstallations.googleapis.com/v1/projects/${L}/installations`}function Re(L){return{token:L.token,requestStatus:2,expiresIn:fe(L.expiresIn),creationTime:Date.now()}}function ot(L,E){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,P.Z)(function*(L,E){const F=(yield E.json()).error;return te.create("request-failed",{requestName:L,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function Ke({apiKey:L}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":L})}function Je(L,{refreshToken:E}){const V=Ke(L);return V.append("Authorization",function ve(L){return`${re} ${L}`}(E)),V}function _t(L){return ne.apply(this,arguments)}function ne(){return(ne=(0,P.Z)(function*(L){const E=yield L();return E.status>=500&&E.status<600?L():E})).apply(this,arguments)}function fe(L){return Number(L.replace("s","000"))}function be(L,E){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,P.Z)(function*({appConfig:L,heartbeatServiceProvider:E},{fid:V}){const F=Be(L),K=Ke(L),oe=E.getImmediate({optional:!0});if(oe){const wt=yield oe.getHeartbeatsHeader();wt&&K.append("x-firebase-client",wt)}const et={method:"POST",headers:K,body:JSON.stringify({fid:V,authVersion:re,appId:L.appId,sdkVersion:W})},It=yield _t(()=>fetch(F,et));if(It.ok){const wt=yield It.json();return{fid:wt.fid||V,registrationStatus:2,refreshToken:wt.refreshToken,authToken:Re(wt.authToken)}}throw yield ot("Create Installation",It)})).apply(this,arguments)}function he(L){return new Promise(E=>{setTimeout(E,L)})}const gn=/^[cdef][\w-]{21}$/;function Pt(){try{const L=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(L),L[0]=112+L[0]%16;const V=function Ot(L){return function Ft(L){return btoa(String.fromCharCode(...L)).replace(/\+/g,"-").replace(/\//g,"_")}(L).substr(0,22)}(L);return gn.test(V)?V:""}catch(L){return""}}function St(L){return`${L.appName}!${L.appId}`}const Nn=new Map;function k2(L,E){const V=St(L);Jr(V,E),function si(L,E){const V=function vn(){return!Ai&&"BroadcastChannel"in self&&(Ai=new BroadcastChannel("[Firebase] FID Change"),Ai.onmessage=L=>{Jr(L.data.key,L.data.fid)}),Ai}();V&&V.postMessage({key:L,fid:E}),function Wn(){0===Nn.size&&Ai&&(Ai.close(),Ai=null)}()}(V,E)}function Jr(L,E){const V=Nn.get(L);if(V)for(const F of V)F(E)}let Ai=null;const Yi="firebase-installations-store";let Ae=null;function Fi(){return Ae||(Ae=(0,se.X3)("firebase-installations-database",1,(L,E)=>{0===E&&L.createObjectStore(Yi)})),Ae}function oi(L,E){return yt.apply(this,arguments)}function yt(){return(yt=(0,P.Z)(function*(L,E){const V=St(L),K=(yield Fi()).transaction(Yi,"readwrite"),oe=K.objectStore(Yi),Me=yield oe.get(V);return yield oe.put(E,V),yield K.complete,(!Me||Me.fid!==E.fid)&&k2(L,E.fid),E})).apply(this,arguments)}function Cn(L){return Y2.apply(this,arguments)}function Y2(){return(Y2=(0,P.Z)(function*(L){const E=St(L),F=(yield Fi()).transaction(Yi,"readwrite");yield F.objectStore(Yi).delete(E),yield F.complete})).apply(this,arguments)}function Ii(L,E){return U1.apply(this,arguments)}function U1(){return(U1=(0,P.Z)(function*(L,E){const V=St(L),K=(yield Fi()).transaction(Yi,"readwrite"),oe=K.objectStore(Yi),Me=yield oe.get(V),et=E(Me);return void 0===et?yield oe.delete(V):yield oe.put(et,V),yield K.complete,et&&(!Me||Me.fid!==et.fid)&&k2(L,et.fid),et})).apply(this,arguments)}function c1(L){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,P.Z)(function*(L){let E;const V=yield Ii(L.appConfig,F=>{const K=ai(F),oe=Ca(L,K);return E=oe.registrationPromise,oe.installationEntry});return""===V.fid?{installationEntry:yield E}:{installationEntry:V,registrationPromise:E}})).apply(this,arguments)}function ai(L){return mn(L||{fid:Pt(),registrationStatus:0})}function Ca(L,E){if(0===E.registrationStatus){if(!navigator.onLine)return{installationEntry:E,registrationPromise:Promise.reject(te.create("app-offline"))};const V={fid:E.fid,registrationStatus:1,registrationTime:Date.now()},F=function wn(L,E){return nt.apply(this,arguments)}(L,V);return{installationEntry:V,registrationPromise:F}}return 1===E.registrationStatus?{installationEntry:E,registrationPromise:Lt(L)}:{installationEntry:E}}function nt(){return(nt=(0,P.Z)(function*(L,E){try{const V=yield be(L,E);return oi(L.appConfig,V)}catch(V){throw De(V)&&409===V.customData.serverCode?yield Cn(L.appConfig):yield oi(L.appConfig,{fid:E.fid,registrationStatus:0}),V}})).apply(this,arguments)}function Lt(L){return wr.apply(this,arguments)}function wr(){return(wr=(0,P.Z)(function*(L){let E=yield K2(L.appConfig);for(;1===E.registrationStatus;)yield he(100),E=yield K2(L.appConfig);if(0===E.registrationStatus){const{installationEntry:V,registrationPromise:F}=yield c1(L);return F||V}return E})).apply(this,arguments)}function K2(L){return Ii(L,E=>{if(!E)throw te.create("installation-not-found");return mn(E)})}function mn(L){return function Tt(L){return 1===L.registrationStatus&&L.registrationTime+1e4<Date.now()}(L)?{fid:L.fid,registrationStatus:0}:L}function Qi(L,E){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,P.Z)(function*({appConfig:L,heartbeatServiceProvider:E},V){const F=_n(L,V),K=Je(L,V),oe=E.getImmediate({optional:!0});if(oe){const wt=yield oe.getHeartbeatsHeader();wt&&K.append("x-firebase-client",wt)}const et={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:W,appId:L.appId}})},It=yield _t(()=>fetch(F,et));if(It.ok)return Re(yield It.json());throw yield ot("Generate Auth Token",It)})).apply(this,arguments)}function _n(L,{fid:E}){return`${Be(L)}/${E}/authTokens:generate`}function Dt(L){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,P.Z)(function*(L,E=!1){let V;const F=yield Ii(L.appConfig,oe=>{if(!yn(oe))throw te.create("not-registered");const Me=oe.authToken;if(!E&&q(Me))return oe;if(1===Me.requestStatus)return V=Xe(L,E),oe;{if(!navigator.onLine)throw te.create("app-offline");const et=Z(oe);return V=mt(L,et),et}});return V?yield V:F.authToken})).apply(this,arguments)}function Xe(L,E){return Se.apply(this,arguments)}function Se(){return(Se=(0,P.Z)(function*(L,E){let V=yield ut(L.appConfig);for(;1===V.authToken.requestStatus;)yield he(100),V=yield ut(L.appConfig);const F=V.authToken;return 0===F.requestStatus?Dt(L,E):F})).apply(this,arguments)}function ut(L){return Ii(L,E=>{if(!yn(E))throw te.create("not-registered");return function pe(L){return 1===L.requestStatus&&L.requestTime+1e4<Date.now()}(E.authToken)?Object.assign(Object.assign({},E),{authToken:{requestStatus:0}}):E})}function mt(L,E){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,P.Z)(function*(L,E){try{const V=yield Qi(L,E),F=Object.assign(Object.assign({},E),{authToken:V});return yield oi(L.appConfig,F),V}catch(V){if(!De(V)||401!==V.customData.serverCode&&404!==V.customData.serverCode){const F=Object.assign(Object.assign({},E),{authToken:{requestStatus:0}});yield oi(L.appConfig,F)}else yield Cn(L.appConfig);throw V}})).apply(this,arguments)}function yn(L){return void 0!==L&&2===L.registrationStatus}function q(L){return 2===L.requestStatus&&!function B(L){const E=Date.now();return E<L.creationTime||L.creationTime+L.expiresIn<E+36e5}(L)}function Z(L){const E={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},L),{authToken:E})}function Ge(){return(Ge=(0,P.Z)(function*(L){const E=L,{installationEntry:V,registrationPromise:F}=yield c1(E);return F?F.catch(console.error):Dt(E).catch(console.error),V.fid})).apply(this,arguments)}function dn(){return(dn=(0,P.Z)(function*(L,E=!1){const V=L;return yield Bi(V),(yield Dt(V,E)).token})).apply(this,arguments)}function Bi(L){return vi.apply(this,arguments)}function vi(){return(vi=(0,P.Z)(function*(L){const{registrationPromise:E}=yield c1(L);E&&(yield E)})).apply(this,arguments)}function c2(L){return te.create("missing-app-config-values",{valueName:L})}const yi="installations",G1=L=>{const E=L.getProvider("app").getImmediate(),V=function Lo(L){if(!L||!L.options)throw c2("App Configuration");if(!L.name)throw c2("App Name");const E=["projectId","apiKey","appId"];for(const V of E)if(!L.options[V])throw c2(V);return{appName:L.name,projectId:L.options.projectId,apiKey:L.options.apiKey,appId:L.options.appId}}(E);return{app:E,appConfig:V,heartbeatServiceProvider:(0,le._getProvider)(E,"heartbeat"),_delete:()=>Promise.resolve()}},$e=L=>{const E=L.getProvider("app").getImmediate(),V=(0,le._getProvider)(E,yi).getImmediate();return{getId:()=>function ee(L){return Ge.apply(this,arguments)}(V),getToken:K=>function Mt(L){return dn.apply(this,arguments)}(V,K)}};(function Vt(){(0,le._registerComponent)(new ye.wA(yi,G1,"PUBLIC")),(0,le._registerComponent)(new ye.wA("installations-internal",$e,"PRIVATE"))})(),(0,le.registerVersion)(ue,"0.5.7"),(0,le.registerVersion)(ue,"0.5.7","esm2017");const an="@firebase/remote-config",Ut=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _1{constructor(E,V,F,K){this.client=E,this.storage=V,this.storageCache=F,this.logger=K}isCachedDataFresh(E,V){if(!V)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-V,K=F<=E;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${E}. Is cache hit: ${K}.`),K}fetch(E){var V=this;return(0,P.Z)(function*(){const[F,K]=yield Promise.all([V.storage.getLastSuccessfulFetchTimestampMillis(),V.storage.getLastSuccessfulFetchResponse()]);if(K&&V.isCachedDataFresh(E.cacheMaxAgeMillis,F))return K;E.eTag=K&&K.eTag;const oe=yield V.client.fetch(E),Me=[V.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===oe.status&&Me.push(V.storage.setLastSuccessfulFetchResponse(oe)),yield Promise.all(Me),oe})()}}function To(L=navigator){return L.languages&&L.languages[0]||L.language}class P0{constructor(E,V,F,K,oe,Me){this.firebaseInstallations=E,this.sdkVersion=V,this.namespace=F,this.projectId=K,this.apiKey=oe,this.appId=Me}fetch(E){var V=this;return(0,P.Z)(function*(){const[F,K]=yield Promise.all([V.firebaseInstallations.getId(),V.firebaseInstallations.getToken()]),Me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${V.projectId}/namespaces/${V.namespace}:fetch?key=${V.apiKey}`,et={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":E.eTag||"*"},It={sdk_version:V.sdkVersion,app_instance_id:F,app_instance_id_token:K,app_id:V.appId,language_code:To()},wt={method:"POST",headers:et,body:JSON.stringify(It)},Xt=fetch(Me,wt),Nt=new Promise((R1,U2)=>{E.signal.addEventListener(()=>{const Ua=new Error("The operation was aborted.");Ua.name="AbortError",U2(Ua)})});let V1;try{yield Promise.race([Xt,Nt]),V1=yield Xt}catch(R1){let U2="fetch-client-network";throw"AbortError"===R1.name&&(U2="fetch-timeout"),Ut.create(U2,{originalErrorMessage:R1.message})}let fi=V1.status;const sr=V1.headers.get("ETag")||void 0;let H1,b2;if(200===V1.status){let R1;try{R1=yield V1.json()}catch(U2){throw Ut.create("fetch-client-parse",{originalErrorMessage:U2.message})}H1=R1.entries,b2=R1.state}if("INSTANCE_STATE_UNSPECIFIED"===b2?fi=500:"NO_CHANGE"===b2?fi=304:("NO_TEMPLATE"===b2||"EMPTY_CONFIG"===b2)&&(H1={}),304!==fi&&200!==fi)throw Ut.create("fetch-status",{httpStatus:fi});return{status:fi,eTag:sr,config:H1}})()}}class e6{constructor(E,V){this.client=E,this.storage=V}fetch(E){var V=this;return(0,P.Z)(function*(){const F=(yield V.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return V.attemptFetch(E,F)})()}attemptFetch(E,{throttleEndTimeMillis:V,backoffCount:F}){var K=this;return(0,P.Z)(function*(){yield function f2(L,E){return new Promise((V,F)=>{const K=Math.max(E-Date.now(),0),oe=setTimeout(V,K);L.addEventListener(()=>{clearTimeout(oe),F(Ut.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}(E.signal,V);try{const oe=yield K.client.fetch(E);return yield K.storage.deleteThrottleMetadata(),oe}catch(oe){if(!function Zs(L){if(!(L instanceof se.ZR&&L.customData))return!1;const E=Number(L.customData.httpStatus);return 429===E||500===E||503===E||504===E}(oe))throw oe;const Me={throttleEndTimeMillis:Date.now()+(0,se.$s)(F),backoffCount:F+1};return yield K.storage.setThrottleMetadata(Me),K.attemptFetch(E,Me)}})()}}class ol{constructor(E,V,F,K,oe){this.app=E,this._client=V,this._storageCache=F,this._storage=K,this._logger=oe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function D3(L,E){const V=L.target.error||void 0;return Ut.create(E,{originalErrorMessage:V&&V.message})}const Lr="app_namespace_store";class ll{constructor(E,V,F,K=function A3(){return new Promise((L,E)=>{try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=F=>{E(D3(F,"storage-open"))},V.onsuccess=F=>{L(F.target.result)},V.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(Lr,{keyPath:"compositeKey"})}}catch(V){E(Ut.create("storage-open",{originalErrorMessage:V}))}})}()){this.appId=E,this.appName=V,this.namespace=F,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(E){return this.set("last_fetch_status",E)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(E){return this.set("last_successful_fetch_timestamp_millis",E)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(E){return this.set("last_successful_fetch_response",E)}getActiveConfig(){return this.get("active_config")}setActiveConfig(E){return this.set("active_config",E)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(E){return this.set("active_config_etag",E)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(E){return this.set("throttle_metadata",E)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(E){var V=this;return(0,P.Z)(function*(){const F=yield V.openDbPromise;return new Promise((K,oe)=>{const et=F.transaction([Lr],"readonly").objectStore(Lr),It=V.createCompositeKey(E);try{const wt=et.get(It);wt.onerror=Xt=>{oe(D3(Xt,"storage-get"))},wt.onsuccess=Xt=>{const Nt=Xt.target.result;K(Nt?Nt.value:void 0)}}catch(wt){oe(Ut.create("storage-get",{originalErrorMessage:wt&&wt.message}))}})})()}set(E,V){var F=this;return(0,P.Z)(function*(){const K=yield F.openDbPromise;return new Promise((oe,Me)=>{const It=K.transaction([Lr],"readwrite").objectStore(Lr),wt=F.createCompositeKey(E);try{const Xt=It.put({compositeKey:wt,value:V});Xt.onerror=Nt=>{Me(D3(Nt,"storage-set"))},Xt.onsuccess=()=>{oe()}}catch(Xt){Me(Ut.create("storage-set",{originalErrorMessage:Xt&&Xt.message}))}})})()}delete(E){var V=this;return(0,P.Z)(function*(){const F=yield V.openDbPromise;return new Promise((K,oe)=>{const et=F.transaction([Lr],"readwrite").objectStore(Lr),It=V.createCompositeKey(E);try{const wt=et.delete(It);wt.onerror=Xt=>{oe(D3(Xt,"storage-delete"))},wt.onsuccess=()=>{K()}}catch(wt){oe(Ut.create("storage-delete",{originalErrorMessage:wt&&wt.message}))}})})()}createCompositeKey(E){return[this.appId,this.appName,this.namespace,E].join()}}class F0{constructor(E){this.storage=E}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var E=this;return(0,P.Z)(function*(){const V=E.storage.getLastFetchStatus(),F=E.storage.getLastSuccessfulFetchTimestampMillis(),K=E.storage.getActiveConfig(),oe=yield V;oe&&(E.lastFetchStatus=oe);const Me=yield F;Me&&(E.lastSuccessfulFetchTimestampMillis=Me);const et=yield K;et&&(E.activeConfig=et)})()}setLastFetchStatus(E){return this.lastFetchStatus=E,this.storage.setLastFetchStatus(E)}setLastSuccessfulFetchTimestampMillis(E){return this.lastSuccessfulFetchTimestampMillis=E,this.storage.setLastSuccessfulFetchTimestampMillis(E)}setActiveConfig(E){return this.activeConfig=E,this.storage.setActiveConfig(E)}}function ul(){return ts.apply(this,arguments)}function ts(){return(ts=(0,P.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(L){return!1}})).apply(this,arguments)}!function cl(){(0,le._registerComponent)(new ye.wA("remote-config",function L(E,{instanceIdentifier:V}){const F=E.getProvider("app").getImmediate(),K=E.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ut.create("registration-window");if(!(0,se.hl)())throw Ut.create("indexed-db-unavailable");const{projectId:oe,apiKey:Me,appId:et}=F.options;if(!oe)throw Ut.create("registration-project-id");if(!Me)throw Ut.create("registration-api-key");if(!et)throw Ut.create("registration-app-id");const It=new ll(et,F.name,V=V||"firebase"),wt=new F0(It),Xt=new J.Yd(an);Xt.logLevel=J.in.ERROR;const Nt=new P0(K,le.SDK_VERSION,V,oe,Me,et),V1=new e6(Nt,It),fi=new _1(V1,It,wt,Xt),sr=new ol(F,fi,wt,It,Xt);return function Qt(L){const E=(0,se.m9)(L);E._initializePromise||(E._initializePromise=E._storageCache.loadFromStorage().then(()=>{E._isInitializationComplete=!0}))}(sr),sr},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(an,"0.3.6"),(0,le.registerVersion)(an,"0.3.6","esm2017")}();const n6="/firebase-messaging-sw.js",dl="/firebase-cloud-messaging-push-scope",i6="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",va="google.c.a.c_id",ns="google.c.a.c_l",Ys="google.c.a.ts",Er="google.c.a.e";var Tr=(()=>{return(L=Tr||(Tr={})).PUSH_RECEIVED="push-received",L.NOTIFICATION_CLICKED="notification-clicked",Tr;var L})();function Mi(L){const E=new Uint8Array(L);return btoa(String.fromCharCode(...E)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function r6(L){const V=(L+"=".repeat((4-L.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(V),K=new Uint8Array(F.length);for(let oe=0;oe<F.length;++oe)K[oe]=F.charCodeAt(oe);return K}const is="fcm_token_details_db",Yn="fcm_token_object_Store";function s6(L){return Do.apply(this,arguments)}function Do(){return Do=(0,P.Z)(function*(L){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(oe=>oe.name).includes(is))return null;let E=null;return(yield(0,se.X3)(is,5,function(){var F=(0,P.Z)(function*(K,oe,Me,et){var It;if(oe<2||!K.objectStoreNames.contains(Yn))return;const wt=et.objectStore(Yn),Xt=yield wt.index("fcmSenderId").get(L);if(yield wt.clear(),Xt)if(2===oe){const Nt=Xt;if(!Nt.auth||!Nt.p256dh||!Nt.endpoint)return;E={token:Nt.fcmToken,createTime:null!==(It=Nt.createTime)&&void 0!==It?It:Date.now(),subscriptionOptions:{auth:Nt.auth,p256dh:Nt.p256dh,endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:"string"==typeof Nt.vapidKey?Nt.vapidKey:Mi(Nt.vapidKey)}}}else if(3===oe){const Nt=Xt;E={token:Nt.fcmToken,createTime:Nt.createTime,subscriptionOptions:{auth:Mi(Nt.auth),p256dh:Mi(Nt.p256dh),endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:Mi(Nt.vapidKey)}}}else if(4===oe){const Nt=Xt;E={token:Nt.fcmToken,createTime:Nt.createTime,subscriptionOptions:{auth:Mi(Nt.auth),p256dh:Mi(Nt.p256dh),endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:Mi(Nt.vapidKey)}}}});return function(K,oe,Me,et){return F.apply(this,arguments)}}())).close(),yield(0,se.Lj)(is),yield(0,se.Lj)("fcm_vapid_details_db"),yield(0,se.Lj)("undefined"),fl(E)?E:null}),Do.apply(this,arguments)}function fl(L){if(!L||!L.subscriptionOptions)return!1;const{subscriptionOptions:E}=L;return"number"==typeof L.createTime&&L.createTime>0&&"string"==typeof L.token&&L.token.length>0&&"string"==typeof E.auth&&E.auth.length>0&&"string"==typeof E.p256dh&&E.p256dh.length>0&&"string"==typeof E.endpoint&&E.endpoint.length>0&&"string"==typeof E.swScope&&E.swScope.length>0&&"string"==typeof E.vapidKey&&E.vapidKey.length>0}const E1="firebase-messaging-store";let zn=null;function I3(){return zn||(zn=(0,se.X3)("firebase-messaging-database",1,(L,E)=>{0===E&&L.createObjectStore(E1)})),zn}function rs(L){return ti.apply(this,arguments)}function ti(){return(ti=(0,P.Z)(function*(L){const E=ya(L),F=yield(yield I3()).transaction(E1).objectStore(E1).get(E);if(F)return F;{const K=yield s6(L.appConfig.senderId);if(K)return yield ss(L,K),K}})).apply(this,arguments)}function ss(L,E){return v1.apply(this,arguments)}function v1(){return(v1=(0,P.Z)(function*(L,E){const V=ya(L),K=(yield I3()).transaction(E1,"readwrite");return yield K.objectStore(E1).put(E,V),yield K.complete,E})).apply(this,arguments)}function er(L){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,P.Z)(function*(L){const E=ya(L),F=(yield I3()).transaction(E1,"readwrite");yield F.objectStore(E1).delete(E),yield F.complete})).apply(this,arguments)}function ya({appConfig:L}){return L.appId}const qn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function T1(L,E){return h2.apply(this,arguments)}function h2(){return(h2=(0,P.Z)(function*(L,E){const V=yield it(L),F=Ma(E),K={method:"POST",headers:V,body:JSON.stringify(F)};let oe;try{oe=yield(yield fetch(Ar(L.appConfig),K)).json()}catch(Me){throw qn.create("token-subscribe-failed",{errorInfo:Me})}if(oe.error)throw qn.create("token-subscribe-failed",{errorInfo:oe.error.message});if(!oe.token)throw qn.create("token-subscribe-no-token");return oe.token})).apply(this,arguments)}function N3(L,E){return tr.apply(this,arguments)}function tr(){return(tr=(0,P.Z)(function*(L,E){const V=yield it(L),F=Ma(E.subscriptionOptions),K={method:"PATCH",headers:V,body:JSON.stringify(F)};let oe;try{oe=yield(yield fetch(`${Ar(L.appConfig)}/${E.token}`,K)).json()}catch(Me){throw qn.create("token-update-failed",{errorInfo:Me})}if(oe.error)throw qn.create("token-update-failed",{errorInfo:oe.error.message});if(!oe.token)throw qn.create("token-update-no-token");return oe.token})).apply(this,arguments)}function D1(L,E){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,P.Z)(function*(L,E){const F={method:"DELETE",headers:yield it(L)};try{const oe=yield(yield fetch(`${Ar(L.appConfig)}/${E}`,F)).json();if(oe.error)throw qn.create("token-unsubscribe-failed",{errorInfo:oe.error.message})}catch(K){throw qn.create("token-unsubscribe-failed",{errorInfo:K})}})).apply(this,arguments)}function Ar({projectId:L}){return`https://fcmregistrations.googleapis.com/v1/projects/${L}/registrations`}function it(L){return ba.apply(this,arguments)}function ba(){return(ba=(0,P.Z)(function*({appConfig:L,installations:E}){const V=yield E.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":L.apiKey,"x-goog-firebase-installations-auth":`FIS ${V}`})})).apply(this,arguments)}function Ma({p256dh:L,auth:E,endpoint:V,vapidKey:F}){const K={web:{endpoint:V,auth:E,p256dh:L}};return F!==i6&&(K.web.applicationPubKey=F),K}const No=6048e5;function ko(L){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,P.Z)(function*(L){const E=yield H3(L.swRegistration,L.vapidKey),V={vapidKey:L.vapidKey,swScope:L.swRegistration.scope,endpoint:E.endpoint,auth:Mi(E.getKey("auth")),p256dh:Mi(E.getKey("p256dh"))},F=yield rs(L.firebaseDependencies);if(F){if(y1(F.subscriptionOptions,V))return Date.now()>=F.createTime+No?Le(L,{token:F.token,createTime:Date.now(),subscriptionOptions:V}):F.token;try{yield D1(L.firebaseDependencies,F.token)}catch(K){console.warn(K)}return Ir(L.firebaseDependencies,V)}return Ir(L.firebaseDependencies,V)})).apply(this,arguments)}function k3(L){return V3.apply(this,arguments)}function V3(){return(V3=(0,P.Z)(function*(L){const E=yield rs(L.firebaseDependencies);E&&(yield D1(L.firebaseDependencies,E.token),yield er(L.firebaseDependencies));const V=yield L.swRegistration.pushManager.getSubscription();return!V||V.unsubscribe()})).apply(this,arguments)}function Le(L,E){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,P.Z)(function*(L,E){try{const V=yield N3(L.firebaseDependencies,E),F=Object.assign(Object.assign({},E),{token:V,createTime:Date.now()});return yield ss(L.firebaseDependencies,F),V}catch(V){throw yield k3(L),V}})).apply(this,arguments)}function Ir(L,E){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,P.Z)(function*(L,E){const F={token:yield T1(L,E),createTime:Date.now(),subscriptionOptions:E};return yield ss(L,F),F.token})).apply(this,arguments)}function H3(L,E){return p2.apply(this,arguments)}function p2(){return(p2=(0,P.Z)(function*(L,E){return(yield L.pushManager.getSubscription())||L.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:r6(E)})})).apply(this,arguments)}function y1(L,E){return E.vapidKey===L.vapidKey&&E.endpoint===L.endpoint&&E.auth===L.auth&&E.p256dh===L.p256dh}function Vo(L){const E={from:L.from,collapseKey:L.collapse_key,messageId:L.fcmMessageId};return function Js(L,E){if(!E.notification)return;L.notification={};const V=E.notification.title;V&&(L.notification.title=V);const F=E.notification.body;F&&(L.notification.body=F);const K=E.notification.image;K&&(L.notification.image=K)}(E,L),function R3(L,E){!E.data||(L.data=E.data)}(E,L),function O3(L,E){if(!E.fcmOptions)return;L.fcmOptions={};const V=E.fcmOptions.link;V&&(L.fcmOptions.link=V);const F=E.fcmOptions.analytics_label;F&&(L.fcmOptions.analyticsLabel=F)}(E,L),E}function Ho(L){return"object"==typeof L&&!!L&&va in L}function Nr(L,E){const V=[];for(let F=0;F<L.length;F++)V.push(L.charAt(F)),F<E.length&&V.push(E.charAt(F));return V.join("")}function A1(L){return qn.create("missing-app-config-values",{valueName:L})}Nr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Nr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class P3{constructor(E,V,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function e1(L){if(!L||!L.options)throw A1("App Configuration Object");if(!L.name)throw A1("App Name");const E=["projectId","apiKey","appId","messagingSenderId"],{options:V}=L;for(const F of E)if(!V[F])throw A1(F);return{appName:L.name,projectId:V.projectId,apiKey:V.apiKey,appId:V.appId,senderId:V.messagingSenderId}}(E);this.firebaseDependencies={app:E,appConfig:K,installations:V,analyticsProvider:F}}_delete(){return Promise.resolve()}}function nr(L){return g2.apply(this,arguments)}function g2(){return(g2=(0,P.Z)(function*(L){try{L.swRegistration=yield navigator.serviceWorker.register(n6,{scope:dl}),L.swRegistration.update().catch(()=>{})}catch(E){throw qn.create("failed-service-worker-registration",{browserErrorMessage:E.message})}})).apply(this,arguments)}function z3(L,E){return os.apply(this,arguments)}function os(){return(os=(0,P.Z)(function*(L,E){if(!E&&!L.swRegistration&&(yield nr(L)),E||!L.swRegistration){if(!(E instanceof ServiceWorkerRegistration))throw qn.create("invalid-sw-registration");L.swRegistration=E}})).apply(this,arguments)}function F3(L,E){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,P.Z)(function*(L,E){E?L.vapidKey=E:L.vapidKey||(L.vapidKey=i6)})).apply(this,arguments)}function as(){return(as=(0,P.Z)(function*(L,E){if(!navigator)throw qn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qn.create("permission-blocked");return yield F3(L,null==E?void 0:E.vapidKey),yield z3(L,null==E?void 0:E.serviceWorkerRegistration),ko(L)})).apply(this,arguments)}function pl(L,E,V){return ir.apply(this,arguments)}function ir(){return(ir=(0,P.Z)(function*(L,E,V){const F=B0(E);(yield L.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:V[va],message_name:V[ns],message_time:V[Ys],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function B0(L){switch(L){case Tr.NOTIFICATION_CLICKED:return"notification_open";case Tr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function eo(){return(eo=(0,P.Z)(function*(L,E){const V=E.data;if(!V.isFirebaseMessaging)return;L.onMessageHandler&&V.messageType===Tr.PUSH_RECEIVED&&("function"==typeof L.onMessageHandler?L.onMessageHandler(Vo(V)):L.onMessageHandler.next(Vo(V)));const F=V.data;Ho(F)&&"1"===F[Er]&&(yield pl(L,V.messageType,F))})).apply(this,arguments)}const Sa="@firebase/messaging",La=L=>{const E=new P3(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),L.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",V=>function xa(L,E){return eo.apply(this,arguments)}(E,V)),E},gl=L=>{const E=L.getProvider("messaging").getImmediate();return{getToken:F=>function wa(L,E){return as.apply(this,arguments)}(E,F)}};function o6(){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,P.Z)(function*(){try{yield(0,se.eu)()}catch(L){return!1}return"undefined"!=typeof window&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ro(){(0,le._registerComponent)(new ye.wA("messaging",La,"PUBLIC")),(0,le._registerComponent)(new ye.wA("messaging-internal",gl,"PRIVATE")),(0,le.registerVersion)(Sa,"0.9.11"),(0,le.registerVersion)(Sa,"0.9.11","esm2017")}();const Aa="analytics",Oo="firebase_id",Cl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Na="https://www.googletagmanager.com/gtag/js",Ui=new J.Yd("@firebase/analytics");function O2(L){return Promise.all(L.map(E=>E.catch(V=>V)))}function ka(L,E){const V=document.createElement("script");V.src=`${Na}?l=${L}&id=${E}`,V.async=!0,document.head.appendChild(V)}function c6(L,E,V,F,K,oe){return kr.apply(this,arguments)}function kr(){return(kr=(0,P.Z)(function*(L,E,V,F,K,oe){const Me=F[K];try{if(Me)yield E[Me];else{const It=(yield O2(V)).find(wt=>wt.measurementId===K);It&&(yield E[It.appId])}}catch(et){Ui.error(et)}L("config",K,oe)})).apply(this,arguments)}function ml(L,E,V,F,K){return j1.apply(this,arguments)}function j1(){return(j1=(0,P.Z)(function*(L,E,V,F,K){try{let oe=[];if(K&&K.send_to){let Me=K.send_to;Array.isArray(Me)||(Me=[Me]);const et=yield O2(V);for(const It of Me){const wt=et.find(Nt=>Nt.measurementId===It),Xt=wt&&E[wt.appId];if(!Xt){oe=[];break}oe.push(Xt)}}0===oe.length&&(oe=Object.values(E)),yield Promise.all(oe),L("event",F,K||{})}catch(oe){Ui.error(oe)}})).apply(this,arguments)}function yd(){const L=window.document.getElementsByTagName("script");for(const E of Object.values(L))if(E.src&&E.src.includes(Na))return E;return null}const ni=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ct=new class lt{constructor(E={},V=1e3){this.throttleMetadata=E,this.intervalMillis=V}getThrottleMetadata(E){return this.throttleMetadata[E]}setThrottleMetadata(E,V){this.throttleMetadata[E]=V}deleteThrottleMetadata(E){delete this.throttleMetadata[E]}};function u1(L){return new Headers({Accept:"application/json","x-goog-api-key":L})}function Gi(L){return ls.apply(this,arguments)}function ls(){return(ls=(0,P.Z)(function*(L){var E;const{appId:V,apiKey:F}=L,K={method:"GET",headers:u1(F)},oe=Cl.replace("{app-id}",V),Me=yield fetch(oe,K);if(200!==Me.status&&304!==Me.status){let et="";try{const It=yield Me.json();(null===(E=It.error)||void 0===E?void 0:E.message)&&(et=It.error.message)}catch(It){}throw ni.create("config-fetch-failed",{httpStatus:Me.status,responseMessage:et})}return Me.json()})).apply(this,arguments)}function C2(L){return je.apply(this,arguments)}function je(){return(je=(0,P.Z)(function*(L,E=Ct,V){const{appId:F,apiKey:K,measurementId:oe}=L.options;if(!F)throw ni.create("no-app-id");if(!K){if(oe)return{measurementId:oe,appId:F};throw ni.create("no-api-key")}const Me=E.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},et=new f6;return setTimeout((0,P.Z)(function*(){et.abort()}),void 0!==V?V:6e4),cs({appId:F,apiKey:K,measurementId:oe},Me,et,E)})).apply(this,arguments)}function cs(L,E,V){return to.apply(this,arguments)}function to(){return(to=(0,P.Z)(function*(L,{throttleEndTimeMillis:E,backoffCount:V},F,K=Ct){const{appId:oe,measurementId:Me}=L;try{yield Va(F,E)}catch(et){if(Me)return Ui.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${et.message}]`),{appId:oe,measurementId:Me};throw et}try{const et=yield Gi(L);return K.deleteThrottleMetadata(oe),et}catch(et){if(!d6(et)){if(K.deleteThrottleMetadata(oe),Me)return Ui.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${et.message}]`),{appId:oe,measurementId:Me};throw et}const It=503===Number(et.customData.httpStatus)?(0,se.$s)(V,K.intervalMillis,30):(0,se.$s)(V,K.intervalMillis),wt={throttleEndTimeMillis:Date.now()+It,backoffCount:V+1};return K.setThrottleMetadata(oe,wt),Ui.debug(`Calling attemptFetch again in ${It} millis`),cs(L,wt,F,K)}})).apply(this,arguments)}function Va(L,E){return new Promise((V,F)=>{const K=Math.max(E-Date.now(),0),oe=setTimeout(V,K);L.addEventListener(()=>{clearTimeout(oe),F(ni.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}function d6(L){if(!(L instanceof se.ZR&&L.customData))return!1;const E=Number(L.customData.httpStatus);return 429===E||500===E||503===E||504===E}class f6{constructor(){this.listeners=[]}addEventListener(E){this.listeners.push(E)}abort(){this.listeners.forEach(E=>E())}}function zo(){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,P.Z)(function*(){if(!(0,se.hl)())return Ui.warn(ni.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(L){return Ui.warn(ni.create("indexeddb-unavailable",{errorInfo:L}).message),!1}return!0})).apply(this,arguments)}function io(){return(io=(0,P.Z)(function*(L,E,V,F,K,oe,Me){var et;const It=C2(L);It.then(fi=>{V[fi.measurementId]=fi.appId,L.options.measurementId&&fi.measurementId!==L.options.measurementId&&Ui.warn(`The measurement ID in the local Firebase config (${L.options.measurementId}) does not match the measurement ID fetched from the server (${fi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fi=>Ui.error(fi)),E.push(It);const wt=zo().then(fi=>{if(fi)return F.getId()}),[Xt,Nt]=yield Promise.all([It,wt]);yd()||ka(oe,Xt.measurementId),K("js",new Date);const V1=null!==(et=null==Me?void 0:Me.config)&&void 0!==et?et:{};return V1.origin="firebase",V1.update=!0,null!=Nt&&(V1[Oo]=Nt),K("config",Xt.measurementId,V1),Xt.measurementId})).apply(this,arguments)}class us{constructor(E){this.app=E}_delete(){return delete z2[this.app.options.appId],Promise.resolve()}}let z2={},Vr=[];const U3={};let Uo,Go,Fo="dataLayer",tn=!1;function Hn(L,E,V){!function h6(){const L=[];if((0,se.ru)()&&L.push("This is a browser extension environment."),(0,se.zI)()||L.push("Cookies are not available."),L.length>0){const E=L.map((F,K)=>`(${K+1}) ${F}`).join(" "),V=ni.create("invalid-analytics-context",{errorInfo:E});Ui.warn(V.message)}}();const F=L.options.appId;if(!F)throw ni.create("no-app-id");if(!L.options.apiKey){if(!L.options.measurementId)throw ni.create("no-api-key");Ui.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${L.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=z2[F])throw ni.create("already-exists",{id:F});if(!tn){!function U0(L){let E=[];Array.isArray(window[L])?E=window[L]:window[L]=E}(Fo);const{wrappedGtag:oe,gtagCore:Me}=function u6(L,E,V,F,K){let oe=function(...Me){window[F].push(arguments)};return window[K]&&"function"==typeof window[K]&&(oe=window[K]),window[K]=function _l(L,E,V,F){function oe(){return(oe=(0,P.Z)(function*(Me,et,It){try{"event"===Me?yield ml(L,E,V,et,It):"config"===Me?yield c6(L,E,V,F,et,It):L("set",et)}catch(wt){Ui.error(wt)}})).apply(this,arguments)}return function K(Me,et,It){return oe.apply(this,arguments)}}(oe,L,E,V),{gtagCore:oe,wrappedGtag:window[K]}}(z2,Vr,U3,Fo,"gtag");Go=oe,Uo=Me,tn=!0}return z2[F]=function no(L,E,V,F,K,oe,Me){return io.apply(this,arguments)}(L,Vr,U3,E,Uo,Fo,V),new us(L)}function Rn(){return(Rn=(0,P.Z)(function*(L,E,V,F,K){if(K&&K.global)L("event",V,F);else{const oe=yield E;L("event",V,Object.assign(Object.assign({},F),{send_to:oe}))}})).apply(this,arguments)}function Rr(){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,P.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(L){return!1}})).apply(this,arguments)}const q3="@firebase/analytics";!function At(){(0,le._registerComponent)(new ye.wA(Aa,(E,{options:V})=>Hn(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),V),"PUBLIC")),(0,le._registerComponent)(new ye.wA("analytics-internal",function L(E){try{const V=E.getProvider(Aa).getImmediate();return{logEvent:(F,K,oe)=>function Oa(L,E,V,F){L=(0,se.m9)(L),function vl(L,E,V,F,K){return Rn.apply(this,arguments)}(Go,z2[L.app.options.appId],E,V,F).catch(K=>Ui.error(K))}(V,F,K,oe)}}catch(V){throw ni.create("interop-component-reg-failed",{reason:V})}},"PRIVATE")),(0,le.registerVersion)(q3,"0.7.7"),(0,le.registerVersion)(q3,"0.7.7","esm2017")}();var Dn=O(4408),ki=O(7565);const G0=new class _2 extends ki.v{}(class Jt extends Dn.o{constructor(E,V){super(E,V),this.scheduler=E,this.work=V}schedule(E,V=0){return V>0?super.schedule(E,V):(this.delay=V,this.state=E,this.scheduler.flush(this),this)}execute(E,V){return V>0||this.closed?super.execute(E,V):this._execute(E,V)}requestAsyncId(E,V,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(E,V,F):E.flush(this)}});var jt=O(4986),I1=O(8505),Pa=O(5363),hs=O(9468);const ro=new o.GfV("7.3.0"),za="__angularfire_symbol__analyticsIsSupportedValue",ps="__angularfire_symbol__analyticsIsSupported",Fa="__angularfire_symbol__remoteConfigIsSupportedValue",$3="__angularfire_symbol__remoteConfigIsSupported",Or="__angularfire_symbol__messagingIsSupportedValue",Vi="__angularfire_symbol__messagingIsSupported";function Ml(L,E,V){if(E){if(1===E.length)return E[0];const oe=E.filter(Me=>Me.app===V);if(1===oe.length)return oe[0]}return V.container.getProvider(L).getImmediate({optional:!0})}globalThis[ps]||(globalThis[ps]=Rr().then(L=>globalThis[za]=L).catch(()=>globalThis[za]=!1)),globalThis[Vi]||(globalThis[Vi]=o6().then(L=>globalThis[Or]=L).catch(()=>globalThis[Or]=!1)),globalThis[$3]||(globalThis[$3]=ul().then(L=>globalThis[Fa]=L).catch(()=>globalThis[Fa]=!1));const v2=(L,E)=>{const V=E?[E]:(0,X.C6)(),F=[];return V.forEach(K=>{K.container.getProvider(L).instances.forEach(Me=>{F.includes(Me)||F.push(Me)})}),F};function N1(){}class Z3{constructor(E,V=G0){this.zone=E,this.delegate=V}now(){return this.delegate.now()}schedule(E,V,F){const K=this.zone;return this.delegate.schedule(function(Me){K.runGuarded(()=>{E.apply(this,[Me])})},V,F)}}class t1{constructor(E){this.zone=E,this.task=null}call(E,V){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",N1,{},N1,N1)),V.pipe((0,I1.b)({next:F,complete:F,error:F})).subscribe(E).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let B2=(()=>{class L{constructor(V){this.ngZone=V,this.outsideAngular=V.runOutsideAngular(()=>new Z3(Zone.current)),this.insideAngular=V.run(()=>new Z3(Zone.current,jt.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return L.\u0275fac=function(V){return new(V||L)(o.LFG(o.R0b))},L.\u0275prov=o.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();function Pr(){const L=globalThis.\u0275AngularFireScheduler;if(!L)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return L}function Y3(L){return L.pipe((0,Pa.Q)(Pr().outsideAngular))}function gs(L){return Pr(),function zr(L){return function(V){return(V=V.lift(new t1(L.ngZone))).pipe((0,hs.R)(L.outsideAngular),(0,Pa.Q)(L.insideAngular))}}(Pr())(L)}},2090:(pt,xe,O)=>{O.d(xe,{$s:()=>Tt,BH:()=>Ee,DV:()=>si,Dv:()=>U1,G6:()=>_t,GJ:()=>kn,L:()=>ge,LL:()=>Ft,Lj:()=>Zt,Mn:()=>Ke,Pz:()=>Ot,Sg:()=>Ye,UG:()=>te,UI:()=>vn,US:()=>J,Wj:()=>ai,X3:()=>mt,Yr:()=>Je,ZB:()=>re,ZR:()=>he,b$:()=>Re,cI:()=>Pt,d:()=>ot,dS:()=>wn,eu:()=>fe,g5:()=>le,gK:()=>c1,gQ:()=>Fi,h$:()=>ue,hl:()=>ne,hu:()=>P,jU:()=>De,lb:()=>Ca,m9:()=>_n,ne:()=>oi,p$:()=>W,pd:()=>Ae,r3:()=>Jr,ru:()=>Be,tV:()=>$,uI:()=>Fe,ug:()=>nt,vZ:()=>Wn,w1:()=>Ve,w9:()=>m1,xO:()=>l2,xb:()=>Ai,z$:()=>Ue,zI:()=>ve,zd:()=>Yi});var o=O(5861);const P=function(q,B){if(!q)throw le(B)},le=function(q){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+q)},se=function(q){const B=[];let Z=0;for(let pe=0;pe<q.length;pe++){let ee=q.charCodeAt(pe);ee<128?B[Z++]=ee:ee<2048?(B[Z++]=ee>>6|192,B[Z++]=63&ee|128):55296==(64512&ee)&&pe+1<q.length&&56320==(64512&q.charCodeAt(pe+1))?(ee=65536+((1023&ee)<<10)+(1023&q.charCodeAt(++pe)),B[Z++]=ee>>18|240,B[Z++]=ee>>12&63|128,B[Z++]=ee>>6&63|128,B[Z++]=63&ee|128):(B[Z++]=ee>>12|224,B[Z++]=ee>>6&63|128,B[Z++]=63&ee|128)}return B},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,B){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,pe=[];for(let ee=0;ee<q.length;ee+=3){const Ge=q[ee],Mt=ee+1<q.length,dn=Mt?q[ee+1]:0,Bi=ee+2<q.length,vi=Bi?q[ee+2]:0;let li=(15&dn)<<2|vi>>6,ci=63&vi;Bi||(ci=64,Mt||(li=64)),pe.push(Z[Ge>>2],Z[(3&Ge)<<4|dn>>4],Z[li],Z[ci])}return pe.join("")},encodeString(q,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(q):this.encodeByteArray(se(q),B)},decodeString(q,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(q):function(q){const B=[];let Z=0,pe=0;for(;Z<q.length;){const ee=q[Z++];if(ee<128)B[pe++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const Ge=q[Z++];B[pe++]=String.fromCharCode((31&ee)<<6|63&Ge)}else if(ee>239&&ee<365){const Bi=((7&ee)<<18|(63&q[Z++])<<12|(63&q[Z++])<<6|63&q[Z++])-65536;B[pe++]=String.fromCharCode(55296+(Bi>>10)),B[pe++]=String.fromCharCode(56320+(1023&Bi))}else{const Ge=q[Z++],Mt=q[Z++];B[pe++]=String.fromCharCode((15&ee)<<12|(63&Ge)<<6|63&Mt)}}return B.join("")}(this.decodeStringToByteArray(q,B))},decodeStringToByteArray(q,B){this.init_();const Z=B?this.charToByteMapWebSafe_:this.charToByteMap_,pe=[];for(let ee=0;ee<q.length;){const Ge=Z[q.charAt(ee++)],dn=ee<q.length?Z[q.charAt(ee)]:0;++ee;const vi=ee<q.length?Z[q.charAt(ee)]:64;++ee;const zt=ee<q.length?Z[q.charAt(ee)]:64;if(++ee,null==Ge||null==dn||null==vi||null==zt)throw Error();pe.push(Ge<<2|dn>>4),64!==vi&&(pe.push(dn<<4&240|vi>>2),64!==zt&&pe.push(vi<<6&192|zt))}return pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},ue=function(q){const B=se(q);return J.encodeByteArray(B,!0)},ge=function(q){return ue(q).replace(/\./g,"")},$=function(q){try{return J.decodeString(q,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function W(q){return re(void 0,q)}function re(q,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return B}for(const Z in B)!B.hasOwnProperty(Z)||!Ze(Z)||(q[Z]=re(q[Z],B[Z]));return q}function Ze(q){return"__proto__"!==q}class Ee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,Z)=>{this.resolve=B,this.reject=Z})}wrapCallback(B){return(Z,pe)=>{Z?this.reject(Z):this.resolve(pe),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(Z):B(Z,pe))}}}function Ye(q,B){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const pe=B||"demo-project",ee=q.iat||0,Ge=q.sub||q.user_id;if(!Ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Mt=Object.assign({iss:`https://securetoken.google.com/${pe}`,aud:pe,iat:ee,exp:ee+3600,auth_time:ee,sub:Ge,user_id:Ge,firebase:{sign_in_provider:"custom",identities:{}}},q);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(Mt)),""].join(".")}function Ue(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function te(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(q){return!1}}function De(){return"object"==typeof self&&self.self===self}function Be(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function Re(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ot(){return Ue().indexOf("Electron/")>=0}function Ve(){const q=Ue();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Ke(){return Ue().indexOf("MSAppHost/")>=0}function Je(){return!1}function _t(){return!te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ne(){return"object"==typeof indexedDB}function fe(){return new Promise((q,B)=>{try{let Z=!0;const pe="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(pe);ee.onsuccess=()=>{ee.result.close(),Z||self.indexedDB.deleteDatabase(pe),q(!0)},ee.onupgradeneeded=()=>{Z=!1},ee.onerror=()=>{var Ge;B((null===(Ge=ee.error)||void 0===Ge?void 0:Ge.message)||"")}}catch(Z){B(Z)}})}function ve(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class he extends Error{constructor(B,Z,pe){super(Z),this.code=B,this.customData=pe,this.name="FirebaseError",Object.setPrototypeOf(this,he.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ft.prototype.create)}}class Ft{constructor(B,Z,pe){this.service=B,this.serviceName=Z,this.errors=pe}create(B,...Z){const pe=Z[0]||{},ee=`${this.service}/${B}`,Ge=this.errors[B],Mt=Ge?function gn(q,B){return q.replace(_i,(Z,pe)=>{const ee=B[pe];return null!=ee?String(ee):`<${pe}?>`})}(Ge,pe):"Error";return new he(ee,`${this.serviceName}: ${Mt} (${ee}).`,pe)}}const _i=/\{\$([^}]+)}/g;function Pt(q){return JSON.parse(q)}function Ot(q){return JSON.stringify(q)}const St=function(q){let B={},Z={},pe={},ee="";try{const Ge=q.split(".");B=Pt($(Ge[0])||""),Z=Pt($(Ge[1])||""),ee=Ge[2],pe=Z.d||{},delete Z.d}catch(Ge){}return{header:B,claims:Z,data:pe,signature:ee}},m1=function(q){const Z=St(q).claims;return!!Z&&"object"==typeof Z&&Z.hasOwnProperty("iat")},kn=function(q){const B=St(q).claims;return"object"==typeof B&&!0===B.admin};function Jr(q,B){return Object.prototype.hasOwnProperty.call(q,B)}function si(q,B){if(Object.prototype.hasOwnProperty.call(q,B))return q[B]}function Ai(q){for(const B in q)if(Object.prototype.hasOwnProperty.call(q,B))return!1;return!0}function vn(q,B,Z){const pe={};for(const ee in q)Object.prototype.hasOwnProperty.call(q,ee)&&(pe[ee]=B.call(Z,q[ee],ee,q));return pe}function Wn(q,B){if(q===B)return!0;const Z=Object.keys(q),pe=Object.keys(B);for(const ee of Z){if(!pe.includes(ee))return!1;const Ge=q[ee],Mt=B[ee];if(Gs(Ge)&&Gs(Mt)){if(!Wn(Ge,Mt))return!1}else if(Ge!==Mt)return!1}for(const ee of pe)if(!Z.includes(ee))return!1;return!0}function Gs(q){return null!==q&&"object"==typeof q}function l2(q){const B=[];for(const[Z,pe]of Object.entries(q))Array.isArray(pe)?pe.forEach(ee=>{B.push(encodeURIComponent(Z)+"="+encodeURIComponent(ee))}):B.push(encodeURIComponent(Z)+"="+encodeURIComponent(pe));return B.length?"&"+B.join("&"):""}function Yi(q){const B={};return q.replace(/^\?/,"").split("&").forEach(pe=>{if(pe){const[ee,Ge]=pe.split("=");B[decodeURIComponent(ee)]=decodeURIComponent(Ge)}}),B}function Ae(q){const B=q.indexOf("?");if(!B)return"";const Z=q.indexOf("#",B);return q.substring(B,Z>0?Z:void 0)}class Fi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let B=1;B<this.blockSize;++B)this.pad_[B]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(B,Z){Z||(Z=0);const pe=this.W_;if("string"==typeof B)for(let zt=0;zt<16;zt++)pe[zt]=B.charCodeAt(Z)<<24|B.charCodeAt(Z+1)<<16|B.charCodeAt(Z+2)<<8|B.charCodeAt(Z+3),Z+=4;else for(let zt=0;zt<16;zt++)pe[zt]=B[Z]<<24|B[Z+1]<<16|B[Z+2]<<8|B[Z+3],Z+=4;for(let zt=16;zt<80;zt++){const li=pe[zt-3]^pe[zt-8]^pe[zt-14]^pe[zt-16];pe[zt]=4294967295&(li<<1|li>>>31)}let vi,on,ee=this.chain_[0],Ge=this.chain_[1],Mt=this.chain_[2],dn=this.chain_[3],Bi=this.chain_[4];for(let zt=0;zt<80;zt++){zt<40?zt<20?(vi=dn^Ge&(Mt^dn),on=1518500249):(vi=Ge^Mt^dn,on=1859775393):zt<60?(vi=Ge&Mt|dn&(Ge|Mt),on=2400959708):(vi=Ge^Mt^dn,on=3395469782);const li=(ee<<5|ee>>>27)+vi+Bi+on+pe[zt]&4294967295;Bi=dn,dn=Mt,Mt=4294967295&(Ge<<30|Ge>>>2),Ge=ee,ee=li}this.chain_[0]=this.chain_[0]+ee&4294967295,this.chain_[1]=this.chain_[1]+Ge&4294967295,this.chain_[2]=this.chain_[2]+Mt&4294967295,this.chain_[3]=this.chain_[3]+dn&4294967295,this.chain_[4]=this.chain_[4]+Bi&4294967295}update(B,Z){if(null==B)return;void 0===Z&&(Z=B.length);const pe=Z-this.blockSize;let ee=0;const Ge=this.buf_;let Mt=this.inbuf_;for(;ee<Z;){if(0===Mt)for(;ee<=pe;)this.compress_(B,ee),ee+=this.blockSize;if("string"==typeof B){for(;ee<Z;)if(Ge[Mt]=B.charCodeAt(ee),++Mt,++ee,Mt===this.blockSize){this.compress_(Ge),Mt=0;break}}else for(;ee<Z;)if(Ge[Mt]=B[ee],++Mt,++ee,Mt===this.blockSize){this.compress_(Ge),Mt=0;break}}this.inbuf_=Mt,this.total_+=Z}digest(){const B=[];let Z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ee=this.blockSize-1;ee>=56;ee--)this.buf_[ee]=255&Z,Z/=256;this.compress_(this.buf_);let pe=0;for(let ee=0;ee<5;ee++)for(let Ge=24;Ge>=0;Ge-=8)B[pe]=this.chain_[ee]>>Ge&255,++pe;return B}}function oi(q,B){const Z=new yt(q,B);return Z.subscribe.bind(Z)}class yt{constructor(B,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{B(this)}).catch(pe=>{this.error(pe)})}next(B){this.forEachObserver(Z=>{Z.next(B)})}error(B){this.forEachObserver(Z=>{Z.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,Z,pe){let ee;if(void 0===B&&void 0===Z&&void 0===pe)throw new Error("Missing Observer.");ee=function Y2(q,B){if("object"!=typeof q||null===q)return!1;for(const Z of B)if(Z in q&&"function"==typeof q[Z])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:Z,complete:pe},void 0===ee.next&&(ee.next=Ii),void 0===ee.error&&(ee.error=Ii),void 0===ee.complete&&(ee.complete=Ii);const Ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch(Mt){}}),this.observers.push(ee),Ge}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,B)}sendOne(B,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{Z(this.observers[B])}catch(pe){"undefined"!=typeof console&&console.error&&console.error(pe)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ii(){}const U1=function(q,B,Z,pe){let ee;if(pe<B?ee="at least "+B:pe>Z&&(ee=0===Z?"none":"no more than "+Z),ee)throw new Error(q+" failed: Was called with "+pe+(1===pe?" argument.":" arguments.")+" Expects "+ee+".")};function c1(q,B){return`${q} failed: ${B} argument `}function ai(q,B,Z,pe){if((!pe||Z)&&"function"!=typeof Z)throw new Error(c1(q,B)+"must be a valid function.")}function Ca(q,B,Z,pe){if((!pe||Z)&&("object"!=typeof Z||null===Z))throw new Error(c1(q,B)+"must be a valid context object.")}const wn=function(q){const B=[];let Z=0;for(let pe=0;pe<q.length;pe++){let ee=q.charCodeAt(pe);if(ee>=55296&&ee<=56319){const Ge=ee-55296;pe++,P(pe<q.length,"Surrogate pair missing trail surrogate."),ee=65536+(Ge<<10)+(q.charCodeAt(pe)-56320)}ee<128?B[Z++]=ee:ee<2048?(B[Z++]=ee>>6|192,B[Z++]=63&ee|128):ee<65536?(B[Z++]=ee>>12|224,B[Z++]=ee>>6&63|128,B[Z++]=63&ee|128):(B[Z++]=ee>>18|240,B[Z++]=ee>>12&63|128,B[Z++]=ee>>6&63|128,B[Z++]=63&ee|128)}return B},nt=function(q){let B=0;for(let Z=0;Z<q.length;Z++){const pe=q.charCodeAt(Z);pe<128?B++:pe<2048?B+=2:pe>=55296&&pe<=56319?(B+=4,Z++):B+=3}return B};function Tt(q,B=1e3,Z=2){const pe=B*Math.pow(Z,q),ee=Math.round(.5*pe*(Math.random()-.5)*2);return Math.min(144e5,pe+ee)}function _n(q){return q&&q._delegate?q._delegate:q}function Dt(q,B){return new Promise((Z,pe)=>{q.onsuccess=ee=>{Z(ee.target.result)},q.onerror=ee=>{var Ge;pe(`${B}: ${null===(Ge=ee.target.error)||void 0===Ge?void 0:Ge.message}`)}})}class Wt{constructor(B){this._db=B,this.objectStoreNames=this._db.objectStoreNames}transaction(B,Z){return new Xe(this._db.transaction.call(this._db,B,Z))}createObjectStore(B,Z){return new Se(this._db.createObjectStore(B,Z))}close(){this._db.close()}}class Xe{constructor(B){this._transaction=B,this.complete=new Promise((Z,pe)=>{this._transaction.oncomplete=function(){Z()},this._transaction.onerror=()=>{pe(this._transaction.error)},this._transaction.onabort=()=>{pe(this._transaction.error)}})}objectStore(B){return new Se(this._transaction.objectStore(B))}}class Se{constructor(B){this._store=B}index(B){return new ut(this._store.index(B))}createIndex(B,Z,pe){return new ut(this._store.createIndex(B,Z,pe))}get(B){return Dt(this._store.get(B),"Error reading from IndexedDB")}put(B,Z){return Dt(this._store.put(B,Z),"Error writing to IndexedDB")}delete(B){return Dt(this._store.delete(B),"Error deleting from IndexedDB")}clear(){return Dt(this._store.clear(),"Error clearing IndexedDB object store")}}class ut{constructor(B){this._index=B}get(B){return Dt(this._index.get(B),"Error reading from IndexedDB")}}function mt(q,B,Z){return new Promise((pe,ee)=>{try{const Ge=indexedDB.open(q,B);Ge.onsuccess=Mt=>{pe(new Wt(Mt.target.result))},Ge.onerror=Mt=>{var dn;ee(`Error opening indexedDB: ${null===(dn=Mt.target.error)||void 0===dn?void 0:dn.message}`)},Ge.onupgradeneeded=Mt=>{Z(new Wt(Ge.result),Mt.oldVersion,Mt.newVersion,new Xe(Ge.transaction))}}catch(Ge){ee(`Error opening indexedDB: ${Ge.message}`)}})}function Zt(q){return yn.apply(this,arguments)}function yn(){return(yn=(0,o.Z)(function*(q){return new Promise((B,Z)=>{try{const pe=indexedDB.deleteDatabase(q);pe.onsuccess=()=>{B()},pe.onerror=ee=>{var Ge;Z(`Error deleting indexedDB database "${q}": ${null===(Ge=ee.target.error)||void 0===Ge?void 0:Ge.message}`)}}catch(pe){Z(`Error deleting indexedDB database "${q}": ${pe.message}`)}})})).apply(this,arguments)}},5746:(pt,xe,O)=>{var o=O(5e3);let X=null;function P(){return X}const J=new o.OlP("DocumentToken");let ue=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function ge(){return(0,o.LFG)(W)}()},providedIn:"platform"}),n})();const $=new o.OlP("Location Initialized");let W=(()=>{class n extends ue{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){re()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){re()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Ze(){return new W((0,o.LFG)(J))}()},providedIn:"platform"}),n})();function re(){return!!window.history.pushState}function Ee(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ye(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ue(n){return n&&"?"!==n[0]?"?"+n:n}let Fe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function te(n){const t=(0,o.LFG)(J).location;return new Be((0,o.LFG)(ue),t&&t.origin||"")}()},providedIn:"root"}),n})();const De=new o.OlP("appBaseHref");let Be=(()=>{class n extends Fe{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ee(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ue(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const c=this.prepareExternalUrl(r+Ue(s));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){const c=this.prepareExternalUrl(r+Ue(s));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ue),o.LFG(De,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n extends Fe{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ee(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let c=this.prepareExternalUrl(r+Ue(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){let c=this.prepareExternalUrl(r+Ue(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ue),o.LFG(De,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),ot=(()=>{class n{constructor(e,i){this._subject=new o.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Ye(Je(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ue(i))}normalize(e){return n.stripTrailingSlash(function Ke(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Je(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ue(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ue(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Ue,n.joinWithSlash=Ee,n.stripTrailingSlash=Ye,n.\u0275fac=function(e){return new(e||n)(o.LFG(Fe),o.LFG(ue))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Ve(){return new ot((0,o.LFG)(Fe),(0,o.LFG)(ue))}()},providedIn:"root"}),n})();function Je(n){return n.replace(/\/index.html$/,"")}var fe=(()=>((fe=fe||{})[fe.Zero=0]="Zero",fe[fe.One=1]="One",fe[fe.Two=2]="Two",fe[fe.Few=3]="Few",fe[fe.Many=4]="Many",fe[fe.Other=5]="Other",fe))();const Yi=o.kL8;class Ji{}let $s=(()=>{class n extends Ji{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(Yi(i||this.locale)(e)){case fe.Zero:return"zero";case fe.One:return"one";case fe.Two:return"two";case fe.Few:return"few";case fe.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.soG))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Ht(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}class J2{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ni=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new J2(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,c),Xi(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Xi(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Xi(n,t){n.context.$implicit=t.item}let Qt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new d2,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){bn("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){bn("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class d2{constructor(){this.$implicit=null,this.ngIf=null}}function bn(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(t)}'.`)}let bi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:Ji,useClass:$s}]}),n})();const Tr="browser";function Dr(n){return n===Tr}function Yn(n){return"server"===n}let hl=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new Ao((0,o.LFG)(J),window)}),n})();class Ao{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function zn(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=E1(this.window.history)||E1(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function E1(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class rs{}class ss extends class ti extends class ye{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function se(n){X||(X=n)}(new ss)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function er(){return v1=v1||document.querySelector("base"),v1?v1.getAttribute("href"):null}();return null==e?null:function ya(n){Kn=Kn||document.createElement("a"),Kn.setAttribute("href",n);const t=Kn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){v1=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ht(document.cookie,t)}}let Kn,v1=null;const Io=new o.OlP("TRANSITION_ID"),T1=[{provide:o.ip1,useFactory:function qn(n,t,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const i=P(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Io,J,o.zs3],multi:!0}];class h2{static init(){(0,o.VLi)(new h2)}addToWindow(t){o.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const d=function(h){c=c||h,s--,0==s&&i(c)};r.forEach(function(h){h.whenStable(d)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let N3=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const tr=new o.OlP("EventManagerPlugins");let D1=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(tr),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Ks{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=P().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Ar=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),it=(()=>{class n extends Ar{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(ba),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ba))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function ba(n){P().remove(n)}const Ma={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},No=/%COMP%/g;function Ir(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Ir(n,r,e):(r=r.replace(No,n),e.push(r))}return e}function Pn(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let p2=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new y1(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case o.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new R3(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case o.ifc.ShadowDom:return new O3(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ir(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(D1),o.LFG(it),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class y1{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ma[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Ma[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Ma[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(o.JOm.DashCase|o.JOm.Important)?t.style.setProperty(e,i,r&o.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&o.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Pn(i)):this.eventManager.addEventListener(t,e,Pn(i))}}class R3 extends y1{constructor(t,e,i,r){super(t),this.component=i;const s=Ir(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function Le(n){return"_ngcontent-%COMP%".replace(No,n)}(r+"-"+i.id),this.hostAttr=function Yt(n){return"_nghost-%COMP%".replace(No,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class O3 extends y1{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Ir(r.id,r.styles,[]);for(let c=0;c<s.length;c++){const d=document.createElement("style");d.textContent=s[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Ho=(()=>{class n extends Ks{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Nr=["alt","control","meta","shift"],A1={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},P3={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},nr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let g2=(()=>{class n extends Ks{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,s.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="";if(Nr.forEach(h=>{const _=i.indexOf(h);_>-1&&(i.splice(_,1),c+=h+".")}),c+=s,0!=i.length||0===s.length)return null;const d={};return d.domEventName=r,d.fullKey=c,d}static getEventFullKey(e){let i="",r=function z3(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&P3.hasOwnProperty(t)&&(t=P3[t]))}return A1[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Nr.forEach(s=>{s!=r&&nr[s](e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const as=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:Tr},{provide:o.g9A,useValue:function os(){ss.makeCurrent(),h2.init()},multi:!0},{provide:J,useFactory:function Xs(){return(0,o.RDi)(document),document},deps:[]}]),pl=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function F3(){return new o.qLn},deps:[]},{provide:tr,useClass:Ho,multi:!0,deps:[J,o.R0b,o.Lbi]},{provide:tr,useClass:g2,multi:!0,deps:[J]},{provide:p2,useClass:p2,deps:[D1,it,o.AFp]},{provide:o.FYo,useExisting:p2},{provide:Ar,useExisting:it},{provide:it,useClass:it,deps:[J]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:D1,useClass:D1,deps:[tr,o.R0b]},{provide:rs,useClass:N3,deps:[]}];let ir=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId},{provide:Io,useExisting:o.AFp},T1]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(n,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:pl,imports:[bi,o.hGG]}),n})();"undefined"!=typeof window&&window;let j1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):o.LFG(u6),i},providedIn:"root"}),n})(),u6=(()=>{class n extends j1{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.yhl)(i),(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function _l(n){return new u6(n.get(J))}(o.LFG(o.zs3)),i},providedIn:"root"}),n})();var xn=O(8306),ni=O(515),P2=O(3269),Sn=O(8996);function lt(...n){const t=(0,P2.yG)(n);return(0,Sn.D)(n,t)}var Ct=O(7579),u1=O(8421),Gi=O(5577),ls=O(1144),C2=O(576),je=O(4004);const{isArray:cs}=Array;function Va(n){return(0,je.U)(t=>function to(n,t){return cs(t)?n(...t):n(t)}(n,t))}const d6=["addListener","removeListener"],f6=["addEventListener","removeEventListener"],zo=["on","off"];function Bn(n,t,e,i){if((0,C2.m)(e)&&(i=e,e=void 0),i)return Bn(n,t,e).pipe(Va(i));const[r,s]=function z2(n){return(0,C2.m)(n.addEventListener)&&(0,C2.m)(n.removeEventListener)}(n)?f6.map(c=>d=>n[c](t,d,e)):function io(n){return(0,C2.m)(n.addListener)&&(0,C2.m)(n.removeListener)}(n)?d6.map(no(n,t)):function us(n){return(0,C2.m)(n.on)&&(0,C2.m)(n.off)}(n)?zo.map(no(n,t)):[];if(!r&&(0,ls.z)(n))return(0,Gi.z)(c=>Bn(c,t,e))((0,u1.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new xn.y(c=>{const d=(...h)=>c.next(1<h.length?h:h[0]);return r(d),()=>s(d)})}function no(n,t){return e=>i=>n[e](t,i)}var Vr=O(4986),U3=O(3532);function Bo(n=0,t,e=Vr.P){let i=-1;return null!=t&&((0,U3.K)(t)?e=t:i=t),new xn.y(r=>{let s=function Fo(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}const{isArray:Uo}=Array;function Go(n){return 1===n.length&&Uo(n[0])?n[0]:n}var tn=O(5403);class Hn extends Ct.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:vl}=Array,{getPrototypeOf:Rn,prototype:yl,keys:ds}=Object;function Ha(n){if(1===n.length){const t=n[0];if(vl(t))return{args:t,keys:null};if(function F2(n){return n&&"object"==typeof n&&Rn(n)===yl}(t)){const e=ds(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var m2=O(4671);function rr(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var G3=O(9672);function bl(n,t,e){n?(0,G3.f)(e,n,t):t()}var Rr=O(5032);function Ra(...n){const t=(0,P2.jO)(n),e=Go(n);return e.length?new xn.y(i=>{let r=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{r=s=null});for(let c=0;!i.closed&&c<e.length;c++)(0,u1.Xf)(e[c]).subscribe(new tn.Q(i,d=>{if(r[c].push(d),r.every(h=>h.length)){const h=r.map(_=>_.shift());i.next(t?t(...h):h),r.some((_,M)=>!_.length&&s[M])&&i.complete()}},()=>{s[c]=!0,!r[c].length&&i.complete()}));return()=>{r=s=null}}):ni.E}new xn.y(Rr.Z);var j3=O(8189);function Oa(...n){return function p6(){return(0,j3.J)(1)}()((0,Sn.D)(n,(0,P2.yG)(n)))}var di=O(4482);function At(n){return(0,di.e)((t,e)=>{(0,u1.Xf)(n).subscribe(new tn.Q(e,()=>e.complete(),Rr.Z)),!e.closed&&t.subscribe(e)})}function Dn(n,t){return(0,di.e)((e,i)=>{let r=0;e.subscribe(new tn.Q(i,s=>n.call(t,s,r++)&&i.next(s)))})}var Jt=O(5698);function ki(...n){const t=(0,P2.yG)(n);return(0,di.e)((e,i)=>{(t?Oa(n,e,t):Oa(n,e)).subscribe(i)})}function _2(n,t=m2.y){return n=null!=n?n:G0,(0,di.e)((e,i)=>{let r,s=!0;e.subscribe(new tn.Q(i,c=>{const d=t(c);(s||!n(r,d))&&(s=!1,r=d,i.next(c))}))})}function G0(n,t){return n===t}function wi(n,t){return(0,di.e)((e,i)=>{let r=null,s=0,c=!1;const d=()=>c&&!r&&i.complete();e.subscribe(new tn.Q(i,h=>{null==r||r.unsubscribe();let _=0;const M=s++;(0,u1.Xf)(n(h,M)).subscribe(r=new tn.Q(i,x=>i.next(t?t(h,x,M,_++):x),()=>{r=null,d()}))},()=>{c=!0,d()}))})}var jt=O(8505);function I1(...n){const t=(0,P2.jO)(n);return(0,di.e)((e,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),d=!1;for(let h=0;h<r;h++)(0,u1.Xf)(n[h]).subscribe(new tn.Q(i,_=>{s[h]=_,!d&&!c[h]&&(c[h]=!0,(d=c.every(m2.y))&&(c=null))},Rr.Z));e.subscribe(new tn.Q(i,h=>{if(d){const _=[h,...s];i.next(t?t(..._):_)}}))})}function hs(n){return(0,je.U)(()=>n)}function Fa(...n){const t=(0,P2.jO)(n),{args:e,keys:i}=Ha(n),r=new xn.y(s=>{const{length:c}=e;if(!c)return void s.complete();const d=new Array(c);let h=c,_=c;for(let M=0;M<c;M++){let x=!1;(0,u1.Xf)(e[M]).subscribe(new tn.Q(s,D=>{x||(x=!0,_--),d[M]=D},()=>h--,void 0,()=>{(!h||!x)&&(_||s.next(i?rr(i,d):d),s.complete())}))}});return t?r.pipe(Va(t)):r}let $3=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),Or=(()=>{class n extends $3{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const Vi=new o.OlP("NgValueAccessor"),qo={provide:Vi,useExisting:(0,o.Gpc)(()=>v2),multi:!0},Ml=new o.OlP("CompositionEventMode");let v2=(()=>{class n extends $3{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Md(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(Ml,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([qo]),o.qOj]}),n})();function N1(n){return null==n||0===n.length}function Z3(n){return null!=n&&"number"==typeof n.length}const t1=new o.OlP("NgValidators"),B2=new o.OlP("NgAsyncValidators"),Pr=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class k1{static min(t){return function y2(n){return t=>{if(N1(t.value)||N1(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function Y3(n){return t=>{if(N1(t.value)||N1(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return $o(t)}static requiredTrue(t){return function gs(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return zr(t)}static minLength(t){return Ba(t)}static maxLength(t){return function g6(n){return t=>Z3(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function L(n){if(!n)return E;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(N1(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return It(t)}static composeAsync(t){return Xt(t)}}function $o(n){return N1(n.value)?{required:!0}:null}function zr(n){return N1(n.value)||Pr.test(n.value)?null:{email:!0}}function Ba(n){return t=>N1(t.value)||!Z3(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function E(n){return null}function V(n){return null!=n}function F(n){const t=(0,o.QGY)(n)?(0,Sn.D)(n):n;return(0,o.CqO)(t),t}function K(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function oe(n,t){return t.map(e=>e(n))}function et(n){return n.map(t=>function Me(n){return!n.validate}(t)?t:e=>t.validate(e))}function It(n){if(!n)return null;const t=n.filter(V);return 0==t.length?null:function(e){return K(oe(e,t))}}function wt(n){return null!=n?It(et(n)):null}function Xt(n){if(!n)return null;const t=n.filter(V);return 0==t.length?null:function(e){return Fa(oe(e,t).map(F)).pipe((0,je.U)(K))}}function Nt(n){return null!=n?Xt(et(n)):null}function V1(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function fi(n){return n._rawValidators}function sr(n){return n._rawAsyncValidators}function H1(n){return n?Array.isArray(n)?n:[n]:[]}function b2(n,t){return Array.isArray(n)?n.includes(t):n===t}function R1(n,t){const e=H1(t);return H1(n).forEach(r=>{b2(e,r)||e.push(r)}),e}function U2(n,t){return H1(t).filter(e=>!b2(n,e))}class Ua{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=wt(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Nt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Fr extends Ua{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Hi extends Ua{get formDirective(){return null}get path(){return null}}class K3{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let q1=(()=>{class n extends K3{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Fr,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[o.qOj]}),n})(),M2=(()=>{class n extends K3{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Hi,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[o.qOj]}),n})();function Ga(n,t){return[...t.path,n]}function J3(n,t){X3(n,t),t.valueAccessor.writeValue(n.value),function Zo(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Sl(n,t)})}(n,t),function wd(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function W0(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Sl(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function v6(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Cs(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),qa(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ja(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function X3(n,t){const e=fi(n);null!==t.validator?n.setValidators(V1(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=sr(n);null!==t.asyncValidator?n.setAsyncValidators(V1(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();ja(t._rawValidators,r),ja(t._rawAsyncValidators,r)}function qa(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=fi(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=sr(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return ja(t._rawValidators,i),ja(t._rawAsyncValidators,i),e}function Sl(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Z0(n,t){X3(n,t)}function Ll(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function K0(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Wa(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===v2?e=s:function Y0(n){return Object.getPrototypeOf(n.constructor)===Or}(s)?i=s:r=s}),r||i||e||null}function El(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Za="VALID",Tl="INVALID",Ya="PENDING",e4="DISABLED";function Q0(n){return(G2(n)?n.validators:n)||null}function Dl(n){return Array.isArray(n)?wt(n):n||null}function Yo(n,t){return(G2(t)?t.asyncValidators:n)||null}function y6(n){return Array.isArray(n)?Nt(n):n||null}function G2(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Ko{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Dl(this._rawValidators),this._composedAsyncValidatorFn=y6(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Za}get invalid(){return this.status===Tl}get pending(){return this.status==Ya}get disabled(){return this.status===e4}get enabled(){return this.status!==e4}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Dl(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=y6(t)}addValidators(t){this.setValidators(R1(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(R1(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(U2(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(U2(t,this._rawAsyncValidators))}hasValidator(t){return b2(this._rawValidators,t)}hasAsyncValidator(t){return b2(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ya,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=e4,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Za,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Za||this.status===Ya)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?e4:Za}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ya,this._hasOwnPendingAsyncValidator=!0;const e=F(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function Sd(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=i instanceof $1?i.controls.hasOwnProperty(r)?i.controls[r]:null:i instanceof t4&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?e4:this.errors?Tl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ya)?Ya:this._anyControlsHaveStatus(Tl)?Tl:Za}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){G2(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Jn extends Ko{constructor(t=null,e,i){super(Q0(e),Yo(i,e)),this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){El(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){El(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class $1 extends Ko{constructor(t,e,i){super(Q0(e),Yo(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof Jn?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class t4 extends Ko{constructor(t,e,i){super(Q0(e),Yo(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,r)=>{this._throwIfControlMissing(r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Jn?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const q9={provide:Hi,useExisting:(0,o.Gpc)(()=>Il)},Al=(()=>Promise.resolve(null))();let Il=(()=>{class n extends Hi{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new o.vpe,this.form=new $1({},wt(e),Nt(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Al.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),J3(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Al.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),El(this._directives,e)})}addFormGroup(e){Al.then(()=>{const i=this._findContainer(e.path),r=new $1({});Z0(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Al.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Al.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,K0(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(t1,10),o.Y36(B2,10))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([q9]),o.qOj]}),n})(),Ka=(()=>{class n extends Hi{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ga(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const Ld={provide:Fr,useExisting:(0,o.Gpc)(()=>Vl)},b6=(()=>Promise.resolve(null))();let Vl=(()=>{class n extends Fr{constructor(e,i,r,s){super(),this.control=new Jn,this._registered=!1,this.update=new o.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Wa(0,s)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),Ll(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Ga(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){J3(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){b6.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;b6.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Hi,9),o.Y36(t1,10),o.Y36(B2,10),o.Y36(Vi,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([Ld]),o.qOj,o.TTD]}),n})(),ms=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),hi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const x6=new o.OlP("NgModelWithFormControlWarning"),Ed={provide:Fr,useExisting:(0,o.Gpc)(()=>i4)};let i4=(()=>{class n extends Fr{constructor(e,i,r,s){super(),this._ngModelWarningConfig=s,this.update=new o.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=Wa(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&Cs(i,this,!1),J3(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}Ll(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Cs(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(o.Y36(t1,10),o.Y36(B2,10),o.Y36(Vi,10),o.Y36(x6,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[o._Bn([Ed]),o.qOj,o.TTD]}),n})();const Td={provide:Hi,useExisting:(0,o.Gpc)(()=>so)};let so=(()=>{class n extends Hi{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qa(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return J3(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Cs(e.control||null,e,!1),El(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,K0(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Cs(i||null,e),r instanceof Jn&&(J3(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);Z0(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function xd(n,t){return qa(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){X3(this.form,this),this._oldForm&&qa(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(t1,10),o.Y36(B2,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([Td]),o.qOj,o.TTD]}),n})();const n8={provide:Hi,useExisting:(0,o.Gpc)(()=>S6)};let S6=(()=>{class n extends Ka{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){Ol(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Hi,13),o.Y36(t1,10),o.Y36(B2,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[o._Bn([n8]),o.qOj]}),n})();const r4={provide:Hi,useExisting:(0,o.Gpc)(()=>n1)};let n1=(()=>{class n extends Hi{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ga(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Ol(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Hi,13),o.Y36(t1,10),o.Y36(B2,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[o._Bn([r4]),o.qOj]}),n})();function Ol(n){return!(n instanceof S6||n instanceof so||n instanceof n1)}const i8={provide:Fr,useExisting:(0,o.Gpc)(()=>_s)};let _s=(()=>{class n extends Fr{constructor(e,i,r,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Wa(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Ll(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Ga(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(o.Y36(Hi,13),o.Y36(t1,10),o.Y36(B2,10),o.Y36(Vi,10),o.Y36(x6,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([i8]),o.qOj,o.TTD]}),n})();let Xa=(()=>{class n{constructor(){this._validator=E}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._validator=this.enabled()?this.createValidator(i):E,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(){return null!=this[this.inputName]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();const l8={provide:t1,useExisting:(0,o.Gpc)(()=>oo),multi:!0};let oo=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?$o(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("required",i.required?"":null)},inputs:{required:"required"},features:[o._Bn([l8])]}),n})();const Nd={provide:t1,useExisting:(0,o.Gpc)(()=>Fl),multi:!0};let Fl=(()=>{class n{constructor(){this._enabled=!1}set email(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}validate(e){return this._enabled?zr(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[o._Bn([Nd])]}),n})();const A6={provide:t1,useExisting:(0,o.Gpc)(()=>a4),multi:!0};let a4=(()=>{class n extends Xa{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>function T6(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>Ba(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("minlength",i.enabled()?i.minlength:null)},inputs:{minlength:"minlength"},features:[o._Bn([A6]),o.qOj]}),n})(),f8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi]]}),n})(),Bl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[f8]}),n})(),Ur=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:x6,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[f8]}),n})(),Vd=(()=>{class n{group(e,i=null){const r=this._reduceControls(e);let d,s=null,c=null;return null!=i&&(function Gr(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(s=null!=i.validators?i.validators:null,c=null!=i.asyncValidators?i.asyncValidators:null,d=null!=i.updateOn?i.updateOn:void 0):(s=null!=i.validator?i.validator:null,c=null!=i.asyncValidator?i.asyncValidator:null)),new $1(r,{asyncValidators:c,updateOn:d,validators:s})}control(e,i,r){return new Jn(e,i,r)}array(e,i,r){const s=e.map(c=>this._createControl(c));return new t4(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof Jn||e instanceof $1||e instanceof t4?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:Ur}),n})();const Ul=["*"],d4=["dialog"];function Wl(n){return null!=n}function F6(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const b8={animation:!0,transitionTimerDelayMs:5},Zy=()=>{},{transitionTimerDelayMs:hp}=b8,f4=new Map,W1=(n,t,e,i)=>{let r=i.context||{};const s=f4.get(t);if(s)switch(i.runningTransition){case"continue":return ni.E;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),f4.delete(t)}const c=e(t,i.animation,r)||Zy;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>c()),lt(void 0).pipe(function CI(n){return t=>new xn.y(e=>t.subscribe({next:c=>n.run(()=>e.next(c)),error:c=>n.run(()=>e.error(c)),complete:()=>n.run(()=>e.complete())}))}(n));const d=new Ct.x,h=new Ct.x,_=d.pipe(function q3(...n){return t=>Oa(t,lt(...n))}(!0));f4.set(t,{transition$:d,complete:()=>{h.next(),h.complete()},context:r});const M=function r3(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const x=Bn(t,"transitionend").pipe(At(_),Dn(({target:N})=>N===t));(function jo(...n){return 1===(n=Go(n)).length?(0,u1.Xf)(n[0]):new xn.y(function h6(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push((0,u1.Xf)(n[i]).subscribe(new tn.Q(t,r=>{if(e){for(let s=0;s<e.length;s++)s!==i&&e[s].unsubscribe();e=null}t.next(r)})))}}(n))})(Bo(M+hp).pipe(At(_)),x,h).pipe(At(_)).subscribe(()=>{f4.delete(t),n.run(()=>{c(),d.next(),d.complete()})})}),d.asObservable()};let B6=(()=>{class n{constructor(){this.animation=b8.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),p4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[bi]]}),n})(),Kd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[bi]]}),n})(),t7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),i7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[bi]]}),n})(),S8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();var f1=(()=>{return(n=f1||(f1={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",f1;var n})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const j6=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function wp(n){const t=Array.from(n.querySelectorAll(j6)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new class HI{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i=t.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const s=this.offsetParent(t);i=this.offset(t,!1),s!==document.documentElement&&(r=this.offset(s,!1)),r.top+=s.clientTop,r.left+=s.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(t,e=!0){const i=t.getBoundingClientRect(),r_top=window.scrollY-document.documentElement.clientTop,r_left=window.scrollX-document.documentElement.clientLeft;let s={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(t,e,i,r){const[s="top",c="center"]=i.split("-"),d=r?this.offset(t,!1):this.position(t,!1),h=this.getAllStyles(e),_=parseFloat(h.marginTop),M=parseFloat(h.marginBottom),x=parseFloat(h.marginLeft),D=parseFloat(h.marginRight);let N=0,H=0;switch(s){case"top":N=d.top-(e.offsetHeight+_+M);break;case"bottom":N=d.top+d.height;break;case"left":H=d.left-(e.offsetWidth+x+D);break;case"right":H=d.left+d.width}switch(c){case"top":N=d.top;break;case"bottom":N=d.top+d.height-e.offsetHeight;break;case"left":H=d.left;break;case"right":H=d.left+d.width-e.offsetWidth;break;case"center":"top"===s||"bottom"===s?H=d.left+d.width/2-e.offsetWidth/2:N=d.top+d.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(H)}px, ${Math.round(N)}px)`;const U=e.getBoundingClientRect(),Y=document.documentElement,ae=window.innerHeight||Y.clientHeight,ce=window.innerWidth||Y.clientWidth;return U.left>=0&&U.top>=0&&U.right<=ce&&U.bottom<=ae}},new Date(1882,10,12),new Date(2174,10,25);let A8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[bi,Bl]]}),n})(),m4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();class $r{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let ic=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Jt.q)(1)).subscribe(()=>{W1(this._zone,this._el.nativeElement,(e,i)=>{i&&F6(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return W1(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,i){2&e&&(o.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),o.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class _4{close(t){}dismiss(t){}}class rc{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Ct.x,this._dismissed=new Ct.x,this._hidden=new Ct.x,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,c)=>{this._resolve=s,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(At(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(At(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function pI(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():lt(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ra(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var co=(()=>{return(n=co||(co={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",co;var n})();let sc=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new Ct.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new o.vpe,this.shown=new Ct.x,this.hidden=new Ct.x}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Jt.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},c=Ra(W1(this._zone,e,()=>e.classList.remove("show"),i),W1(this._zone,this._dialogEl.nativeElement,()=>{},i));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const e={animation:this.animation,runningTransition:"continue"};Ra(W1(this._zone,this._elRef.nativeElement,(s,c)=>{c&&F6(s),s.classList.add("show")},e),W1(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Bn(e,"keydown").pipe(At(this._closed$),Dn(r=>r.which===f1.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(co.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Bn(this._dialogEl.nativeElement,"mousedown").pipe(At(this._closed$),(0,jt.b)(()=>i=!1),wi(()=>Bn(e,"mouseup").pipe(At(this._closed$),(0,Jt.q)(1))),Dn(({target:r})=>e===r)).subscribe(()=>{i=!0}),Bn(e,"click").pipe(At(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(co.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=wp(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&W1(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(J),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&o.Gf(d4,7),2&e){let r;o.iGM(r=o.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),o.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),o.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Ul,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.TgZ(2,"div",2),o.Hsn(3),o.qZA(),o.qZA()),2&e&&o.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})();const Hp=()=>{};let Rp=(()=>{class n{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):Hp}_adjustBody(e){const i=this._document.body,r=i.style.paddingRight,s=parseFloat(window.getComputedStyle(i)["padding-right"]);return i.style["padding-right"]=`${s+e}px`,()=>i.style["padding-right"]=r}_isPresent(e){const i=this._document.body.getBoundingClientRect();return window.innerWidth-(i.left+i.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const i=this._document.body;i.appendChild(e);const r=e.getBoundingClientRect().width-e.clientWidth;return i.removeChild(e),r}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Op=(()=>{class n{constructor(e,i,r,s,c,d){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=s,this._rendererFactory=c,this._ngZone=d,this._activeWindowCmptHasChanged=new Ct.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new o.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const h=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=Bn(t,"focusin").pipe(At(e),(0,je.U)(s=>s.target));Bn(t,"keydown").pipe(At(e),Dn(s=>s.which===f1.Tab),I1(r)).subscribe(([s,c])=>{const[d,h]=wp(t);(c===d||c===t)&&s.shiftKey&&(h.focus(),s.preventDefault()),c===h&&!s.shiftKey&&(d.focus(),s.preventDefault())}),i&&Bn(t,"click").pipe(At(e),I1(r),(0,je.U)(s=>s[1])).subscribe(s=>s.focus())})})(0,h.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(h.location.nativeElement)}})}open(e,i,r,s){const c=s.container instanceof HTMLElement?s.container:Wl(s.container)?this._document.querySelector(s.container):this._document.body,d=this._rendererFactory.createRenderer(null,null),h=this._scrollBar.compensate(),_=()=>{this._modalRefs.length||(d.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!c)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);const M=new _4,x=this._getContentRef(e,s.injector||i,r,M,s);let D=!1!==s.backdrop?this._attachBackdrop(e,c):void 0,N=this._attachWindowComponent(e,c,x),H=new rc(N,x,D,s.beforeDismiss);return this._registerModalRef(H),this._registerWindowCmpt(N),H.result.then(h,h),H.result.then(_,_),M.close=U=>{H.close(U)},M.dismiss=U=>{H.dismiss(U)},this._applyWindowOptions(N.instance,s),1===this._modalRefs.length&&d.addClass(this._document.body,"modal-open"),D&&D.instance&&(this._applyBackdropOptions(D.instance,s),D.changeDetectorRef.detectChanges()),N.changeDetectorRef.detectChanges(),H}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let s=e.resolveComponentFactory(ic).create(this._injector);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_attachWindowComponent(e,i,r){let c=e.resolveComponentFactory(sc).create(this._injector,r.nodes);return this._applicationRef.attachView(c.hostView),i.appendChild(c.location.nativeElement),c}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{Wl(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{Wl(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,s,c){return r?r instanceof o.Rgc?this._createFromTemplateRef(r,s):function dp(n){return"string"==typeof n}(r)?this._createFromString(r):this._createFromComponent(e,i,r,s,c):new $r([])}_createFromTemplateRef(e,i){const s=e.createEmbeddedView({$implicit:i,close(c){i.close(c)},dismiss(c){i.dismiss(c)}});return this._applicationRef.attachView(s),new $r([s.rootNodes],s)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new $r([[i]])}_createFromComponent(e,i,r,s,c){const d=e.resolveComponentFactory(r),h=o.zs3.create({providers:[{provide:_4,useValue:s}],parent:i}),_=d.create(h),M=_.location.nativeElement;return c.scrollable&&M.classList.add("component-host-scrollable"),this._applicationRef.attachView(_.hostView),new $r([[M]],_.hostView,_)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.z2F),o.LFG(o.zs3),o.LFG(J),o.LFG(Rp),o.LFG(o.FYo),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pp=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(B6))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zp=(()=>{class n{constructor(e,i,r,s){this._moduleCFR=e,this._injector=i,this._modalStack=r,this._config=s}open(e,i={}){const r=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o._Vd),o.LFG(o.zs3),o.LFG(Op),o.LFG(Pp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),v7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[zp]}),n})(),x7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[bi]]}),n})(),Wp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[bi]]}),n})(),Qp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[bi]]}),n})(),Jp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[bi]]}),n})(),Xp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[bi]]}),n})(),V8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[bi]]}),n})(),rg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[bi]]}),n})(),H8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();new o.OlP("live announcer delay",{providedIn:"root",factory:function Ob(){return 100}});let lg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[bi]]}),n})();const cg=[p4,Kd,t7,i7,S8,A8,m4,v7,x7,Wp,Qp,Jp,Xp,V8,rg,H8,lg];let ug=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[cg,p4,Kd,t7,i7,S8,A8,m4,v7,x7,Wp,Qp,Jp,Xp,V8,rg,H8,lg]}),n})();function o3(n,t){return(0,C2.m)(t)?(0,Gi.z)(n,t,1):(0,Gi.z)(n,1)}class X6{}class E7{}class Es{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Es?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Es;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Es?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let c=this.headers.get(e);if(!c)return;c=c.filter(d=>-1===s.indexOf(d)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class dg{encodeKey(t){return T7(t)}encodeValue(t){return T7(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const hg=/%(\d[a-f0-9])/gi,pg={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function T7(n){return encodeURIComponent(n).replace(hg,(t,e)=>{var i;return null!==(i=pg[e])&&void 0!==i?i:t})}function D7(n){return`${n}`}class a3{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new dg,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function fg(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,d]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],h=e.get(c)||[];h.push(d),e.set(c,h)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new a3({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(D7(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(D7(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Bb{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Cg(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function s1(n){return"undefined"!=typeof Blob&&n instanceof Blob}function A7(n){return"undefined"!=typeof FormData&&n instanceof FormData}class e5{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function gg(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Es),this.context||(this.context=new Bb),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+c}}else this.params=new a3,this.urlWithParams=e}serializeBody(){return null===this.body?null:Cg(this.body)||s1(this.body)||A7(this.body)||function Ub(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof a3?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||A7(this.body)?null:s1(this.body)?this.body.type||null:Cg(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof a3?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,s=t.responseType||this.responseType,c=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let _=t.headers||this.headers,M=t.params||this.params;const x=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(_=Object.keys(t.setHeaders).reduce((D,N)=>D.set(N,t.setHeaders[N]),_)),t.setParams&&(M=Object.keys(t.setParams).reduce((D,N)=>D.set(N,t.setParams[N]),M)),new e5(i,r,c,{params:M,headers:_,context:x,reportProgress:h,responseType:s,withCredentials:d})}}var ji=(()=>((ji=ji||{})[ji.Sent=0]="Sent",ji[ji.UploadProgress=1]="UploadProgress",ji[ji.ResponseHeader=2]="ResponseHeader",ji[ji.DownloadProgress=3]="DownloadProgress",ji[ji.Response=4]="Response",ji[ji.User=5]="User",ji))();class I7{constructor(t,e=200,i="OK"){this.headers=t.headers||new Es,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class R8 extends I7{constructor(t={}){super(t),this.type=ji.ResponseHeader}clone(t={}){return new R8({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class t5 extends I7{constructor(t={}){super(t),this.type=ji.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new t5({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class v4 extends I7{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function N7(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let y4=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof e5)s=e;else{let h,_;h=r.headers instanceof Es?r.headers:new Es(r.headers),r.params&&(_=r.params instanceof a3?r.params:new a3({fromObject:r.params})),s=new e5(e,i,void 0!==r.body?r.body:null,{headers:h,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=lt(s).pipe(o3(h=>this.handler.handle(h)));if(e instanceof e5||"events"===r.observe)return c;const d=c.pipe(Dn(h=>h instanceof t5));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,je.U)(h=>{if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return d.pipe((0,je.U)(h=>{if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return d.pipe((0,je.U)(h=>{if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return d.pipe((0,je.U)(h=>h.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new a3).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,N7(r,i))}post(e,i,r={}){return this.request("POST",e,N7(r,i))}put(e,i,r={}){return this.request("PUT",e,N7(r,i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X6))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class k7{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const mg=new o.OlP("HTTP_INTERCEPTORS");let _g=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Ts=/^\)\]\}',?\n/;let V7=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new xn.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((N,H)=>r.setRequestHeader(N,H.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const N=e.detectContentTypeHeader();null!==N&&r.setRequestHeader("Content-Type",N)}if(e.responseType){const N=e.responseType.toLowerCase();r.responseType="json"!==N?N:"text"}const s=e.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const N=1223===r.status?204:r.status,H=r.statusText||"OK",U=new Es(r.getAllResponseHeaders()),Y=function Ds(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return c=new R8({headers:U,status:N,statusText:H,url:Y}),c},h=()=>{let{headers:N,status:H,statusText:U,url:Y}=d(),ae=null;204!==H&&(ae=void 0===r.response?r.responseText:r.response),0===H&&(H=ae?200:0);let ce=H>=200&&H<300;if("json"===e.responseType&&"string"==typeof ae){const ke=ae;ae=ae.replace(Ts,"");try{ae=""!==ae?JSON.parse(ae):null}catch(Te){ae=ke,ce&&(ce=!1,ae={error:Te,text:ae})}}ce?(i.next(new t5({body:ae,headers:N,status:H,statusText:U,url:Y||void 0})),i.complete()):i.error(new v4({error:ae,headers:N,status:H,statusText:U,url:Y||void 0}))},_=N=>{const{url:H}=d(),U=new v4({error:N,status:r.status||0,statusText:r.statusText||"Unknown Error",url:H||void 0});i.error(U)};let M=!1;const x=N=>{M||(i.next(d()),M=!0);let H={type:ji.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(H.total=N.total),"text"===e.responseType&&!!r.responseText&&(H.partialText=r.responseText),i.next(H)},D=N=>{let H={type:ji.UploadProgress,loaded:N.loaded};N.lengthComputable&&(H.total=N.total),i.next(H)};return r.addEventListener("load",h),r.addEventListener("error",_),r.addEventListener("timeout",_),r.addEventListener("abort",_),e.reportProgress&&(r.addEventListener("progress",x),null!==s&&r.upload&&r.upload.addEventListener("progress",D)),r.send(s),i.next({type:ji.Sent}),()=>{r.removeEventListener("error",_),r.removeEventListener("abort",_),r.removeEventListener("load",h),r.removeEventListener("timeout",_),e.reportProgress&&(r.removeEventListener("progress",x),null!==s&&r.upload&&r.upload.removeEventListener("progress",D)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(rs))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const O8=new o.OlP("XSRF_COOKIE_NAME"),H7=new o.OlP("XSRF_HEADER_NAME");class bg{}let jb=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ht(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(J),o.LFG(o.Lbi),o.LFG(O8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),R7=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(bg),o.LFG(H7))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),O7=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(mg,[]);this.chain=i.reduceRight((r,s)=>new k7(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(E7),o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Mg=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:R7,useClass:_g}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:O8,useValue:e.cookieName}:[],e.headerName?{provide:H7,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[R7,{provide:mg,useExisting:R7,multi:!0},{provide:bg,useClass:jb},{provide:O8,useValue:"XSRF-TOKEN"},{provide:H7,useValue:"X-XSRF-TOKEN"}]}),n})(),qb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[y4,{provide:X6,useClass:O7},V7,{provide:E7,useExisting:V7}],imports:[[Mg.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),As=(()=>{class n{constructor(){this.tekstitChanged=new Ct.x,this.tekstit=[]}setTekstit(e){this.tekstit=e,this.tekstitChanged.next(this.tekstit.slice())}getTekstit(){return this.tekstit.slice()}getTeksti(e){return this.tekstit[e]}addTeksti(e){this.tekstit.push(e),this.tekstitChanged.next(this.tekstit.slice())}updateTeksti(e,i){this.tekstit[e]=i,this.tekstitChanged.next(this.tekstit.slice())}deleteTeksti(e){this.tekstit.splice(e,1),this.tekstitChanged.next(this.tekstit.slice())}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),cr=(()=>{class n{constructor(e,i){this.http=e,this.tekstiService=i}storeTekstit(){const e=this.tekstiService.getTekstit();this.http.put("https://eurouuni-ced0b-default-rtdb.europe-west1.firebasedatabase.app/texts.json",e).subscribe(i=>{console.log(i)})}fetchTekstit(){return this.http.get("https://eurouuni-ced0b-default-rtdb.europe-west1.firebasedatabase.app/texts.json").pipe((0,je.U)(e=>e.map(i=>Object.assign({},i))),(0,jt.b)(e=>{this.tekstiService.setTekstit(e)}))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(y4),o.LFG(As))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const n5=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function z8(n){return new xn.y(t=>{(0,u1.Xf)(n()).subscribe(t)})}var uo=O(727);function P7(){return(0,di.e)((n,t)=>{let e=null;n._refCount++;const i=new tn.Q(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class xg extends xn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,di.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new uo.w0;const e=this.getSubject();t.add(this.source.subscribe(new tn.Q(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=uo.w0.EMPTY)}return t}refCount(){return P7()(this)}}function Sg(n,t,e,i,r){return(s,c)=>{let d=e,h=t,_=0;s.subscribe(new tn.Q(c,M=>{const x=_++;h=d?n(h,M,x):(d=!0,M),i&&c.next(h)},r&&(()=>{d&&c.next(h),c.complete()})))}}function l3(n,t){return(0,di.e)(Sg(n,t,arguments.length>=2,!0))}function Is(n){return(0,di.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe(new tn.Q(e,void 0,void 0,c=>{s=(0,u1.Xf)(n(c,Is(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function F8(n){return n<=0?()=>ni.E:(0,di.e)((t,e)=>{let i=[];t.subscribe(new tn.Q(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function z7(n=Lg){return(0,di.e)((t,e)=>{let i=!1;t.subscribe(new tn.Q(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Lg(){return new n5}function Eg(n){return(0,di.e)((t,e)=>{let i=!1;t.subscribe(new tn.Q(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function b4(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Dn((r,s)=>n(r,s,i)):m2.y,(0,Jt.q)(1),e?Eg(t):z7(()=>new n5))}function Tg(n){return(0,di.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class na{constructor(t,e){this.id=t,this.url=e}}class F7 extends na{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class r5 extends na{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dg extends na{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Yb extends na{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Kb extends na{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qb extends na{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jb extends na{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xb extends na{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eM extends na{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ag{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ig{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tM{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nM{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ng{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kg{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class B7{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const rn="primary";class Vg{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function M4(n){return new Vg(n)}const U7="ngNavigationCancelingError";function B8(n){const t=Error("NavigationCancelingError: "+n);return t[U7]=!0,t}function G7(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],d=n[s];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Z1(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!Rg(n[r],t[r]))return!1;return!0}function Rg(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function Og(n){return Array.prototype.concat.apply([],n)}function w4(n){return n.length>0?n[n.length-1]:null}function h1(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function ia(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,Sn.D)(Promise.resolve(n)):lt(n)}const zg={exact:function Fg(n,t,e){if(!S4(n.segments,t.segments)||!x4(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Fg(n.children[i],t.children[i],e))return!1;return!0},subset:s5},iM={exact:function rM(n,t){return Z1(n,t)},subset:function sM(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Rg(n[e],t[e]))},ignored:()=>!0};function xt(n,t,e){return zg[e.paths](n.root,t.root,e.matrixParams)&&iM[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function s5(n,t,e){return Bg(n,t,t.segments,e)}function Bg(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!S4(r,e)||t.hasChildren()||!x4(r,e,i))}if(n.segments.length===e.length){if(!S4(n.segments,e)||!x4(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!s5(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(S4(n.segments,r)&&x4(n.segments,r,i)&&n.children[rn])&&Bg(n.children[rn],t,s,i)}}function x4(n,t,e){return t.every((i,r)=>iM[e](n[r].parameters,i.parameters))}class fo{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=M4(this.queryParams)),this._queryParamMap}toString(){return Gg.serialize(this)}}class vt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,h1(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return o5(this)}}class U8{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=M4(this.parameters)),this._parameterMap}toString(){return c5(this)}}function S4(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class q7{}class $7{parse(t){const e=new cM(t);return new fo(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${a5(t.root,!0)}`,i=function Wg(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${G8(e)}=${G8(r)}`).join("&"):`${G8(e)}=${G8(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function l5(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Gg=new $7;function o5(n){return n.segments.map(t=>c5(t)).join("/")}function a5(n,t){if(!n.hasChildren())return o5(n);if(t){const e=n.children[rn]?a5(n.children[rn],!1):"",i=[];return h1(n.children,(r,s)=>{s!==rn&&i.push(`${s}:${a5(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function oM(n,t){let e=[];return h1(n.children,(i,r)=>{r===rn&&(e=e.concat(t(i,r)))}),h1(n.children,(i,r)=>{r!==rn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===rn?[a5(n.children[rn],!1)]:[`${r}:${a5(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[rn]?`${o5(n)}/${e[0]}`:`${o5(n)}/(${e.join("//")})`}}function jg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function G8(n){return jg(n).replace(/%3B/gi,";")}function W7(n){return jg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function j8(n){return decodeURIComponent(n)}function qg(n){return j8(n.replace(/\+/g,"%20"))}function c5(n){return`${W7(n.path)}${function $g(n){return Object.keys(n).map(t=>`;${W7(t)}=${W7(n[t])}`).join("")}(n.parameters)}`}const Zg=/^[^\/()?;=#]+/;function q8(n){const t=n.match(Zg);return t?t[0]:""}const u5=/^[^=?&#]+/,aM=/^[^&#]+/;class cM{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new vt([],{}):new vt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[rn]=new vt(t,e)),i}parseSegment(){const t=q8(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new U8(j8(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=q8(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=q8(this.remaining);r&&(i=r,this.capture(i))}t[j8(e)]=j8(i)}parseQueryParam(t){const e=function d5(n){const t=n.match(u5);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function lM(n){const t=n.match(aM);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=qg(e),s=qg(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=q8(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=rn);const c=this.parseChildren();e[s]=1===Object.keys(c).length?c[rn]:new vt([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Z7{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=$8(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=$8(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=W8(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return W8(t,this._root).map(e=>e.value)}}function $8(n,t){if(n===t.value)return t;for(const e of t.children){const i=$8(n,e);if(i)return i}return null}function W8(n,t){if(n===t.value)return[t];for(const e of t.children){const i=W8(n,e);if(i.length)return i.unshift(t),i}return[]}class ra{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function L4(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Yg extends Z7{constructor(t,e){super(t),this.snapshot=e,Y7(this,t)}toString(){return this.snapshot.toString()}}function Kg(n,t){const e=function CN(n,t){const c=new f5([],{},{},"",{},rn,t,null,n.root,-1,{});return new h5("",new ra(c,[]))}(n,t),i=new Hn([new U8("",{})]),r=new Hn({}),s=new Hn({}),c=new Hn({}),d=new Hn(""),h=new xi(i,r,c,d,s,rn,t,e.root);return h.snapshot=e.root,new Yg(new ra(h,[]),e)}class xi{constructor(t,e,i,r,s,c,d,h){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this._futureSnapshot=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,je.U)(t=>M4(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,je.U)(t=>M4(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function uM(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function mN(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class f5{constructor(t,e,i,r,s,c,d,h,_,M,x){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.routeConfig=h,this._urlSegment=_,this._lastPathIndex=M,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=M4(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=M4(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class h5 extends Z7{constructor(t,e){super(e),this.url=t,Y7(this,e)}toString(){return Qg(this._root)}}function Y7(n,t){t.value._routerState=n,t.children.forEach(e=>Y7(n,e))}function Qg(n){const t=n.children.length>0?` { ${n.children.map(Qg).join(", ")} } `:"";return`${n.value}${t}`}function Z8(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Z1(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Z1(t.params,e.params)||n.params.next(e.params),function j7(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Z1(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Z1(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function E4(n,t){const e=Z1(n.params,t.params)&&function Ug(n,t){return S4(n,t)&&n.every((e,i)=>Z1(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||E4(n.parent,t.parent))}function p5(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function fM(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return p5(n,i,r);return p5(n,i)})}(n,t,e);return new ra(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(d=>p5(n,d)),c}}const i=function hM(n){return new xi(new Hn(n.url),new Hn(n.params),new Hn(n.queryParams),new Hn(n.fragment),new Hn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>p5(n,s));return new ra(i,r)}}function g5(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function C5(n){return"object"==typeof n&&null!=n&&n.outlets}function K7(n,t,e,i,r){let s={};return i&&h1(i,(c,d)=>{s[d]=Array.isArray(c)?c.map(h=>`${h}`):`${c}`}),new fo(e.root===n?t:T4(e.root,n,t),s,r)}function T4(n,t,e){const i={};return h1(n.children,(r,s)=>{i[s]=r===t?e:T4(r,t,e)}),new vt(n.segments,i)}class Jg{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&g5(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(C5);if(r&&r!==w4(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Q7{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function nC(n,t,e){if(n||(n=new vt([],{})),0===n.segments.length&&n.hasChildren())return ac(n,t,e);const i=function CM(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const c=n.segments[r],d=e[i];if(C5(d))break;const h=`${d}`,_=i<e.length-1?e[i+1]:null;if(r>0&&void 0===h)break;if(h&&_&&"object"==typeof _&&void 0===_.outlets){if(!sC(h,_,c))return s;i+=2}else{if(!sC(h,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new vt(n.segments.slice(0,i.pathIndex),{});return s.children[rn]=new vt(n.segments.slice(i.pathIndex),n.children),ac(s,0,r)}return i.match&&0===r.length?new vt(n.segments,{}):i.match&&!n.hasChildren()?Y8(n,t,e):i.match?ac(n,0,r):Y8(n,t,e)}function ac(n,t,e){if(0===e.length)return new vt(n.segments,{});{const i=function tC(n){return C5(n[0])?n[0].outlets:{[rn]:n}}(e),r={};return h1(i,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[c]=nC(n.children[c],t,s))}),h1(n.children,(s,c)=>{void 0===i[c]&&(r[c]=s)}),new vt(n.segments,r)}}function Y8(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(C5(s)){const h=iC(s.outlets);return new vt(i,h)}if(0===r&&g5(e[0])){i.push(new U8(n.segments[t].path,rC(e[0]))),r++;continue}const c=C5(s)?s.outlets[rn]:`${s}`,d=r<e.length-1?e[r+1]:null;c&&d&&g5(d)?(i.push(new U8(c,rC(d))),r+=2):(i.push(new U8(c,{})),r++)}return new vt(i,{})}function iC(n){const t={};return h1(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Y8(new vt([],{}),0,e))}),t}function rC(n){const t={};return h1(n,(e,i)=>t[i]=`${e}`),t}function sC(n,t,e){return n==e.path&&Z1(t,e.parameters)}class J7{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Z8(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=L4(e);t.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),h1(r,(s,c)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=L4(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=L4(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=L4(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new kg(s.value.snapshot))}),t.children.length&&this.forwardEvent(new nM(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(Z8(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),Z8(d.route.value),this.activateChildRoutes(t,null,c.children)}else{const d=function _M(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),h=d?d.module.componentFactoryResolver:null;c.attachRef=null,c.route=r,c.resolver=h,c.outlet&&c.outlet.activateWith(r,h),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class K8{constructor(t,e){this.routes=t,this.module=e}}function c3(n){return"function"==typeof n}function D4(n){return n instanceof fo}const m5=Symbol("INITIAL_VALUE");function lc(){return wi(n=>function fs(...n){const t=(0,P2.yG)(n),e=(0,P2.jO)(n),{args:i,keys:r}=Ha(n);if(0===i.length)return(0,Sn.D)([],t);const s=new xn.y(function Hr(n,t,e=m2.y){return i=>{bl(t,()=>{const{length:r}=n,s=new Array(r);let c=r,d=r;for(let h=0;h<r;h++)bl(t,()=>{const _=(0,Sn.D)(n[h],t);let M=!1;_.subscribe(new tn.Q(i,x=>{s[h]=x,M||(M=!0,d--),d||i.next(e(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>rr(r,c):m2.y));return e?s.pipe(Va(e)):s}(n.map(t=>t.pipe((0,Jt.q)(1),ki(m5)))).pipe(l3((t,e)=>{let i=!1;return e.reduce((r,s,c)=>r!==m5?r:(s===m5&&(i=!0),i||!1!==s&&c!==e.length-1&&!D4(s)?r:s),t)},m5),Dn(t=>t!==m5),(0,je.U)(t=>D4(t)?t:!0===t),(0,Jt.q)(1)))}class oC{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new cc,this.attachRef=null}}class cc{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new oC,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let u3=(()=>{class n{constructor(e,i,r,s,c){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=s||rn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const c=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),d=this.parentContexts.getOrCreateContext(this.name).children,h=new X7(e,d,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,h),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(cc),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class X7{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===xi?this.route:t===cc?this.childContexts:this.parent.get(t,e)}}let ef=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},directives:[u3],encapsulation:2}),n})();function aC(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];xM(i,tf(t,i))}}function xM(n,t){n.children&&aC(n.children,t)}function tf(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function _5(n){const t=n.children&&n.children.map(_5),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==rn&&(e.component=ef),e}function ur(n){return n.outlet||rn}function Q8(n,t){const e=n.filter(i=>ur(i)===t);return e.push(...n.filter(i=>ur(i)!==t)),e}const lC={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function J8(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},lC):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(t.matcher||G7)(e,n,t);if(!s)return Object.assign({},lC);const c={};h1(s.posParams,(h,_)=>{c[_]=h.path});const d=s.consumed.length>0?Object.assign(Object.assign({},c),s.consumed[s.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:d,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function uc(n,t,e,i,r="corrected"){if(e.length>0&&function LM(n,t,e){return e.some(i=>X8(n,t,i)&&ur(i)!==rn)}(n,e,i)){const c=new vt(t,function cC(n,t,e,i){const r={};r[rn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&ur(s)!==rn){const c=new vt([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,r[ur(s)]=c}return r}(n,t,i,new vt(e,n.children)));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===e.length&&function uC(n,t,e){return e.some(i=>X8(n,t,i))}(n,e,i)){const c=new vt(n.segments,function SM(n,t,e,i,r,s){const c={};for(const d of i)if(X8(n,e,d)&&!r[ur(d)]){const h=new vt([],{});h._sourceSegment=n,h._segmentIndexShift="legacy"===s?n.segments.length:t.length,c[ur(d)]=h}return Object.assign(Object.assign({},r),c)}(n,t,e,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}const s=new vt(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function X8(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function nf(n,t,e,i){return!!(ur(n)===i||i!==rn&&X8(t,e,n))&&("**"===n.path||J8(t,n,e).matched)}function EM(n,t,e){return 0===t.length&&!n.children[e]}class v5{constructor(t){this.segmentGroup=t||null}}class dc{constructor(t){this.urlTree=t}}function eu(n){return new xn.y(t=>t.error(new v5(n)))}function A4(n){return new xn.y(t=>t.error(new dc(n)))}function y5(n){return new xn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class dC{constructor(t,e,i,r,s){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(o.h0i)}apply(){const t=uc(this.urlTree.root,[],[],this.config).segmentGroup,e=new vt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,rn).pipe((0,je.U)(s=>this.createUrlTree(rf(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Is(s=>{if(s instanceof dc)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof v5?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,rn).pipe((0,je.U)(r=>this.createUrlTree(rf(r),t.queryParams,t.fragment))).pipe(Is(r=>{throw r instanceof v5?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new vt([],{[rn]:t}):t;return new fo(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,je.U)(s=>new vt([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Sn.D)(r).pipe(o3(s=>{const c=i.children[s],d=Q8(e,s);return this.expandSegmentGroup(t,d,c,s).pipe((0,je.U)(h=>({segment:h,outlet:s})))}),l3((s,c)=>(s[c.outlet]=c.segment,s),{}),function Zb(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Dn((r,s)=>n(r,s,i)):m2.y,F8(1),e?Eg(t):z7(()=>new n5))}())}expandSegment(t,e,i,r,s,c){return(0,Sn.D)(i).pipe(o3(d=>this.expandSegmentAgainstRoute(t,e,i,d,r,s,c).pipe(Is(_=>{if(_ instanceof v5)return lt(null);throw _}))),b4(d=>!!d),Is((d,h)=>{if(d instanceof n5||"EmptyError"===d.name){if(EM(e,r,s))return lt(new vt([],{}));throw new v5(e)}throw d}))}expandSegmentAgainstRoute(t,e,i,r,s,c,d){return nf(r,e,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c):eu(e):eu(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?A4(s):this.lineralizeSegments(i,s).pipe((0,Gi.z)(c=>{const d=new vt(c,{});return this.expandSegment(t,d,e,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){const{matched:d,consumedSegments:h,lastChild:_,positionalParamSegments:M}=J8(e,r,s);if(!d)return eu(e);const x=this.applyRedirectCommands(h,r.redirectTo,M);return r.redirectTo.startsWith("/")?A4(x):this.lineralizeSegments(r,x).pipe((0,Gi.z)(D=>this.expandSegment(t,e,i,D.concat(s.slice(_)),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?lt(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,je.U)(D=>(i._loadedConfig=D,new vt(r,{})))):lt(new vt(r,{}));const{matched:c,consumedSegments:d,lastChild:h}=J8(e,i,r);if(!c)return eu(e);const _=r.slice(h);return this.getChildConfig(t,i,r).pipe((0,Gi.z)(x=>{const D=x.module,N=x.routes,{segmentGroup:H,slicedSegments:U}=uc(e,d,_,N),Y=new vt(H.segments,H.children);if(0===U.length&&Y.hasChildren())return this.expandChildren(D,N,Y).pipe((0,je.U)(Te=>new vt(d,Te)));if(0===N.length&&0===U.length)return lt(new vt(d,{}));const ae=ur(i)===s;return this.expandSegment(D,Y,N,U,ae?rn:s,!0).pipe((0,je.U)(ke=>new vt(d.concat(ke.segments),ke.children)))}))}getChildConfig(t,e,i){return e.children?lt(new K8(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?lt(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Gi.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,je.U)(s=>(e._loadedConfig=s,s))):function TM(n){return new xn.y(t=>t.error(B8(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(e))):lt(new K8([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?lt(r.map(c=>{const d=t.get(c);let h;if(function yM(n){return n&&c3(n.canLoad)}(d))h=d.canLoad(e,i);else{if(!c3(d))throw new Error("Invalid CanLoad guard");h=d(e,i)}return ia(h)})).pipe(lc(),(0,jt.b)(c=>{if(!D4(c))return;const d=B8(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw d.url=c,d}),(0,je.U)(c=>!0===c)):lt(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return lt(i);if(r.numberOfChildren>1||!r.children[rn])return y5(t.redirectTo);r=r.children[rn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new fo(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return h1(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=e[d]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let c={};return h1(e.children,(d,h)=>{c[h]=this.createSegmentGroup(t,d,i,r)}),new vt(s,c)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function rf(n){const t={};for(const i of Object.keys(n.children)){const s=rf(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function DM(n){if(1===n.numberOfChildren&&n.children[rn]){const t=n.children[rn];return new vt(n.segments.concat(t.segments),t.children)}return n}(new vt(n.segments,t))}class fC{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class b5{constructor(t,e){this.component=t,this.route=e}}function hC(n,t,e){const i=n._root;return w5(i,t?t._root:null,e,[i.value])}function I4(n,t,e){const i=function M5(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function w5(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=L4(t);return n.children.forEach(c=>{(function pC(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const h=function gC(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!S4(n.url,t.url);case"pathParamsOrQueryParamsChange":return!S4(n.url,t.url)||!Z1(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!E4(n,t)||!Z1(n.queryParams,t.queryParams);default:return!E4(n,t)}}(c,s,s.routeConfig.runGuardsAndResolvers);h?r.canActivateChecks.push(new fC(i)):(s.data=c.data,s._resolvedData=c._resolvedData),w5(n,t,s.component?d?d.children:null:e,i,r),h&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new b5(d.outlet.component,c))}else c&&x5(t,d,r),r.canActivateChecks.push(new fC(i)),w5(n,null,s.component?d?d.children:null:e,i,r)})(c,s[c.value.outlet],e,i.concat([c.value]),r),delete s[c.value.outlet]}),h1(s,(c,d)=>x5(c,e.getContext(d),r)),r}function x5(n,t,e){const i=L4(n),r=n.value;h1(i,(s,c)=>{x5(s,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new b5(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class CC{}function N4(n){return new xn.y(t=>t.error(n))}class mC{constructor(t,e,i,r,s,c){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=c}recognize(){const t=uc(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,rn);if(null===e)return null;const i=new f5([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},rn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ra(i,e),s=new h5(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,i=uM(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const s of Object.keys(e.children)){const c=e.children[s],d=Q8(t,s),h=this.processSegmentGroup(d,c,s);if(null===h)return null;i.push(...h)}const r=OM(i);return function RM(n){n.sort((t,e)=>t.value.outlet===rn?-1:e.value.outlet===rn?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const s of t){const c=this.processSegmentAgainstRoute(s,e,i,r);if(null!==c)return c}return EM(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!nf(t,e,i,r))return null;let s,c=[],d=[];if("**"===t.path){const N=i.length>0?w4(i).parameters:{};s=new f5(i,N,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lf(t),ur(t),t.component,t,tu(e),vC(e)+i.length,cf(t))}else{const N=J8(e,t,i);if(!N.matched)return null;c=N.consumedSegments,d=i.slice(N.lastChild),s=new f5(c,N.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lf(t),ur(t),t.component,t,tu(e),vC(e)+c.length,cf(t))}const h=function bN(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:_,slicedSegments:M}=uc(e,c,d,h.filter(N=>void 0===N.redirectTo),this.relativeLinkResolution);if(0===M.length&&_.hasChildren()){const N=this.processChildren(h,_);return null===N?null:[new ra(s,N)]}if(0===h.length&&0===M.length)return[new ra(s,[])];const x=ur(t)===r,D=this.processSegment(h,_,M,x?rn:r);return null===D?null:[new ra(s,D)]}}function _C(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function OM(n){const t=[],e=new Set;for(const i of n){if(!_C(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=OM(i.children);t.push(new ra(i.value,r))}return t.filter(i=>!e.has(i))}function tu(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function vC(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function lf(n){return n.data||{}}function cf(n){return n.resolve||{}}function uf(n){return wi(t=>{const e=n(t);return e?(0,Sn.D)(e).pipe((0,je.U)(()=>t)):lt(t)})}class bC extends class S5{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const nu=new o.OlP("ROUTES");class df{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,je.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const c=s.create(t);return new K8(Og(c.injector.get(nu,void 0,o.XFs.Self|o.XFs.Optional)).map(_5),c)}),Is(s=>{throw e._loader$=void 0,s}));return e._loader$=new xg(r,()=>new Ct.x).pipe(P7()),e._loader$}loadModuleFactory(t){return ia(t()).pipe((0,Gi.z)(e=>e instanceof o.YKP?lt(e):(0,Sn.D)(this.compiler.compileModuleAsync(e))))}}class wC{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function jM(n){throw n}function qM(n,t,e){return t.parse("/")}function xC(n,t){return lt(null)}const $M={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},WM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let nn=(()=>{class n{constructor(e,i,r,s,c,d,h){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=h,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ct.x,this.errorHandler=jM,this.malformedUriErrorHandler=qM,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:xC,afterPreactivation:xC},this.urlHandlingStrategy=new wC,this.routeReuseStrategy=new bC,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(o.h0i),this.console=c.get(o.c2e);const x=c.get(o.R0b);this.isNgZoneEnabled=x instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(h),this.currentUrlTree=function Pg(){return new fo(new vt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new df(c,d,D=>this.triggerEvent(new Ag(D)),D=>this.triggerEvent(new Ig(D))),this.routerState=Kg(this.currentUrlTree,this.rootComponentType),this.transitions=new Hn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Dn(r=>0!==r.id),(0,je.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),wi(r=>{let s=!1,c=!1;return lt(r).pipe((0,jt.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.currentRawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),wi(d=>{const h=this.browserUrlTree.toString(),_=!this.navigated||d.extractedUrl.toString()!==h||h!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return d3(d.source)&&(this.browserUrlTree=d.extractedUrl),lt(d).pipe(wi(x=>{const D=this.transitions.getValue();return i.next(new F7(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),D!==this.transitions.getValue()?ni.E:Promise.resolve(x)}),function AM(n,t,e,i){return wi(r=>function _N(n,t,e,i,r){return new dC(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,je.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,jt.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function yC(n,t,e,i,r){return(0,Gi.z)(s=>function yN(n,t,e,i,r="emptyOnly",s="legacy"){try{const c=new mC(n,t,e,i,r,s).recognize();return null===c?N4(new CC):lt(c)}catch(c){return N4(c)}}(n,t,s.urlAfterRedirects,e(s.urlAfterRedirects),i,r).pipe((0,je.U)(c=>Object.assign(Object.assign({},s),{targetSnapshot:c}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,jt.b)(x=>{if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const N=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(N,x)}this.browserUrlTree=x.urlAfterRedirects}const D=new Kb(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);i.next(D)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:D,extractedUrl:N,source:H,restoredState:U,extras:Y}=d,ae=new F7(D,this.serializeUrl(N),H,U);i.next(ae);const ce=Kg(N,this.rootComponentType).snapshot;return lt(Object.assign(Object.assign({},d),{targetSnapshot:ce,urlAfterRedirects:N,extras:Object.assign(Object.assign({},Y),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=d.rawUrl,d.resolve(null),ni.E}),uf(d=>{const{targetSnapshot:h,id:_,extractedUrl:M,rawUrl:x,extras:{skipLocationChange:D,replaceUrl:N}}=d;return this.hooks.beforePreactivation(h,{navigationId:_,appliedUrlTree:M,rawUrlTree:x,skipLocationChange:!!D,replaceUrl:!!N})}),(0,jt.b)(d=>{const h=new Qb(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(h)}),(0,je.U)(d=>Object.assign(Object.assign({},d),{guards:hC(d.targetSnapshot,d.currentSnapshot,this.rootContexts)})),function IM(n,t){return(0,Gi.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=e;return 0===c.length&&0===s.length?lt(Object.assign(Object.assign({},e),{guardsResult:!0})):function NM(n,t,e,i){return(0,Sn.D)(n).pipe((0,Gi.z)(r=>function fc(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?lt(s.map(d=>{const h=I4(d,t,r);let _;if(function wM(n){return n&&c3(n.canDeactivate)}(h))_=ia(h.canDeactivate(n,t,e,i));else{if(!c3(h))throw new Error("Invalid CanDeactivate guard");_=ia(h(n,t,e,i))}return _.pipe(b4())})).pipe(lc()):lt(!0)}(r.component,r.route,e,t,i)),b4(r=>!0!==r,!0))}(c,i,r,n).pipe((0,Gi.z)(d=>d&&function vM(n){return"boolean"==typeof n}(d)?function af(n,t,e,i){return(0,Sn.D)(t).pipe(o3(r=>Oa(function vN(n,t){return null!==n&&t&&t(new tM(n)),lt(!0)}(r.route.parent,i),function kM(n,t){return null!==n&&t&&t(new Ng(n)),lt(!0)}(r.route,i),function HM(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(c=>function sf(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>z8(()=>lt(c.guards.map(h=>{const _=I4(h,c.node,e);let M;if(function MM(n){return n&&c3(n.canActivateChild)}(_))M=ia(_.canActivateChild(i,n));else{if(!c3(_))throw new Error("Invalid CanActivateChild guard");M=ia(_(i,n))}return M.pipe(b4())})).pipe(lc())));return lt(s).pipe(lc())}(n,r.path,e),function VM(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return lt(!0);const r=i.map(s=>z8(()=>{const c=I4(s,t,e);let d;if(function bM(n){return n&&c3(n.canActivate)}(c))d=ia(c.canActivate(t,n));else{if(!c3(c))throw new Error("Invalid CanActivate guard");d=ia(c(t,n))}return d.pipe(b4())}));return lt(r).pipe(lc())}(n,r.route,e))),b4(r=>!0!==r,!0))}(i,s,n,t):lt(d)),(0,je.U)(d=>Object.assign(Object.assign({},e),{guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,jt.b)(d=>{if(D4(d.guardsResult)){const _=B8(`Redirecting to "${this.serializeUrl(d.guardsResult)}"`);throw _.url=d.guardsResult,_}const h=new Jb(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(h)}),Dn(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,""),!1)),uf(d=>{if(d.guards.canActivateChecks.length)return lt(d).pipe((0,jt.b)(h=>{const _=new Xb(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(_)}),wi(h=>{let _=!1;return lt(h).pipe(function zM(n,t){return(0,Gi.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return lt(e);let s=0;return(0,Sn.D)(r).pipe(o3(c=>function FM(n,t,e,i){return function BM(n,t,e,i){const r=Object.keys(n);if(0===r.length)return lt({});const s={};return(0,Sn.D)(r).pipe((0,Gi.z)(c=>function UM(n,t,e,i){const r=I4(n,t,i);return ia(r.resolve?r.resolve(t,e):r(t,e))}(n[c],t,e,i).pipe((0,jt.b)(d=>{s[c]=d}))),F8(1),(0,Gi.z)(()=>Object.keys(s).length===r.length?lt(s):ni.E))}(n._resolve,n,t,i).pipe((0,je.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),uM(n,e).resolve),null)))}(c.route,i,n,t)),(0,jt.b)(()=>s++),F8(1),(0,Gi.z)(c=>s===r.length?lt(e):ni.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,jt.b)({next:()=>_=!0,complete:()=>{_||(this.restoreHistory(h),this.cancelNavigationTransition(h,"At least one route resolver didn't emit any value."))}}))}),(0,jt.b)(h=>{const _=new eM(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(_)}))}),uf(d=>{const{targetSnapshot:h,id:_,extractedUrl:M,rawUrl:x,extras:{skipLocationChange:D,replaceUrl:N}}=d;return this.hooks.afterPreactivation(h,{navigationId:_,appliedUrlTree:M,rawUrlTree:x,skipLocationChange:!!D,replaceUrl:!!N})}),(0,je.U)(d=>{const h=function dM(n,t,e){const i=p5(n,t._root,e?e._root:void 0);return new Yg(i,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return Object.assign(Object.assign({},d),{targetRouterState:h})}),(0,jt.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,je.U)(i=>(new J7(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,jt.b)({next(){s=!0},complete(){s=!0}}),Tg(()=>{var d;s||c||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(d=this.currentNavigation)||void 0===d?void 0:d.id)===r.id&&(this.currentNavigation=null)}),Is(d=>{if(c=!0,function Hg(n){return n&&n[U7]}(d)){const h=D4(d.url);h||(this.navigated=!0,this.restoreHistory(r,!0));const _=new Dg(r.id,this.serializeUrl(r.extractedUrl),d.message);i.next(_),h?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),x={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||d3(r.source)};this.scheduleNavigation(M,"imperative",null,x,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const h=new Yb(r.id,this.serializeUrl(r.extractedUrl),d);i.next(h);try{r.resolve(this.errorHandler(d))}catch(_){r.reject(_)}}return ni.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},c=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(c){const h=Object.assign({},c);delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(s.state=h)}const d=this.parseUrl(e.url);this.scheduleNavigation(d,i,c,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){aC(e),this.config=e.map(_5),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:d,preserveFragment:h}=i,_=r||this.routerState.root,M=h?this.currentUrlTree.fragment:c;let x=null;switch(d){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=s||null}return null!==x&&(x=this.removeEmptyProps(x)),function pM(n,t,e,i,r){if(0===e.length)return K7(t.root,t.root,t,i,r);const s=function Xg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Jg(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return h1(s.outlets,(h,_)=>{d[_]="string"==typeof h?h.split("/"):h}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((d,h)=>{0==h&&"."===d||(0==h&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new Jg(e,t,i)}(e);if(s.toRoot())return K7(t.root,new vt([],{}),t,i,r);const c=function eC(n,t,e){if(n.isAbsolute)return new Q7(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new Q7(s,s===t.root,0)}const i=g5(n.commands[0])?0:1;return function gM(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Q7(i,!1,r-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,t,n),d=c.processChildren?ac(c.segmentGroup,c.index,s.commands):nC(c.segmentGroup,c.index,s.commands);return K7(c.segmentGroup,d,t,i,r)}(_,this.currentUrlTree,e,x,null!=M?M:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=D4(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function ZM(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},$M):!1===i?Object.assign({},WM):i,D4(e))return xt(this.currentUrlTree,e,r);const s=this.parseUrl(e);return xt(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new r5(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,c){var d,h,_;if(this.disposed)return Promise.resolve(!1);const M=this.transitions.value,x=d3(i)&&M&&!d3(M.source),D=M.rawUrl.toString()===e.toString(),N=M.id===(null===(d=this.currentNavigation)||void 0===d?void 0:d.id);if(x&&D&&N)return Promise.resolve(!0);let U,Y,ae;c?(U=c.resolve,Y=c.reject,ae=c.promise):ae=new Promise((Te,tt)=>{U=Te,Y=tt});const ce=++this.navigationId;let ke;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),ke=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):ke=0,this.setTransition({id:ce,targetPageId:ke,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:U,reject:Y,promise:ae,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ae.catch(Te=>Promise.reject(Te))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===c?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===c&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new Dg(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function d3(n){return"imperative"!==n}let Ns=(()=>{class n{constructor(e,i,r,s,c){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=c,this.commands=null,this.onChanges=new Ct.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:w2(this.skipLocationChange),replaceUrl:w2(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:w2(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(nn),o.Y36(xi),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})(),hc=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new Ct.x,this.subscription=e.events.subscribe(s=>{s instanceof r5&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,s,c){if(0!==e||i||r||s||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const d={skipLocationChange:w2(this.skipLocationChange),replaceUrl:w2(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,d),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:w2(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(nn),o.Y36(xi),o.Y36(Fe))},n.\u0275dir=o.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&o.uIk("target",i.target)("href",i.href,o.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})();function w2(n){return""===n||!!n}let L5=(()=>{class n{constructor(e,i,r,s,c,d){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=c,this.linkWithHref=d,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new o.vpe,this.routerEventsSubscription=e.events.subscribe(h=>{h instanceof r5&&this.update()})}ngAfterContentInit(){lt(this.links.changes,this.linksWithHrefs.changes,lt(null)).pipe((0,j3.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,Sn.D)(i).pipe((0,j3.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function iu(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(nn),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(Ns,8),o.Y36(hc,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,Ns,5),o.Suo(r,hc,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.links=s),o.iGM(s=o.CRH())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[o.TTD]}),n})();class pc{}class SC{preload(t,e){return lt(null)}}let LC=(()=>{class n{constructor(e,i,r,s){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=new df(r,i,h=>e.triggerEvent(new Ag(h)),h=>e.triggerEvent(new Ig(h)))}setUpPreloading(){this.subscription=this.router.events.pipe(Dn(e=>e instanceof r5),o3(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(o.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const c=s._loadedConfig;r.push(this.processRoutes(c.module,c.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(e,s)):s.children&&r.push(this.processRoutes(e,s.children));return(0,Sn.D)(r).pipe((0,j3.J)(),(0,je.U)(s=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?lt(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Gi.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(nn),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(pc))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),gc=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof F7?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof r5&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof B7&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new B7(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const k4=new o.OlP("ROUTER_CONFIGURATION"),EC=new o.OlP("ROUTER_FORROOT_GUARD"),TC=[ot,{provide:q7,useClass:$7},{provide:nn,useFactory:function hf(n,t,e,i,r,s,c={},d,h){const _=new nn(null,n,t,e,i,r,Og(s));return d&&(_.urlHandlingStrategy=d),h&&(_.routeReuseStrategy=h),function pf(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(c,_),c.enableTracing&&_.events.subscribe(M=>{var x,D;null===(x=console.group)||void 0===x||x.call(console,`Router Event: ${M.constructor.name}`),console.log(M.toString()),console.log(M),null===(D=console.groupEnd)||void 0===D||D.call(console)}),_},deps:[q7,cc,ot,o.zs3,o.Sil,nu,k4,[class MC{},new o.FiY],[class GM{},new o.FiY]]},cc,{provide:xi,useFactory:function IC(n){return n.routerState.root},deps:[nn]},LC,SC,class YM{preload(t,e){return e().pipe(Is(()=>lt(null)))}},{provide:k4,useValue:{enableTracing:!1}}];function DC(){return new o.PXZ("Router",nn)}let E5=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[TC,JM(e),{provide:EC,useFactory:QM,deps:[[nn,new o.FiY,new o.tp0]]},{provide:k4,useValue:i||{}},{provide:Fe,useFactory:KM,deps:[ue,[new o.tBr(De),new o.FiY],k4]},{provide:gc,useFactory:AC,deps:[nn,hl,k4]},{provide:pc,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:SC},{provide:o.PXZ,multi:!0,useFactory:DC},[T5,{provide:o.ip1,multi:!0,useFactory:gf,deps:[T5]},{provide:NC,useFactory:XM,deps:[T5]},{provide:o.tb,multi:!0,useExisting:NC}]]}}static forChild(e){return{ngModule:n,providers:[JM(e)]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(EC,8),o.LFG(nn,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function AC(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new gc(n,t,e)}function KM(n,t,e={}){return e.useHash?new Re(n,t):new Be(n,t)}function QM(n){return"guarded"}function JM(n){return[{provide:o.deG,multi:!0,useValue:n},{provide:nu,multi:!0,useValue:n}]}let T5=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ct.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(d=>i=d),s=this.injector.get(nn),c=this.injector.get(k4);return"disabled"===c.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?lt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(k4),r=this.injector.get(LC),s=this.injector.get(gc),c=this.injector.get(nn),d=this.injector.get(o.z2F);e===d.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&c.initialNavigation(),r.setUpPreloading(),s.init(),c.resetRootComponentType(d.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function gf(n){return n.appInitializer.bind(n)}function XM(n){return n.bootstrapListener.bind(n)}const NC=new o.OlP("Router Initializer");let x2=(()=>{class n{constructor(){this.itemsChanged=new Ct.x,this.tuotteetChanged=new Ct.x,this.korjauksetChanged=new Ct.x,this.palvelutChanged=new Ct.x,this.remontitChanged=new Ct.x,this.remontit=[],this.korjaukset=[],this.palvelut=[],this.items=[],this.tuotteet=[]}setItems(e){this.items=e,this.itemsChanged.next(this.items.slice())}getItems(){return this.items.slice()}getItem(e){return this.items[e]}addItem(e){this.items.push(e),this.itemsChanged.next(this.items.slice())}updateItem(e,i){this.items[e]=i,this.itemsChanged.next(this.items.slice())}deleteItem(e){this.items.splice(e,1),this.itemsChanged.next(this.items.slice())}getTuotteet(){return this.tuotteet.slice()}getTuote(e){return this.tuotteet[e]}setKorjaukset(e){this.korjaukset=e,this.korjauksetChanged.next(this.korjaukset.slice())}getKorjaukset(){return this.korjaukset.slice()}getKorjaus(e){return this.korjaukset[e]}addKorjaus(e){this.korjaukset.push(e),this.korjauksetChanged.next(this.korjaukset.slice())}updateKorjaus(e,i){this.korjaukset[e]=i,this.korjauksetChanged.next(this.korjaukset.slice())}deleteKorjaus(e){this.korjaukset.splice(e,1),this.korjauksetChanged.next(this.korjaukset.slice())}setPalvelut(e){this.palvelut=e,this.palvelutChanged.next(this.palvelut.slice())}getPalvelut(){return this.palvelut.slice()}getPalvelu(e){return this.palvelut[e]}addPalvelu(e){this.palvelut.push(e),this.palvelutChanged.next(this.palvelut.slice())}updatePalvelu(e,i){this.palvelut[e]=i,this.palvelutChanged.next(this.palvelut.slice())}deletePalvelu(e){this.palvelut.splice(e,1),this.palvelutChanged.next(this.palvelut.slice())}setRemontit(e){this.remontit=e,this.remontitChanged.next(this.remontit.slice())}getRemontit(){return this.remontit.slice()}getRemontti(e){return this.remontit[e]}addRemontti(e){this.remontit.push(e),this.remontitChanged.next(this.remontit.slice())}updateRemontti(e,i){this.remontit[e]=i,this.remontitChanged.next(this.remontit.slice())}deleteRemontti(e){this.remontit.splice(e,1),this.remontitChanged.next(this.remontit.slice())}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),b1=(()=>{class n{constructor(e,i){this.http=e,this.galleryService=i}storeItems(){const e=this.galleryService.getItems();this.http.put("https://eurouuni-ced0b-default-rtdb.europe-west1.firebasedatabase.app/gallery.json",e).subscribe(i=>{console.log(i)})}fetchItems(){return this.http.get("https://eurouuni-ced0b-default-rtdb.europe-west1.firebasedatabase.app/gallery.json").pipe((0,je.U)(e=>e.map(i=>Object.assign(Object.assign({},i),{tuotteet:i.tuotteet?i.tuotteet:[]}))),(0,jt.b)(e=>{this.galleryService.setItems(e)}))}storeKorjaukset(){const e=this.galleryService.getKorjaukset();this.http.put("https://eurouuni-ced0b-default-rtdb.europe-west1.firebasedatabase.app/korjaukset.json",e).subscribe(i=>{console.log(i)})}fetchKorjaukset(){return this.http.get("https://eurouuni-ced0b-default-rtdb.europe-west1.firebasedatabase.app/korjaukset.json").pipe((0,je.U)(e=>e.map(i=>Object.assign({},i))),(0,jt.b)(e=>{this.galleryService.setKorjaukset(e)}))}storePalvelut(){const e=this.galleryService.getPalvelut();this.http.put("https://eurouuni-ced0b-default-rtdb.europe-west1.firebasedatabase.app/palvelut.json",e).subscribe(i=>{console.log(i)})}fetchPalvelut(){return this.http.get("https://eurouuni-ced0b-default-rtdb.europe-west1.firebasedatabase.app/palvelut.json").pipe((0,je.U)(e=>e.map(i=>Object.assign({},i))),(0,jt.b)(e=>{this.galleryService.setPalvelut(e)}))}storeRemontit(){const e=this.galleryService.getRemontit();this.http.put("https://eurouuni-ced0b-default-rtdb.europe-west1.firebasedatabase.app/remontit.json",e).subscribe(i=>{console.log(i)})}fetchRemontit(){return this.http.get("https://eurouuni-ced0b-default-rtdb.europe-west1.firebasedatabase.app/remontit.json").pipe((0,je.U)(e=>e.map(i=>Object.assign({},i))),(0,jt.b)(e=>{this.galleryService.setRemontit(e)}))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(y4),o.LFG(x2))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ru(n,t){const e=(0,C2.m)(n)?n:()=>n,i=r=>r.error(e());return new xn.y(t?r=>t.schedule(i,0,r):i)}class kC{constructor(t,e,i,r){this.email=t,this.id=e,this._token=i,this._tokenExpirationDate=r}get token(){return!this._tokenExpirationDate||new Date>this._tokenExpirationDate?null:this._token}}let ii=(()=>{class n{constructor(e,i){this.http=e,this.router=i,this.user=new Hn(null)}login(e,i){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyC-O0-Lj0tjPToBSQpFqIcgGJaMt8Ia6YA",{email:e,password:i,returnSecureToken:!0}).pipe(Is(this.handleError),(0,jt.b)(r=>{this.handleAuthentication(r.email,r.localId,r.idToken,+r.expiresIn)}))}logout(){this.user.next(null),this.router.navigate([""])}handleAuthentication(e,i,r,s){const c=new Date((new Date).getTime()+1e3*s),d=new kC(e,i,r,c);this.user.next(d)}handleError(e){let i="An unknown error occurred!";if(!e.error||!e.error.error)return ru(i);switch(e.error.error.message){case"EMAIL_NOT_FOUND":i="This email does not exist.";break;case"INVALID_PASSWORD":i="This password is not correct."}return ru(i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(y4),o.LFG(nn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VC=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function tw(){return(0,o.f3M)(J)}}),HC=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let f3,D5=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new o.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function RC(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?HC.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(VC,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();try{f3="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){f3=!1}let H4,su,R4,au,Wr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Dr(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!f3)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function I5(n){return function iw(){if(null==H4&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>H4=!0}))}finally{H4=H4||!1}return H4}()?n:!!n.capture}function ou(){if(null==R4){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return R4=!1,R4;if("scrollBehavior"in document.documentElement.style)R4=!0;else{const n=Element.prototype.scrollTo;R4=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return R4}function mc(){if("object"!=typeof document||!document)return 0;if(null==su){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),su=0,0===n.scrollLeft&&(n.scrollLeft=1,su=0===n.scrollLeft?1:2),n.remove()}return su}function h3(n){return n.composedPath?n.composedPath()[0]:n.target}function _f(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function uu(n,t=Vr.z){return(0,di.e)((e,i)=>{let r=null,s=null,c=null;const d=()=>{if(r){r.unsubscribe(),r=null;const _=s;s=null,i.next(_)}};function h(){const _=c+n,M=t.now();if(M<_)return r=this.schedule(void 0,_-M),void i.add(r);d()}e.subscribe(new tn.Q(i,_=>{s=_,c=t.now(),r||(r=t.schedule(h,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}function qi(n){return null!=n&&"false"!=`${n}`}function Rw(n,t=0){return function sk(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Ow(n){return Array.isArray(n)?n:[n]}function p1(n){return null==n?"":"string"==typeof n?n:`${n}px`}function V5(n){return n instanceof o.SBq?n.nativeElement:n}let nm=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function hk(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function Bw(n){try{return n.frameElement}catch(t){return null}}(function gk(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===rm(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=rm(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Ww(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function pk(n){return!function Gw(n){return function qw(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Uw(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function jw(n){return function $w(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||im(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Wr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function im(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function rm(n){if(!im(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Ck{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,Jt.q)(1)).subscribe(t)}}let mk=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new Ck(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(nm),o.LFG(o.R0b),o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function a(n){return 0===n.offsetX&&0===n.offsetY}function l(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const u=new o.OlP("cdk-input-modality-detector-options"),f={ignoreKeys:[18,17,224,91,16]},m=I5({passive:!0,capture:!0});let y=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Hn(null),this._lastTouchMs=0,this._onKeydown=c=>{var d,h;(null===(h=null===(d=this._options)||void 0===d?void 0:d.ignoreKeys)||void 0===h?void 0:h.some(_=>_===c.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=h3(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(a(c)?"keyboard":"mouse"),this._mostRecentTarget=h3(c))},this._onTouchstart=c=>{l(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=h3(c))},this._options=Object.assign(Object.assign({},f),s),this.modalityDetected=this._modality.pipe(function ps(n){return Dn((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(_2()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,m),r.addEventListener("mousedown",this._onMousedown,m),r.addEventListener("touchstart",this._onTouchstart,m)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,m),document.removeEventListener("mousedown",this._onMousedown,m),document.removeEventListener("touchstart",this._onTouchstart,m))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Wr),o.LFG(o.R0b),o.LFG(J),o.LFG(u,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const j=new o.OlP("cdk-focus-monitor-default-options"),Q=I5({passive:!0,capture:!0});let me=(()=>{class n{constructor(e,i,r,s,c){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ct.x,this._rootNodeFocusAndBlurListener=d=>{const h=h3(d),_="focus"===d.type?this._onFocus:this._onBlur;for(let M=h;M;M=M.parentElement)_.call(this,d,M)},this._document=s,this._detectionMode=(null==c?void 0:c.detectionMode)||0}monitor(e,i=!1){const r=V5(e);if(!this._platform.isBrowser||1!==r.nodeType)return lt(null);const s=function mf(n){if(function lu(){if(null==au){const n="undefined"!=typeof document?document.head:null;au=!(!n||!n.createShadowRoot&&!n.attachShadow)}return au}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const d={checkChildren:i,subject:new Ct.x,rootNode:s};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=V5(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=V5(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,h])=>this._originChanged(d,i,h)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=h3(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Q),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Q)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(At(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Q),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Q),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(Wr),o.LFG(y),o.LFG(J,8),o.LFG(j,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qe="cdk-high-contrast-black-on-white",rt="cdk-high-contrast-white-on-black",we="cdk-high-contrast-active";let bt=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(we),e.remove(qe),e.remove(rt),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(we),e.add(qe)):2===i&&(e.add(we),e.add(rt))}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Wr),o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class An{}const S2="*";function H5(n,t){return{type:7,name:n,definitions:t,options:{}}}function O4(n,t=null){return{type:4,styles:t,timings:n}}function du(n,t=null){return{type:2,steps:n,options:t}}function ks(n){return{type:6,styles:n,offset:null}}function vc(n,t,e){return{type:0,name:n,styles:t,options:e}}function P4(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function vk(n){Promise.resolve(null).then(n)}class fu{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){vk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class yk{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?vk(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function bk(){return"undefined"!=typeof window&&void 0!==window.document}function Yw(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function yc(n){switch(n.length){case 0:return new fu;case 1:return n[0];default:return new yk(n)}}function Mk(n,t,e,i,r={},s={}){const c=[],d=[];let h=-1,_=null;if(i.forEach(M=>{const x=M.offset,D=x==h,N=D&&_||{};Object.keys(M).forEach(H=>{let U=H,Y=M[H];if("offset"!==H)switch(U=t.normalizePropertyName(U,c),Y){case"!":Y=r[H];break;case S2:Y=s[H];break;default:Y=t.normalizeStyleValue(H,U,Y,c)}N[U]=Y}),D||d.push(N),_=N,h=x}),c.length){const M="\n - ";throw new Error(`Unable to animate due to the following errors:${M}${c.join(M)}`)}return d}function Kw(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Qw(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Qw(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Qw(e,"destroy",n)))}}function Qw(n,t,e){const i=e.totalTime,s=Jw(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),c=n._data;return null!=c&&(s._data=c),s}function Jw(n,t,e,i,r="",s=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function Vs(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function wk(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Xw=(n,t)=>!1,xk=(n,t,e)=>[];(Yw()||"undefined"!=typeof Element)&&(Xw=bk()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),xk=(n,t,e)=>{let i=[];if(e){const r=n.querySelectorAll(t);for(let s=0;s<r.length;s++)i.push(r[s])}else{const r=n.querySelector(t);r&&i.push(r)}return i});let R5=null,Sk=!1;function ex(n){R5||(R5=function mX(){return"undefined"!=typeof document?document.body:null}()||{},Sk=!!R5.style&&"WebkitAppearance"in R5.style);let t=!0;return R5.style&&!function CX(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in R5.style,!t&&Sk&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in R5.style)),t}const tx=Xw,nx=xk;function Lk(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let Ek=(()=>{class n{validateStyleProperty(e){return ex(e)}matchesElement(e,i){return!1}containsElement(e,i){return tx(e,i)}query(e,i,r){return nx(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,c,d=[],h){return new fu(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),ix=(()=>{class n{}return n.NOOP=new Ek,n})();const rx="ng-enter",lm="ng-leave",cm="ng-trigger",um=".ng-trigger",Dk="ng-animating",sx=".ng-animating";function O5(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:ox(parseFloat(t[1]),t[2])}function ox(n,t){return"s"===t?1e3*n:n}function dm(n,t,e){return n.hasOwnProperty("duration")?n:function yX(n,t,e){let r,s=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};r=ox(parseFloat(d[1]),d[2]);const h=d[3];null!=h&&(s=ox(parseFloat(h),d[4]));const _=d[5];_&&(c=_)}else r=n;if(!e){let d=!1,h=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),d=!0),s<0&&(t.push("Delay values below 0 are not allowed for this animation step."),d=!0),d&&t.splice(h,0,`The provided timing value "${n}" is invalid.`)}return{duration:r,delay:s,easing:c}}(n,t,e)}function hu(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function bc(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else hu(n,e);return e}function Ik(n,t,e){return e?t+":"+e+";":""}function Nk(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=Ik(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Ik(0,wX(e),n.style[e]));n.setAttribute("style",t)}function p3(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=lx(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),Yw()&&Nk(n))}function P5(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=lx(e);n.style[i]=""}),Yw()&&Nk(n))}function Nf(n){return Array.isArray(n)?1==n.length?n[0]:du(n):n}const ax=new RegExp("{{\\s*(.+?)\\s*}}","g");function kk(n){let t=[];if("string"==typeof n){let e;for(;e=ax.exec(n);)t.push(e[1]);ax.lastIndex=0}return t}function fm(n,t,e){const i=n.toString(),r=i.replace(ax,(s,c)=>{let d=t[c];return t.hasOwnProperty(c)||(e.push(`Please provide a value for the animation param ${c}`),d=""),d.toString()});return r==i?n:r}function hm(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const MX=/-+([a-z0-9])/g;function lx(n){return n.replace(MX,(...t)=>t[1].toUpperCase())}function wX(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Vk(n,t){return 0===n||0===t}function Hk(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let s=t[0],c=[];if(i.forEach(d=>{s.hasOwnProperty(d)||c.push(d),s[d]=e[d]}),c.length)for(var r=1;r<t.length;r++){let d=t[r];c.forEach(function(h){d[h]=cx(n,h)})}}return t}function Hs(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function cx(n,t){return window.getComputedStyle(n)[t]}function xX(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function SX(n,t,e){if(":"==n[0]){const h=function LX(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof h)return void t.push(h);n=h}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const r=i[1],s=i[2],c=i[3];t.push(Rk(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&t.push(Rk(c,r))}(i,e,t)):e.push(n),e}const gm=new Set(["true","1"]),Cm=new Set(["false","0"]);function Rk(n,t){const e=gm.has(n)||Cm.has(n),i=gm.has(t)||Cm.has(t);return(r,s)=>{let c="*"==n||n==r,d="*"==t||t==s;return!c&&e&&"boolean"==typeof r&&(c=r?gm.has(n):Cm.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?gm.has(t):Cm.has(t)),c&&d}}const EX=new RegExp("s*:selfs*,?","g");function ux(n,t,e){return new TX(n).build(t,e)}class TX{constructor(t){this._driver=t}build(t,e){const i=new IX(e);return this._resetContextStyleTimingState(i),Hs(this,Nf(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const h=d,_=h.name;_.toString().split(/\s*,\s*/).forEach(M=>{h.name=M,s.push(this.visitState(h,e))}),h.name=_}else if(1==d.type){const h=this.visitTransition(d,e);i+=h.queryCount,r+=h.depCount,c.push(h)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};if(i.styles.forEach(d=>{if(mm(d)){const h=d;Object.keys(h).forEach(_=>{kk(h[_]).forEach(M=>{c.hasOwnProperty(M)||s.add(M)})})}}),s.size){const d=hm(s.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${d.join(", ")}`)}}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Hs(this,Nf(t.animation),e);return{type:1,matchers:xX(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:z5(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Hs(this,i,e)),options:z5(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(c=>{e.currentTime=i;const d=Hs(this,c,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:3,steps:s,options:z5(t.options)}}visitAnimate(t,e){const i=function kX(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return dx(dm(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=dx(0,0,"");return s.dynamic=!0,s.strValue=i,s}return e=e||dm(i,t),dx(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:ks({});if(5==s.type)r=this.visitKeyframes(s,e);else{let c=t.styles,d=!1;if(!c){d=!0;const _={};i.easing&&(_.easing=i.easing),c=ks(_)}e.currentTime+=i.duration+i.delay;const h=this.visitStyle(c,e);h.isEmptyStep=d,r=h}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(c=>{"string"==typeof c?c==S2?i.push(c):e.errors.push(`The provided style string value ${c} is not allowed.`):i.push(c)}):i.push(t.styles);let r=!1,s=null;return i.forEach(c=>{if(mm(c)){const d=c,h=d.easing;if(h&&(s=h,delete d.easing),!r)for(let _ in d)if(d[_].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(d=>{if(!this._driver.validateStyleProperty(d))return void e.errors.push(`The provided animation property "${d}" is not a supported CSS property for animations`);const h=e.collectedStyles[e.currentQuerySelector],_=h[d];let M=!0;_&&(s!=r&&s>=_.startTime&&r<=_.endTime&&(e.errors.push(`The CSS property "${d}" that exists between the times of "${_.startTime}ms" and "${_.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${r}ms"`),M=!1),s=_.startTime),M&&(h[d]={startTime:s,endTime:r}),e.options&&function bX(n,t,e){const i=t.params||{},r=kk(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(c[d],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let s=0;const c=[];let d=!1,h=!1,_=0;const M=t.steps.map(ae=>{const ce=this._makeStyleAst(ae,e);let ke=null!=ce.offset?ce.offset:function NX(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(mm(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(mm(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(ce.styles),Te=0;return null!=ke&&(s++,Te=ce.offset=ke),h=h||Te<0||Te>1,d=d||Te<_,_=Te,c.push(Te),ce});h&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),d&&e.errors.push("Please ensure that all keyframe offsets are in order");const x=t.steps.length;let D=0;s>0&&s<x?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(D=1/(x-1));const N=x-1,H=e.currentTime,U=e.currentAnimateTimings,Y=U.duration;return M.forEach((ae,ce)=>{const ke=D>0?ce==N?1:D*ce:c[ce],Te=ke*Y;e.currentTime=H+U.delay+Te,U.duration=Te,this._validateStyleAst(ae,e),ae.offset=ke,i.styles.push(ae)}),i}visitReference(t,e){return{type:8,animation:Hs(this,Nf(t.animation),e),options:z5(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:z5(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:z5(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,c]=function DX(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(EX,"")),n=n.replace(/@\*/g,um).replace(/@\w+/g,e=>um+"-"+e.substr(1)).replace(/:animating/g,sx),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Vs(e.collectedStyles,e.currentQuerySelector,{});const d=Hs(this,Nf(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:t.selector,options:z5(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:dm(t.timings,e.errors,!0);return{type:12,animation:Hs(this,Nf(t.animation),e),timings:i,options:null}}}class IX{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function mm(n){return!Array.isArray(n)&&"object"==typeof n}function z5(n){return n?(n=hu(n)).params&&(n.params=function AX(n){return n?hu(n):null}(n.params)):n={},n}function dx(n,t,e){return{duration:n,delay:t,easing:e}}function fx(n,t,e,i,r,s,c=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:d}}class _m{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const RX=new RegExp(":enter","g"),PX=new RegExp(":leave","g");function hx(n,t,e,i,r,s={},c={},d,h,_=[]){return(new zX).buildKeyframes(n,t,e,i,r,s,c,d,h,_)}class zX{buildKeyframes(t,e,i,r,s,c,d,h,_,M=[]){_=_||new _m;const x=new px(t,e,_,r,s,M,[]);x.options=h,x.currentTimeline.setStyles([c],null,x.errors,h),Hs(this,i,x);const D=x.timelines.filter(N=>N.containsAnimation());if(D.length&&Object.keys(d).length){const N=D[D.length-1];N.allowOnlyTimelineStyles()||N.setStyles([d],null,x.errors,h)}return D.length?D.map(N=>N.buildKeyframes()):[fx(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const c=null!=i.duration?O5(i.duration):null,d=null!=i.delay?O5(i.delay):null;return 0!==c&&t.forEach(h=>{const _=e.appendInstructionToTimeline(h,c,d);s=Math.max(s,_.duration+_.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Hs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=vm);const c=O5(s.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>Hs(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?O5(t.options.delay):0;t.steps.forEach(c=>{const d=e.createSubContext(t.options);s&&d.delayNextStep(s),Hs(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return dm(e.params?fm(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(h=>{d.forwardTime((h.offset||0)*s),d.setStyles(h.styles,h.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?O5(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=vm);let c=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let h=null;d.forEach((_,M)=>{e.currentQueryIndex=M;const x=e.createSubContext(t.options,_);s&&x.delayNextStep(s),_===e.element&&(h=x.currentTimeline),Hs(this,t.animation,x),x.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,x.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),h&&(e.currentTimeline.mergeTimelineCollectedStyles(h),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,c=Math.abs(s.duration),d=c*(e.currentQueryTotal-1);let h=c*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":h=d-h;break;case"full":h=i.currentStaggerTime}const M=e.currentTimeline;h&&M.delayNextStep(h);const x=M.currentTime;Hs(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-x+(r.startTime-i.currentTimeline.startTime)}}const vm={};class px{constructor(t,e,i,r,s,c,d,h){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new ym(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=O5(i.duration)),null!=i.delay&&(r.delay=O5(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(d=>{(!e||!c.hasOwnProperty(d))&&(c[d]=fm(s[d],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new px(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=vm,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},s=new FX(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,c){let d=[];if(r&&d.push(this.element),t.length>0){t=(t=t.replace(RX,"."+this._enterClassName)).replace(PX,"."+this._leaveClassName);let _=this._driver.query(this.element,t,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),d.push(..._)}return!s&&0==d.length&&c.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),d}}class ym{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ym(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||S2,this._currentKeyframe[e]=S2}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const s=r&&r.params||{},c=function BX(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(s=>{e[s]=S2})):bc(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(c).forEach(d=>{const h=fm(c[d],s,i);this._pendingStyles[d]=h,this._localTimelineStyles.hasOwnProperty(d)||(this._backFill[d]=this._globalTimelineStyles.hasOwnProperty(d)?this._globalTimelineStyles[d]:S2),this._updateStyle(d,h)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,h)=>{const _=bc(d,!0);Object.keys(_).forEach(M=>{const x=_[M];"!"==x?t.add(M):x==S2&&e.add(M)}),i||(_.offset=h/this.duration),r.push(_)});const s=t.size?hm(t.values()):[],c=e.size?hm(e.values()):[];if(i){const d=r[0],h=hu(d);d.offset=0,h.offset=1,r=[d,h]}return fx(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class FX extends ym{constructor(t,e,i,r,s,c,d=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],c=i+e,d=e/c,h=bc(t[0],!1);h.offset=0,s.push(h);const _=bc(t[0],!1);_.offset=zk(d),s.push(_);const M=t.length-1;for(let x=1;x<=M;x++){let D=bc(t[x],!1);D.offset=zk((e+D.offset*i)/c),s.push(D)}i=c,e=0,r="",t=s}return fx(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function zk(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class gx{}class UX extends gx{normalizePropertyName(t,e){return lx(t)}normalizeStyleValue(t,e,i,r){let s="";const c=i.toString().trim();if(GX[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(`Please provide a CSS unit value for ${t}:${i}`)}return c+s}}const GX=(()=>function jX(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Fk(n,t,e,i,r,s,c,d,h,_,M,x,D){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:c,timelines:d,queriedElements:h,preStyleProps:_,postStyleProps:M,totalTime:x,errors:D}}const Cx={};class Bk{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function qX(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],s=this._stateStyles[t],c=r?r.buildStyles(e,i):{};return s?s.buildStyles(e,i):c}build(t,e,i,r,s,c,d,h,_,M){const x=[],D=this.ast.options&&this.ast.options.params||Cx,H=this.buildStyles(i,d&&d.params||Cx,x),U=h&&h.params||Cx,Y=this.buildStyles(r,U,x),ae=new Set,ce=new Map,ke=new Map,Te="void"===r,tt={params:Object.assign(Object.assign({},D),U)},st=M?[]:hx(t,e,this.ast.animation,s,c,H,Y,tt,_,x);let un=0;if(st.forEach(ei=>{un=Math.max(ei.duration+ei.delay,un)}),x.length)return Fk(e,this._triggerName,i,r,Te,H,Y,[],[],ce,ke,un,x);st.forEach(ei=>{const $n=ei.element,mi=Vs(ce,$n,{});ei.preStyleProps.forEach(R0=>mi[R0]=!0);const xo=Vs(ke,$n,{});ei.postStyleProps.forEach(R0=>xo[R0]=!0),$n!==e&&ae.add($n)});const Kt=hm(ae.values());return Fk(e,this._triggerName,i,r,Te,H,Y,st,Kt,ce,ke,un)}}class $X{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=hu(this.defaultParams);return Object.keys(t).forEach(s=>{const c=t[s];null!=c&&(r[s]=c)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const c=s;Object.keys(c).forEach(d=>{let h=c[d];h.length>1&&(h=fm(h,r,e));const _=this.normalizer.normalizePropertyName(d,e);h=this.normalizer.normalizeStyleValue(d,_,h,e),i[_]=h})}}),i}}class ZX{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new $X(r.style,r.options&&r.options.params||{},i)}),Uk(this.states,"true","1"),Uk(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Bk(t,r,this.states))}),this.fallbackTransition=function YX(n,t,e){return new Bk(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function Uk(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const KX=new _m;class QX{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],r=ux(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,i){const r=t.element,s=Mk(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations[t];let c;const d=new Map;if(s?(c=hx(this._driver,e,s,rx,lm,{},{},i,KX,r),c.forEach(M=>{const x=Vs(d,M.element,{});M.postStyleProps.forEach(D=>x[D]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),c=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);d.forEach((M,x)=>{Object.keys(M).forEach(D=>{M[D]=this._driver.computeStyle(x,D,S2)})});const _=yc(c.map(M=>{const x=d.get(M.element);return this._buildPlayer(M,{},x)}));return this._playersById[t]=_,_.onDestroy(()=>this.destroy(t)),this.players.push(_),_}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,r){const s=Jw(e,"","","");return Kw(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Gk="ng-animate-queued",mx="ng-animate-disabled",nee=[],jk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},iee={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},po="__ng_removed";class _x{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function aee(n){return null!=n?n:null}(i?t.value:t),i){const s=hu(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const kf="void",vx=new _x(kf);class ree{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,go(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function lee(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const s=Vs(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};s.push(c);const d=Vs(this._engine.statesByElement,t,{});return d.hasOwnProperty(e)||(go(t,cm),go(t,cm+"-"+e),d[e]=vx),()=>{this._engine.afterFlush(()=>{const h=s.indexOf(c);h>=0&&s.splice(h,1),this._triggers[e]||delete d[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),c=new yx(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(go(t,cm),go(t,cm+"-"+e),this._engine.statesByElement.set(t,d={}));let h=d[e];const _=new _x(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&h&&_.absorbOptions(h.options),d[e]=_,h||(h=vx),_.value!==kf&&h.value===_.value){if(!function dee(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(h.params,_.params)){const U=[],Y=s.matchStyles(h.value,h.params,U),ae=s.matchStyles(_.value,_.params,U);U.length?this._engine.reportError(U):this._engine.afterFlush(()=>{P5(t,Y),p3(t,ae)})}return}const D=Vs(this._engine.playersByElement,t,[]);D.forEach(U=>{U.namespaceId==this.id&&U.triggerName==e&&U.queued&&U.destroy()});let N=s.matchTransition(h.value,_.value,t,_.params),H=!1;if(!N){if(!r)return;N=s.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:N,fromState:h,toState:_,player:c,isFallbackTransition:H}),H||(go(t,Gk),c.onStart(()=>{pu(t,Gk)})),c.onDone(()=>{let U=this.players.indexOf(c);U>=0&&this.players.splice(U,1);const Y=this._engine.playersByElement.get(t);if(Y){let ae=Y.indexOf(c);ae>=0&&Y.splice(ae,1)}}),this.players.push(c),D.push(c),c}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,um,!0);i.forEach(r=>{if(r[po])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t);if(s){const c=[];if(Object.keys(s).forEach(d=>{if(this._triggers[d]){const h=this.trigger(t,d,kf,r);h&&c.push(h)}}),c.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&yc(c).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const h=this._triggers[c].fallbackTransition,_=i[c]||vx,M=new _x(kf),x=new yx(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:h,fromState:_,toState:M,player:x,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[po];(!s||s===jk)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){go(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(d=>{if(d.name==i.triggerName){const h=Jw(s,i.triggerName,i.fromState.value,i.toState.value);h._data=t,Kw(i.player,d.phase,h,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class see{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new ree(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let s=i;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,e)){this._namespaceList.splice(s+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const c=i[r[s]].namespaceId;if(c){const d=this._fetchNamespace(c);d&&e.add(d)}}}return e}trigger(t,e,i,r){if(bm(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!bm(e))return;const s=e[po];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),go(t,mx)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),pu(t,mx))}removeNode(t,e,i,r){if(bm(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r){this.collectedLeaveElements.push(e),e[po]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,r,s){return bm(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,um,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,sx,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return yc(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[po];if(i&&i.setForRemoval){if(t[po]=jk,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(mx))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)go(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?yc(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new _m,r=[],s=new Map,c=[],d=new Map,h=new Map,_=new Map,M=new Set;this.disabledNodes.forEach(gt=>{M.add(gt);const Et=this.driver.query(gt,".ng-animate-queued",!0);for(let $t=0;$t<Et.length;$t++)M.add(Et[$t])});const x=this.bodyNode,D=Array.from(this.statesByElement.keys()),N=Wk(D,this.collectedEnterElements),H=new Map;let U=0;N.forEach((gt,Et)=>{const $t=rx+U++;H.set(Et,$t),gt.forEach(In=>go(In,$t))});const Y=[],ae=new Set,ce=new Set;for(let gt=0;gt<this.collectedLeaveElements.length;gt++){const Et=this.collectedLeaveElements[gt],$t=Et[po];$t&&$t.setForRemoval&&(Y.push(Et),ae.add(Et),$t.hasAnimation?this.driver.query(Et,".ng-star-inserted",!0).forEach(In=>ae.add(In)):ce.add(Et))}const ke=new Map,Te=Wk(D,Array.from(ae));Te.forEach((gt,Et)=>{const $t=lm+U++;ke.set(Et,$t),gt.forEach(In=>go(In,$t))}),t.push(()=>{N.forEach((gt,Et)=>{const $t=H.get(Et);gt.forEach(In=>pu(In,$t))}),Te.forEach((gt,Et)=>{const $t=ke.get(Et);gt.forEach(In=>pu(In,$t))}),Y.forEach(gt=>{this.processLeaveNode(gt)})});const tt=[],st=[];for(let gt=this._namespaceList.length-1;gt>=0;gt--)this._namespaceList[gt].drainQueuedTransitions(e).forEach($t=>{const In=$t.player,a2=$t.element;if(tt.push(In),this.collectedEnterElements.length){const So=a2[po];if(So&&So.setForMove)return void In.destroy()}const E3=!x||!this.driver.containsElement(x,a2),Us=ke.get(a2),Jc=H.get(a2),Zi=this._buildInstruction($t,i,Jc,Us,E3);if(Zi.errors&&Zi.errors.length)return void st.push(Zi);if(E3)return In.onStart(()=>P5(a2,Zi.fromStyles)),In.onDestroy(()=>p3(a2,Zi.toStyles)),void r.push(In);if($t.isFallbackTransition)return In.onStart(()=>P5(a2,Zi.fromStyles)),In.onDestroy(()=>p3(a2,Zi.toStyles)),void r.push(In);const MJ=[];Zi.timelines.forEach(So=>{So.stretchStartingKeyframe=!0,this.disabledNodes.has(So.element)||MJ.push(So)}),Zi.timelines=MJ,i.append(a2,Zi.timelines),c.push({instruction:Zi,player:In,element:a2}),Zi.queriedElements.forEach(So=>Vs(d,So,[]).push(In)),Zi.preStyleProps.forEach((So,z9)=>{const wy=Object.keys(So);if(wy.length){let O0=h.get(z9);O0||h.set(z9,O0=new Set),wy.forEach(oI=>O0.add(oI))}}),Zi.postStyleProps.forEach((So,z9)=>{const wy=Object.keys(So);let O0=_.get(z9);O0||_.set(z9,O0=new Set),wy.forEach(oI=>O0.add(oI))})});if(st.length){const gt=[];st.forEach(Et=>{gt.push(`@${Et.triggerName} has failed due to:\n`),Et.errors.forEach($t=>gt.push(`- ${$t}\n`))}),tt.forEach(Et=>Et.destroy()),this.reportError(gt)}const un=new Map,Kt=new Map;c.forEach(gt=>{const Et=gt.element;i.has(Et)&&(Kt.set(Et,Et),this._beforeAnimationBuild(gt.player.namespaceId,gt.instruction,un))}),r.forEach(gt=>{const Et=gt.element;this._getPreviousPlayers(Et,!1,gt.namespaceId,gt.triggerName,null).forEach(In=>{Vs(un,Et,[]).push(In),In.destroy()})});const ei=Y.filter(gt=>Yk(gt,h,_)),$n=new Map;$k($n,this.driver,ce,_,S2).forEach(gt=>{Yk(gt,h,_)&&ei.push(gt)});const xo=new Map;N.forEach((gt,Et)=>{$k(xo,this.driver,new Set(gt),h,"!")}),ei.forEach(gt=>{const Et=$n.get(gt),$t=xo.get(gt);$n.set(gt,Object.assign(Object.assign({},Et),$t))});const R0=[],yJ=[],bJ={};c.forEach(gt=>{const{element:Et,player:$t,instruction:In}=gt;if(i.has(Et)){if(M.has(Et))return $t.onDestroy(()=>p3(Et,In.toStyles)),$t.disabled=!0,$t.overrideTotalTime(In.totalTime),void r.push($t);let a2=bJ;if(Kt.size>1){let Us=Et;const Jc=[];for(;Us=Us.parentNode;){const Zi=Kt.get(Us);if(Zi){a2=Zi;break}Jc.push(Us)}Jc.forEach(Zi=>Kt.set(Zi,a2))}const E3=this._buildAnimation($t.namespaceId,In,un,s,xo,$n);if($t.setRealPlayer(E3),a2===bJ)R0.push($t);else{const Us=this.playersByElement.get(a2);Us&&Us.length&&($t.parentPlayer=yc(Us)),r.push($t)}}else P5(Et,In.fromStyles),$t.onDestroy(()=>p3(Et,In.toStyles)),yJ.push($t),M.has(Et)&&r.push($t)}),yJ.forEach(gt=>{const Et=s.get(gt.element);if(Et&&Et.length){const $t=yc(Et);gt.setRealPlayer($t)}}),r.forEach(gt=>{gt.parentPlayer?gt.syncPlayerEvents(gt.parentPlayer):gt.destroy()});for(let gt=0;gt<Y.length;gt++){const Et=Y[gt],$t=Et[po];if(pu(Et,lm),$t&&$t.hasAnimation)continue;let In=[];if(d.size){let E3=d.get(Et);E3&&E3.length&&In.push(...E3);let Us=this.driver.query(Et,sx,!0);for(let Jc=0;Jc<Us.length;Jc++){let Zi=d.get(Us[Jc]);Zi&&Zi.length&&In.push(...Zi)}}const a2=In.filter(E3=>!E3.destroyed);a2.length?cee(this,Et,a2):this.processLeaveNode(Et)}return Y.length=0,R0.forEach(gt=>{this.players.push(gt),gt.onDone(()=>{gt.destroy();const Et=this.players.indexOf(gt);this.players.splice(Et,1)}),gt.play()}),R0}elementContainsData(t,e){let i=!1;const r=e[po];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let c=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(c=d)}else{const d=this.playersByElement.get(t);if(d){const h=!s||s==kf;d.forEach(_=>{_.queued||!h&&_.triggerName!=r||c.push(_)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(t,e,i){const s=e.element,c=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const h of e.timelines){const _=h.element,M=_!==s,x=Vs(i,_,[]);this._getPreviousPlayers(_,M,c,d,e.toState).forEach(N=>{const H=N.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),N.destroy(),x.push(N)})}P5(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,c){const d=e.triggerName,h=e.element,_=[],M=new Set,x=new Set,D=e.timelines.map(H=>{const U=H.element;M.add(U);const Y=U[po];if(Y&&Y.removedBeforeQueried)return new fu(H.duration,H.delay);const ae=U!==h,ce=function uee(n){const t=[];return Zk(n,t),t}((i.get(U)||nee).map(un=>un.getRealPlayer())).filter(un=>!!un.element&&un.element===U),ke=s.get(U),Te=c.get(U),tt=Mk(0,this._normalizer,0,H.keyframes,ke,Te),st=this._buildPlayer(H,tt,ce);if(H.subTimeline&&r&&x.add(U),ae){const un=new yx(t,d,U);un.setRealPlayer(st),_.push(un)}return st});_.forEach(H=>{Vs(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function oee(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,H.element,H))}),M.forEach(H=>go(H,Dk));const N=yc(D);return N.onDestroy(()=>{M.forEach(H=>pu(H,Dk)),p3(h,e.toStyles)}),x.forEach(H=>{Vs(r,H,[]).push(N)}),N}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new fu(t.duration,t.delay)}}class yx{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new fu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>Kw(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Vs(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function bm(n){return n&&1===n.nodeType}function qk(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function $k(n,t,e,i,r){const s=[];e.forEach(h=>s.push(qk(h)));const c=[];i.forEach((h,_)=>{const M={};h.forEach(x=>{const D=M[x]=t.computeStyle(_,x,r);(!D||0==D.length)&&(_[po]=iee,c.push(_))}),n.set(_,M)});let d=0;return e.forEach(h=>qk(h,s[d++])),c}function Wk(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const r=new Set(t),s=new Map;function c(d){if(!d)return 1;let h=s.get(d);if(h)return h;const _=d.parentNode;return h=e.has(_)?_:r.has(_)?1:c(_),s.set(d,h),h}return t.forEach(d=>{const h=c(d);1!==h&&e.get(h).push(d)}),e}function go(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function pu(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function cee(n,t,e){yc(e).onDone(()=>n.processLeaveNode(t))}function Zk(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof yk?Zk(i.players,t):t.push(i)}}function Yk(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class Mm{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new see(t,e,i),this._timelineEngine=new QX(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const c=t+"-"+r;let d=this._triggerCache[c];if(!d){const h=[],_=ux(this._driver,s,h);if(h.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${h.join("\n - ")}`);d=function WX(n,t,e){return new ZX(n,t,e)}(r,_,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,c]=wk(i);this._timelineEngine.command(s,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[c,d]=wk(i);return this._timelineEngine.listen(c,e,d,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Kk(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=bx(t[0]),t.length>1&&(i=bx(t[t.length-1]))):t&&(e=bx(t)),e||i?new fee(n,e,i):null}let fee=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&p3(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(p3(this._element,this._initialStyles),this._endStyles&&(p3(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(P5(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(P5(this._element,this._endStyles),this._endStyles=null),p3(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function bx(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];hee(r)&&(t=t||{},t[r]=n[r])}return t}function hee(n){return"display"===n||"position"===n}const Qk="animation",Jk="animationend";class Cee{constructor(t,e,i,r,s,c,d){this._element=t,this._name=e,this._duration=i,this._delay=r,this._easing=s,this._fillMode=c,this._onDoneFn=d,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=h=>this._handleCallback(h)}apply(){(function mee(n,t){const e=wx(n,"").trim();let i=0;e.length&&(i=function vee(n,t){let e=0;for(let i=0;i<n.length;i++)n.charAt(i)===t&&e++;return e}(e,",")+1,t=`${e}, ${t}`),wm(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),tV(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Xk(this._element,this._name,"paused")}resume(){Xk(this._element,this._name,"running")}setPosition(t){const e=eV(this._element,this._name);this._position=t*this._duration,wm(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),tV(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function _ee(n,t){const i=wx(n,"").split(","),r=Mx(i,t);r>=0&&(i.splice(r,1),wm(n,"",i.join(",")))}(this._element,this._name))}}function Xk(n,t,e){wm(n,"PlayState",e,eV(n,t))}function eV(n,t){const e=wx(n,"");return e.indexOf(",")>0?Mx(e.split(","),t):Mx([e],t)}function Mx(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function tV(n,t,e){e?n.removeEventListener(Jk,t):n.addEventListener(Jk,t)}function wm(n,t,e,i){const r=Qk+t;if(null!=i){const s=n.style[r];if(s.length){const c=s.split(",");c[i]=e,e=c.join(",")}}n.style[r]=e}function wx(n,t){return n.style[Qk+t]||""}class nV{constructor(t,e,i,r,s,c,d,h){this.element=t,this.keyframes=e,this.animationName=i,this._duration=r,this._delay=s,this._finalStyles=d,this._specialStyles=h,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=c||"linear",this.totalTime=r+s,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Cee(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:cx(this.element,i))})}this.currentSnapshot=t}}class Mee extends fu{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Lk(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class rV{constructor(){this._count=0}validateStyleProperty(t){return ex(t)}matchesElement(t,e){return!1}containsElement(t,e){return tx(t,e)}query(t,e,i){return nx(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(d=>Lk(d));let r=`@keyframes ${e} {\n`,s="";i.forEach(d=>{s=" ";const h=parseFloat(d.offset);r+=`${s}${100*h}% {\n`,s+=" ",Object.keys(d).forEach(_=>{const M=d[_];switch(_){case"offset":return;case"easing":return void(M&&(r+=`${s}animation-timing-function: ${M};\n`));default:return void(r+=`${s}${_}: ${M};\n`)}}),r+=`${s}}\n`}),r+="}\n";const c=document.createElement("style");return c.textContent=r,c}animate(t,e,i,r,s,c=[],d){const h=c.filter(Y=>Y instanceof nV),_={};Vk(i,r)&&h.forEach(Y=>{let ae=Y.currentSnapshot;Object.keys(ae).forEach(ce=>_[ce]=ae[ce])});const M=function See(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(r=>{"offset"==r||"easing"==r||(t[r]=i[r])})}),t}(e=Hk(t,e,_));if(0==i)return new Mee(t,M);const x="gen_css_kf_"+this._count++,D=this.buildKeyframeElement(t,x,e);(function xee(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(D);const H=Kk(t,e),U=new nV(t,e,x,i,r,s,M,H);return U.onDestroy(()=>function Lee(n){n.parentNode.removeChild(n)}(D)),U}}class oV{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:cx(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Eee{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(aV().toString()),this._cssKeyframesDriver=new rV}validateStyleProperty(t){return ex(t)}matchesElement(t,e){return!1}containsElement(t,e){return tx(t,e)}query(t,e,i){return nx(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,r,s,c=[],d){if(!d&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,r,s,c);const M={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(M.easing=s);const x={},D=c.filter(H=>H instanceof oV);Vk(i,r)&&D.forEach(H=>{let U=H.currentSnapshot;Object.keys(U).forEach(Y=>x[Y]=U[Y])});const N=Kk(t,e=Hk(t,e=e.map(H=>bc(H,!1)),x));return new oV(t,e,M,N)}}function aV(){return bk()&&Element.prototype.animate||{}}let Dee=(()=>{class n extends An{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?du(e):e;return lV(this._renderer,null,i,"register",[r]),new Aee(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Aee extends class dr{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Iee(this._id,t,e||{},this._renderer)}}class Iee{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return lV(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function lV(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const cV="@.disabled";let Nee=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const d=null==c?void 0:c.parentNode(s);d&&c.removeChild(d,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let M=this._rendererCache.get(s);return M||(M=new uV("",s,this.engine),this._rendererCache.set(s,M)),M}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const h=M=>{Array.isArray(M)?M.forEach(h):this.engine.registerTrigger(c,d,e,M.name,M)};return i.data.animation.forEach(h),new kee(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,d]=s;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(Mm),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class uV{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==cV?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class kee extends uV{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==cV?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Vee(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),c="";return"@"!=s.charAt(0)&&([s,c]=function Hee(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let Ree=(()=>{class n extends Mm{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(J),o.LFG(ix),o.LFG(gx))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const F5=new o.OlP("AnimationModuleType"),dV=[{provide:An,useClass:Dee},{provide:gx,useFactory:function Pee(){return new UX}},{provide:Mm,useClass:Ree},{provide:o.FYo,useFactory:function zee(n,t,e){return new Nee(n,t,e)},deps:[p2,Mm,o.R0b]}],fV=[{provide:ix,useFactory:function Oee(){return function Tee(){return"function"==typeof aV()}()?new Eee:new rV}},{provide:F5,useValue:"BrowserAnimations"},...dV],Fee=[{provide:ix,useClass:Ek},{provide:F5,useValue:"NoopAnimations"},...dV];let Bee=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Fee:fV}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:fV,imports:[ir]}),n})();const Gee=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function Uee(){return!0}});let z1=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!_f()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(bt),o.LFG(Gee,8),o.LFG(J))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[V4],V4]}),n})();function pV(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=qi(t)}}}function xx(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Vf(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=qi(t)}}}let gV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Hf(n,t,e){n.nativeElement.classList.toggle(t,e)}let mV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[z1],z1]}),n})();class qee{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const _V={enterDuration:225,exitDuration:150},Sx=I5({passive:!0}),vV=["mousedown","touchstart"],yV=["mouseup","mouseleave","touchend","touchcancel"];class Wee{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=V5(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},_V),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const c=i.radius||function Yee(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),d=t-r.left,h=e-r.top,_=s.enterDuration,M=document.createElement("div");M.classList.add("mat-ripple-element"),M.style.left=d-c+"px",M.style.top=h-c+"px",M.style.height=2*c+"px",M.style.width=2*c+"px",null!=i.color&&(M.style.backgroundColor=i.color),M.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(M),function Zee(n){window.getComputedStyle(n).getPropertyValue("opacity")}(M),M.style.transform="scale(1)";const x=new qee(this,M,i);return x.state=0,this._activeRipples.add(x),i.persistent||(this._mostRecentTransientRipple=x),this._runTimeoutOutsideZone(()=>{const D=x===this._mostRecentTransientRipple;x.state=1,!i.persistent&&(!D||!this._isPointerDown)&&x.fadeOut()},_),x}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},_V),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=V5(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(vV))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(yV),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=a(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!l(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Sx)})})}_removeTriggerEvents(){this._triggerElement&&(vV.forEach(t=>{this._triggerElement.removeEventListener(t,this,Sx)}),this._pointerUpEventsRegistered&&yV.forEach(t=>{this._triggerElement.removeEventListener(t,this,Sx)}))}}const Kee=new o.OlP("mat-ripple-global-options");let Rf=(()=>{class n{constructor(e,i,r,s,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Wee(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(Wr),o.Y36(Kee,8),o.Y36(F5,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Lx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[z1,Cf],z1]}),n})(),bV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[z1]]}),n})();const Jee=["*",[["mat-toolbar-row"]]],Xee=["*","mat-toolbar-row"],ete=xx(class{constructor(n){this._elementRef=n}});let MV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),tte=(()=>{class n extends ete{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Wr),o.Y36(J))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,MV,5),2&e){let s;o.iGM(s=o.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[o.qOj],ngContentSelectors:Xee,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t(Jee),o.Hsn(0),o.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),wV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[z1],z1]}),n})();const xV=["mat-button",""],SV=["*"],rte=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],ste=xx(pV(Vf(class{constructor(n){this._elementRef=n}})));let LV=(()=>{class n extends ste{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of rte)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(me),o.Y36(F5,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&o.Gf(Rf,5),2&e){let r;o.iGM(r=o.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:xV,ngContentSelectors:SV,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1),o._UZ(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Rf],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),ote=(()=>{class n extends LV{constructor(e,i,r){super(i,e,r)}_haltDisabledEvents(e){this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(me),o.Y36(o.SBq),o.Y36(F5,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._haltDisabledEvents(s)}),2&e&&(o.uIk("tabindex",i.disabled?-1:i.tabIndex||0)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString()),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[o.qOj],attrs:xV,ngContentSelectors:SV,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1),o._UZ(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Rf],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),ate=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Lx,z1],z1]}),n})();var B5=O(6451);function EV(n){for(let t in n){let e=n[t]||"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":e=e||"row",n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}const Ex="inline",Sm=["row","column","row-reverse","column-reverse"];function TV(n){let[t,e,i]=function DV(n){n=n?n.toLowerCase():"";let[t,e,i]=n.split(" ");return Sm.find(r=>r===t)||(t=Sm[0]),e===Ex&&(e=i!==Ex?i:"",i=Ex),[t,lte(e),!!i]}(n);return function cte(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,i)}function lte(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}const dte={provide:o.tb,useFactory:function ute(n,t){return()=>{if(Dr(t)){const e=Array.from(n.querySelectorAll(`[class*=${AV}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${AV}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[J,o.Lbi],multi:!0},AV="flex-layout-";let Tx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[dte]}),n})();class U5{constructor(t=!1,e="all",i="",r="",s=0){this.matches=t,this.mediaQuery=e,this.mqAlias=i,this.suffix=r,this.priority=s,this.property=""}clone(){return new U5(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let fte=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,r){const s=this.stylesheet.get(e);s?s.set(i,r):this.stylesheet.set(e,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const r=this.stylesheet.get(e);let s="";if(r){const c=r.get(i);("number"==typeof c||"string"==typeof c)&&(s=c+"")}return s}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dx={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},Mc=new o.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Dx}),gu=new o.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),Ax=new o.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function IV(n,t){return n=n?n.clone():new U5,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class o1{constructor(){this.shouldCache=!0}sideEffect(t,e,i){}}let Si=(()=>{class n{constructor(e,i,r,s){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=s}applyStyleToElement(e,i,r=null){let s={};"string"==typeof i&&(s[i]=r,i=s),s=this.layoutConfig.disableVendorPrefixes?i:EV(i),this._applyMultiValueStyleToElement(s,e)}applyStyleToElements(e,i=[]){const r=this.layoutConfig.disableVendorPrefixes?e:EV(e);i.forEach(s=>{this._applyMultiValueStyleToElement(r,s)})}getFlowDirection(e){const i="flex-direction";let r=this.lookupStyle(e,i);return[r||"row",this.lookupInlineStyle(e,i)||Yn(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){return e.getAttribute(i)||""}lookupInlineStyle(e,i){return Dr(this._platformId)?e.style.getPropertyValue(i):this._getServerStyle(e,i)}lookupStyle(e,i,r=!1){let s="";return e&&((s=this.lookupInlineStyle(e,i))||(Dr(this._platformId)?r||(s=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(e,i)))),s?s.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(r=>{const s=e[r],c=Array.isArray(s)?s:[s];c.sort();for(let d of c)d=d?d+"":"",Dr(this._platformId)||!this._serverModuleLoaded?Dr(this._platformId)?i.style.setProperty(r,d):this._setServerStyle(i,r,d):this._serverStylesheet.addStyleToElement(i,r,d)})}_setServerStyle(e,i,r){i=i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const s=this._readStyleAttribute(e);s[i]=r||"",this._writeStyleAttribute(e,s)}_getServerStyle(e,i){return this._readStyleAttribute(e)[i]||""}_readStyleAttribute(e){const i={},r=e.getAttribute("style");if(r){const s=r.split(/;+/g);for(let c=0;c<s.length;c++){const d=s[c].trim();if(d.length>0){const h=d.indexOf(":");if(-1===h)throw new Error(`Invalid CSS style: ${d}`);i[d.substr(0,h).trim()]=d.substr(h+1).trim()}}}return i}_writeStyleAttribute(e,i){let r="";for(const s in i)i[s]&&(r+=s+":"+i[s]+";");e.setAttribute("style",r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fte),o.LFG(gu),o.LFG(o.Lbi),o.LFG(Mc))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Pf(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function hte(n,t){return(n.priority||0)-(t.priority||0)}let Ix=(()=>{class n{constructor(e,i,r){this._zone=e,this._platformId=i,this._document=r,this.source=new Hn(new U5(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,r)=>{i.matches&&e.push(r)}),e}isActive(e){const i=this.registry.get(e);return i?i.matches:this.registerQuery(e).some(r=>r.matches)}observe(e,i=!1){if(e&&e.length){const r=this._observable$.pipe(Dn(c=>!i||e.indexOf(c.mediaQuery)>-1)),s=new xn.y(c=>{const d=this.registerQuery(e);if(d.length){const h=d.pop();d.forEach(_=>{c.next(_)}),this.source.next(h)}c.complete()});return(0,B5.T)(s,r)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],r=[];return function pte(n,t){const e=n.filter(i=>!NV[i]);if(e.length>0){const i=e.join(", ");try{const r=t.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),t.head.appendChild(r),e.forEach(s=>NV[s]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(s=>{const c=h=>{this._zone.run(()=>this.source.next(new U5(h.matches,s)))};let d=this.registry.get(s);d||(d=this.buildMQL(s),d.addListener(c),this.pendingRemoveListenerFns.push(()=>d.removeListener(c)),this.registry.set(s,d)),d.matches&&r.push(new U5(!0,s))}),r}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function gte(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(e,Dr(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(o.Lbi),o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NV={},Cte=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],kV="(orientation: portrait) and (max-width: 599.98px)",VV="(orientation: landscape) and (max-width: 959.98px)",HV="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",RV="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",OV="(orientation: portrait) and (min-width: 840px)",PV="(orientation: landscape) and (min-width: 1280px)",F4={HANDSET:`${kV}, ${VV}`,TABLET:`${HV} , ${RV}`,WEB:`${OV}, ${PV} `,HANDSET_PORTRAIT:`${kV}`,TABLET_PORTRAIT:`${HV} `,WEB_PORTRAIT:`${OV}`,HANDSET_LANDSCAPE:`${VV}`,TABLET_LANDSCAPE:`${RV}`,WEB_LANDSCAPE:`${PV}`},mte=[{alias:"handset",priority:2e3,mediaQuery:F4.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:F4.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:F4.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:F4.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:F4.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:F4.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:F4.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:F4.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:F4.WEB_PORTRAIT,overlapping:!0}],_te=/(\.|-|_)/g;function vte(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const wte=new o.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,o.f3M)(Ax),t=(0,o.f3M)(Mc),e=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function Mte(n,t=[]){const e={};return n.forEach(i=>{e[i.alias]=i}),t.forEach(i=>{e[i.alias]?function z4(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}(e[i.alias],i):e[i.alias]=i}),function bte(n){return n.forEach(t=>{t.suffix||(t.suffix=function yte(n){return n.replace(_te,"|").split("|").map(vte).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(i=>e[i]))}((t.disableDefaultBps?[]:Cte).concat(t.addOrientationBps?mte:[]),e)}});let Nx=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(hte)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias==e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery==e)}get overlappings(){return this.items.filter(e=>1==e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e.suffix?e.suffix:"")}findWithPredicate(e,i){let r=this.findByMap.get(e);return r||(r=this.items.find(i)||null,this.findByMap.set(e,r)),r||null}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(wte))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cu="print",xte={alias:Cu,mediaQuery:Cu,priority:1e3};let Ste=(()=>{class n{constructor(e,i,r){this.breakpoints=e,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new Lte,this.deactivations=[]}withPrintQuery(e){return[...e,Cu]}isPrintEvent(e){return e.mediaQuery.startsWith(Cu)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(Pf)}updateEvent(e){let i=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(i=this.getEventBreakpoints(e)[0],e.mediaQuery=i?i.mediaQuery:""),IV(e,i)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new U5(!0,Cu))),e.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(e){return this.registerBeforeAfterPrintHooks(e),i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(e){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(e.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const i=this.breakpoints.findByQuery(e.mediaQuery);i&&(this.deactivations.push(i),this.deactivations.sort(Pf))}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Nx),o.LFG(Mc),o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Lte{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(xte),t.sort(Pf),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function Ete(n){return!!n&&n.mediaQuery.startsWith(Cu)}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let Ri=(()=>{class n{constructor(e,i,r){this.matchMedia=e,this.breakpoints=i,this.hook=r,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Ct.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);i&&((e=IV(e,i)).matches&&-1===this.activatedBreakpoints.indexOf(i)?(this.activatedBreakpoints.push(i),this.activatedBreakpoints.sort(Pf),this.updateStyles()):!e.matches&&-1!==this.activatedBreakpoints.indexOf(i)&&(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(i),1),this.activatedBreakpoints.sort(Pf),this.updateStyles()))}init(e,i,r,s,c=[]){zV(this.updateMap,e,i,r),zV(this.clearMap,e,i,s),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,c)}getValue(e,i,r){const s=this.elementMap.get(e);if(s){const c=void 0!==r?s.get(r):this.getActivatedValues(s,i);if(c)return c.get(i)}}hasValue(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);if(s)return void 0!==s.get(i)||!1}return!1}setValue(e,i,r,s){let c=this.elementMap.get(e);if(c){const h=(c.get(s)||new Map).set(i,r);c.set(s,h),this.elementMap.set(e,c)}else c=(new Map).set(s,(new Map).set(i,r)),this.elementMap.set(e,c);const d=this.getValue(e,i);void 0!==d&&this.updateElement(e,i,d)}trackValue(e,i){return this.subject.asObservable().pipe(Dn(r=>r.element===e&&r.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const r=new Set(this.elementKeyMap.get(i));let s=this.getActivatedValues(e);s&&s.forEach((c,d)=>{this.updateElement(i,d,c),r.delete(d)}),r.forEach(c=>{if(s=this.getActivatedValues(e,c),s){const d=s.get(c);this.updateElement(i,c,d)}else this.clearElement(i,c)})})}clearElement(e,i){const r=this.clearMap.get(e);if(r){const s=r.get(i);s&&(s(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,r){const s=this.updateMap.get(e);if(s){const c=s.get(i);c&&(c(r),this.subject.next({element:e,key:i,value:r}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(s=>s.unsubscribe()),this.watcherMap.delete(e));const r=this.elementMap.get(e);r&&(r.forEach((s,c)=>r.delete(c)),this.elementMap.delete(e))}triggerUpdate(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);s&&(i?this.updateElement(e,i,s.get(i)):s.forEach((c,d)=>this.updateElement(e,d,c)))}}buildElementKeyMap(e,i){let r=this.elementKeyMap.get(e);r||(r=new Set,this.elementKeyMap.set(e,r)),r.add(i)}watchExtraTriggers(e,i,r){if(r&&r.length){let s=this.watcherMap.get(e);if(s||(s=new Map,this.watcherMap.set(e,s)),!s.get(i)){const d=(0,B5.T)(...r).subscribe(()=>{const h=this.getValue(e,i);this.updateElement(e,i,h)});s.set(i,d)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let s=0;s<this.activatedBreakpoints.length;s++){const d=e.get(this.activatedBreakpoints[s].alias);if(d&&(void 0===i||d.has(i)&&null!=d.get(i)))return d}const r=e.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const i=this.breakpoints.items.map(r=>r.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(i)).pipe((0,jt.b)(this.hook.interceptEvents(this)),Dn(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ix),o.LFG(Nx),o.LFG(Ste))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zV(n,t,e,i){if(void 0!==i){let r=n.get(t);r||(r=new Map,n.set(t,r)),r.set(e,i)}}let $i=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.styleBuilder=i,this.styler=r,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Ct.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const r=this.styleBuilder,s=r.shouldCache;let c=this.styleCache.get(e);(!c||!s)&&(c=r.buildStyles(e,i),s&&this.styleCache.set(e,c)),this.mru=Object.assign({},c),this.applyStyleToElement(c),r.sideEffect(e,c,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[r,s]=this.styler.getFlowDirection(e);if(!s&&i){const c=TV(r);this.styler.applyStyleToElements(c,[e])}return r.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,r=this.nativeElement){this.styler.applyStyleToElement(r,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o1),o.Y36(Si),o.Y36(Ri))},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})(),Pte=(()=>{class n extends o1{buildStyles(e,i){return{display:"true"===e?i.display||(i.isServer?"initial":""):"none"}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zte=(()=>{class n extends $i{constructor(e,i,r,s,c,d,h){super(e,i,r,s),this.layoutConfig=c,this.platformId=d,this.serverModuleLoaded=h,this.DIRECTIVE_KEY="show-hide",this.display="",this.hasLayout=!1,this.hasFlexChild=!1}ngAfterViewInit(){this.trackExtraTriggers();const e=Array.from(this.nativeElement.children);for(let r=0;r<e.length;r++)if(this.marshal.hasValue(e[r],"flex")){this.hasFlexChild=!0;break}kx.has(this.nativeElement)?this.display=kx.get(this.nativeElement):(this.display=this.getDisplayStyle(),kx.set(this.nativeElement,this.display)),this.init();const i=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");void 0===i||""===i?this.setValue(!0,""):this.triggerUpdate()}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split("."),s=r.slice(1).join("."),c=e[i].currentValue;let d=""===c||0!==c&&qi(c);"fxHide"===r[0]&&(d=!d),this.setValue(d,s)}})}trackExtraTriggers(){this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach(e=>{this.marshal.trackValue(this.nativeElement,e).pipe(At(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))})}getDisplayStyle(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}updateWithValue(e=!0){if(""===e)return;const i=Yn(this.platformId);this.addStyles(e?"true":"false",{display:this.display,isServer:i}),i&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap")}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Pte),o.Y36(Si),o.Y36(Ri),o.Y36(Mc),o.Y36(o.Lbi),o.Y36(gu))},n.\u0275dir=o.lG2({type:n,features:[o.qOj,o.TTD]}),n})();const kx=new WeakMap,Fte=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"];let UV=(()=>{class n extends zte{constructor(){super(...arguments),this.inputs=Fte}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","fxShow",""],["","fxShow.print",""],["","fxShow.xs",""],["","fxShow.sm",""],["","fxShow.md",""],["","fxShow.lg",""],["","fxShow.xl",""],["","fxShow.lt-sm",""],["","fxShow.lt-md",""],["","fxShow.lt-lg",""],["","fxShow.lt-xl",""],["","fxShow.gt-xs",""],["","fxShow.gt-sm",""],["","fxShow.gt-md",""],["","fxShow.gt-lg",""],["","fxHide",""],["","fxHide.print",""],["","fxHide.xs",""],["","fxHide.sm",""],["","fxHide.md",""],["","fxHide.lg",""],["","fxHide.xl",""],["","fxHide.lt-sm",""],["","fxHide.lt-md",""],["","fxHide.lt-lg",""],["","fxHide.lt-xl",""],["","fxHide.gt-xs",""],["","fxHide.gt-sm",""],["","fxHide.gt-md",""],["","fxHide.gt-lg",""]],inputs:{fxShow:"fxShow","fxShow.print":"fxShow.print","fxShow.xs":"fxShow.xs","fxShow.sm":"fxShow.sm","fxShow.md":"fxShow.md","fxShow.lg":"fxShow.lg","fxShow.xl":"fxShow.xl","fxShow.lt-sm":"fxShow.lt-sm","fxShow.lt-md":"fxShow.lt-md","fxShow.lt-lg":"fxShow.lt-lg","fxShow.lt-xl":"fxShow.lt-xl","fxShow.gt-xs":"fxShow.gt-xs","fxShow.gt-sm":"fxShow.gt-sm","fxShow.gt-md":"fxShow.gt-md","fxShow.gt-lg":"fxShow.gt-lg",fxHide:"fxHide","fxHide.print":"fxHide.print","fxHide.xs":"fxHide.xs","fxHide.sm":"fxHide.sm","fxHide.md":"fxHide.md","fxHide.lg":"fxHide.lg","fxHide.xl":"fxHide.xl","fxHide.lt-sm":"fxHide.lt-sm","fxHide.lt-md":"fxHide.lt-md","fxHide.lt-lg":"fxHide.lt-lg","fxHide.lt-xl":"fxHide.lt-xl","fxHide.gt-xs":"fxHide.gt-xs","fxHide.gt-sm":"fxHide.gt-sm","fxHide.gt-md":"fxHide.gt-md","fxHide.gt-lg":"fxHide.gt-lg"},features:[o.qOj]}),n})(),ZV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Tx]]}),n})();var Vx=O(3099);const Wte=["*"];let Lm;function zf(n){var t;return(null===(t=function Zte(){if(void 0===Lm&&(Lm=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(Lm=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Lm}())||void 0===t?void 0:t.createHTML(n))||n}function YV(n){return Error(`Unable to find icon with the name "${n}"`)}function KV(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function QV(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class G5{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let Em=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new G5(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const c=this._sanitizer.sanitize(o.q3G.HTML,r);if(!c)throw QV(r);const d=zf(c);return this._addSvgIconConfig(e,i,new G5("",d,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new G5(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(o.q3G.HTML,i);if(!s)throw QV(i);const c=zf(s);return this._addSvgIconSetConfig(e,new G5("",c,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,e);if(!i)throw KV(e);const r=this._cachedIconsByUrl.get(i);return r?lt(Tm(r)):this._loadSvgIconFromConfig(new G5(e,null)).pipe((0,jt.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,je.U)(s=>Tm(s)))}getNamedSvgIcon(e,i=""){const r=JV(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(e,c):ru(YV(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?lt(Tm(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,je.U)(i=>Tm(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?lt(r):Fa(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(Is(d=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(_)),lt(null)})))).pipe((0,je.U)(()=>{const c=this._extractIconWithNameFromAnySet(e,i);if(!c)throw YV(e);return c}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(c,e,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,jt.b)(i=>e.svgText=i),(0,je.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?lt(null):this._fetchIcon(e).pipe((0,jt.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const d=this._svgElementFromString(zf("<svg></svg>"));return d.appendChild(c),this._setSvgAttributes(d,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(zf("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:c,value:d}=r[s];"id"!==c&&i.setAttribute(c,d)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:s}=e,c=null!==(i=null==s?void 0:s.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function Yte(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const d=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,r);if(!d)throw KV(r);const h=this._inProgressUrlFetches.get(d);if(h)return h;const _=this._httpClient.get(d,{responseType:"text",withCredentials:c}).pipe((0,je.U)(M=>zf(M)),Tg(()=>this._inProgressUrlFetches.delete(d)),(0,Vx.B)());return this._inProgressUrlFetches.set(d,_),_}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(JV(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return Qte(s)?new G5(s.url,null,s.options):new G5(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(y4,8),o.LFG(j1),o.LFG(J,8),o.LFG(o.qLn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Tm(n){return n.cloneNode(!0)}function JV(n,t){return n+":"+t}function Qte(n){return!(!n.url||!n.options)}const Jte=xx(class{constructor(n){this._elementRef=n}}),Xte=new o.OlP("mat-icon-location",{providedIn:"root",factory:function ene(){const n=(0,o.f3M)(J),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),XV=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],tne=XV.map(n=>`[${n}]`).join(", "),nne=/^url\(['"]?#(.*?)['"]?\)$/;let ine=(()=>{class n extends Jte{constructor(e,i,r,s,c){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=c,this._inline=!1,this._currentIconFetch=uo.w0.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=qi(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=e.querySelectorAll("style");for(let s=0;s<i.length;s++)i[s].textContent+=" ";const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(c=>{s.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(tne),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)XV.forEach(c=>{const d=i[s],h=d.getAttribute(c),_=h?h.match(nne):null;if(_){let M=r.get(d);M||(M=[],r.set(d,M)),M.push({name:c,value:_[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,Jt.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Em),o.$8M("aria-hidden"),o.Y36(Xte),o.Y36(o.qLn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),o.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:Wte,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),rne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[z1],z1]}),n})();var eH=O(4408);const Ff={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Ff;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new uo.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=Ff;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Ff;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var tH=O(7565);new class one extends tH.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class sne extends eH.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Ff.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(Ff.cancelAnimationFrame(e),t._scheduled=void 0)}});let Hx,lne=1;const Dm={};function nH(n){return n in Dm&&(delete Dm[n],!0)}const cne={setImmediate(n){const t=lne++;return Dm[t]=!0,Hx||(Hx=Promise.resolve()),Hx.then(()=>nH(t)&&n()),t},clearImmediate(n){nH(n)}},{setImmediate:une,clearImmediate:dne}=cne,Am={setImmediate(...n){const{delegate:t}=Am;return((null==t?void 0:t.setImmediate)||une)(...n)},clearImmediate(n){const{delegate:t}=Am;return((null==t?void 0:t.clearImmediate)||dne)(n)},delegate:void 0};new class hne extends tH.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class fne extends eH.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Am.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(Am.clearImmediate(e),t._scheduled=void 0)}});function iH(n,t=Vr.P){return function gne(n){return(0,di.e)((t,e)=>{let i=!1,r=null,s=null,c=!1;const d=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const _=r;r=null,e.next(_)}c&&e.complete()},h=()=>{s=null,c&&e.complete()};t.subscribe(new tn.Q(e,_=>{i=!0,r=_,s||(0,u1.Xf)(n(_)).subscribe(s=new tn.Q(e,d,h))},()=>{c=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>Bo(n,t))}let Bf=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Ct.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new xn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(iH(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):lt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Dn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=V5(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Bn(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(Wr),o.LFG(J,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Im=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new Ct.x,this._elementScrolled=new xn.y(c=>this.ngZone.runOutsideAngular(()=>Bn(this.elementRef.nativeElement,"scroll").pipe(At(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=mc()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==mc()?e.left=e.right:1==mc()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;ou()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==e?e=c?r:i:"end"==e&&(e=c?i:r),c&&2==mc()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:c&&1==mc()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Bf),o.Y36(o.R0b),o.Y36(D5,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),Rx=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Ct.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(iH(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Wr),o.LFG(o.R0b),o.LFG(J,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),Ox=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[V4,Cf,Uf],V4,Uf]}),n})();const Nm=["*"];function _ne(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){return o.CHM(e),o.oxw()._onBackdropClicked()}),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function vne(n,t){1&n&&(o.TgZ(0,"mat-drawer-content"),o.Hsn(1,2),o.qZA())}const yne=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],bne=["mat-drawer","mat-drawer-content","*"];function Mne(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){return o.CHM(e),o.oxw()._onBackdropClicked()}),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function wne(n,t){1&n&&(o.TgZ(0,"mat-sidenav-content",3),o.Hsn(1,2),o.qZA())}const xne=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Sne=["mat-sidenav","mat-sidenav-content","*"],rH={transformDrawer:H5("transform",[vc("open, open-instant",ks({transform:"none",visibility:"visible"})),vc("void",ks({"box-shadow":"none",visibility:"hidden"})),P4("void => open-instant",O4("0ms")),P4("void <=> open, open-instant => void",O4("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Ene=new o.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Tne(){return!1}}),Px=new o.OlP("MAT_DRAWER_CONTAINER");let km=(()=>{class n extends Im{constructor(e,i,r,s,c){super(r,s,c),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>oH)),o.Y36(o.SBq),o.Y36(Bf),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&o.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[o.qOj],ngContentSelectors:Nm,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),sH=(()=>{class n{constructor(e,i,r,s,c,d,h,_){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=c,this._interactivityChecker=d,this._doc=h,this._container=_,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Ct.x,this._animationEnd=new Ct.x,this._animationState="void",this.openedChange=new o.vpe(!0),this._openedStream=this.openedChange.pipe(Dn(M=>M),(0,je.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Dn(M=>M.fromState!==M.toState&&0===M.toState.indexOf("open")),hs(void 0)),this._closedStream=this.openedChange.pipe(Dn(M=>!M),(0,je.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Dn(M=>M.fromState!==M.toState&&"void"===M.toState),hs(void 0)),this._destroyed=new Ct.x,this.onPositionChanged=new o.vpe,this._modeChanged=new Ct.x,this.openedChange.subscribe(M=>{M?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Bn(this._elementRef.nativeElement,"keydown").pipe(Dn(M=>27===M.keyCode&&!this.disableClose&&!function k5(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(M)),At(this._destroyed)).subscribe(M=>this._ngZone.run(()=>{this.close(),M.stopPropagation(),M.preventDefault()}))}),this._animationEnd.pipe(_2((M,x)=>M.fromState===x.fromState&&M.toState===x.toState)).subscribe(M=>{const{fromState:x,toState:D}=M;(0===D.indexOf("open")&&"void"===x||"void"===D&&0===x.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=qi(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"===this.mode?"dialog":"first-tabbable":e}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=qi(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(qi(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{e.addEventListener("blur",()=>e.removeAttribute("tabindex")),e.addEventListener("mousedown",()=>e.removeAttribute("tabindex"))})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){var e;const i=null===(e=this._doc)||void 0===e?void 0:e.activeElement;return!!i&&this._elementRef.nativeElement.contains(i)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe((0,Jt.q)(1)).subscribe(c=>s(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(mk),o.Y36(me),o.Y36(Wr),o.Y36(o.R0b),o.Y36(nm),o.Y36(J,8),o.Y36(Px,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&o.WFA("@transform.start",function(s){return i._animationStarted.next(s)})("@transform.done",function(s){return i._animationEnd.next(s)}),2&e&&(o.uIk("align",null),o.d8E("@transform",i._animationState),o.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Nm,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},directives:[Im],encapsulation:2,data:{animation:[rH.transformDrawer]},changeDetection:0}),n})(),oH=(()=>{class n{constructor(e,i,r,s,c,d=!1,h){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=h,this._drawers=new o.n_E,this.backdropClick=new o.vpe,this._destroyed=new Ct.x,this._doCheckSubject=new Ct.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Ct.x,e&&e.change.pipe(At(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe(At(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=d}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=qi(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:qi(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(ki(this._allDrawers),At(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(ki(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(uu(10),At(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Dn(i=>i.fromState!==i.toState),At(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(At(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(At(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Jt.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(At((0,B5.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(D5,8),o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(Rx),o.Y36(Ene),o.Y36(F5,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,km,5),o.Suo(r,sH,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._content=s.first),o.iGM(s=o.CRH())&&(i._allDrawers=s)}},viewQuery:function(e,i){if(1&e&&o.Gf(km,5),2&e){let r;o.iGM(r=o.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[o._Bn([{provide:Px,useExisting:n}])],ngContentSelectors:bne,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(o.F$t(yne),o.YNc(0,_ne,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,vne,2,0,"mat-drawer-content",1)),2&e&&(o.Q6J("ngIf",i.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!i._content))},directives:[Qt,km],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),n})(),aH=(()=>{class n extends km{constructor(e,i,r,s,c){super(e,i,r,s,c)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>cH)),o.Y36(o.SBq),o.Y36(Bf),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&o.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[o.qOj],ngContentSelectors:Nm,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),lH=(()=>{class n extends sH{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=qi(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Rw(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Rw(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(o.uIk("align",null),o.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),o.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[o.qOj],ngContentSelectors:Nm,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},directives:[Im],encapsulation:2,data:{animation:[rH.transformDrawer]},changeDetection:0}),n})(),cH=(()=>{class n extends oH{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,aH,5),o.Suo(r,lH,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._content=s.first),o.iGM(s=o.CRH())&&(i._allDrawers=s)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[o._Bn([{provide:Px,useExisting:n}]),o.qOj],ngContentSelectors:Sne,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(e,i){1&e&&(o.F$t(xne),o.YNc(0,Mne,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,wne,2,0,"mat-sidenav-content",1)),2&e&&(o.Q6J("ngIf",i.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!i._content))},directives:[Qt,aH,Im],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),n})(),Dne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[bi,z1,Cf,Uf],Uf,z1]}),n})();const _ie={margin:0,width:"100%",height:"100%","min-width":"100%","min-height":"100%"};let vie=(()=>{class n extends o1{buildStyles(e){return _ie}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fH=(()=>{class n extends $i{constructor(e,i,r,s){super(e,r,i,s),this.styleCache=yie,this.addStyles("")}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Si),o.Y36(vie),o.Y36(Ri))},n.\u0275dir=o.lG2({type:n,selectors:[["","fxFill",""],["","fxFlexFill",""]],features:[o.qOj]}),n})();const yie=new Map;let hH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Tx,V4]]}),n})(),gH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[z1],z1]}),n})();const CH=["*"],Vie=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],Hie=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],Fie=pV(Vf(class{})),Bie=Vf(class{}),Uie=new o.OlP("MatList"),mH=new o.OlP("MatNavList");let Gie=(()=>{class n extends Fie{constructor(){super(...arguments),this._stateChanges=new Ct.x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[o._Bn([{provide:mH,useExisting:n}]),o.qOj,o.TTD],ngContentSelectors:CH,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),_H=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),vH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),jie=(()=>{class n extends Bie{constructor(e,i,r,s){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new Ct.x,this._disabled=!1,this._isInteractiveList=!!(r||s&&"action-list"===s._getListType()),this._list=r||s;const c=this._getHostElement();"button"===c.nodeName.toLowerCase()&&!c.hasAttribute("type")&&c.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(At(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=qi(e)}ngAfterContentInit(){!function CV(n,t,e="mat"){n.changes.pipe(ki(n)).subscribe(({length:i})=>{Hf(t,`${e}-2-line`,!1),Hf(t,`${e}-3-line`,!1),Hf(t,`${e}-multi-line`,!1),2===i||3===i?Hf(t,`${e}-${i}-line`,!0):i>3&&Hf(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(mH,8),o.Y36(Uie,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,_H,5),o.Suo(r,vH,5),o.Suo(r,gV,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._avatar=s.first),o.iGM(s=o.CRH())&&(i._icon=s.first),o.iGM(s=o.CRH())&&(i._lines=s)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(e,i){2&e&&o.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-avatar",i._avatar||i._icon)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[o.qOj],ngContentSelectors:Hie,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,i){1&e&&(o.F$t(Vie),o.TgZ(0,"div",0),o._UZ(1,"div",1),o.Hsn(2),o.TgZ(3,"div",2),o.Hsn(4,1),o.qZA(),o.Hsn(5,2),o.qZA()),2&e&&(o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},directives:[Rf],encapsulation:2,changeDetection:0}),n})(),Kie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[mV,Lx,z1,bV,bi],mV,z1,bV,gH]}),n})();function Qie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"a",10),o.NdJ("click",function(){return o.CHM(e),o.oxw().onLogout()}),o._uU(1,"Kirjaudu ulos"),o.qZA()}}function Jie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"a",10),o.NdJ("click",function(){return o.CHM(e),o.oxw().onLogout()}),o._uU(1,"Kirjaudu ulos"),o.qZA()}}let Xie=(()=>{class n{constructor(e,i,r,s,c){this.scroller=e,this.router=i,this.dataStorageService=r,this.tekstiStorageService=s,this.authService=c,this.isAuthenticated=!1,this.scroll=()=>{let d;d=window.innerWidth<150?10:window.innerWidth<300&&window.innerWidth>150?110:window.innerWidth<400&&window.innerWidth>300?210:window.innerWidth<700&&window.innerWidth>400?310:1,window.scrollY>=d?(document.body.style.setProperty("--navbar-scroll","#FC842B"),document.body.style.setProperty("--navbar-scroll-shadow","0px 6px 12px -5px #000000")):window.scrollY<=d&&(document.body.style.setProperty("--navbar-scroll","transparent"),document.body.style.setProperty("--navbar-scroll-shadow","none"))}}ngOnInit(){window.addEventListener("scroll",this.scroll,!0),this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e,console.log(!e),console.log(!!e)})}goDown1(){this.scroller.scrollToAnchor("targetGalleria")}goDown2(){document.getElementById("targetPalvelut").scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}goDown3(){document.getElementById("targetYhteistiedot").scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}goDown4(){document.getElementById("targetVerkkokauppa").scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}onSaveData(){this.dataStorageService.storeItems(),this.tekstiStorageService.storeTekstit()}onFetchData(){this.tekstiStorageService.fetchTekstit().subscribe(),this.dataStorageService.fetchItems().subscribe()}ngOnDestroy(){this.userSub.unsubscribe()}onLogout(){this.authService.logout()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(hl),o.Y36(nn),o.Y36(b1),o.Y36(cr),o.Y36(ii))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-navbar"]],decls:31,vars:2,consts:[[2,"height","0vh"],["mat-icon-button","","fxShow","true","fxHide.gt-sm","",3,"click"],[1,"menu-spacer"],["fxShow","true","fxHide.lt-md",""],["mat-button","",3,"click"],["id","admin","mat-button","",3,"click",4,"ngIf"],["fxFlexFill",""],["sidenav",""],["href","","mat-list-item","",3,"click"],["mat-list-item","",3,"click"],["id","admin","mat-button","",3,"click"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"mat-toolbar"),o.TgZ(2,"mat-toolbar-row"),o.TgZ(3,"button",1),o.NdJ("click",function(){return o.CHM(r),o.MAs(19).toggle()}),o.TgZ(4,"mat-icon"),o._uU(5,"menu"),o.qZA(),o.qZA(),o._UZ(6,"span",2),o.TgZ(7,"div",3),o.TgZ(8,"a",4),o.NdJ("click",function(){return i.goDown1()}),o._uU(9,"Galleria"),o.qZA(),o.TgZ(10,"a",4),o.NdJ("click",function(){return i.goDown2()}),o._uU(11,"Palvelut"),o.qZA(),o.TgZ(12,"a",4),o.NdJ("click",function(){return i.goDown4()}),o._uU(13,"Verkkokauppa"),o.qZA(),o.TgZ(14,"a",4),o.NdJ("click",function(){return i.goDown3()}),o._uU(15,"Yhteystiedot"),o.qZA(),o.YNc(16,Qie,2,0,"a",5),o.qZA(),o.qZA(),o.qZA(),o.TgZ(17,"mat-sidenav-container",6),o.TgZ(18,"mat-sidenav",null,7),o.TgZ(20,"mat-nav-list"),o.TgZ(21,"a",8),o.NdJ("click",function(){return o.CHM(r),o.MAs(19).toggle()}),o.qZA(),o.TgZ(22,"a",9),o.NdJ("click",function(){return i.goDown1()}),o._uU(23,"Galleria"),o.qZA(),o.TgZ(24,"a",9),o.NdJ("click",function(){return i.goDown2()}),o._uU(25,"Palvelut"),o.qZA(),o.TgZ(26,"a",9),o.NdJ("click",function(){return i.goDown4()}),o._uU(27,"Verkkokauppa"),o.qZA(),o.TgZ(28,"a",9),o.NdJ("click",function(){return i.goDown3()}),o._uU(29,"Yhteystiedot"),o.qZA(),o.YNc(30,Jie,2,0,"a",5),o.qZA(),o.qZA(),o.qZA(),o.qZA()}2&e&&(o.xp6(16),o.Q6J("ngIf",i.isAuthenticated),o.xp6(14),o.Q6J("ngIf",i.isAuthenticated))},directives:[tte,MV,LV,UV,ine,ote,Qt,cH,fH,lH,Gie,jie],styles:["mat-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:3rem;width:100%;font-size:25px;font-size:15px;position:fixed;z-index:1000;background-color:var(--navbar-scroll);transition:background-color 1s ease;color:#fff;box-shadow:var(--navbar-scroll-shadow)}mat-sidenav[_ngcontent-%COMP%]{position:fixed;background-color:#fc842b;transition:background-color 1s ease;color:var(--navbar-scroll-text);height:250px}.menu-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-button[_ngcontent-%COMP%]{font-size:20px}.mat-button[_ngcontent-%COMP%]:hover{font-size:20px;text-decoration:none;color:inherit}"]}),n})(),e1e=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-header"]],decls:3,vars:0,consts:[[1,"header",2,"background-image","url(../../assets/img/orange2.png)"],["src","assets/img/eurouuni.png",1,"logo"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div"),o._UZ(2,"img",1),o.qZA(),o.qZA())},styles:["body[_ngcontent-%COMP%]{height:100%}.header[_ngcontent-%COMP%]{background-position:45% 45%;background-size:cover;height:20rem;display:flex;position:relative;align-items:center;justify-content:center;margin-bottom:1rem;width:100%}h5[_ngcontent-%COMP%]{display:block;font-size:1rem;font-weight:700}.logo[_ngcontent-%COMP%]{width:100%}"]}),n})();function t1e(n,t){1&n&&(o.TgZ(0,"button",2),o._uU(1," Muokkaa teksti\xe4"),o.qZA())}function n1e(n,t){if(1&n&&(o.TgZ(0,"div",3),o.TgZ(1,"div",4),o.TgZ(2,"div",5),o.TgZ(3,"div",6),o.TgZ(4,"h5",7),o._uU(5,"Ajankohtaista"),o.qZA(),o.TgZ(6,"h3"),o._uU(7),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&n){const e=o.oxw();o.xp6(7),o.Oqu(e.teksti.text)}}let i1e=(()=>{class n{constructor(e,i){this.router=e,this.authService=i,this.isAuthenticated=!1,this.display=!0}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e}),this.display=!!this.teksti.text}ngOnDestroy(){this.userSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(nn),o.Y36(ii))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-topics-show"]],inputs:{teksti:"teksti",index:"index"},decls:2,vars:2,consts:[["class","btn btn-info","id","editText","routerLink","/text/1",4,"ngIf"],["id","comp-render",4,"ngIf"],["id","editText","routerLink","/text/1",1,"btn","btn-info"],["id","comp-render"],[1,"container"],[1,"card"],[1,"card-body"],[1,"card-title"]],template:function(e,i){1&e&&(o.YNc(0,t1e,2,0,"button",0),o.YNc(1,n1e,8,1,"div",1)),2&e&&(o.Q6J("ngIf",i.isAuthenticated),o.xp6(1),o.Q6J("ngIf",i.display))},directives:[Qt,Ns],styles:["h5[_ngcontent-%COMP%]{display:block;font-size:1rem;font-weight:700}.card[_ngcontent-%COMP%]{padding:10px;font-size:18px;box-shadow:7px 7px 56px -24px #00000091}#editText[_ngcontent-%COMP%]{color:#fff;margin-left:16%;background-color:#08a}"]}),n})();function r1e(n,t){if(1&n&&o._UZ(0,"app-topics-show",1),2&n){const i=t.index;o.Q6J("teksti",t.$implicit)("index",i)}}let s1e=(()=>{class n{constructor(e,i){this.tekstiService=e,this.authService=i,this.isAuthenticated=!1,this.display=!1}ngOnInit(){this.subscription=this.tekstiService.tekstitChanged.subscribe(e=>{this.tekstit=e}),this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e}),this.tekstit=this.tekstiService.getTekstit()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(As),o.Y36(ii))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-topics"]],inputs:{index:"index"},decls:1,vars:1,consts:[[3,"teksti","index",4,"ngFor","ngForOf"],[3,"teksti","index"]],template:function(e,i){1&e&&o.YNc(0,r1e,1,2,"app-topics-show",0),2&e&&o.Q6J("ngForOf",i.tekstit.slice(1,2))},directives:[Ni,i1e],styles:[".card[_ngcontent-%COMP%]{padding:15px;font-size:18px;box-shadow:7px 7px 56px -24px #00000091;margin-bottom:1rem}h5[_ngcontent-%COMP%]{display:block;font-size:1rem;font-weight:700}"]}),n})(),bH=(()=>{class n{constructor(e,i,r,s,c){this.authService=e,this.router=i,this.tekstiStorageService=r,this.route=s,this.dataStorageService=c,this.isAuthenticated=!1,this.display=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e}),this.dataStorageService.fetchItems().subscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ii),o.Y36(nn),o.Y36(cr),o.Y36(xi),o.Y36(b1))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-gallery"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},directives:[u3],styles:[""]}),n})(),MH=(()=>{class n{constructor(e,i){this.authService=e,this.dataStorageService=i,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e}),this.dataStorageService.fetchKorjaukset().subscribe()}ngOnDestroy(){this.userSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ii),o.Y36(b1))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-korjaukset"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},directives:[u3],styles:[""]}),n})(),wH=(()=>{class n{constructor(e,i){this.authService=e,this.dataStorageService=i,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e}),this.dataStorageService.fetchRemontit().subscribe()}ngOnDestroy(){this.userSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ii),o.Y36(b1))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-remontit"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},directives:[u3],styles:[""]}),n})(),xH=(()=>{class n{constructor(e,i){this.authService=e,this.dataStorageService=i,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e}),this.dataStorageService.fetchPalvelut().subscribe()}ngOnDestroy(){this.userSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ii),o.Y36(b1))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-muutpalvelut"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},directives:[u3],styles:[""]}),n})();function o1e(n,t){1&n&&o._UZ(0,"router-outlet")}function a1e(n,t){1&n&&o._UZ(0,"router-outlet")}function l1e(n,t){1&n&&(o.TgZ(0,"div",14),o._UZ(1,"app-gallery"),o.qZA())}function c1e(n,t){1&n&&o._UZ(0,"router-outlet")}function u1e(n,t){1&n&&(o.TgZ(0,"div",14),o._UZ(1,"app-korjaukset"),o.qZA())}function d1e(n,t){1&n&&o._UZ(0,"router-outlet")}function f1e(n,t){if(1&n&&(o.TgZ(0,"div",14),o._UZ(1,"app-remontit"),o.YNc(2,d1e,1,0,"router-outlet",0),o.qZA()),2&n){const e=o.oxw();o.xp6(2),o.Q6J("ngIf","/text/3"===e.router.url)}}function h1e(n,t){1&n&&o._UZ(0,"router-outlet")}function p1e(n,t){1&n&&(o.TgZ(0,"div",14),o._UZ(1,"app-muutpalvelut"),o.qZA())}let g1e=(()=>{class n{constructor(e,i,r,s){this.dataStorageService=e,this.router=i,this.route=r,this.tekstiStorageService=s,this.display=!1,this.display1=!1,this.display2=!1,this.display3=!1}ngOnInit(){}onFetchData(){this.tekstiStorageService.fetchTekstit().subscribe(),this.dataStorageService.fetchItems().subscribe()}onPress(){this.display=!this.display,(this.display=this.display)?this.router.navigate(["/gallery"]):this.router.navigate(["../"]),this.display1=!1,this.display2=!1,(this.display3=!1)&&(this.display=!0)}onPress1(){this.display1=!this.display1,(this.display1=this.display1)?this.router.navigate(["/korjaukset"]):this.router.navigate(["../"]),this.display=!1,this.display2=!1,(this.display3=!1)&&(this.display1=!0)}onPress2(){this.display2=!this.display2,(this.display2=this.display2)?this.router.navigate(["/remontit"]):this.router.navigate(["../"]),this.display=!1,this.display1=!1,(this.display3=!1)&&(this.display2=!0)}onPress3(){this.display3=!this.display3,(this.display3=this.display3)?this.router.navigate(["/muutpalvelut"]):this.router.navigate(["../"]),this.display=!1,this.display1=!1,(this.display2=!1)&&(this.display3=!0)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(b1),o.Y36(nn),o.Y36(xi),o.Y36(cr))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-gallery-div"]],decls:70,vars:8,consts:[[4,"ngIf"],["id","targetGalleria"],[1,"container"],["id","targetgalleria",1,"row","justify-content-center",2,"background-image","url(assets/img/galleria.jpg)","background-position","bottom","background-size","cover","text-shadow","1px 1px 2px black"],[1,"col-md-auto"],[1,"btn","btn-lg","btn-dark",3,"click"],["id","comp-render",4,"ngIf"],["id","targetPalvelut"],["id","targetpalvelut",1,"row","justify-content-center",2,"background-image","url(assets/img/tulisijakorjaus.jpg)","background-position","center","background-size","cover","text-shadow","1px 1px 2px black"],[1,"row","justify-content-center",2,"background-image","url(assets/img/remontti.jpg)","background-position","70% 70%","background-size","cover","text-shadow","1px 1px 2px black"],[1,"row","justify-content-center",2,"background-image","url(assets/img/muut-palvelut.jpg)","background-position","0% 40%","background-size","cover","text-shadow","1px 1px 2px black"],["id","targetVerkkokauppa"],[1,"row","justify-content-center",2,"background-color","#3C424C","text-shadow","1px 1px 2px black"],["href","https://www.eurotulisijat.fi/fi","target","_blank",1,"btn","btn-lg","btn-dark"],["id","comp-render"]],template:function(e,i){1&e&&(o.YNc(0,o1e,1,0,"router-outlet",0),o._UZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o.TgZ(5,"h2"),o._uU(6,"Tulisijat"),o.qZA(),o.TgZ(7,"p"),o._uU(8,"Yksil\xf6lliset mittatilaustulisijat"),o.qZA(),o.TgZ(9,"p"),o._uU(10,"Varaavat tulisijat"),o.qZA(),o.TgZ(11,"p"),o._uU(12,"P\xf6ntt\xf6uunit"),o.qZA(),o.TgZ(13,"a",5),o.NdJ("click",function(){return i.onPress()}),o._uU(14,"Galleria"),o.qZA(),o.qZA(),o.qZA(),o.YNc(15,a1e,1,0,"router-outlet",0),o.YNc(16,l1e,2,0,"div",6),o._UZ(17,"div",7),o.TgZ(18,"div",8),o.TgZ(19,"div",4),o.TgZ(20,"h2"),o._uU(21,"Korjaukset"),o.qZA(),o.TgZ(22,"p"),o._uU(23,"Tulisijakorjaukset"),o.qZA(),o.TgZ(24,"p"),o._uU(25,"Hormikorjaukset"),o.qZA(),o.TgZ(26,"a",5),o.NdJ("click",function(){return i.onPress1()}),o._uU(27,"Korjaukset"),o.qZA(),o.qZA(),o.qZA(),o.YNc(28,c1e,1,0,"router-outlet",0),o.YNc(29,u1e,2,0,"div",6),o.TgZ(30,"div",9),o.TgZ(31,"div",4),o.TgZ(32,"h2"),o._uU(33,"Remontit"),o.qZA(),o.TgZ(34,"p"),o._uU(35,"M\xf6kki\u2013 ja huoneistoremontit"),o.qZA(),o.TgZ(36,"p"),o._uU(37,"Sauna- ja kylpyhuoneremontit"),o.qZA(),o.TgZ(38,"p"),o._uU(39,"Kattoremontit"),o.qZA(),o.TgZ(40,"a",5),o.NdJ("click",function(){return i.onPress2()}),o._uU(41,"Remontit"),o.qZA(),o.qZA(),o.qZA(),o.YNc(42,f1e,3,1,"div",6),o.TgZ(43,"div",10),o.TgZ(44,"div",4),o.TgZ(45,"h2"),o._uU(46,"Muut Palvelut"),o.qZA(),o.TgZ(47,"p"),o._uU(48,"Piipunpellitykset"),o.qZA(),o.TgZ(49,"p"),o._uU(50,"Sadehatut"),o.qZA(),o.TgZ(51,"p"),o._uU(52,"Kattoturvatuotteet"),o.qZA(),o.TgZ(53,"a",5),o.NdJ("click",function(){return i.onPress3()}),o._uU(54,"Muut Palvelut"),o.qZA(),o.qZA(),o.qZA(),o.YNc(55,h1e,1,0,"router-outlet",0),o.YNc(56,p1e,2,0,"div",6),o._UZ(57,"div",11),o.TgZ(58,"div",12),o.TgZ(59,"div",4),o.TgZ(60,"h2"),o._uU(61,"Verkkokauppa"),o.qZA(),o.TgZ(62,"p"),o._uU(63,"Kaminat"),o.qZA(),o.TgZ(64,"p"),o._uU(65,"Valmistulisijat"),o.qZA(),o.TgZ(66,"p"),o._uU(67,"Hormistot"),o.qZA(),o.TgZ(68,"a",13),o._uU(69,"Verkkokauppaan"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.Q6J("ngIf","/text/1"===i.router.url),o.xp6(15),o.Q6J("ngIf","/text/0"===i.router.url),o.xp6(1),o.Q6J("ngIf",i.display),o.xp6(12),o.Q6J("ngIf","/text/2"===i.router.url),o.xp6(1),o.Q6J("ngIf",i.display1),o.xp6(13),o.Q6J("ngIf",i.display2),o.xp6(13),o.Q6J("ngIf","/text/4"===i.router.url),o.xp6(1),o.Q6J("ngIf",i.display3))},directives:[Qt,u3,bH,MH,wH,xH],styles:[".row[_ngcontent-%COMP%]{box-shadow:7px 7px 56px -24px #00000091;color:#fff;margin-bottom:1rem;font-size:larger;padding-top:2rem;position:relative;height:15rem;text-align:center;align-items:center}#targetGalleria[_ngcontent-%COMP%], #targetPalvelut[_ngcontent-%COMP%], #targetVerkkokauppa[_ngcontent-%COMP%]{width:60px;height:60px}"]}),n})(),C1e=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-footer"]],decls:32,vars:0,consts:[["id","targetYhteistiedot"],[1,"footer"],[1,"container"],[1,"row"],[1,"col"],["target","_blank","href","https://www.instagram.com/eurotulisijat/?hl=fi",2,"text-decoration","none","color","black"],["src","../../assets/img/ig.png",2,"max-height","10%","min-width","10%","opacity","65%"],[2,"color","rgb(85, 45, 13)"]],template:function(e,i){1&e&&(o._UZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o.TgZ(5,"h1"),o._uU(6," Aukioloajat"),o.qZA(),o.TgZ(7,"p"),o._uU(8," Ma - Pe klo 9.00 - 16.00 "),o.qZA(),o.TgZ(9,"p"),o._uU(10," Muulloin sopimuksen mukaan"),o.qZA(),o.qZA(),o.TgZ(11,"div",4),o.TgZ(12,"h1"),o._uU(13,"Yhteystiedot"),o.qZA(),o.TgZ(14,"p"),o._uU(15,"Puh. 0400573797, 0400644600, 0405269283"),o.qZA(),o.TgZ(16,"p"),o._uU(17,"seu@suomeneurouuni.fi"),o.qZA(),o.qZA(),o.TgZ(18,"div",4),o.TgZ(19,"h1"),o._uU(20,"Sijainti"),o.qZA(),o.TgZ(21,"p"),o._uU(22," Raita-ahontie 8"),o.qZA(),o.TgZ(23,"p"),o._uU(24,"52700 M\xe4ntyharju"),o.qZA(),o.qZA(),o.TgZ(25,"div",4),o.TgZ(26,"h1"),o._uU(27,"Seuraa meit\xe4 my\xf6s instragramissa!"),o.qZA(),o.TgZ(28,"a",5),o._UZ(29,"img",6),o.TgZ(30,"p",7),o._uU(31,"eurotulisijat"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA())},styles:[".footer[_ngcontent-%COMP%]{left:0;bottom:0;width:100%;background-color:#fe852b;color:#fff;text-align:center;margin-top:1rem}.col[_ngcontent-%COMP%]{height:300px;text-align:center;line-height:30px;margin-top:10%;color:#552d0d}h1[_ngcontent-%COMP%]{font-size:25px;color:#000}p[_ngcontent-%COMP%]{font-size:20px}#targetYhteistiedot[_ngcontent-%COMP%]{width:60px;height:60px}"]}),n})();var wO={prefix:"fas",iconName:"comment",icon:[512,512,[61669,128489],"f075","M256 32C114.6 32 .0272 125.1 .0272 240c0 49.63 21.35 94.98 56.97 130.7c-12.5 50.37-54.27 95.27-54.77 95.77c-2.25 2.25-2.875 5.734-1.5 8.734C1.979 478.2 4.75 480 8 480c66.25 0 115.1-31.76 140.6-51.39C181.2 440.9 217.6 448 256 448c141.4 0 255.1-93.13 255.1-208S397.4 32 256 32z"]},zP={prefix:"fas",iconName:"fire",icon:[448,512,[128293],"f06d","M323.5 51.25C302.8 70.5 284 90.75 267.4 111.1C240.1 73.62 206.2 35.5 168 0C69.75 91.12 0 210 0 281.6C0 408.9 100.2 512 224 512s224-103.1 224-230.4C448 228.4 396 118.5 323.5 51.25zM304.1 391.9C282.4 407 255.8 416 226.9 416c-72.13 0-130.9-47.73-130.9-125.2c0-38.63 24.24-72.64 72.74-130.8c7 8 98.88 125.4 98.88 125.4l58.63-66.88c4.125 6.75 7.867 13.52 11.24 19.9C364.9 290.6 353.4 357.4 304.1 391.9z"]},XP={prefix:"fas",iconName:"hammer",icon:[576,512,[128296],"f6e3","M568.1 196.3l-22.62-22.62c-4.533-4.533-10.56-7.029-16.97-7.029s-12.44 2.496-16.97 7.029l-5.654 5.656l-20.12-20.12c4.596-23.46-2.652-47.9-19.47-64.73l-45.25-45.25C390.2 17.47 347.1 0 303.1 0C258.2 0 216 17.47 184.3 49.21L176.5 57.05L272.5 105.1v13.81c0 18.95 7.688 37.5 21.09 50.91l49.16 49.14c13.44 13.45 31.39 20.86 50.54 20.86c4.758 0 9.512-.4648 14.18-1.387l20.12 20.12l-5.654 5.654c-9.357 9.357-9.357 24.58-.002 33.94l22.62 22.62c4.535 4.533 10.56 7.031 16.97 7.031s12.44-2.498 16.97-7.031l90.53-90.5C578.3 220.8 578.3 205.6 568.1 196.3zM270.9 192.4c-3.846-3.846-7.197-8.113-10.37-12.49l-239.5 209.2c-28.12 28.12-28.16 73.72-.0371 101.8C35.12 505 53.56 512 71.1 512s36.84-7.031 50.91-21.09l209.1-239.4c-4.141-3.061-8.184-6.289-11.89-9.996L270.9 192.4z"]},jF={prefix:"fas",iconName:"question",icon:[320,512,[10067,10068,61736],"3f","M204.3 32.01H96c-52.94 0-96 43.06-96 96c0 17.67 14.31 31.1 32 31.1s32-14.32 32-31.1c0-17.64 14.34-32 32-32h108.3C232.8 96.01 256 119.2 256 147.8c0 19.72-10.97 37.47-30.5 47.33L127.8 252.4C117.1 258.2 112 268.7 112 280v40c0 17.67 14.31 31.99 32 31.99s32-14.32 32-31.99V298.3L256 251.3c39.47-19.75 64-59.42 64-103.5C320 83.95 268.1 32.01 204.3 32.01zM144 400c-22.09 0-40 17.91-40 40s17.91 39.1 40 39.1s40-17.9 40-39.1S166.1 400 144 400z"]},mU={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M506.3 417l-213.3-364c-16.33-28-57.54-28-73.98 0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6C502.1 480 522.6 445 506.3 417zM232 168c0-13.25 10.75-24 24-24S280 154.8 280 168v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zM256 416c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z"]},NS={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"]};let Nbe=(()=>{class n{constructor(e){this.httpreq=e}sendMessage(e){const r={headers:{headers:new Es({"Content-Type":"application/json"})},responseType:"text"};return this.httpreq.post("http://localhost:3000/email",e,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(y4))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function QU(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function ct(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?QU(Object(e),!0).forEach(function(i){Hbe(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):QU(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Qm(n){return(Qm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function JU(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Hbe(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function kS(n,t){return function Pbe(n){if(Array.isArray(n))return n}(n)||function Fbe(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var c,d,i=[],r=!0,s=!1;try{for(e=e.call(n);!(r=(c=e.next()).done)&&(i.push(c.value),!t||i.length!==t);r=!0);}catch(h){s=!0,d=h}finally{try{!r&&null!=e.return&&e.return()}finally{if(s)throw d}}return i}}(n,t)||XU(n,t)||function Ube(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xm(n){return function Obe(n){if(Array.isArray(n))return VS(n)}(n)||function zbe(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||XU(n)||function Bbe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XU(n,t){if(n){if("string"==typeof n)return VS(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if("Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return VS(n,t)}}function VS(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}var eG=function(){},HS={},tG={},nG=null,iG={mark:eG,measure:eG};try{"undefined"!=typeof window&&(HS=window),"undefined"!=typeof document&&(tG=document),"undefined"!=typeof MutationObserver&&(nG=MutationObserver),"undefined"!=typeof performance&&(iG=performance)}catch(n){}var rG=(HS.navigator||{}).userAgent,sG=void 0===rG?"":rG,wc=HS,Li=tG,oG=nG,e_=iG,B4=!!Li.documentElement&&!!Li.head&&"function"==typeof Li.addEventListener&&"function"==typeof Li.createElement,aG=~sG.indexOf("MSIE")||~sG.indexOf("Trident/"),U4="___FONT_AWESOME___",cG="svg-inline--fa",j5="data-fa-i2svg",OS="data-fa-pseudo-element",PS="data-prefix",zS="data-icon",uG="fontawesome-i2svg",$be=["HTML","HEAD","STYLE","SCRIPT"],dG=function(){try{return!0}catch(n){return!1}}(),FS={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},t_={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},fG={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},Wbe={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},Zbe=/fa[srltdbk\-\ ]/,hG="fa-layers-text",Ybe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,Kbe={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},pG=[1,2,3,4,5,6,7,8,9,10],Qbe=pG.concat([11,12,13,14,15,16,17,18,19,20]),Jbe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Xbe=[].concat(Xm(Object.keys(t_)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(pG.map(function(n){return"".concat(n,"x")})).concat(Qbe.map(function(n){return"w-".concat(n)})),gG=wc.FontAwesomeConfig||{};Li&&"function"==typeof Li.querySelector&&[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var t=kS(n,2),i=t[1],r=function tMe(n){return""===n||"false"!==n&&("true"===n||n)}(function eMe(n){var t=Li.querySelector("script["+n+"]");if(t)return t.getAttribute(n)}(t[0]));null!=r&&(gG[i]=r)});var Yf=ct(ct({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:cG,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),gG);Yf.autoReplaceSvg||(Yf.observeMutations=!1);var kt={};Object.keys(Yf).forEach(function(n){Object.defineProperty(kt,n,{enumerable:!0,set:function(e){Yf[n]=e,n_.forEach(function(i){return i(kt)})},get:function(){return Yf[n]}})}),wc.FontAwesomeConfig=kt;var n_=[],g3={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Kf(){for(var n=12,t="";n-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function mu(n){for(var t=[],e=(n||[]).length>>>0;e--;)t[e]=n[e];return t}function BS(n){return n.classList?mu(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(t){return t})}function CG(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function i_(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,": ").concat(n[e].trim(),";")},"")}function US(n){return n.size!==g3.size||n.x!==g3.x||n.y!==g3.y||n.rotate!==g3.rotate||n.flipX||n.flipY}function mG(){var n="fa",t=cG,e=kt.familyPrefix,i=kt.replacementClass,r=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(e!==n||i!==t){var s=new RegExp("\\.".concat(n,"\\-"),"g"),c=new RegExp("\\--".concat(n,"\\-"),"g"),d=new RegExp("\\.".concat(t),"g");r=r.replace(s,".".concat(e,"-")).replace(c,"--".concat(e,"-")).replace(d,".".concat(i))}return r}var _G=!1;function GS(){kt.autoAddCss&&!_G&&(function sMe(n){if(n&&B4){var t=Li.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=n;for(var e=Li.head.childNodes,i=null,r=e.length-1;r>-1;r--){var s=e[r],c=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(c)>-1&&(i=s)}Li.head.insertBefore(t,i)}}(mG()),_G=!0)}var dMe={mixout:function(){return{dom:{css:mG,insertCss:GS}}},hooks:function(){return{beforeDOMElementCreation:function(){GS()},beforeI2svg:function(){GS()}}}},G4=wc||{};G4[U4]||(G4[U4]={}),G4[U4].styles||(G4[U4].styles={}),G4[U4].hooks||(G4[U4].hooks={}),G4[U4].shims||(G4[U4].shims=[]);var sa=G4[U4],vG=[],r_=!1;function hMe(n){!B4||(r_?setTimeout(n,0):vG.push(n))}function Qf(n){var t=n.tag,e=n.attributes,i=void 0===e?{}:e,r=n.children,s=void 0===r?[]:r;return"string"==typeof n?CG(n):"<".concat(t," ").concat(function aMe(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,'="').concat(CG(n[e]),'" ')},"").trim()}(i),">").concat(s.map(Qf).join(""),"</").concat(t,">")}function yG(n,t,e){if(n&&n[t]&&n[t][e])return{prefix:t,iconName:e,icon:n[t][e]}}B4&&((r_=(Li.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Li.readyState))||Li.addEventListener("DOMContentLoaded",function n(){Li.removeEventListener("DOMContentLoaded",n),r_=1,vG.map(function(t){return t()})}));var jS=function(t,e,i,r){var h,_,M,s=Object.keys(t),c=s.length,d=void 0!==r?function(t,e){return function(i,r,s,c){return t.call(e,i,r,s,c)}}(e,r):e;for(void 0===i?(h=1,M=t[s[0]]):(h=0,M=i);h<c;h++)M=d(M,t[_=s[h]],_,t);return M};function qS(n){var t=function gMe(n){for(var t=[],e=0,i=n.length;e<i;){var r=n.charCodeAt(e++);if(r>=55296&&r<=56319&&e<i){var s=n.charCodeAt(e++);56320==(64512&s)?t.push(((1023&r)<<10)+(1023&s)+65536):(t.push(r),e--)}else t.push(r)}return t}(n);return 1===t.length?t[0].toString(16):null}function bG(n){return Object.keys(n).reduce(function(t,e){var i=n[e];return i.icon?t[i.iconName]=i.icon:t[e]=i,t},{})}function $S(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.skipHooks,r=void 0!==i&&i,s=bG(t);"function"!=typeof sa.hooks.addPack||r?sa.styles[n]=ct(ct({},sa.styles[n]||{}),s):sa.hooks.addPack(n,bG(t)),"fas"===n&&$S("fa",t)}var Jf=sa.styles,mMe=sa.shims,_Me=Object.values(fG),WS=null,MG={},wG={},xG={},SG={},LG={},vMe=Object.keys(FS);function bMe(n,t){var e=t.split("-"),i=e[0],r=e.slice(1).join("-");return i!==n||""===r||function yMe(n){return~Xbe.indexOf(n)}(r)?null:r}var EG=function(){var t=function(s){return jS(Jf,function(c,d,h){return c[h]=jS(d,s,{}),c},{})};MG=t(function(r,s,c){return s[3]&&(r[s[3]]=c),s[2]&&s[2].filter(function(h){return"number"==typeof h}).forEach(function(h){r[h.toString(16)]=c}),r}),wG=t(function(r,s,c){return r[c]=c,s[2]&&s[2].filter(function(h){return"string"==typeof h}).forEach(function(h){r[h]=c}),r}),LG=t(function(r,s,c){var d=s[2];return r[c]=c,d.forEach(function(h){r[h]=c}),r});var e="far"in Jf||kt.autoFetchSvg,i=jS(mMe,function(r,s){var c=s[0],d=s[1],h=s[2];return"far"===d&&!e&&(d="fas"),"string"==typeof c&&(r.names[c]={prefix:d,iconName:h}),"number"==typeof c&&(r.unicodes[c.toString(16)]={prefix:d,iconName:h}),r},{names:{},unicodes:{}});xG=i.names,SG=i.unicodes,WS=s_(kt.styleDefault)};function ZS(n,t){return(MG[n]||{})[t]}function _u(n,t){return(LG[n]||{})[t]}function TG(n){return xG[n]||{prefix:null,iconName:null}}function Sc(){return WS}function s_(n){return t_[n]||t_[FS[n]]||(n in sa.styles?n:null)||null}function o_(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.skipLookups,i=void 0!==e&&e,r=null,s=n.reduce(function(c,d){var h=bMe(kt.familyPrefix,d);if(Jf[d]?(d=_Me.includes(d)?Wbe[d]:d,r=d,c.prefix=d):vMe.indexOf(d)>-1?(r=d,c.prefix=s_(d)):h?c.iconName=h:d!==kt.replacementClass&&c.rest.push(d),!i&&c.prefix&&c.iconName){var _="fa"===r?TG(c.iconName):{},M=_u(c.prefix,c.iconName);_.prefix&&(r=null),c.iconName=_.iconName||M||c.iconName,c.prefix=_.prefix||c.prefix,"far"===c.prefix&&!Jf.far&&Jf.fas&&!kt.autoFetchSvg&&(c.prefix="fas")}return c},{prefix:null,iconName:null,rest:[]});return("fa"===s.prefix||"fa"===r)&&(s.prefix=Sc()||"fas"),s}(function rMe(n){n_.push(n)})(function(n){WS=s_(n.styleDefault)}),EG();var xMe=function(){function n(){(function kbe(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function Vbe(n,t,e){t&&JU(n.prototype,t),e&&JU(n,e),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var e=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var c=r.reduce(this._pullDefinitions,{});Object.keys(c).forEach(function(d){e.definitions[d]=ct(ct({},e.definitions[d]||{}),c[d]),$S(d,c[d]);var h=fG[d];h&&$S(h,c[d]),EG()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(s){var c=r[s],d=c.prefix,h=c.iconName,_=c.icon,M=_[2];e[d]||(e[d]={}),M.length>0&&M.forEach(function(x){"string"==typeof x&&(e[d][x]=_)}),e[d][h]=_}),e}}]),n}(),DG=[],vu={},yu={},SMe=Object.keys(yu);function KS(n,t){for(var e=arguments.length,i=new Array(e>2?e-2:0),r=2;r<e;r++)i[r-2]=arguments[r];var s=vu[n]||[];return s.forEach(function(c){t=c.apply(null,[t].concat(i))}),t}function $5(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];var r=vu[n]||[];r.forEach(function(s){s.apply(null,e)})}function j4(){var n=arguments[0],t=Array.prototype.slice.call(arguments,1);return yu[n]?yu[n].apply(null,t):void 0}function QS(n){"fa"===n.prefix&&(n.prefix="fas");var t=n.iconName,e=n.prefix||Sc();if(t)return t=_u(e,t)||t,yG(AG.definitions,e,t)||yG(sa.styles,e,t)}var AG=new xMe,TMe={i2svg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return B4?($5("beforeI2svg",t),j4("pseudoElements2svg",t),j4("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot;!1===kt.autoReplaceSvg&&(kt.autoReplaceSvg=!0),kt.observeMutations=!0,hMe(function(){AMe({autoReplaceSvgRoot:e}),$5("watch",t)})}},Rs={noAuto:function(){kt.autoReplaceSvg=!1,kt.observeMutations=!1,$5("noAuto")},config:kt,dom:TMe,parse:{icon:function(t){if(null===t)return null;if("object"===Qm(t)&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:_u(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&2===t.length){var e=0===t[1].indexOf("fa-")?t[1].slice(3):t[1],i=s_(t[0]);return{prefix:i,iconName:_u(i,e)||e}}if("string"==typeof t&&(t.indexOf("".concat(kt.familyPrefix,"-"))>-1||t.match(Zbe))){var r=o_(t.split(" "),{skipLookups:!0});return{prefix:r.prefix||Sc(),iconName:_u(r.prefix,r.iconName)||r.iconName}}if("string"==typeof t){var s=Sc();return{prefix:s,iconName:_u(s,t)||t}}}},library:AG,findIconDefinition:QS,toHtml:Qf},AMe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot,i=void 0===e?Li:e;(Object.keys(sa.styles).length>0||kt.autoFetchSvg)&&B4&&kt.autoReplaceSvg&&Rs.dom.i2svg({node:i})};function a_(n,t){return Object.defineProperty(n,"abstract",{get:t}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(i){return Qf(i)})}}),Object.defineProperty(n,"node",{get:function(){if(B4){var i=Li.createElement("div");return i.innerHTML=n.html,i.children}}}),n}function JS(n){var t=n.icons,e=t.main,i=t.mask,r=n.prefix,s=n.iconName,c=n.transform,d=n.symbol,h=n.title,_=n.maskId,M=n.titleId,x=n.extra,D=n.watchable,N=void 0!==D&&D,H=i.found?i:e,U=H.width,Y=H.height,ae="fak"===r,ce=[kt.replacementClass,s?"".concat(kt.familyPrefix,"-").concat(s):""].filter(function(ei){return-1===x.classes.indexOf(ei)}).filter(function(ei){return""!==ei||!!ei}).concat(x.classes).join(" "),ke={children:[],attributes:ct(ct({},x.attributes),{},{"data-prefix":r,"data-icon":s,class:ce,role:x.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(U," ").concat(Y)})},Te=ae&&!~x.classes.indexOf("fa-fw")?{width:"".concat(U/Y*16*.0625,"em")}:{};N&&(ke.attributes[j5]=""),h&&(ke.children.push({tag:"title",attributes:{id:ke.attributes["aria-labelledby"]||"title-".concat(M||Kf())},children:[h]}),delete ke.attributes.title);var tt=ct(ct({},ke),{},{prefix:r,iconName:s,main:e,mask:i,maskId:_,transform:c,symbol:d,styles:ct(ct({},Te),x.styles)}),st=i.found&&e.found?j4("generateAbstractMask",tt)||{children:[],attributes:{}}:j4("generateAbstractIcon",tt)||{children:[],attributes:{}},Kt=st.attributes;return tt.children=st.children,tt.attributes=Kt,d?function NMe(n){var e=n.iconName,i=n.children,r=n.attributes,s=n.symbol,c=!0===s?"".concat(n.prefix,"-").concat(kt.familyPrefix,"-").concat(e):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ct(ct({},r),{},{id:c}),children:i}]}]}(tt):function IMe(n){var t=n.children,e=n.main,i=n.mask,r=n.attributes,s=n.styles,c=n.transform;if(US(c)&&e.found&&!i.found){var _={x:e.width/e.height/2,y:.5};r.style=i_(ct(ct({},s),{},{"transform-origin":"".concat(_.x+c.x/16,"em ").concat(_.y+c.y/16,"em")}))}return[{tag:"svg",attributes:r,children:t}]}(tt)}function IG(n){var t=n.content,e=n.width,i=n.height,r=n.transform,s=n.title,c=n.extra,d=n.watchable,h=void 0!==d&&d,_=ct(ct(ct({},c.attributes),s?{title:s}:{}),{},{class:c.classes.join(" ")});h&&(_[j5]="");var M=ct({},c.styles);US(r)&&(M.transform=function cMe(n){var t=n.transform,e=n.width,r=n.height,s=void 0===r?16:r,c=n.startCentered,d=void 0!==c&&c,h="";return h+=d&&aG?"translate(".concat(t.x/16-(void 0===e?16:e)/2,"em, ").concat(t.y/16-s/2,"em) "):d?"translate(calc(-50% + ".concat(t.x/16,"em), calc(-50% + ").concat(t.y/16,"em)) "):"translate(".concat(t.x/16,"em, ").concat(t.y/16,"em) "),(h+="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "))+"rotate(".concat(t.rotate,"deg) ")}({transform:r,startCentered:!0,width:e,height:i}),M["-webkit-transform"]=M.transform);var x=i_(M);x.length>0&&(_.style=x);var D=[];return D.push({tag:"span",attributes:_,children:[t]}),s&&D.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),D}function kMe(n){var t=n.content,e=n.title,i=n.extra,r=ct(ct(ct({},i.attributes),e?{title:e}:{}),{},{class:i.classes.join(" ")}),s=i_(i.styles);s.length>0&&(r.style=s);var c=[];return c.push({tag:"span",attributes:r,children:[t]}),e&&c.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),c}var XS=sa.styles;function eL(n){var t=n[0],e=n[1],s=kS(n.slice(4),1)[0];return{found:!0,width:t,height:e,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(kt.familyPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(kt.familyPrefix,"-").concat("secondary"),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(kt.familyPrefix,"-").concat("primary"),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var VMe={found:!1,width:512,height:512};function tL(n,t){var e=t;return"fa"===t&&null!==kt.styleDefault&&(t=Sc()),new Promise(function(i,r){if(j4("missingIconAbstract"),"fa"===e){var c=TG(n)||{};n=c.iconName||n,t=c.prefix||t}if(n&&t&&XS[t]&&XS[t][n])return i(eL(XS[t][n]));(function HMe(n,t){!dG&&!kt.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(t,'" is missing.'))})(n,t),i(ct(ct({},VMe),{},{icon:kt.showMissingIcons&&n&&j4("missingIconAbstract")||{}}))})}var NG=function(){},nL=kt.measurePerformance&&e_&&e_.mark&&e_.measure?e_:{mark:NG,measure:NG},Xf='FA "6.1.1"',iL_begin=function(t){return nL.mark("".concat(Xf," ").concat(t," begins")),function(){return function(t){nL.mark("".concat(Xf," ").concat(t," ends")),nL.measure("".concat(Xf," ").concat(t),"".concat(Xf," ").concat(t," begins"),"".concat(Xf," ").concat(t," ends"))}(t)}},l_=function(){};function VG(n){return"string"==typeof(n.getAttribute?n.getAttribute(j5):null)}function FMe(n){return Li.createElementNS("http://www.w3.org/2000/svg",n)}function BMe(n){return Li.createElement(n)}function HG(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.ceFn,i=void 0===e?"svg"===n.tag?FMe:BMe:e;if("string"==typeof n)return Li.createTextNode(n);var r=i(n.tag);Object.keys(n.attributes||[]).forEach(function(c){r.setAttribute(c,n.attributes[c])});var s=n.children||[];return s.forEach(function(c){r.appendChild(HG(c,{ceFn:i}))}),r}var c_={replace:function(t){var e=t[0];if(e.parentNode)if(t[1].forEach(function(r){e.parentNode.insertBefore(HG(r),e)}),null===e.getAttribute(j5)&&kt.keepOriginalSource){var i=Li.createComment(function UMe(n){var t=" ".concat(n.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(e));e.parentNode.replaceChild(i,e)}else e.remove()},nest:function(t){var e=t[0],i=t[1];if(~BS(e).indexOf(kt.replacementClass))return c_.replace(t);var r=new RegExp("".concat(kt.familyPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var s=i[0].attributes.class.split(" ").reduce(function(d,h){return h===kt.replacementClass||h.match(r)?d.toSvg.push(h):d.toNode.push(h),d},{toNode:[],toSvg:[]});i[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}var c=i.map(function(d){return Qf(d)}).join("\n");e.setAttribute(j5,""),e.innerHTML=c}};function RG(n){n()}function OG(n,t){var e="function"==typeof t?t:l_;if(0===n.length)e();else{var i=RG;"async"===kt.mutateApproach&&(i=wc.requestAnimationFrame||RG),i(function(){var r=function zMe(){return!0===kt.autoReplaceSvg?c_.replace:c_[kt.autoReplaceSvg]||c_.replace}(),s=iL_begin("mutate");n.map(r),s(),e()})}}var rL=!1;function PG(){rL=!0}function sL(){rL=!1}var u_=null;function zG(n){if(oG&&kt.observeMutations){var t=n.treeCallback,e=void 0===t?l_:t,i=n.nodeCallback,r=void 0===i?l_:i,s=n.pseudoElementsCallback,c=void 0===s?l_:s,d=n.observeMutationsRoot,h=void 0===d?Li:d;u_=new oG(function(_){if(!rL){var M=Sc();mu(_).forEach(function(x){if("childList"===x.type&&x.addedNodes.length>0&&!VG(x.addedNodes[0])&&(kt.searchPseudoElements&&c(x.target),e(x.target)),"attributes"===x.type&&x.target.parentNode&&kt.searchPseudoElements&&c(x.target.parentNode),"attributes"===x.type&&VG(x.target)&&~Jbe.indexOf(x.attributeName))if("class"===x.attributeName&&function OMe(n){var t=n.getAttribute?n.getAttribute(PS):null,e=n.getAttribute?n.getAttribute(zS):null;return t&&e}(x.target)){var D=o_(BS(x.target)),H=D.iconName;x.target.setAttribute(PS,D.prefix||M),H&&x.target.setAttribute(zS,H)}else(function PMe(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(kt.replacementClass)})(x.target)&&r(x.target)})}}),B4&&u_.observe(h,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function jMe(n){var t=n.getAttribute("style"),e=[];return t&&(e=t.split(";").reduce(function(i,r){var s=r.split(":"),c=s[0],d=s.slice(1);return c&&d.length>0&&(i[c]=d.join(":").trim()),i},{})),e}function qMe(n){var t=n.getAttribute("data-prefix"),e=n.getAttribute("data-icon"),i=void 0!==n.innerText?n.innerText.trim():"",r=o_(BS(n));return r.prefix||(r.prefix=Sc()),t&&e&&(r.prefix=t,r.iconName=e),r.iconName&&r.prefix||r.prefix&&i.length>0&&(r.iconName=function MMe(n,t){return(wG[n]||{})[t]}(r.prefix,n.innerText)||ZS(r.prefix,qS(n.innerText))),r}function $Me(n){var t=mu(n.attributes).reduce(function(r,s){return"class"!==r.name&&"style"!==r.name&&(r[s.name]=s.value),r},{}),e=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return kt.autoA11y&&(e?t["aria-labelledby"]="".concat(kt.replacementClass,"-title-").concat(i||Kf()):(t["aria-hidden"]="true",t.focusable="false")),t}function FG(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},e=qMe(n),i=e.iconName,r=e.prefix,s=e.rest,c=$Me(n),d=KS("parseNodeAttributes",{},n),h=t.styleParser?jMe(n):[];return ct({iconName:i,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:r,transform:g3,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:h,attributes:c}},d)}var ZMe=sa.styles;function BG(n){var t="nest"===kt.autoReplaceSvg?FG(n,{styleParser:!1}):FG(n);return~t.extra.classes.indexOf(hG)?j4("generateLayersText",n,t):j4("generateSvgReplacementMutation",n,t)}function UG(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!B4)return Promise.resolve();var e=Li.documentElement.classList,i=function(x){return e.add("".concat(uG,"-").concat(x))},r=function(x){return e.remove("".concat(uG,"-").concat(x))},s=Object.keys(kt.autoFetchSvg?FS:ZMe),c=[".".concat(hG,":not([").concat(j5,"])")].concat(s.map(function(M){return".".concat(M,":not([").concat(j5,"])")})).join(", ");if(0===c.length)return Promise.resolve();var d=[];try{d=mu(n.querySelectorAll(c))}catch(M){}if(!(d.length>0))return Promise.resolve();i("pending"),r("complete");var h=iL_begin("onTree"),_=d.reduce(function(M,x){try{var D=BG(x);D&&M.push(D)}catch(N){dG||"MissingIcon"===N.name&&console.error(N)}return M},[]);return new Promise(function(M,x){Promise.all(_).then(function(D){OG(D,function(){i("active"),i("complete"),r("pending"),"function"==typeof t&&t(),h(),M()})}).catch(function(D){h(),x(D)})})}function YMe(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;BG(n).then(function(e){e&&OG([e],t)})}var QMe=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.transform,r=void 0===i?g3:i,s=e.symbol,c=void 0!==s&&s,d=e.mask,h=void 0===d?null:d,_=e.maskId,M=void 0===_?null:_,x=e.title,D=void 0===x?null:x,N=e.titleId,H=void 0===N?null:N,U=e.classes,Y=void 0===U?[]:U,ae=e.attributes,ce=void 0===ae?{}:ae,ke=e.styles,Te=void 0===ke?{}:ke;if(t){var tt=t.prefix,st=t.iconName,un=t.icon;return a_(ct({type:"icon"},t),function(){return $5("beforeDOMElementCreation",{iconDefinition:t,params:e}),kt.autoA11y&&(D?ce["aria-labelledby"]="".concat(kt.replacementClass,"-title-").concat(H||Kf()):(ce["aria-hidden"]="true",ce.focusable="false")),JS({icons:{main:eL(un),mask:h?eL(h.icon):{found:!1,width:null,height:null,icon:{}}},prefix:tt,iconName:st,transform:ct(ct({},g3),r),symbol:c,title:D,maskId:M,titleId:H,extra:{attributes:ce,styles:Te,classes:Y}})})}},JMe={mixout:function(){return{icon:(n=QMe,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(t||{}).icon?t:QS(t||{}),r=e.mask;return r&&(r=(r||{}).icon?r:QS(r||{})),n(i,ct(ct({},e),{},{mask:r}))})};var n},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=UG,e.nodeCallback=YMe,e}}},provides:function(t){t.i2svg=function(e){var i=e.node,s=e.callback;return UG(void 0===i?Li:i,void 0===s?function(){}:s)},t.generateSvgReplacementMutation=function(e,i){var r=i.iconName,s=i.title,c=i.titleId,d=i.prefix,h=i.transform,_=i.symbol,M=i.mask,x=i.maskId,D=i.extra;return new Promise(function(N,H){Promise.all([tL(r,d),M.iconName?tL(M.iconName,M.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(U){var Y=kS(U,2);N([e,JS({icons:{main:Y[0],mask:Y[1]},prefix:d,iconName:r,transform:h,symbol:_,maskId:x,title:s,titleId:c,extra:D,watchable:!0})])}).catch(H)})},t.generateAbstractIcon=function(e){var _,i=e.children,r=e.attributes,s=e.main,c=e.transform,h=i_(e.styles);return h.length>0&&(r.style=h),US(c)&&(_=j4("generateAbstractTransformGrouping",{main:s,transform:c,containerWidth:s.width,iconWidth:s.width})),i.push(_||s.icon),{children:i,attributes:r}}}},XMe={mixout:function(){return{layer:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.classes,s=void 0===r?[]:r;return a_({type:"layer"},function(){$5("beforeDOMElementCreation",{assembler:e,params:i});var c=[];return e(function(d){Array.isArray(d)?d.map(function(h){c=c.concat(h.abstract)}):c=c.concat(d.abstract)}),[{tag:"span",attributes:{class:["".concat(kt.familyPrefix,"-layers")].concat(Xm(s)).join(" ")},children:c}]})}}}},ewe={mixout:function(){return{counter:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.title,s=void 0===r?null:r,c=i.classes,d=void 0===c?[]:c,h=i.attributes,_=void 0===h?{}:h,M=i.styles,x=void 0===M?{}:M;return a_({type:"counter",content:e},function(){return $5("beforeDOMElementCreation",{content:e,params:i}),kMe({content:e.toString(),title:s,extra:{attributes:_,styles:x,classes:["".concat(kt.familyPrefix,"-layers-counter")].concat(Xm(d))}})})}}}},twe={mixout:function(){return{text:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.transform,s=void 0===r?g3:r,c=i.title,d=void 0===c?null:c,h=i.classes,_=void 0===h?[]:h,M=i.attributes,x=void 0===M?{}:M,D=i.styles,N=void 0===D?{}:D;return a_({type:"text",content:e},function(){return $5("beforeDOMElementCreation",{content:e,params:i}),IG({content:e,transform:ct(ct({},g3),s),title:d,extra:{attributes:x,styles:N,classes:["".concat(kt.familyPrefix,"-layers-text")].concat(Xm(_))}})})}}},provides:function(t){t.generateLayersText=function(e,i){var r=i.title,s=i.transform,c=i.extra,d=null,h=null;if(aG){var _=parseInt(getComputedStyle(e).fontSize,10),M=e.getBoundingClientRect();d=M.width/_,h=M.height/_}return kt.autoA11y&&!r&&(c.attributes["aria-hidden"]="true"),Promise.resolve([e,IG({content:e.innerHTML,width:d,height:h,transform:s,title:r,extra:c,watchable:!0})])}}},nwe=new RegExp('"',"ug"),GG=[1105920,1112319];function jG(n,t){var e="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise(function(i,r){if(null!==n.getAttribute(e))return i();var c=mu(n.children).filter(function(st){return st.getAttribute(OS)===t})[0],d=wc.getComputedStyle(n,t),h=d.getPropertyValue("font-family").match(Ybe),_=d.getPropertyValue("font-weight"),M=d.getPropertyValue("content");if(c&&!h)return n.removeChild(c),i();if(h&&"none"!==M&&""!==M){var x=d.getPropertyValue("content"),D=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(h[2])?t_[h[2].toLowerCase()]:Kbe[_],N=function iwe(n){var t=n.replace(nwe,""),e=function CMe(n,t){var r,e=n.length,i=n.charCodeAt(t);return i>=55296&&i<=56319&&e>t+1&&(r=n.charCodeAt(t+1))>=56320&&r<=57343?1024*(i-55296)+r-56320+65536:i}(t,0),i=e>=GG[0]&&e<=GG[1],r=2===t.length&&t[0]===t[1];return{value:qS(r?t[0]:t),isSecondary:i||r}}(x),H=N.value,U=N.isSecondary,Y=h[0].startsWith("FontAwesome"),ae=ZS(D,H),ce=ae;if(Y){var ke=function wMe(n){var t=SG[n],e=ZS("fas",n);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}(H);ke.iconName&&ke.prefix&&(ae=ke.iconName,D=ke.prefix)}if(!ae||U||c&&c.getAttribute(PS)===D&&c.getAttribute(zS)===ce)i();else{n.setAttribute(e,ce),c&&n.removeChild(c);var Te=function WMe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:g3,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),tt=Te.extra;tt.attributes[OS]=t,tL(ae,D).then(function(st){var un=JS(ct(ct({},Te),{},{icons:{main:st,mask:{prefix:null,iconName:null,rest:[]}},prefix:D,iconName:ce,extra:tt,watchable:!0})),Kt=Li.createElement("svg");"::before"===t?n.insertBefore(Kt,n.firstChild):n.appendChild(Kt),Kt.outerHTML=un.map(function(ei){return Qf(ei)}).join("\n"),n.removeAttribute(e),i()}).catch(r)}}else i()})}function rwe(n){return Promise.all([jG(n,"::before"),jG(n,"::after")])}function swe(n){return!(n.parentNode===document.head||~$be.indexOf(n.tagName.toUpperCase())||n.getAttribute(OS)||n.parentNode&&"svg"===n.parentNode.tagName)}function qG(n){if(B4)return new Promise(function(t,e){var i=mu(n.querySelectorAll("*")).filter(swe).map(rwe),r=iL_begin("searchPseudoElements");PG(),Promise.all(i).then(function(){r(),sL(),t()}).catch(function(){r(),sL(),e()})})}var $G=!1,WG=function(t){return t.toLowerCase().split(" ").reduce(function(i,r){var s=r.toLowerCase().split("-"),c=s[0],d=s.slice(1).join("-");if(c&&"h"===d)return i.flipX=!0,i;if(c&&"v"===d)return i.flipY=!0,i;if(d=parseFloat(d),isNaN(d))return i;switch(c){case"grow":i.size=i.size+d;break;case"shrink":i.size=i.size-d;break;case"left":i.x=i.x-d;break;case"right":i.x=i.x+d;break;case"up":i.y=i.y-d;break;case"down":i.y=i.y+d;break;case"rotate":i.rotate=i.rotate+d}return i},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},oL={x:0,y:0,width:"100%",height:"100%"};function ZG(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||t)&&(n.attributes.fill="black"),n}var uwe={hooks:function(){return{parseNodeAttributes:function(e,i){var r=i.getAttribute("data-fa-mask"),s=r?o_(r.split(" ").map(function(c){return c.trim()})):{prefix:null,iconName:null,rest:[]};return s.prefix||(s.prefix=Sc()),e.mask=s,e.maskId=i.getAttribute("data-fa-mask-id"),e}}},provides:function(t){t.generateAbstractMask=function(e){var n,i=e.children,r=e.attributes,s=e.main,c=e.mask,d=e.maskId,M=s.icon,D=c.icon,N=function lMe(n){var t=n.transform,i=n.iconWidth,r={transform:"translate(".concat(n.containerWidth/2," 256)")},s="translate(".concat(32*t.x,", ").concat(32*t.y,") "),c="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),d="rotate(".concat(t.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(s," ").concat(c," ").concat(d)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}({transform:e.transform,containerWidth:c.width,iconWidth:s.width}),H={tag:"rect",attributes:ct(ct({},oL),{},{fill:"white"})},U=M.children?{children:M.children.map(ZG)}:{},Y={tag:"g",attributes:ct({},N.inner),children:[ZG(ct({tag:M.tag,attributes:ct(ct({},M.attributes),N.path)},U))]},ae={tag:"g",attributes:ct({},N.outer),children:[Y]},ce="mask-".concat(d||Kf()),ke="clip-".concat(d||Kf()),Te={tag:"mask",attributes:ct(ct({},oL),{},{id:ce,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[H,ae]},tt={tag:"defs",children:[{tag:"clipPath",attributes:{id:ke},children:(n=D,"g"===n.tag?n.children:[n])},Te]};return i.push(tt,{tag:"rect",attributes:ct({fill:"currentColor","clip-path":"url(#".concat(ke,")"),mask:"url(#".concat(ce,")")},oL)}),{children:i,attributes:r}}}};!function LMe(n,t){var e=t.mixoutsTo;DG=n,vu={},Object.keys(yu).forEach(function(i){-1===SMe.indexOf(i)&&delete yu[i]}),DG.forEach(function(i){var r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(function(c){"function"==typeof r[c]&&(e[c]=r[c]),"object"===Qm(r[c])&&Object.keys(r[c]).forEach(function(d){e[c]||(e[c]={}),e[c][d]=r[c][d]})}),i.hooks){var s=i.hooks();Object.keys(s).forEach(function(c){vu[c]||(vu[c]=[]),vu[c].push(s[c])})}i.provides&&i.provides(yu)})}([dMe,JMe,XMe,ewe,twe,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=qG,e}}},provides:function(t){t.pseudoElements2svg=function(e){var i=e.node;kt.searchPseudoElements&&qG(void 0===i?Li:i)}}},{mixout:function(){return{dom:{unwatch:function(){PG(),$G=!0}}}},hooks:function(){return{bootstrap:function(){zG(KS("mutationObserverCallbacks",{}))},noAuto:function(){!function GMe(){!u_||u_.disconnect()}()},watch:function(e){var i=e.observeMutationsRoot;$G?sL():zG(KS("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},{mixout:function(){return{parse:{transform:function(e){return WG(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,i){var r=i.getAttribute("data-fa-transform");return r&&(e.transform=WG(r)),e}}},provides:function(t){t.generateAbstractTransformGrouping=function(e){var i=e.main,r=e.transform,c=e.iconWidth,d={transform:"translate(".concat(e.containerWidth/2," 256)")},h="translate(".concat(32*r.x,", ").concat(32*r.y,") "),_="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),M="rotate(".concat(r.rotate," 0 0)"),N={outer:d,inner:{transform:"".concat(h," ").concat(_," ").concat(M)},path:{transform:"translate(".concat(c/2*-1," -256)")}};return{tag:"g",attributes:ct({},N.outer),children:[{tag:"g",attributes:ct({},N.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:ct(ct({},i.icon.attributes),N.path)}]}]}}}},uwe,{provides:function(t){var e=!1;wc.matchMedia&&(e=wc.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var i=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:ct(ct({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var c=ct(ct({},s),{},{attributeName:"opacity"}),d={tag:"circle",attributes:ct(ct({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||d.children.push({tag:"animate",attributes:ct(ct({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ct(ct({},c),{},{values:"1;0;1;1;0;1;"})}),i.push(d),i.push({tag:"path",attributes:ct(ct({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:ct(ct({},c),{},{values:"1;0;0;0;0;1;"})}]}),e||i.push({tag:"path",attributes:ct(ct({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ct(ct({},c),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},{hooks:function(){return{parseNodeAttributes:function(e,i){var r=i.getAttribute("data-fa-symbol");return e.symbol=null!==r&&(""===r||r),e}}}}],{mixoutsTo:Rs});var pwe=Rs.parse,gwe=Rs.icon;const Cwe=["*"],vwe=n=>{const t={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(t).map(e=>t[e]?e:null).filter(e=>e)};let Mwe=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wwe=(()=>{class n{constructor(){this.definitions={}}addIcons(...e){for(const i of e){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const r of i.icon[2])"string"==typeof r&&(this.definitions[i.prefix][r]=i)}}addIconPacks(...e){for(const i of e){const r=Object.keys(i).map(s=>i[s]);this.addIcons(...r)}}getIconDefinition(e,i){return e in this.definitions&&i in this.definitions[e]?this.definitions[e][i]:null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xwe=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(e){if("size"in e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[o.TTD]}),n})(),Swe=(()=>{class n{constructor(e,i){this.renderer=e,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(e){"size"in e&&(null!=e.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${e.size.currentValue}`),null!=e.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${e.size.previousValue}`))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275cmp=o.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[o.TTD],ngContentSelectors:Cwe,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2}),n})(),aL=(()=>{class n{constructor(e,i,r,s,c){this.sanitizer=e,this.config=i,this.iconLibrary=r,this.stackItem=s,this.classes=[],null!=c&&null==s&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(e){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let i=null;if(i=null==this.icon?this.config.fallbackIcon:this.icon,e){const r=this.findIconDefinition(i);if(null!=r){const s=this.buildParams();this.renderIcon(r,s)}}}render(){this.ngOnChanges({})}findIconDefinition(e){const i=((n,t)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:t,iconName:n}:void 0)(e,this.config.defaultPrefix);if("icon"in i)return i;const r=this.iconLibrary.getIconDefinition(i.prefix,i.iconName);return null!=r?r:((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(i),null)}buildParams(){const e={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?pwe.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...vwe(e),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(e,i){const r=gwe(e,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(r.html.join("\n"))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(j1),o.Y36(Mwe),o.Y36(wwe),o.Y36(xwe,8),o.Y36(Swe,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(e,i){2&e&&(o.Ikx("innerHTML",i.renderedIconHTML,o.oJD),o.uIk("title",i.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[o.TTD],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),Lwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function Ewe(n,t){if(1&n&&(o.TgZ(0,"b"),o.TgZ(1,"small",13),o._uU(2,"S\xe4hk\xf6posti tarvitaan "),o.qZA(),o._UZ(3,"fa-icon",14),o.qZA()),2&n){const e=o.oxw(2);o.xp6(3),o.Q6J("icon",e.faExclamationTriangle)}}function Twe(n,t){if(1&n&&(o.TgZ(0,"b"),o.TgZ(1,"small",13),o._uU(2,"Viallinen S\xe4hk\xf6posti "),o.qZA(),o._UZ(3,"fa-icon",14),o.qZA()),2&n){const e=o.oxw(2);o.xp6(3),o.Q6J("icon",e.faExclamationTriangle)}}function Dwe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",1),o.TgZ(1,"h2",2),o._uU(2,"Remontit"),o.qZA(),o.TgZ(3,"p",3),o._uU(4,"Yhteydenottolomake"),o.qZA(),o.TgZ(5,"form"),o.TgZ(6,"div",4),o.TgZ(7,"label",5),o._uU(8,"Nimi"),o.qZA(),o._UZ(9,"input",6),o.qZA(),o.TgZ(10,"div",4),o.TgZ(11,"label",7),o._uU(12,"S\xe4hk\xf6posti"),o.qZA(),o._UZ(13,"input",8),o.YNc(14,Ewe,4,1,"b",9),o.YNc(15,Twe,4,1,"b",9),o.qZA(),o.TgZ(16,"div",4),o.TgZ(17,"label",10),o._uU(18,"Tietoja"),o.qZA(),o._UZ(19,"textarea",11),o.qZA(),o._UZ(20,"br"),o.TgZ(21,"button",12),o.NdJ("click",function(){return o.CHM(e),o.oxw().sendMail()}),o._uU(22,"L\xe4het\xe4 Viesti"),o.qZA(),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.xp6(9),o.Q6J("formControl",e.nameFormControl),o.xp6(4),o.Q6J("formControl",e.emailFormControl),o.xp6(1),o.Q6J("ngIf",e.emailFormControl.hasError("required")&&e.emailFormControl.touched),o.xp6(1),o.Q6J("ngIf",e.emailFormControl.hasError("email")),o.xp6(4),o.Q6J("formControl",e.messageFormControl),o.xp6(2),o.Q6J("disabled",e.emailFormControl.invalid||e.nameFormControl.invalid||e.loading)}}function Awe(n,t){if(1&n&&(o.TgZ(0,"b"),o.TgZ(1,"small",13),o._uU(2,"S\xe4hk\xf6posti tarvitaan "),o.qZA(),o._UZ(3,"fa-icon",14),o.qZA()),2&n){const e=o.oxw(2);o.xp6(3),o.Q6J("icon",e.faExclamationTriangle)}}function Iwe(n,t){if(1&n&&(o.TgZ(0,"b"),o.TgZ(1,"small",13),o._uU(2,"Viallinen S\xe4hk\xf6posti "),o.qZA(),o._UZ(3,"fa-icon",14),o.qZA()),2&n){const e=o.oxw(2);o.xp6(3),o.Q6J("icon",e.faExclamationTriangle)}}function Nwe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",1),o.TgZ(1,"h2",2),o._uU(2,"Tulisija/ Tulisijakorjaus"),o.qZA(),o.TgZ(3,"p",3),o._uU(4,"Yhteydenottolomake"),o.qZA(),o.TgZ(5,"form"),o.TgZ(6,"div",4),o.TgZ(7,"label",5),o._uU(8,"Nimi"),o.qZA(),o._UZ(9,"input",6),o.qZA(),o.TgZ(10,"div",4),o.TgZ(11,"label",7),o._uU(12,"S\xe4hk\xf6posti"),o.qZA(),o._UZ(13,"input",8),o.YNc(14,Awe,4,1,"b",9),o.YNc(15,Iwe,4,1,"b",9),o.qZA(),o.TgZ(16,"div",4),o.TgZ(17,"label",10),o._uU(18,"Tietoja"),o.qZA(),o._UZ(19,"textarea",11),o.qZA(),o._UZ(20,"br"),o.TgZ(21,"button",12),o.NdJ("click",function(){return o.CHM(e),o.oxw().sendMail()}),o._uU(22,"L\xe4het\xe4 Viesti"),o.qZA(),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.xp6(9),o.Q6J("formControl",e.nameFormControl),o.xp6(4),o.Q6J("formControl",e.emailFormControl),o.xp6(1),o.Q6J("ngIf",e.emailFormControl.hasError("required")&&e.emailFormControl.touched),o.xp6(1),o.Q6J("ngIf",e.emailFormControl.hasError("email")),o.xp6(4),o.Q6J("formControl",e.messageFormControl),o.xp6(2),o.Q6J("disabled",e.emailFormControl.invalid||e.nameFormControl.invalid||e.loading)}}function kwe(n,t){if(1&n&&(o.TgZ(0,"b"),o.TgZ(1,"small",13),o._uU(2,"S\xe4hk\xf6posti tarvitaan "),o.qZA(),o._UZ(3,"fa-icon",14),o.qZA()),2&n){const e=o.oxw(2);o.xp6(3),o.Q6J("icon",e.faExclamationTriangle)}}function Vwe(n,t){if(1&n&&(o.TgZ(0,"b"),o.TgZ(1,"small",13),o._uU(2,"Viallinen S\xe4hk\xf6posti "),o.qZA(),o._UZ(3,"fa-icon",14),o.qZA()),2&n){const e=o.oxw(2);o.xp6(3),o.Q6J("icon",e.faExclamationTriangle)}}function Hwe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",1),o.TgZ(1,"h2",2),o._uU(2,"Muu tiedustelu"),o.qZA(),o.TgZ(3,"p",3),o._uU(4,"Yhteydenottolomake"),o.qZA(),o.TgZ(5,"form"),o.TgZ(6,"div",4),o.TgZ(7,"label",5),o._uU(8,"Nimi"),o.qZA(),o._UZ(9,"input",6),o.qZA(),o.TgZ(10,"div",4),o.TgZ(11,"label",7),o._uU(12,"S\xe4hk\xf6posti"),o.qZA(),o._UZ(13,"input",8),o.YNc(14,kwe,4,1,"b",9),o.YNc(15,Vwe,4,1,"b",9),o.qZA(),o.TgZ(16,"div",4),o.TgZ(17,"label",10),o._uU(18,"Tietoja"),o.qZA(),o._UZ(19,"textarea",11),o.qZA(),o._UZ(20,"br"),o.TgZ(21,"button",12),o.NdJ("click",function(){return o.CHM(e),o.oxw().sendMail()}),o._uU(22,"L\xe4het\xe4 Viesti"),o.qZA(),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.xp6(9),o.Q6J("formControl",e.nameFormControl),o.xp6(4),o.Q6J("formControl",e.emailFormControl),o.xp6(1),o.Q6J("ngIf",e.emailFormControl.hasError("required")&&e.emailFormControl.touched),o.xp6(1),o.Q6J("ngIf",e.emailFormControl.hasError("email")),o.xp6(4),o.Q6J("formControl",e.messageFormControl),o.xp6(2),o.Q6J("disabled",e.emailFormControl.invalid||e.nameFormControl.invalid||e.loading)}}let Rwe=(()=>{class n{constructor(e,i){this.formBuilder=e,this.emailService=i,this.faExclamationTriangle=mU,this.loading=!1,this.nameFormControl=new Jn,this.emailFormControl=new Jn("",[k1.required,k1.email]),this.messageFormControl=new Jn}ngOnInit(){}sendMail(){let i={subject:document.getElementById("formSubject").innerHTML,name:this.nameFormControl.value,email:this.emailFormControl.value,message:this.messageFormControl.value};this.emailService.sendMessage(i).subscribe(r=>{console.log(`Message ${r}`),window.location.href="error"==r?"/?type=error&msg=L\xe4hetys ep\xe4onnistui":"Sent Successfully"==r?"/?type=success&msg=L\xe4hetys onnistui":"/?type=success&msg=virhe"})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Vd),o.Y36(Nbe))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-forms"]],inputs:{showForm1:"showForm1",showForm2:"showForm2",showForm3:"showForm3"},decls:3,vars:3,consts:[["class","form",4,"ngIf"],[1,"form"],["id","formSubject",2,"text-align","center"],[2,"text-align","center"],[1,"form-group"],["for","name"],["type","input","id","name",1,"form-control",3,"formControl"],["for","email"],["type","email","id","email",1,"form-control",3,"formControl"],[4,"ngIf"],["for","textarea"],["id","textarea","rows","3",1,"form-control",3,"formControl"],["type","button",1,"btn","btn-dark","w-100",3,"disabled","click"],[1,"text-danger"],[2,"color","red",3,"icon"]],template:function(e,i){1&e&&(o.YNc(0,Dwe,23,6,"div",0),o.YNc(1,Nwe,23,6,"div",0),o.YNc(2,Hwe,23,6,"div",0)),2&e&&(o.Q6J("ngIf",i.showForm1),o.xp6(1),o.Q6J("ngIf",i.showForm2),o.xp6(1),o.Q6J("ngIf",i.showForm3))},directives:[Qt,ms,M2,Il,v2,q1,i4,aL],styles:[".form[_ngcontent-%COMP%]{padding:10px;border-radius:10px;margin-bottom:4px;white-space:pre-wrap;background-color:#fff}"]}),n})();function Owe(n,t){if(1&n&&o._UZ(0,"fa-icon",4),2&n){const e=o.oxw(2);o.Q6J("icon",e.faTimes)}}function Pwe(n,t){if(1&n&&o._UZ(0,"fa-icon",4),2&n){const e=o.oxw(2);o.Q6J("icon",e.faHammer)}}function zwe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",2),o.NdJ("click",function(){return o.CHM(e),o.oxw().addForm1()}),o.YNc(1,Owe,1,1,"fa-icon",3),o.YNc(2,Pwe,1,1,"fa-icon",3),o._uU(3," Remontit\n"),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("disabled",e.clicked3||1==e.clicked2),o.xp6(1),o.Q6J("ngIf",!0===e.clicked1),o.xp6(1),o.Q6J("ngIf",!1===e.clicked1)}}function Fwe(n,t){if(1&n&&o._UZ(0,"fa-icon",4),2&n){const e=o.oxw(2);o.Q6J("icon",e.faTimes)}}function Bwe(n,t){if(1&n&&o._UZ(0,"fa-icon",4),2&n){const e=o.oxw(2);o.Q6J("icon",e.faFire)}}function Uwe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",2),o.NdJ("click",function(){return o.CHM(e),o.oxw().addForm2()}),o.YNc(1,Fwe,1,1,"fa-icon",3),o.YNc(2,Bwe,1,1,"fa-icon",3),o._uU(3," Tulisija/tulisijakorjaus\n"),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("disabled",e.clicked3||1==e.clicked1),o.xp6(1),o.Q6J("ngIf",!0===e.clicked2),o.xp6(1),o.Q6J("ngIf",!1===e.clicked2)}}function Gwe(n,t){if(1&n&&o._UZ(0,"fa-icon",4),2&n){const e=o.oxw(2);o.Q6J("icon",e.faTimes)}}function jwe(n,t){if(1&n&&o._UZ(0,"fa-icon",4),2&n){const e=o.oxw(2);o.Q6J("icon",e.faQuestion)}}function qwe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",2),o.NdJ("click",function(){return o.CHM(e),o.oxw().addForm3()}),o.YNc(1,Gwe,1,1,"fa-icon",3),o.YNc(2,jwe,1,1,"fa-icon",3),o._uU(3," Muu tiedustelu\n"),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("disabled",e.clicked1||1==e.clicked2),o.xp6(1),o.Q6J("ngIf",!0===e.clicked3),o.xp6(1),o.Q6J("ngIf",!1===e.clicked3)}}let $we=(()=>{class n{constructor(){this.faHammer=XP,this.faFire=zP,this.faQuestion=jF,this.faTimes=NS,this.showForm1=!1,this.showForm2=!1,this.showForm3=!1,this.clicked1=!1,this.clicked2=!1,this.clicked3=!1}addForm1(){this.showForm1=!this.showForm1,this.showButton=!0,this.clicked1=!this.clicked1}addForm2(){this.showForm2=!this.showForm2,this.showButton=!0,this.clicked2=!this.clicked2}addForm3(){this.showForm3=!this.showForm3,this.showButton=!0,this.clicked3=!this.clicked3}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-formbtn"]],inputs:{showButton:"showButton"},decls:6,vars:6,consts:[["type","button","class","btn btn-sm btn-outline-dark","style","margin: 1px;",3,"disabled","click",4,"ngIf"],[3,"showForm1","showForm2","showForm3"],["type","button",1,"btn","btn-sm","btn-outline-dark",2,"margin","1px",3,"disabled","click"],[3,"icon",4,"ngIf"],[3,"icon"]],template:function(e,i){1&e&&(o.YNc(0,zwe,4,3,"button",0),o._UZ(1,"br"),o.YNc(2,Uwe,4,3,"button",0),o._UZ(3,"br"),o.YNc(4,qwe,4,3,"button",0),o._UZ(5,"app-forms",1)),2&e&&(o.Q6J("ngIf",i.showButton),o.xp6(2),o.Q6J("ngIf",i.showButton),o.xp6(2),o.Q6J("ngIf",i.showButton),o.xp6(1),o.Q6J("showForm1",i.showForm1)("showForm2",i.showForm2)("showForm3",i.showForm3))},directives:[Qt,Rwe,aL],styles:[""]}),n})();function Wwe(n,t){if(1&n&&o._UZ(0,"fa-icon",14),2&n){const e=o.oxw();o.Q6J("icon",e.faTimes)}}function Zwe(n,t){if(1&n&&o._UZ(0,"fa-icon",14),2&n){const e=o.oxw();o.Q6J("icon",e.faComment)}}function Ywe(n,t){if(1&n&&(o.TgZ(0,"div",15),o.TgZ(1,"div",16),o.TgZ(2,"b"),o._uU(3),o.qZA(),o._UZ(4,"br"),o.TgZ(5,"span"),o._uU(6),o.qZA(),o.qZA(),o.qZA()),2&n){const e=t.$implicit;o.xp6(3),o.Oqu(e.user),o.xp6(3),o.Oqu(e.msg)}}function Kwe(n,t){if(1&n&&(o.TgZ(0,"div",15),o.TgZ(1,"div",17),o.TgZ(2,"b"),o._uU(3),o.qZA(),o._UZ(4,"br"),o.TgZ(5,"span"),o._uU(6),o.qZA(),o.qZA(),o.qZA()),2&n){const e=t.$implicit;o.xp6(3),o.Oqu(e.user),o.xp6(3),o.Oqu(e.msg)}}let Qwe=(()=>{class n{constructor(e){this.route=e,this.faTimes=NS,this.faComment=wO,this.checked=!1,this.showBtn=!0,this.popMessages=[{user:"Yhteydenottobotti\u{1f916}",msg:"\u{1f44b}Hei olen Suomen Eurouuni yhteydenottobotti"}],this.messages=[{user:"Yhteydenottobotti\u{1f916}",msg:"\u{1f44b}Hei olen Suomen Eurouuni yhteydenottobotti"},{user:"Yhteydenottobotti\u{1f916}",msg:"Valitse aihe jonka kanssa tarvitset apua alta"}],this.scroll=()=>{let i,r=document.getElementById("wrapper0");i=window.innerWidth<150?10:1e3,window.scrollY>=i&&(r.className="wrapper0 show")}}ngOnInit(){window.addEventListener("scroll",this.scroll,!0);const e=window.location.href;if(e.includes("type")){const r=new a3({fromString:e.split("?")[1]}),s=r.get("type"),c=r.get("msg");this.showMessage(s,c)}}showMessage(e,i){let r=document.getElementById("msg-box");"success"==e?(r.classList.remove("alert-danger"),r.classList.add("alert-success")):"error"==e&&(r.classList.remove("alert-success"),r.classList.remove("alert-warning"),r.classList.add("alert-danger")),r.querySelector("p").innerHTML=i,r.classList.remove("d-none")}function(){this.showBtn=!this.showBtn}checkChange(){this.checked=!this.checked,document.getElementById("wrapper0").style.display="none"}close(){document.getElementById("msg-box").style.display="none"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(xi))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-chatbot"]],decls:19,vars:5,consts:[["id","msg-box",1,"alert","alert-dismissible","alert-danger","d-none",2,"position","fixed"],["type","button","data-dismiss","alert",1,"close",3,"click"],[1,"mb-0"],["type","checkbox","id","check",3,"click"],["for","check",1,"chat-btn",2,"position","fixed"],[3,"icon",4,"ngIf"],["id","wrapper0",1,"wrapper0","hide",2,"position","fixed"],["class","chat-form",4,"ngFor","ngForOf"],[1,"wrapper1",2,"position","fixed"],[1,"header"],[1,"chat"],[1,"chat-form",2,"padding-bottom","0"],[3,"showButton"],[1,"footer"],[3,"icon"],[1,"chat-form"],[1,"message","pop-message"],[1,"message","bot-message"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"button",1),o.NdJ("click",function(){return i.close()}),o._uU(2,"\xd7"),o.qZA(),o._UZ(3,"p",2),o.qZA(),o.TgZ(4,"input",3),o.NdJ("click",function(){return i.checkChange()}),o.qZA(),o.TgZ(5,"label",4),o.YNc(6,Wwe,1,1,"fa-icon",5),o.YNc(7,Zwe,1,1,"fa-icon",5),o.qZA(),o.TgZ(8,"div",6),o.YNc(9,Ywe,7,2,"div",7),o.qZA(),o.TgZ(10,"div",8),o.TgZ(11,"div",9),o.TgZ(12,"h2"),o._uU(13,"Suomen Eurouuni"),o.qZA(),o.qZA(),o.TgZ(14,"div",10),o.YNc(15,Kwe,7,2,"div",7),o.TgZ(16,"div",11),o._UZ(17,"app-formbtn",12),o.qZA(),o.qZA(),o._UZ(18,"div",13),o.qZA()),2&e&&(o.xp6(6),o.Q6J("ngIf",!0===i.checked),o.xp6(1),o.Q6J("ngIf",!1===i.checked),o.xp6(2),o.Q6J("ngForOf",i.popMessages),o.xp6(6),o.Q6J("ngForOf",i.messages),o.xp6(2),o.Q6J("showButton",i.showBtn))},directives:[Qt,Ni,$we,aL],styles:["#msg-box[_ngcontent-%COMP%]{display:block;right:60px;bottom:530px}.message[_ngcontent-%COMP%]{padding:10px;border-radius:10px;margin-bottom:4px;white-space:pre-wrap}.bot-message[_ngcontent-%COMP%]{background-color:#fff;margin-right:100px}.pop-message[_ngcontent-%COMP%]{background-color:#fff}.chat-btn[_ngcontent-%COMP%]{position:absolute;right:14px;bottom:30px;cursor:pointer}.chat-btn[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{display:none}.chat-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:all .9s ease}#check[_ngcontent-%COMP%]:checked ~ .chat-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block;pointer-events:auto;transform:rotate(180deg)}#check[_ngcontent-%COMP%]:checked ~ .chat-btn[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{display:none}.chat-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px;color:#fff!important}.chat-btn[_ngcontent-%COMP%]{width:50px;height:50px;display:flex;justify-content:center;align-items:center;border-radius:50px;background-color:#fe852b;color:#fff;font-size:22px;border:none}.chat[_ngcontent-%COMP%]{background-color:#ebeef5;overflow:scroll;overflow-x:hidden;overflow-y:scroll;height:380px}.wrapper0[_ngcontent-%COMP%]{right:55px;bottom:55px;width:230px;display:block;transition:all 1s}.hide[_ngcontent-%COMP%]{opacity:0}.show[_ngcontent-%COMP%]{opacity:1}#check[_ngcontent-%COMP%]:checked ~ .wrapper0[_ngcontent-%COMP%]{display:none}.wrapper1[_ngcontent-%COMP%]{box-shadow:7px 7px 56px -24px #00000091;right:70px;bottom:55px;width:350px;border-radius:5px;margin-top:1rem;margin-bottom:1rem;display:none}#check[_ngcontent-%COMP%]:checked ~ .wrapper1[_ngcontent-%COMP%]{display:block}.header[_ngcontent-%COMP%]{padding:10px;background-color:#fe852b;border-radius:5px 5px 0 0;color:#fff;text-align:center}.footer[_ngcontent-%COMP%]{padding:15px;background-color:#fe852b;border-radius:0 0 5px 5px}.chat-form[_ngcontent-%COMP%]{padding:15px}.chat-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-bottom:10px}.chat-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none}.form-control[_ngcontent-%COMP%]:focus, .btn[_ngcontent-%COMP%]:focus{box-shadow:none}.btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus, .btn[_ngcontent-%COMP%]:hover{background-color:#fe852b;border:#fe852b}#check[_ngcontent-%COMP%]{display:none!important}"]}),n})();function Jwe(n,t){1&n&&o._UZ(0,"router-outlet")}let Xwe=(()=>{class n{constructor(e,i){this.tekstiStorageService=e,this.router=i}ngOnInit(){this.tekstiStorageService.fetchTekstit().subscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(cr),o.Y36(nn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-homepage"]],decls:7,vars:1,consts:[[4,"ngIf"]],template:function(e,i){1&e&&(o._UZ(0,"app-navbar"),o._UZ(1,"app-header"),o.YNc(2,Jwe,1,0,"router-outlet",0),o._UZ(3,"app-topics"),o._UZ(4,"app-gallery-div"),o._UZ(5,"app-footer"),o._UZ(6,"app-chatbot")),2&e&&(o.xp6(2),o.Q6J("ngIf","/auth"===i.router.url))},directives:[Xie,e1e,Qt,s1e,g1e,C1e,Qwe,u3],styles:["body[_ngcontent-%COMP%]{overflow-x:hidden}"]}),n})(),exe=(()=>{class n{constructor(){this.title="Eurouuni",this.loadedFeature="korjaukset"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"app-homepage")},directives:[Xwe],styles:[""]}),n})(),nj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Tx]]}),n})(),MSe=(()=>{class n{constructor(e,i){Yn(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:Mc,useValue:Object.assign(Object.assign({},Dx),e)},{provide:Ax,useValue:i,multi:!0},{provide:gu,useValue:!0}]:[{provide:Mc,useValue:Object.assign(Object.assign({},Dx),e)},{provide:Ax,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(gu),o.LFG(o.Lbi))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hH,ZV,nj],hH,ZV,nj]}),n})();class lL{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class wSe extends lL{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class xSe extends lL{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class SSe extends lL{constructor(t){super(),this.element=t instanceof o.SBq?t.nativeElement:t}}class ESe extends class LSe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof wSe?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof xSe?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof SSe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const d=c.element,h=this._document.createComment("dom-portal");d.parentNode.insertBefore(h,d),this.outletElement.appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(d,h)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let TSe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const ij=ou();class DSe{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=p1(-this._previousScrollPosition.left),t.style.top=p1(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),ij&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ij&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class ASe{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class rj{enable(){}disable(){}attach(){}}function cL(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function sj(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class ISe{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();cL(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let NSe=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new rj,this.close=c=>new ASe(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new DSe(this._viewportRuler,this._document),this.reposition=c=>new ISe(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Bf),o.LFG(Rx),o.LFG(o.R0b),o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class kSe{constructor(t){if(this.scrollStrategy=new rj,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class VSe{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class HSe{constructor(t,e,i,r,s,c,d,h,_){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=d,this._location=h,this._outsideClickDispatcher=_,this._backdropElement=null,this._backdropClick=new Ct.x,this._attachments=new Ct.x,this._detachments=new Ct.x,this._locationChanges=uo.w0.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._keydownEvents=new Ct.x,this._outsidePointerEvents=new Ct.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Jt.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=p1(this._config.width),t.height=p1(this._config.height),t.minWidth=p1(this._config.minWidth),t.minHeight=p1(this._config.minHeight),t.maxWidth=p1(this._config.maxWidth),t.maxHeight=p1(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const r=Ow(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(At((0,B5.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.remove(),this._backdropElement===t&&(this._backdropElement=null))}}let oj=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||_f()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),_f()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(J),o.LFG(Wr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aj="cdk-overlay-connected-position-bounding-box",RSe=/([A-Za-z%]+)$/;class OSe{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ct.x,this._resizeSubscription=uo.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(aj),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=[];let s;for(let c of this._preferredPositions){let d=this._getOriginPoint(t,c),h=this._getOverlayPoint(d,e,c),_=this._getOverlayFit(h,e,i,c);if(_.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,d);this._canFitWithFlexibleDimensions(_,h,i)?r.push({position:c,origin:d,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(d,c)}):(!s||s.overlayFit.visibleArea<_.visibleArea)&&(s={overlayFit:_,overlayPoint:h,originPoint:d,position:c,overlayRect:e})}if(r.length){let c=null,d=-1;for(const h of r){const _=h.boundingBoxRect.width*h.boundingBoxRect.height*(h.position.weight||1);_>d&&(d=_,c=h)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&W5(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(aj),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let i,r;if("center"==e.originX)i=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,c=this._isRtl()?t.left:t.right;i="start"==e.originX?s:c}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:i,y:r}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=cj(e);let{x:c,y:d}=t,h=this._getOffset(r,"x"),_=this._getOffset(r,"y");h&&(c+=h),_&&(d+=_);let D=0-d,N=d+s.height-i.height,H=this._subtractOverflows(s.width,0-c,c+s.width-i.width),U=this._subtractOverflows(s.height,D,N),Y=H*U;return{visibleArea:Y,isCompletelyWithinViewport:s.width*s.height===Y,fitsInViewportVertically:U===s.height,fitsInViewportHorizontally:H==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,c=lj(this._overlayRef.getConfig().minHeight),d=lj(this._overlayRef.getConfig().minWidth),_=t.fitsInViewportHorizontally||null!=d&&d<=s;return(t.fitsInViewportVertically||null!=c&&c<=r)&&_}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=cj(e),s=this._viewportRect,c=Math.max(t.x+r.width-s.width,0),d=Math.max(t.y+r.height-s.height,0),h=Math.max(s.top-i.top-t.y,0),_=Math.max(s.left-i.left-t.x,0);let M=0,x=0;return M=r.width<=s.width?_||-c:t.x<this._viewportMargin?s.left-i.left-t.x:0,x=r.height<=s.height?h||-d:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:M,y:x},{x:t.x+M,y:t.y+x}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new VSe(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,c,d,M,x,D;if("top"===e.overlayY)c=t.y,s=i.height-c+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-t.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const N=Math.min(i.bottom-t.y+i.top,t.y),H=this._lastBoundingBoxSize.height;s=2*N,c=t.y-N,s>H&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-H/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)D=i.width-t.x+this._viewportMargin,M=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)x=t.x,M=i.right-t.x;else{const N=Math.min(i.right-t.x+i.left,t.x),H=this._lastBoundingBoxSize.width;M=2*N,x=t.x-N,M>H&&!this._isInitialRender&&!this._growAfterOpen&&(x=t.x-H/2)}return{top:c,left:x,bottom:d,right:D,width:M,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=p1(i.height),r.top=p1(i.top),r.bottom=p1(i.bottom),r.width=p1(i.width),r.left=p1(i.left),r.right=p1(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=p1(s)),c&&(r.maxWidth=p1(c))}this._lastBoundingBoxSize=i,W5(this._boundingBox.style,r)}_resetBoundingBoxStyles(){W5(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){W5(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const M=this._viewportRuler.getViewportScrollPosition();W5(i,this._getExactOverlayY(e,t,M)),W5(i,this._getExactOverlayX(e,t,M))}else i.position="static";let d="",h=this._getOffset(e,"x"),_=this._getOffset(e,"y");h&&(d+=`translateX(${h}px) `),_&&(d+=`translateY(${_}px)`),i.transform=d.trim(),c.maxHeight&&(r?i.maxHeight=p1(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=p1(c.maxWidth):s&&(i.maxWidth="")),W5(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let c=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=c,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=p1(s.y),r}_getExactOverlayX(t,e,i){let c,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=p1(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:sj(t,i),isOriginOutsideView:cL(t,i),isOverlayClipped:sj(e,i),isOverlayOutsideView:cL(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Ow(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof o.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function W5(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function lj(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(RSe);return e&&"px"!==e?null:parseFloat(t)}return n||null}function cj(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const uj="cdk-global-overlay-wrapper";class PSe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(uj),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:d}=i,h=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),_=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d);t.position=this._cssPosition,t.marginLeft=h?"0":this._leftOffset,t.marginTop=_?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,h?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(uj),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let zSe=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new PSe}flexibleConnectedTo(e){return new OSe(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Rx),o.LFG(J),o.LFG(Wr),o.LFG(oj))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dj=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FSe=(()=>{class n extends dj{constructor(e){super(e),this._keydownListener=i=>{const r=this._attachedOverlays;for(let s=r.length-1;s>-1;s--)if(r[s]._keydownEvents.observers.length>0){r[s]._keydownEvents.next(i);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BSe=(()=>{class n extends dj{constructor(e,i){super(e),this._platform=i,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=h3(r)},this._clickListener=r=>{const s=h3(r),c="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const d=this._attachedOverlays.slice();for(let h=d.length-1;h>-1;h--){const _=d[h];if(!(_._outsidePointerEvents.observers.length<1)&&_.hasAttached()){if(_.overlayElement.contains(s)||_.overlayElement.contains(c))break;_._outsidePointerEvents.next(r)}}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(J),o.LFG(Wr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),USe=0,uL=(()=>{class n{constructor(e,i,r,s,c,d,h,_,M,x,D){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=d,this._ngZone=h,this._document=_,this._directionality=M,this._location=x,this._outsideClickDispatcher=D}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),c=new kSe(e);return c.direction=c.direction||this._directionality.value,new HSe(s,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+USe++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new ESe(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(NSe),o.LFG(oj),o.LFG(o._Vd),o.LFG(zSe),o.LFG(FSe),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(J),o.LFG(D5),o.LFG(ot),o.LFG(BSe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const qSe={provide:new o.OlP("cdk-connected-overlay-scroll-strategy"),deps:[uL],useFactory:function jSe(n){return()=>n.scrollStrategies.reposition()}};let $Se=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[uL,qSe],imports:[[V4,TSe,Ox],Ox]}),n})();const KSe={provide:new o.OlP("mat-menu-scroll-strategy"),deps:[uL],useFactory:function YSe(n){return()=>n.scrollStrategies.reposition()}};let QSe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[KSe],imports:[[bi,z1,Lx,$Se],Uf,z1]}),n})();var _e=O(5861),Un=O(5813),F1=O(2011),dL=O(3942),fr=O(9681),R=O(2090),oa=O(4859);const hj="firebasestorage.googleapis.com",pj="storageBucket";class a1 extends R.ZR{constructor(t,e){super(fL(t),`Firebase Storage: ${e} (${fL(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,a1.prototype)}_codeEquals(t){return fL(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function fL(n){return"storage/"+n}function hL(){return new a1("unknown","An unknown error occurred, please check the error payload for server response.")}function gj(){return new a1("canceled","User canceled the upload/download.")}function Cj(){return new a1("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function bu(n){return new a1("invalid-argument",n)}function mj(){return new a1("app-deleted","The Firebase app was deleted.")}function _j(n){return new a1("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function eh(n,t){return new a1("invalid-format","String does not match format '"+n+"': "+t)}function th(n){throw new a1("internal-error","Internal error: "+n)}class q2{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=q2.makeFromUrl(t,e)}catch(r){return new q2(t,"")}if(""===i.path)return i;throw function aLe(n){return new a1("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function _(Te){Te.path_=decodeURIComponent(Te.path)}const x=e.replace(/[.]/g,"\\."),ke=[{regex:d,indices:{bucket:1,path:3},postModify:function s(Te){"/"===Te.path.charAt(Te.path.length-1)&&(Te.path_=Te.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${x}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${e===hj?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let Te=0;Te<ke.length;Te++){const tt=ke[Te],st=tt.regex.exec(t);if(st){let Kt=st[tt.indices.path];Kt||(Kt=""),i=new q2(st[tt.indices.bucket],Kt),tt.postModify(i);break}}if(null==i)throw function oLe(n){return new a1("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class dLe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function d_(n){return"string"==typeof n||n instanceof String}function vj(n){return pL()&&n instanceof Blob}function pL(){return"undefined"!=typeof Blob}function gL(n,t,e,i){if(i<t)throw bu(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw bu(`Invalid value for '${n}'. Expected ${e} or less.`)}function q4(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function yj(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Lc=(()=>{return(n=Lc||(Lc={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",Lc;var n})();class mLe{constructor(t,e,i,r,s,c,d,h,_,M,x){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=h,this.timeout_=_,this.progressCallback_=M,this.connectionFactory_=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,N)=>{this.resolve_=D,this.reject_=N,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const h=this.callback_(d,d.getResponse());!function pLe(n){return void 0!==n}(h)?s():s(h)}catch(h){c(h)}else if(null!==d){const h=hL();h.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,h):h)}else c(r.canceled?this.appDelete_?mj():gj():function sLe(){return new a1("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new f_(!1,null,!0)):this.backoffId_=function fLe(n,t,e){let i=1,r=null,s=null,c=!1,d=0;function h(){return 2===d}let _=!1;function M(...Y){_||(_=!0,t.apply(null,Y))}function x(Y){r=setTimeout(()=>{r=null,n(N,h())},Y)}function D(){s&&clearTimeout(s)}function N(Y,...ae){if(_)return void D();if(Y)return D(),void M.call(null,Y,...ae);if(h()||c)return D(),void M.call(null,Y,...ae);let ke;i<64&&(i*=2),1===d?(d=2,ke=0):ke=1e3*(i+Math.random()),x(ke)}let H=!1;function U(Y){H||(H=!0,D(),!_&&(null!==r?(Y||(d=2),clearTimeout(r),x(0)):Y||(d=1)))}return x(0),s=setTimeout(()=>{c=!0,U(!0)},e),U}((i,r)=>{if(r)return void i(!1,new f_(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===Lc.NO_ERROR,h=s.getStatus();if(!d||this.isRetryStatusCode_(h)){const M=s.getErrorCode()===Lc.ABORT;return void i(!1,new f_(!1,null,M))}const _=-1!==this.successCodes_.indexOf(h);i(!0,new f_(_,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function hLe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,r=-1!==[408,429].indexOf(t),s=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||s}}class f_{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function xLe(...n){const t=function wLe(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(pL())return new Blob(n);throw new a1("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Os={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class CL{constructor(t,e){this.data=t,this.contentType=e||null}}function mL(n,t){switch(n){case Os.RAW:return new CL(bj(t));case Os.BASE64:case Os.BASE64URL:return new CL(Mj(n,t));case Os.DATA_URL:return new CL(function TLe(n){const t=new wj(n);return t.base64?Mj(Os.BASE64,t.rest):function ELe(n){let t;try{t=decodeURIComponent(n)}catch(e){throw eh(Os.DATA_URL,"Malformed data URL.")}return bj(t)}(t.rest)}(t),function DLe(n){return new wj(n).contentType}(t))}throw hL()}function bj(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function Mj(n,t){switch(n){case Os.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw eh(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Os.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw eh(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function LLe(n){return atob(n)}(t)}catch(r){throw eh(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class wj{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw eh(Os.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function ALe(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class C3{constructor(t,e){let i=0,r="";vj(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(vj(this.data_)){const r=function SLe(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new C3(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new C3(i,!0)}}static getBlob(...t){if(pL()){const e=t.map(i=>i instanceof C3?i.data_:i);return new C3(xLe.apply(null,e))}{const e=t.map(c=>d_(c)?mL(Os.RAW,c).data:c.data_);let i=0;e.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(c=>{for(let d=0;d<c.length;d++)r[s++]=c[d]}),new C3(r,!0)}}uploadData(){return this.data_}}function _L(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function CLe(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function xj(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function kLe(n,t){return t}class hr{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||kLe}}let h_=null;function nh(){if(h_)return h_;const n=[];n.push(new hr("bucket")),n.push(new hr("generation")),n.push(new hr("metageneration")),n.push(new hr("name","fullPath",!0));const e=new hr("name");e.xform=function t(s,c){return function VLe(n){return!d_(n)||n.length<2?n:xj(n)}(c)},n.push(e);const r=new hr("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new hr("timeCreated")),n.push(new hr("updated")),n.push(new hr("md5Hash",null,!0)),n.push(new hr("cacheControl",null,!0)),n.push(new hr("contentDisposition",null,!0)),n.push(new hr("contentEncoding",null,!0)),n.push(new hr("contentLanguage",null,!0)),n.push(new hr("contentType",null,!0)),n.push(new hr("metadata","customMetadata",!0)),h_=n,h_}function Sj(n,t,e){const i=_L(t);return null===i?null:function RLe(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const c=e[s];i[c.local]=c.xform(i,t[c.server])}return function HLe(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new q2(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function vL(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const Lj="prefixes";class m3{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function _3(n){if(!n)throw hL()}function p_(n,t){return function e(i,r){const s=Sj(n,r,t);return _3(null!==s),s}}function Mu(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function iLe(){return new a1("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function nLe(){return new a1("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function tLe(n){return new a1("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function rLe(n){return new a1("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function ih(n){const t=Mu(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function eLe(n){return new a1("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function Tj(n,t,e){const r=q4(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new m3(r,"GET",p_(n,e),c);return d.errorHandler=ih(t),d}function ULe(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const d=q4(t.bucketOnlyServerUrl(),n.host,n._protocol),_=n.maxOperationRetryTime,M=new m3(d,"GET",function FLe(n,t){return function e(i,r){const s=function zLe(n,t,e){const i=_L(e);return null===i?null:function PLe(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[Lj])for(const r of e[Lj]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new q2(t,s));i.prefixes.push(c)}if(e.items)for(const r of e.items){const s=n._makeStorageReference(new q2(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return _3(null!==s),s}}(n,t.bucket),_);return M.urlParams=s,M.errorHandler=Mu(t),M}function Aj(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function $Le(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class g_{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function yL(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){_3(!1)}return _3(!!e&&-1!==(t||["active"]).indexOf(e)),e}const KLe={STATE_CHANGED:"state_changed"},pr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function bL(n){switch(n){case"running":case"pausing":case"canceling":return pr.RUNNING;case"paused":return pr.PAUSED;case"success":return pr.SUCCESS;case"canceled":return pr.CANCELED;default:return pr.ERROR}}class QLe{constructor(t,e,i){if(function gLe(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=i?i:void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function wu(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class XLe extends class JLe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Lc.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Lc.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Lc.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw th("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw th("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw th("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw th("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw th("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function aa(){return new XLe}class Vj{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=nh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function WLe(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c=Aj(t,i,r),d={name:c.fullPath},h=q4(s,n.host,n._protocol),M={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},x=vL(c,e),H=new m3(h,"POST",function N(U){let Y;yL(U);try{Y=U.getResponseHeader("X-Goog-Upload-URL")}catch(ae){_3(!1)}return _3(d_(Y)),Y},n.maxUploadRetryTime);return H.urlParams=d,H.headers=M,H.body=x,H.errorHandler=Mu(t),H}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,aa,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function ZLe(n,t,e,i){const h=new m3(e,"POST",function s(_){const M=yL(_,["active","final"]);let x=null;try{x=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch(N){_3(!1)}x||_3(!1);const D=Number(x);return _3(!isNaN(D)),new g_(D,i.size(),"final"===M)},n.maxUploadRetryTime);return h.headers={"X-Goog-Upload-Command":"query"},h.errorHandler=Mu(t),h}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,aa,e,i);this._request=s,s.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new g_(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function YLe(n,t,e,i,r,s,c,d){const h=new g_(0,0);if(c?(h.current=c.current,h.total=c.total):(h.current=0,h.total=i.size()),i.size()!==h.total)throw function cLe(){return new a1("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const _=h.total-h.current;let M=_;r>0&&(M=Math.min(M,r));const x=h.current,H={"X-Goog-Upload-Command":M===_?"upload, finalize":"upload","X-Goog-Upload-Offset":`${h.current}`},U=i.slice(x,x+M);if(null===U)throw Cj();const ke=new m3(e,"POST",function Y(Te,tt){const st=yL(Te,["active","final"]),un=h.current+M,Kt=i.size();let ei;return ei="final"===st?p_(t,s)(Te,tt):null,new g_(un,Kt,"final"===st,ei)},t.maxUploadRetryTime);return ke.headers=H,ke.body=U.uploadData(),ke.progressCallback=d||null,ke.errorHandler=Mu(n),ke}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(h){return this._error=h,void this._transition("error")}const d=this._ref.storage._makeRequest(c,aa,r,s);this._request=d,d.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=Tj(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,aa,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function Ij(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},h=function d(){let ke="";for(let Te=0;Te<2;Te++)ke+=Math.random().toString().slice(2);return ke}();c["Content-Type"]="multipart/related; boundary="+h;const _=Aj(t,i,r),M=vL(_,e),N=C3.getBlob("--"+h+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+M+"\r\n--"+h+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",i,"\r\n--"+h+"--");if(null===N)throw Cj();const H={name:_.fullPath},U=q4(s,n.host,n._protocol),ae=n.maxUploadRetryTime,ce=new m3(U,"POST",p_(n,e),ae);return ce.urlParams=H,ce.headers=c,ce.body=N.uploadData(),ce.errorHandler=Mu(t),ce}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,aa,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=gj(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=bL(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new QLe(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(bL(this._state)){case pr.SUCCESS:wu(this._resolve.bind(null,this.snapshot))();break;case pr.CANCELED:case pr.ERROR:wu(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(bL(this._state)){case pr.RUNNING:case pr.PAUSED:t.next&&wu(t.next.bind(t,this.snapshot))();break;case pr.SUCCESS:t.complete&&wu(t.complete.bind(t))();break;default:t.error&&wu(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Z5{constructor(t,e){this._service=t,this._location=e instanceof q2?e:q2.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Z5(t,e)}get root(){const t=new q2(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xj(this._location.path)}get storage(){return this._service}get parent(){const t=function ILe(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new q2(this._location.bucket,t);return new Z5(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw _j(t)}}function Rj(n,t,e){return ML.apply(this,arguments)}function ML(){return(ML=(0,_e.Z)(function*(n,t,e){const r=yield Oj(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield Rj(n,t,r.nextPageToken))})).apply(this,arguments)}function Oj(n,t){null!=t&&"number"==typeof t.maxResults&&gL("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=ULe(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,aa)}function dEe(n){n._throwIfRoot("getDownloadURL");const t=function GLe(n,t,e){const r=q4(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new m3(r,"GET",function BLe(n,t){return function e(i,r){const s=Sj(n,r,t);return _3(null!==s),function OLe(n,t,e,i){const r=_L(t);if(null===r||!d_(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(_=>{const x=n.fullPath;return q4("/b/"+c(n.bucket)+"/o/"+c(x),e,i)+yj({alt:"media",token:_})})[0]}(s,r,n.host,n._protocol)}}(n,e),c);return d.errorHandler=ih(t),d}(n.storage,n._location,nh());return n.storage.makeRequestWithTokens(t,aa).then(e=>{if(null===e)throw function uLe(){return new a1("no-download-url","The given file does not have any download URLs.")}();return e})}function Pj(n,t){const e=function NLe(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new q2(n._location.bucket,e);return new Z5(n.storage,i)}function zj(n,t){if(n instanceof wL){const e=n;if(null==e._bucket)throw function lLe(){return new a1("no-default-bucket","No default bucket found. Did you set the '"+pj+"' property when initializing the app?")}();const i=new Z5(e,e._bucket);return null!=t?zj(i,t):i}return void 0!==t?Pj(n,t):n}function gEe(n,t){if(t&&function hEe(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof wL)return function pEe(n,t){return new Z5(n,t)}(n,t);throw bu("To use ref(service, url), the first argument must be a Storage instance.")}return zj(n,t)}function Fj(n,t){const e=null==t?void 0:t[pj];return null==e?null:q2.makeFromBucketSpec(e,n)}class wL{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=hj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?q2.makeFromBucketSpec(r,this._host):Fj(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?q2.makeFromBucketSpec(this._url,t):Fj(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){gL("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){gL("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,_e.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,_e.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Z5(this,t)}_makeRequest(t,e,i,r){if(this._deleted)return new dLe(mj());{const s=function MLe(n,t,e,i,r,s){const c=yj(n.urlParams),d=n.url+c,h=Object.assign({},n.headers);return function yLe(n,t){t&&(n["X-Firebase-GMPID"]=t)}(h,t),function _Le(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(h,e),function vLe(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(h,s),function bLe(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(h,i),new mLe(d,n.method,h,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(t,this._appId,i,r,e,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,e){var i=this;return(0,_e.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const Bj="@firebase/storage";function jj(n,t){return gEe(n=(0,R.m9)(n),t)}function LEe(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new wL(e,i,r,t,fr.SDK_VERSION)}!function EEe(){(0,fr._registerComponent)(new oa.wA("storage",LEe,"PUBLIC").setMultipleInstances(!0)),(0,fr.registerVersion)(Bj,"0.9.4",""),(0,fr.registerVersion)(Bj,"0.9.4","esm2017")}();class C_{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class qj{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new C_(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new C_(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?c=>e(new C_(c,this,this._ref)):{next:e.next?c=>e.next(new C_(c,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class $j{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new $4(t,this._service))}get items(){return this._delegate.items.map(t=>new $4(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class $4{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function xEe(n,t){return Pj(n,t)}(this._delegate,t);return new $4(e,this.storage)}get root(){return new $4(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new $4(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new qj(function mEe(n,t,e){return function oEe(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new Vj(n,new C3(t),e)}(n=(0,R.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Os.RAW,i){this._throwIfRoot("putString");const r=mL(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new qj(new Vj(this._delegate,new C3(r.data,!0),s),this)}listAll(){return function bEe(n){return function lEe(n){const t={prefixes:[],items:[]};return Rj(n,t).then(()=>t)}(n=(0,R.m9)(n))}(this._delegate).then(t=>new $j(t,this.storage))}list(t){return function yEe(n,t){return Oj(n=(0,R.m9)(n),t)}(this._delegate,t||void 0).then(e=>new $j(e,this.storage))}getMetadata(){return function _Ee(n){return function cEe(n){n._throwIfRoot("getMetadata");const t=Tj(n.storage,n._location,nh());return n.storage.makeRequestWithTokens(t,aa)}(n=(0,R.m9)(n))}(this._delegate)}updateMetadata(t){return function vEe(n,t){return function uEe(n,t){n._throwIfRoot("updateMetadata");const e=function jLe(n,t,e,i){const s=q4(t.fullServerUrl(),n.host,n._protocol),d=vL(e,i),_=n.maxOperationRetryTime,M=new m3(s,"PATCH",p_(n,i),_);return M.headers={"Content-Type":"application/json; charset=utf-8"},M.body=d,M.errorHandler=ih(t),M}(n.storage,n._location,t,nh());return n.storage.makeRequestWithTokens(e,aa)}(n=(0,R.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function MEe(n){return dEe(n=(0,R.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function wEe(n){return function fEe(n){n._throwIfRoot("deleteObject");const t=function qLe(n,t){const i=q4(t.fullServerUrl(),n.host,n._protocol),d=new m3(i,"DELETE",function c(h,_){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=ih(t),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,aa)}(n=(0,R.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw _j(t)}}class Wj{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(Zj(t))throw bu("ref() expected a child path but got a URL, use refFromURL instead.");return new $4(jj(this._delegate,t),this)}refFromURL(t){if(!Zj(t))throw bu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{q2.makeFromUrl(t,this._delegate.host)}catch(e){throw bu("refFromUrl() expected a valid full URL but got an invalid one.")}return new $4(jj(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function SEe(n,t,e,i={}){!function CEe(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,R.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function Zj(n){return/^[A-Za-z]+:\/\//.test(n)}function IEe(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new Wj(e,i)}!function NEe(n){const t={TaskState:pr,TaskEvent:KLe,StringFormat:Os,Storage:Wj,Reference:$4};n.INTERNAL.registerComponent(new oa.wA("storage-compat",IEe,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.12")}(dL.Z),O(5867);var la=O(1877);const Kj=new Map,OEe={activated:!1,tokenObservers:[]},PEe={initialized:!1,enabled:!1};function K1(n){return Kj.get(n)||OEe}function ca(n,t){Kj.set(n,t)}function __(){return PEe}class GEe{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,_e.Z)(function*(){e.stop();try{e.pending=new R.BH,yield function jEe(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new R.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const gr=new R.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Jj(n){if(!K1(n).activated)throw gr.create("use-before-activation",{appName:n.name})}function EL(n,t){return TL.apply(this,arguments)}function TL(){return(TL=(0,_e.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const x=yield r.getHeartbeatsHeader();x&&(i["X-Firebase-Client"]=x)}const s={method:"POST",body:JSON.stringify(t),headers:i};let c,d;try{c=yield fetch(n,s)}catch(x){throw gr.create("fetch-network-error",{originalErrorMessage:x.message})}if(200!==c.status)throw gr.create("fetch-status-error",{httpStatus:c.status});try{d=yield c.json()}catch(x){throw gr.create("fetch-parse-error",{originalErrorMessage:x.message})}const h=d.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw gr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const _=1e3*Number(h[1]),M=Date.now();return{token:d.attestationToken,expireTimeMillis:M+_,issuedAtTimeMillis:M}})).apply(this,arguments)}function YEe(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const rh="firebase-app-check-store";let b_=null;function eq(){return b_||(b_=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(gr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(rh,{keyPath:"compositeKey"})}}catch(e){t(gr.create("storage-open",{originalErrorMessage:e.message}))}}),b_)}function DL(){return(DL=(0,_e.Z)(function*(n,t){const i=(yield eq()).transaction(rh,"readwrite"),s=i.objectStore(rh).put({compositeKey:n,value:t});return new Promise((c,d)=>{s.onsuccess=h=>{c()},i.onerror=h=>{var _;d(gr.create("storage-set",{originalErrorMessage:null===(_=h.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const sh=new la.Yd("@firebase/app-check");function rq(n,t){return(0,R.hl)()?function XEe(n,t){return function tq(n,t){return DL.apply(this,arguments)}(function iq(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{sh.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function sq(){return __().enabled}function oq(){return kL.apply(this,arguments)}function kL(){return(kL=(0,_e.Z)(function*(){const n=__();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const sTe={error:"UNKNOWN_ERROR"};function oTe(n){return R.US.encodeString(JSON.stringify(n),!1)}function M_(n){return VL.apply(this,arguments)}function VL(){return(VL=(0,_e.Z)(function*(n,t=!1){const e=n.app;Jj(e);const i=K1(e);let s,r=i.token;if(!r){const h=yield i.cachedTokenPromise;h&&w_(h)&&(r=h)}if(!t&&r&&w_(r))return{token:r.token};let d,c=!1;if(sq()){i.exchangeTokenPromise||(i.exchangeTokenPromise=EL(YEe(e,yield oq()),n.heartbeatServiceProvider).then(_=>(i.exchangeTokenPromise=void 0,_)),c=!0);const h=yield i.exchangeTokenPromise;return yield rq(e,h),ca(e,Object.assign(Object.assign({},i),{token:h})),{token:h.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(h=>(i.exchangeTokenPromise=void 0,h)),c=!0),r=yield i.exchangeTokenPromise}catch(h){"appCheck/throttled"===h.code?sh.warn(h.message):sh.error(h),s=h}return r?(d={token:r.token},ca(e,Object.assign(Object.assign({},i),{token:r})),yield rq(e,r)):d=lTe(s),c&&lq(e,d),d})).apply(this,arguments)}function RL(n,t){const e=K1(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),ca(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function aq(n){const{app:t}=n,e=K1(t);let i=e.tokenRefresher;i||(i=function aTe(n){const{app:t}=n;return new GEe((0,_e.Z)(function*(){let i;if(i=K1(t).token?yield M_(n,!0):yield M_(n),i.error)throw i.error}),()=>!0,()=>{const e=K1(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),ca(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function lq(n,t){const e=K1(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function w_(n){return n.expireTimeMillis-Date.now()>0}function lTe(n){return{token:oTe(sTe),error:n}}class cTe{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=K1(this.app);for(const e of t)RL(this.app,e.next);return Promise.resolve()}}const Cq="app-check-internal";!function wTe(){(0,fr._registerComponent)(new oa.wA("app-check",n=>function uTe(n,t){return new cTe(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Cq).initialize()})),(0,fr._registerComponent)(new oa.wA(Cq,n=>function dTe(n){return{getToken:t=>M_(n,t),addTokenListener:t=>function HL(n,t,e,i){const{app:r}=n,s=K1(r),c={next:e,error:i,type:t};if(ca(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,c]})),s.token&&w_(s.token)){const d=s.token;Promise.resolve().then(()=>{e({token:d.token}),aq(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>aq(n))}(n,"INTERNAL",t),removeTokenListener:t=>RL(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,fr.registerVersion)("@firebase/app-check","0.5.5")}();class oh{constructor(){return(0,Un.vb)("app-check")}}"undefined"!=typeof window&&window;var _q=O(127);function vq(n){const t=function TTe(n){return new xn.y(t=>{const e=c=>t.next(c);e(n.snapshot);const s=n.on("state_changed",e);return n.then(c=>{e(c),t.complete()},c=>{e(n.snapshot),(c=>{t.error(c)})(c)}),function(){s()}}).pipe(uu(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,je.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function S_(n){return{getDownloadURL:()=>lt(void 0).pipe(Un.fc,wi(()=>n.getDownloadURL()),Un.iC),getMetadata:()=>lt(void 0).pipe(Un.fc,wi(()=>n.getMetadata()),Un.iC),delete:()=>(0,Sn.D)(n.delete()),child:t=>S_(n.child(t)),updateMetadata:t=>(0,Sn.D)(n.updateMetadata(t)),put:(t,e)=>vq(n.put(t,e)),putString:(t,e,i)=>vq(n.putString(t,e,i)),list:t=>(0,Sn.D)(n.list(t)),listAll:()=>(0,Sn.D)(n.listAll())}}const DTe=new o.OlP("angularfire2.storageBucket"),ATe=new o.OlP("angularfire2.storage.maxUploadRetryTime"),ITe=new o.OlP("angularfire2.storage.maxOperationRetryTime"),NTe=new o.OlP("angularfire2.storage.use-emulator");let ah=(()=>{class n{constructor(e,i,r,s,c,d,h,_,M,x){const D=(0,F1.on)(e,c,i);this.storage=(0,F1.cc)(`${D.name}.storage.${r}`,"AngularFireStorage",D.name,()=>{const N=c.runOutsideAngular(()=>D.storage(r||void 0)),H=M;return H&&N.useEmulator(...H),h&&N.setMaxUploadRetryTime(h),_&&N.setMaxOperationRetryTime(_),N},[h,_])}ref(e){return S_(this.storage.ref(e))}refFromURL(e){return S_(this.storage.refFromURL(e))}upload(e,i,r){return S_(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(F1.Dh),o.LFG(F1.xv,8),o.LFG(DTe,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Un.HU),o.LFG(ATe,8),o.LFG(ITe,8),o.LFG(NTe,8),o.LFG(oh,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),kTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),VTe=(()=>{class n{constructor(){_q.Z.registerVersion("angularfire",Un.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[ah],imports:[kTe]}),n})();function HTe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",16),o._UZ(1,"div",17),o.TgZ(2,"div",18),o.TgZ(3,"label",6),o._uU(4,"Nimi"),o.qZA(),o._UZ(5,"input",19),o.qZA(),o.TgZ(6,"div",8),o.TgZ(7,"input",9),o.NdJ("input",function(r){return o.CHM(e),o.oxw().onFileChanged(r)}),o.qZA(),o.TgZ(8,"div"),o._uU(9),o.qZA(),o.qZA(),o.TgZ(10,"div",0),o.TgZ(11,"div",1),o.TgZ(12,"div",5),o.TgZ(13,"label",10),o._uU(14,"imagePath"),o.qZA(),o._UZ(15,"input",11),o.qZA(),o.qZA(),o.qZA(),o.TgZ(16,"div",20),o.TgZ(17,"button",21),o.NdJ("click",function(){const s=o.CHM(e).index;return o.oxw().onDeleteTuote(s)}),o._uU(18,"Poista"),o.qZA(),o.qZA(),o.qZA()}if(2&n){const e=t.index,i=o.oxw();o.Q6J("formGroupName",e),o.xp6(9),o.hij(" ",i.downloadableURL," ")}}let yq=(()=>{class n{constructor(e,i,r,s,c,d){this.route=e,this.router=i,this.dataStorageService=r,this.tekstiStorageService=s,this.galleryService=c,this.fireStorage=d,this.editMode=!1,this.basePath="/images",this.downloadableURL=""}ngOnInit(){this.route.params.subscribe(e=>{this.id=+e.id,this.editMode=null!=e.id,this.initForm()})}onFileChanged(e){var i=this;return(0,_e.Z)(function*(){const r=e.target.files[0];r&&(i.task=i.fireStorage.upload(`${i.basePath}/${r.name}`,r),i.progressValue=i.task.percentageChanges(),(yield i.task).ref.getDownloadURL().then(c=>{i.downloadableURL=c}),e.target.files.length>0&&console.log(e.target.files[0].name))})()}onSubmit(){this.editMode?this.galleryService.updateItem(this.id,this.itemForm.value):this.galleryService.addItem(this.itemForm.value),this.onCancel(),this.dataStorageService.storeItems(),this.tekstiStorageService.storeTekstit()}onAddTuote(){this.itemForm.get("tuotteet").push(new $1({name:new Jn(null,k1.required),imagePath:new Jn(null,k1.required),description:new Jn(null,k1.required)}))}onDeleteTuote(e){this.itemForm.get("tuotteet").removeAt(e)}onCancel(){this.router.navigate(["../"],{relativeTo:this.route})}initForm(){let e="",i="",r=new t4([]);if(this.editMode){const s=this.galleryService.getItem(this.id);if(e=s.name,i=s.imagePath,s.tuotteet)for(let c of s.tuotteet)r.push(new $1({name:new Jn(c.name,k1.required),imagePath:new Jn(c.imagePath,k1.required)}))}this.itemForm=new $1({name:new Jn(e,k1.required),imagePath:new Jn(i,k1.required),tuotteet:r})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(xi),o.Y36(nn),o.Y36(b1),o.Y36(cr),o.Y36(x2),o.Y36(ah))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-gallery-edit"]],decls:33,vars:3,consts:[[1,"row"],[1,"col-xs-12"],[3,"formGroup","ngSubmit"],["type","button","id","cancel",1,"btn","btn-danger",3,"click"],["type","submit",1,"btn","btn-success"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],[2,"padding","5mm"],["type","file","name","file","accept",".jpeg,.jpg,.png,.svg",3,"input"],["for","imagePath"],["type","text","id","imagePath","formControlName","imagePath",1,"form-control"],["imagePath",""],["formArrayName","tuotteet",1,"col-xs-12"],["class","row","style","margin-top: 10px;",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success",3,"click"],[1,"row",2,"margin-top","10px",3,"formGroupName"],["id","tuotediv"],[1,"col-xs-8"],["type","text","id","tuotenimi","formControlName","name",1,"form-control"],[1,"col-xs-2"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"form",2),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(3,"div",0),o.TgZ(4,"div",1),o.TgZ(5,"button",3),o.NdJ("click",function(){return i.onCancel()}),o._uU(6,"Cancel"),o.qZA(),o.TgZ(7,"button",4),o._uU(8,"Save"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(9,"div",0),o.TgZ(10,"div",1),o.TgZ(11,"div",5),o.TgZ(12,"label",6),o._uU(13,"Nimi"),o.qZA(),o._UZ(14,"input",7),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"div",8),o.TgZ(16,"input",9),o.NdJ("input",function(s){return i.onFileChanged(s)}),o.qZA(),o.TgZ(17,"div"),o._uU(18),o.qZA(),o.qZA(),o.TgZ(19,"div",0),o.TgZ(20,"div",1),o.TgZ(21,"div",5),o.TgZ(22,"label",10),o._uU(23,"imagePath"),o.qZA(),o._UZ(24,"input",11,12),o.qZA(),o.qZA(),o.qZA(),o.TgZ(26,"div",0),o.TgZ(27,"div",13),o.YNc(28,HTe,19,2,"div",14),o.TgZ(29,"div",0),o.TgZ(30,"div",1),o.TgZ(31,"button",15),o.NdJ("click",function(){return i.onAddTuote()}),o._uU(32,"Lis\xe4\xe4 tuote"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("formGroup",i.itemForm),o.xp6(16),o.hij(" ",i.downloadableURL," "),o.xp6(10),o.Q6J("ngForOf",i.itemForm.get("tuotteet").controls))},directives:[ms,M2,so,v2,q1,_s,n1,Ni,S6],styles:["form[_ngcontent-%COMP%]{width:800px;height:450px;border:solid black 3px;border-radius:10px;border:solid black 2px;background-color:#ddd;position:absolute;top:0;left:0;margin-top:15%;margin-left:25%;z-index:2;overflow:scroll;overflow-x:hidden;overflow-y:scroll}button[_ngcontent-%COMP%]{margin-left:15px}button[_ngcontent-%COMP%]{float:right}#warning[_ngcontent-%COMP%]{height:7mm;width:50%}img[_ngcontent-%COMP%]{height:200px}#tuotediv[_ngcontent-%COMP%]{background-color:#000;height:1px;box-shadow:0 2px 3px #000}.row[_ngcontent-%COMP%]{--bs-gutter-x: 0 !important}label[_ngcontent-%COMP%]{margin-top:3px}#tuotenimi[_ngcontent-%COMP%]{width:300px}"]}),n})(),RTe=(()=>{class n{constructor(e,i){this.route=e,this.router=i}ngOnInit(){}onTakaisin(){this.router.navigate(["../"],{relativeTo:this.route})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(xi),o.Y36(nn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-gallery-category-back"]],decls:2,vars:0,consts:[["id","takaisin",1,"previous","btn","btn-danger",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"button",0),o.NdJ("click",function(){return i.onTakaisin()}),o._uU(1,"\xab Takaisin"),o.qZA())},styles:["#takaisin[_ngcontent-%COMP%]{background-color:#eee;border:none;color:#000;padding:10px 20px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:4px 2px;cursor:pointer;border-radius:4px}#takaisin[_ngcontent-%COMP%]:hover{background-color:#d6d6d6}"]}),n})(),OTe=(()=>{class n{constructor(e,i){this.router=e,this.route=i}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(nn),o.Y36(xi))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-gallery-category"]],inputs:{tuote:"tuote",index:"index"},decls:5,vars:3,consts:[["id","itemswrapper"],[1,"img-responsive",2,"height","220px",3,"src","alt"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"a"),o._UZ(2,"img",1),o.TgZ(3,"h3"),o._uU(4),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.s9C("alt",i.tuote.name),o.Q6J("src",i.tuote.imagePath,o.LSH),o.xp6(2),o.Oqu(i.tuote.name))},styles:["#itemswrapper[_ngcontent-%COMP%]{width:259px;display:inline-block;padding:30px;text-align:center}h4[_ngcontent-%COMP%]{font-size:25px;color:#000}h5[_ngcontent-%COMP%]{font-size:25px}h3[_ngcontent-%COMP%]{font-size:19px;color:#000}#tuotewrapper[_ngcontent-%COMP%]{position:absolute;background-color:#fff;text-align:center;justify-content:center;top:110%;z-index:1000;right:25%;max-width:100%}#tuotewrapper1[_ngcontent-%COMP%]{position:absolute;top:0;margin-top:180px;left:10%;right:10%;background-color:#fff;width:80%;padding-left:150px;text-align:center;justify-content:center}a[_ngcontent-%COMP%]{color:#000;text-decoration:none}"]}),n})();function PTe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2),o.TgZ(1,"button",3),o.NdJ("click",function(){return o.CHM(e),o.oxw().onCancel()}),o._uU(2,"Cancel"),o.qZA(),o.TgZ(3,"div",4),o.TgZ(4,"div",5),o._UZ(5,"img",6),o.qZA(),o.qZA(),o.TgZ(6,"div",4),o.TgZ(7,"div",5),o.TgZ(8,"h1"),o._uU(9),o.qZA(),o.qZA(),o.qZA(),o._UZ(10,"hr"),o.TgZ(11,"div",4),o.TgZ(12,"div",5),o.TgZ(13,"a",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().onEditItem()}),o._uU(14,"Muokkaa ja lis\xe4\xe4 kategoriaan"),o.qZA(),o.TgZ(15,"a",8),o.NdJ("click",function(){return o.CHM(e),o.oxw().onDeleteItem()}),o._uU(16,"Poista kategoria"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.xp6(5),o.s9C("alt",e.item.name),o.Q6J("src",e.item.imagePath,o.LSH),o.xp6(4),o.Oqu(e.item.name)}}function zTe(n,t){1&n&&(o.TgZ(0,"div"),o._UZ(1,"app-gallery-category-back"),o.qZA())}function FTe(n,t){if(1&n&&o._UZ(0,"app-gallery-category",10),2&n){const i=t.index;o.Q6J("tuote",t.$implicit)("index",i)}}function BTe(n,t){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,FTe,1,2,"app-gallery-category",9),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.item.tuotteet)}}let UTe=(()=>{class n{constructor(e,i,r,s,c,d){this.galleryService=e,this.dataStorageService=i,this.tekstiStorageService=r,this.authService=s,this.route=c,this.router=d,this.isAuthenticated=!1}ngOnInit(){this.route.params.subscribe(e=>{this.id=+e.id,this.item=this.galleryService.getItem(this.id)}),this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}onEditItem(){this.router.navigate(["edit"],{relativeTo:this.route})}onDeleteItem(){this.galleryService.deleteItem(this.id),this.router.navigate(["/gallery"]),this.dataStorageService.storeItems(),this.tekstiStorageService.storeTekstit()}onCancel(){this.router.navigate(["../"],{relativeTo:this.route})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(x2),o.Y36(b1),o.Y36(cr),o.Y36(ii),o.Y36(xi),o.Y36(nn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-gallery-detail"]],decls:3,vars:3,consts:[["id","border",4,"ngIf"],[4,"ngIf"],["id","border"],["type","button",1,"btn","btn-danger",3,"click"],[1,"row"],[1,"col-xs-12"],[1,"img-responsive",2,"max-height","300px",3,"src","alt"],["id","edit",2,"cursor","pointer",3,"click"],["id","delete",2,"cursor","pointer",3,"click"],[3,"tuote","index",4,"ngFor","ngForOf"],[3,"tuote","index"]],template:function(e,i){1&e&&(o.YNc(0,PTe,17,3,"div",0),o.YNc(1,zTe,2,0,"div",1),o.YNc(2,BTe,2,1,"div",1)),2&e&&(o.Q6J("ngIf",i.isAuthenticated),o.xp6(1),o.Q6J("ngIf",!i.isAuthenticated),o.xp6(1),o.Q6J("ngIf",!i.isAuthenticated))},directives:[Qt,RTe,Ni,OTe],styles:["#edit[_ngcontent-%COMP%]{color:#00f;font-size:25px}#delete[_ngcontent-%COMP%]{color:red;font-size:25px;margin-left:20px}#go[_ngcontent-%COMP%]{color:green;font-size:25px;margin-left:20px}#border[_ngcontent-%COMP%]{border:solid black 1px;position:absolute;top:0;left:0;margin-top:25%;margin-left:25%;width:800px;background-color:#e9e9e9}button[_ngcontent-%COMP%]{float:right}img[_ngcontent-%COMP%]{height:200px}"]}),n})(),Ps=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return this.authService.user.pipe((0,Jt.q)(1),(0,je.U)(r=>!!r||this.router.createUrlTree(["/auth"])))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ii),o.LFG(nn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function GTe(n,t){if(1&n&&(o.TgZ(0,"div",14),o.TgZ(1,"p"),o._uU(2),o.qZA(),o.qZA()),2&n){const e=o.oxw();o.xp6(2),o.Oqu(e.error)}}let jTe=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.isLoginMode=!0,this.error=null}onSubmit(e){if(!e.valid)return;let s;this.isLoginMode&&(s=this.authService.login(e.value.email,e.value.password)),s.subscribe(c=>{console.log(c),this.router.navigate([""])},c=>{console.log(c),this.error=c}),e.reset()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ii),o.Y36(nn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-auth"]],decls:23,vars:2,consts:[[1,"container"],[1,"row"],[1,"col"],["class","alert alert-danger",4,"ngIf"],[3,"ngSubmit"],["authForm","ngForm"],[1,"form-group"],["for","email",1,"col-lg-2","control-label"],[1,"col-lg-10"],["type","email","id","email","ngModel","","name","email","required","","email","",1,"form-control"],["for","password",1,"col-lg-2","control-label"],["type","password","id","inputPassword","ngModel","","name","password","required","","minlength","6",1,"form-control"],[1,"col-lg-10","col-lg-offset-2"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"alert","alert-danger"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.YNc(3,GTe,3,1,"div",3),o.TgZ(4,"h3"),o._uU(5,"Login"),o.qZA(),o.TgZ(6,"form",4,5),o.NdJ("ngSubmit",function(){o.CHM(r);const c=o.MAs(7);return i.onSubmit(c)}),o.TgZ(8,"div",6),o.TgZ(9,"label",7),o._uU(10,"Email"),o.qZA(),o.TgZ(11,"div",8),o._UZ(12,"input",9),o.qZA(),o.qZA(),o.TgZ(13,"div",6),o.TgZ(14,"label",10),o._uU(15,"Password"),o.qZA(),o.TgZ(16,"div",8),o._UZ(17,"input",11),o.qZA(),o.qZA(),o.TgZ(18,"div",6),o.TgZ(19,"div",12),o.TgZ(20,"button",13),o._uU(21,"Login "),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(22,"div",2),o.qZA(),o.qZA()}if(2&e){const r=o.MAs(7);o.xp6(3),o.Q6J("ngIf",i.error),o.xp6(17),o.Q6J("disabled",!r.valid)}},directives:[Qt,ms,M2,Il,v2,q1,Vl,oo,Fl,a4],styles:[".form-control[_ngcontent-%COMP%]{width:70%;padding:10px}h3[_ngcontent-%COMP%]{font-size:45px;padding-left:15px;padding-top:40px}.form-group[_ngcontent-%COMP%]{padding-top:60px;font-size:20px}.btn[_ngcontent-%COMP%]{padding:10px;font-size:20px;background-color:#fe852b;border-color:#944c15}"]}),n})();function qTe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",1),o.TgZ(1,"div",2),o.TgZ(2,"div",3),o.TgZ(3,"form",4),o.NdJ("ngSubmit",function(){return o.CHM(e),o.oxw().onSubmit()}),o.TgZ(4,"div",2),o.TgZ(5,"div",3),o.TgZ(6,"button",5),o.NdJ("click",function(){return o.CHM(e),o.oxw().onCancel()}),o._uU(7,"Cancel"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8,"div",2),o.TgZ(9,"div",3),o.TgZ(10,"div",6),o.TgZ(11,"label",7),o._uU(12,"teksti"),o.qZA(),o._UZ(13,"textarea",8),o.qZA(),o.qZA(),o.qZA(),o.TgZ(14,"button",9),o._uU(15,"Save"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.xp6(3),o.Q6J("formGroup",e.textForm)}}let bq=(()=>{class n{constructor(e,i,r,s,c){this.route=e,this.dataStorageService=i,this.tekstiStorageService=r,this.router=s,this.tekstiService=c,this.display=!0,this.editMode=!1}ngOnInit(){this.route.params.subscribe(e=>{this.id=+e.id,this.editMode=null!=e.id,this.initForm()})}onSubmit(){this.editMode?this.tekstiService.updateTeksti(this.id,this.textForm.value):this.tekstiService.addTeksti(this.textForm.value),this.onCancel(),this.tekstiStorageService.storeTekstit()}onCancel(){this.display=!1,this.router.navigate(["../"])}initForm(){let e="";this.editMode&&(e=this.tekstiService.getTeksti(this.id).text),this.textForm=new $1({text:new Jn(e)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(xi),o.Y36(b1),o.Y36(cr),o.Y36(nn),o.Y36(As))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-gallery-text"]],decls:1,vars:1,consts:[["id","comp-render",4,"ngIf"],["id","comp-render"],[1,"row"],[1,"col-xs-12"],[3,"formGroup","ngSubmit"],["type","button","id","cancel",1,"btn","btn-danger",3,"click"],[1,"form-group"],["for","name"],["id","text","name","text","rows","7","cols","50","formControlName","text",1,"form-control"],["type","submit",1,"btn","btn-success"]],template:function(e,i){1&e&&o.YNc(0,qTe,16,1,"div",0),2&e&&o.Q6J("ngIf",i.display)},directives:[Qt,ms,M2,so,v2,q1,_s],styles:["form[_ngcontent-%COMP%]{border:solid black 1px;background-color:#ddd;position:absolute;left:0;margin-left:25%;width:900px;z-index:2}button[_ngcontent-%COMP%]{float:right}"]}),n})(),Mq=(()=>{class n{constructor(e,i,r,s,c,d){this.route=e,this.router=i,this.dataStorageService=r,this.tekstiStorageService=s,this.galleryService=c,this.fireStorage=d,this.editMode=!1,this.basePath="/images",this.downloadableURL=""}ngOnInit(){this.route.params.subscribe(e=>{this.id=+e.id,this.editMode=null!=e.id,this.initForm()})}onFileChanged(e){var i=this;return(0,_e.Z)(function*(){const r=e.target.files[0];r?(i.task=i.fireStorage.upload(`${i.basePath}/${r.name}`,r),i.progressValue=i.task.percentageChanges(),(yield i.task).ref.getDownloadURL().then(c=>{i.downloadableURL=c})):(alert("No images selected"),i.downloadableURL="")})()}onSubmit(){this.editMode?this.galleryService.updateKorjaus(this.id,this.korjausForm.value):this.galleryService.addKorjaus(this.korjausForm.value),this.onCancel(),this.dataStorageService.storeKorjaukset(),this.tekstiStorageService.storeTekstit()}onCancel(){this.router.navigate(["../"],{relativeTo:this.route})}initForm(){let e="",i="";if(this.editMode){const r=this.galleryService.getKorjaus(this.id);e=r.teksti,i=r.imagePath}this.korjausForm=new $1({teksti:new Jn(e),imagePath:new Jn(i)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(xi),o.Y36(nn),o.Y36(b1),o.Y36(cr),o.Y36(x2),o.Y36(ah))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-korjaukset-edit"]],decls:29,vars:3,consts:[[1,"row"],[1,"col-xs-12"],[3,"formGroup","ngSubmit"],["type","button","id","cancel",1,"btn","btn-danger",3,"click"],["type","submit",1,"btn","btn-success"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","teksti",1,"form-control"],[2,"padding","20mm"],["type","file","name","file","accept",".jpeg,.jpg,.png,.svg",3,"input"],["for","imagePath"],["type","text","id","imagePath","formControlName","imagePath",1,"form-control"],["imagePath",""],[1,"img-responsive",3,"src"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"form",2),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(3,"div",0),o.TgZ(4,"div",1),o.TgZ(5,"button",3),o.NdJ("click",function(){return i.onCancel()}),o._uU(6,"Cancel"),o.qZA(),o.TgZ(7,"button",4),o._uU(8,"Save"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(9,"div",0),o.TgZ(10,"div",1),o.TgZ(11,"div",5),o.TgZ(12,"label",6),o._uU(13,"Teksti"),o.qZA(),o._UZ(14,"input",7),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"div",8),o.TgZ(16,"input",9),o.NdJ("input",function(s){return i.onFileChanged(s)}),o.qZA(),o._UZ(17,"br"),o._uU(18),o.qZA(),o.TgZ(19,"div",0),o.TgZ(20,"div",1),o.TgZ(21,"div",5),o.TgZ(22,"label",10),o._uU(23,"imagePath"),o.qZA(),o._UZ(24,"input",11,12),o.TgZ(26,"div",0),o.TgZ(27,"div",1),o._UZ(28,"img",13),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const r=o.MAs(25);o.xp6(2),o.Q6J("formGroup",i.korjausForm),o.xp6(16),o.hij(" ",i.downloadableURL," "),o.xp6(10),o.Q6J("src",r.value,o.LSH)}},directives:[ms,M2,so,v2,q1,_s],styles:["form[_ngcontent-%COMP%]{border:solid black 1px;background-color:#ddd;position:absolute;top:0;left:0;margin-top:800px;margin-left:25%;width:800px;z-index:100}button[_ngcontent-%COMP%]{margin-left:15px}button[_ngcontent-%COMP%]{float:right}#warning[_ngcontent-%COMP%]{height:7mm;width:50%}img[_ngcontent-%COMP%]{height:200px}"]}),n})();function $Te(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",1),o.TgZ(1,"button",2),o.NdJ("click",function(){return o.CHM(e),o.oxw().onCancel()}),o._uU(2,"Cancel"),o.qZA(),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o._UZ(5,"img",5),o.qZA(),o.qZA(),o.TgZ(6,"div",3),o.TgZ(7,"div",4),o.TgZ(8,"h1"),o._uU(9),o.qZA(),o.qZA(),o.qZA(),o._UZ(10,"hr"),o.TgZ(11,"div",3),o.TgZ(12,"div",4),o.TgZ(13,"a",6),o.NdJ("click",function(){return o.CHM(e),o.oxw().onEditKorjaus()}),o._uU(14,"Muokkaa "),o.qZA(),o.TgZ(15,"a",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().onDeleteKorjaus()}),o._uU(16,"Poista Korjaus"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.xp6(5),o.s9C("alt",e.korjaus.teksti),o.Q6J("src",e.korjaus.imagePath,o.LSH),o.xp6(4),o.Oqu(e.korjaus.teksti)}}let WTe=(()=>{class n{constructor(e,i,r,s,c,d){this.galleryService=e,this.dataStorageService=i,this.tekstiStorageService=r,this.authService=s,this.route=c,this.router=d,this.isAuthenticated=!1}ngOnInit(){this.route.params.subscribe(e=>{this.id=+e.id,this.korjaus=this.galleryService.getKorjaus(this.id)}),this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}ngOnDestroy(){this.userSub.unsubscribe()}onEditKorjaus(){this.router.navigate(["edit"],{relativeTo:this.route})}onDeleteKorjaus(){this.galleryService.deleteKorjaus(this.id),this.router.navigate(["/korjaukset"]),this.dataStorageService.storeKorjaukset()}onCancel(){this.router.navigate(["../"],{relativeTo:this.route})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(x2),o.Y36(b1),o.Y36(cr),o.Y36(ii),o.Y36(xi),o.Y36(nn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-korjaukset-detail"]],decls:1,vars:1,consts:[["id","border",4,"ngIf"],["id","border"],["type","button",1,"btn","btn-danger",3,"click"],[1,"row"],[1,"col-xs-12"],[1,"img-responsive",2,"max-height","300px",3,"src","alt"],["id","edit",2,"cursor","pointer",3,"click"],["id","delete",2,"cursor","pointer",3,"click"]],template:function(e,i){1&e&&o.YNc(0,$Te,17,3,"div",0),2&e&&o.Q6J("ngIf",i.isAuthenticated)},directives:[Qt],styles:["#edit[_ngcontent-%COMP%]{color:#00f;font-size:25px}#delete[_ngcontent-%COMP%]{color:red;font-size:25px;margin-left:20px}#go[_ngcontent-%COMP%]{color:green;font-size:25px;margin-left:20px}#border[_ngcontent-%COMP%]{border:solid black 1px;position:absolute;top:0;left:0;margin-top:800px;margin-left:25%;width:800px;z-index:100;background-color:#e9e9e9}button[_ngcontent-%COMP%]{float:right}img[_ngcontent-%COMP%]{height:200px}"]}),n})();function ZTe(n,t){1&n&&(o.TgZ(0,"button",1),o._uU(1," Muokkaa teksti\xe4"),o.qZA())}let YTe=(()=>{class n{constructor(e,i){this.router=e,this.authService=i,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}ngOnDestroy(){this.userSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(nn),o.Y36(ii))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-korjaukset-text"]],inputs:{teksti:"teksti",index:"index"},decls:3,vars:2,consts:[["class","btn btn-info","id","editText","routerLink","/text/2",4,"ngIf"],["id","editText","routerLink","/text/2",1,"btn","btn-info"]],template:function(e,i){1&e&&(o.YNc(0,ZTe,2,0,"button",0),o.TgZ(1,"h3"),o._uU(2),o.qZA()),2&e&&(o.Q6J("ngIf",i.isAuthenticated),o.xp6(2),o.Oqu(i.teksti.text))},directives:[Qt,Ns],styles:["h3[_ngcontent-%COMP%]{color:#000;font-size:17px}form[_ngcontent-%COMP%]{border:solid black 1px;background-color:#ddd;position:absolute;left:0;margin-left:25%;width:900px;z-index:2}button[_ngcontent-%COMP%]{float:right}.container[_ngcontent-%COMP%]{display:flex;align-items:center}.img-col[_ngcontent-%COMP%]{flex-basis:25%;margin-right:15px}#editText[_ngcontent-%COMP%]{color:#fff;background-color:#08a}button[_ngcontent-%COMP%]{float:left}"]}),n})();const KTe=function(n){return[n]};function QTe(n,t){if(1&n&&(o.TgZ(0,"button",6),o._uU(1,"muokkaa korjausta"),o.qZA()),2&n){const e=o.oxw();o.Q6J("routerLink",o.VKq(1,KTe,e.index))}}let JTe=(()=>{class n{constructor(e){this.authService=e,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ii))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-korjaukset-item"]],inputs:{korjaus:"korjaus",index:"index"},decls:8,vars:3,consts:[["id","itemswrapper"],["class","btn btn-secondary","routerLinkActive","active",3,"routerLink",4,"ngIf"],[1,"container"],[1,"img-col"],[2,"height","400px",3,"src"],[1,"text","col"],["routerLinkActive","active",1,"btn","btn-secondary",3,"routerLink"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.YNc(1,QTe,2,3,"button",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o._UZ(4,"img",4),o.qZA(),o.TgZ(5,"div",5),o.TgZ(6,"h3"),o._uU(7),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngIf",i.isAuthenticated),o.xp6(3),o.Q6J("src",i.korjaus.imagePath,o.LSH),o.xp6(3),o.Oqu(i.korjaus.teksti))},directives:[Qt,L5,Ns],styles:["h3[_ngcontent-%COMP%]{color:#000;font-size:17px}form[_ngcontent-%COMP%]{border:solid black 1px;background-color:#ddd;position:absolute;left:0;margin-left:25%;width:900px;z-index:2}.container[_ngcontent-%COMP%]{display:flex;align-items:center}.img-col[_ngcontent-%COMP%]{flex-basis:25%;margin-right:15px;margin-bottom:40px}#editText[_ngcontent-%COMP%]{color:#fff;background-color:#08a}button[_ngcontent-%COMP%]{float:left;margin-bottom:10px}"]}),n})();function XTe(n,t){if(1&n&&o._UZ(0,"app-korjaukset-text",3),2&n){const i=t.index;o.Q6J("teksti",t.$implicit)("index",i)}}function eDe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",4),o.TgZ(1,"div",5),o.TgZ(2,"div",6),o.TgZ(3,"button",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().onNewKorjaus()}),o._uU(4,"Uusi korjaus"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}}function tDe(n,t){if(1&n&&o._UZ(0,"app-korjaukset-item",8),2&n){const i=t.index;o.Q6J("korjaus",t.$implicit)("index",i)}}let nDe=(()=>{class n{constructor(e,i,r,s,c){this.galleryService=e,this.authService=i,this.router=r,this.tekstiService=s,this.route=c,this.isAuthenticated=!1,this.editMode=!1}ngOnInit(){this.subscription=this.galleryService.korjauksetChanged.subscribe(e=>{this.korjaukset=e}),this.korjaukset=this.galleryService.getKorjaukset(),this.tekstit=this.tekstiService.getTekstit(),this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}onNewKorjaus(){this.router.navigate(["new"],{relativeTo:this.route})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(x2),o.Y36(ii),o.Y36(nn),o.Y36(As),o.Y36(xi))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-korjaukset-list"]],inputs:{index:"index"},decls:3,vars:3,consts:[[3,"teksti","index",4,"ngFor","ngForOf"],["id","kontainer",4,"ngIf"],[3,"korjaus","index",4,"ngFor","ngForOf"],[3,"teksti","index"],["id","kontainer"],[1,"row"],[1,"col-xs-12"],["id","uus",1,"btn","btn-success",3,"click"],[3,"korjaus","index"]],template:function(e,i){1&e&&(o.YNc(0,XTe,1,2,"app-korjaukset-text",0),o.YNc(1,eDe,5,0,"div",1),o.YNc(2,tDe,1,2,"app-korjaukset-item",2)),2&e&&(o.Q6J("ngForOf",i.tekstit.slice(2,3)),o.xp6(1),o.Q6J("ngIf",i.isAuthenticated),o.xp6(1),o.Q6J("ngForOf",i.korjaukset))},directives:[Ni,Qt,YTe,JTe],styles:[".textinput[_ngcontent-%COMP%]{float:left;width:100%;min-height:100px;outline:none;resize:none;border:1px solid grey}#EditText[_ngcontent-%COMP%], #uus[_ngcontent-%COMP%]{margin-bottom:10px}"]}),n})();function iDe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",1),o.TgZ(1,"button",2),o.NdJ("click",function(){return o.CHM(e),o.oxw().onCancel()}),o._uU(2,"Cancel"),o.qZA(),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o._UZ(5,"img",5),o.qZA(),o.qZA(),o.TgZ(6,"div",3),o.TgZ(7,"div",4),o.TgZ(8,"h1"),o._uU(9),o.qZA(),o.qZA(),o.qZA(),o._UZ(10,"hr"),o.TgZ(11,"div",3),o.TgZ(12,"div",4),o.TgZ(13,"a",6),o.NdJ("click",function(){return o.CHM(e),o.oxw().onEditPalvelu()}),o._uU(14,"Muokkaa "),o.qZA(),o.TgZ(15,"a",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().onDeletePalvelu()}),o._uU(16,"Poista Korjaus"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.xp6(5),o.s9C("alt",e.palvelu.teksti),o.Q6J("src",e.palvelu.imagePath,o.LSH),o.xp6(4),o.Oqu(e.palvelu.teksti)}}let rDe=(()=>{class n{constructor(e,i,r,s,c,d){this.galleryService=e,this.dataStorageService=i,this.tekstiStorageService=r,this.authService=s,this.route=c,this.router=d,this.isAuthenticated=!1}ngOnInit(){this.route.params.subscribe(e=>{this.id=+e.id,this.palvelu=this.galleryService.getPalvelu(this.id)}),this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}ngOnDestroy(){this.userSub.unsubscribe()}onEditPalvelu(){this.router.navigate(["edit"],{relativeTo:this.route})}onDeletePalvelu(){this.galleryService.deletePalvelu(this.id),this.router.navigate(["/palvelut"]),this.dataStorageService.storePalvelut()}onCancel(){this.router.navigate(["../"],{relativeTo:this.route})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(x2),o.Y36(b1),o.Y36(cr),o.Y36(ii),o.Y36(xi),o.Y36(nn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-muutpalvelut-detail"]],decls:1,vars:1,consts:[["id","border",4,"ngIf"],["id","border"],["type","button",1,"btn","btn-danger",3,"click"],[1,"row"],[1,"col-xs-12"],[1,"img-responsive",2,"max-height","300px",3,"src","alt"],["id","edit",2,"cursor","pointer",3,"click"],["id","delete",2,"cursor","pointer",3,"click"]],template:function(e,i){1&e&&o.YNc(0,iDe,17,3,"div",0),2&e&&o.Q6J("ngIf",i.isAuthenticated)},directives:[Qt],styles:["#edit[_ngcontent-%COMP%]{color:#00f;font-size:25px}#delete[_ngcontent-%COMP%]{color:red;font-size:25px;margin-left:20px}#go[_ngcontent-%COMP%]{color:green;font-size:25px;margin-left:20px}#border[_ngcontent-%COMP%]{border:solid black 1px;position:absolute;top:0;left:0;margin-top:1200px;margin-left:25%;width:800px;background-color:#e9e9e9}button[_ngcontent-%COMP%]{float:right}img[_ngcontent-%COMP%]{height:200px}"]}),n})(),wq=(()=>{class n{constructor(e,i,r,s,c,d){this.route=e,this.router=i,this.dataStorageService=r,this.tekstiStorageService=s,this.galleryService=c,this.fireStorage=d,this.editMode=!1,this.basePath="/images",this.downloadableURL=""}ngOnInit(){this.route.params.subscribe(e=>{this.id=+e.id,this.editMode=null!=e.id,this.initForm()})}onFileChanged(e){var i=this;return(0,_e.Z)(function*(){const r=e.target.files[0];r?(i.task=i.fireStorage.upload(`${i.basePath}/${r.name}`,r),i.progressValue=i.task.percentageChanges(),(yield i.task).ref.getDownloadURL().then(c=>{i.downloadableURL=c})):(alert("No images selected"),i.downloadableURL="")})()}onSubmit(){this.editMode?this.galleryService.updatePalvelu(this.id,this.palveluForm.value):this.galleryService.addPalvelu(this.palveluForm.value),this.onCancel(),this.dataStorageService.storePalvelut(),this.tekstiStorageService.storeTekstit()}onCancel(){this.router.navigate(["../"],{relativeTo:this.route})}initForm(){let e="",i="";if(this.editMode){const r=this.galleryService.getPalvelu(this.id);e=r.teksti,i=r.imagePath}this.palveluForm=new $1({teksti:new Jn(e),imagePath:new Jn(i)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(xi),o.Y36(nn),o.Y36(b1),o.Y36(cr),o.Y36(x2),o.Y36(ah))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-muutpalvelut-edit"]],decls:29,vars:3,consts:[[1,"row"],[1,"col-xs-12"],[3,"formGroup","ngSubmit"],["type","button","id","cancel",1,"btn","btn-danger",3,"click"],["type","submit",1,"btn","btn-success"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","teksti",1,"form-control"],[2,"padding","20mm"],["type","file","name","file","accept",".jpeg,.jpg,.png,.svg",3,"input"],["for","imagePath"],["type","text","id","imagePath","formControlName","imagePath",1,"form-control"],["imagePath",""],[1,"img-responsive",3,"src"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"form",2),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(3,"div",0),o.TgZ(4,"div",1),o.TgZ(5,"button",3),o.NdJ("click",function(){return i.onCancel()}),o._uU(6,"Cancel"),o.qZA(),o.TgZ(7,"button",4),o._uU(8,"Save"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(9,"div",0),o.TgZ(10,"div",1),o.TgZ(11,"div",5),o.TgZ(12,"label",6),o._uU(13,"Teksti"),o.qZA(),o._UZ(14,"input",7),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"div",8),o.TgZ(16,"input",9),o.NdJ("input",function(s){return i.onFileChanged(s)}),o.qZA(),o._UZ(17,"br"),o._uU(18),o.qZA(),o.TgZ(19,"div",0),o.TgZ(20,"div",1),o.TgZ(21,"div",5),o.TgZ(22,"label",10),o._uU(23,"imagePath"),o.qZA(),o._UZ(24,"input",11,12),o.TgZ(26,"div",0),o.TgZ(27,"div",1),o._UZ(28,"img",13),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const r=o.MAs(25);o.xp6(2),o.Q6J("formGroup",i.palveluForm),o.xp6(16),o.hij(" ",i.downloadableURL," "),o.xp6(10),o.Q6J("src",r.value,o.LSH)}},directives:[ms,M2,so,v2,q1,_s],styles:["form[_ngcontent-%COMP%]{border:solid black 1px;background-color:#ddd;position:absolute;top:0;left:0;margin-top:1200px;margin-left:25%;width:800px;z-index:2}button[_ngcontent-%COMP%]{margin-left:15px}button[_ngcontent-%COMP%]{float:right}#warning[_ngcontent-%COMP%]{height:7mm;width:50%}img[_ngcontent-%COMP%]{height:200px}"]}),n})();function sDe(n,t){1&n&&(o.TgZ(0,"button",1),o._uU(1," Muokkaa teksti\xe4"),o.qZA())}let oDe=(()=>{class n{constructor(e,i){this.router=e,this.authService=i,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}ngOnDestroy(){this.userSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(nn),o.Y36(ii))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-muutpalvelut-text"]],inputs:{teksti:"teksti",index:"index"},decls:3,vars:2,consts:[["class","btn btn-info","id","editText","routerLink","/text/4",4,"ngIf"],["id","editText","routerLink","/text/4",1,"btn","btn-info"]],template:function(e,i){1&e&&(o.YNc(0,sDe,2,0,"button",0),o.TgZ(1,"h3"),o._uU(2),o.qZA()),2&e&&(o.Q6J("ngIf",i.isAuthenticated),o.xp6(2),o.Oqu(i.teksti.text))},directives:[Qt,Ns],styles:["h3[_ngcontent-%COMP%]{color:#000;font-size:17px}form[_ngcontent-%COMP%]{border:solid black 1px;background-color:#ddd;position:absolute;left:0;margin-left:25%;width:900px;z-index:2}button[_ngcontent-%COMP%]{float:right}.container[_ngcontent-%COMP%]{display:flex;align-items:center}.img-col[_ngcontent-%COMP%]{flex-basis:25%;margin-right:15px}#editText[_ngcontent-%COMP%]{color:#fff;background-color:#08a}button[_ngcontent-%COMP%]{float:left}"]}),n})();const aDe=function(n){return[n]};function lDe(n,t){if(1&n&&(o.TgZ(0,"button",6),o._uU(1,"muokkaa muitapalveluita"),o.qZA()),2&n){const e=o.oxw();o.Q6J("routerLink",o.VKq(1,aDe,e.index))}}let cDe=(()=>{class n{constructor(e){this.authService=e,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ii))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-muutpalvelut-item"]],inputs:{palvelu:"palvelu",index:"index"},decls:8,vars:3,consts:[["id","itemswrapper"],["class","btn btn-secondary","routerLinkActive","active",3,"routerLink",4,"ngIf"],[1,"container"],[1,"img-col"],[2,"height","400px",3,"src"],[1,"text","col"],["routerLinkActive","active",1,"btn","btn-secondary",3,"routerLink"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.YNc(1,lDe,2,3,"button",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o._UZ(4,"img",4),o.qZA(),o.TgZ(5,"div",5),o.TgZ(6,"h3"),o._uU(7),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngIf",i.isAuthenticated),o.xp6(3),o.Q6J("src",i.palvelu.imagePath,o.LSH),o.xp6(3),o.Oqu(i.palvelu.teksti))},directives:[Qt,L5,Ns],styles:["h3[_ngcontent-%COMP%]{color:#000;font-size:17px}form[_ngcontent-%COMP%]{border:solid black 1px;background-color:#ddd;position:absolute;left:0;margin-left:25%;width:900px;z-index:2}.container[_ngcontent-%COMP%]{display:flex;align-items:center}.img-col[_ngcontent-%COMP%]{flex-basis:25%;margin-right:15px;margin-bottom:40px}#editText[_ngcontent-%COMP%]{font-size:20px;padding-bottom:20px;color:#00f}button[_ngcontent-%COMP%]{float:left;margin-bottom:10px}"]}),n})();function uDe(n,t){if(1&n&&o._UZ(0,"app-muutpalvelut-text",3),2&n){const i=t.index;o.Q6J("teksti",t.$implicit)("index",i)}}function dDe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",4),o.TgZ(1,"div",5),o.TgZ(2,"div",6),o.TgZ(3,"button",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().onNewPalvelu()}),o._uU(4,"Uusi palvelu"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}}function fDe(n,t){if(1&n&&o._UZ(0,"app-muutpalvelut-item",8),2&n){const i=t.index;o.Q6J("palvelu",t.$implicit)("index",i)}}let hDe=(()=>{class n{constructor(e,i,r,s,c){this.galleryService=e,this.authService=i,this.router=r,this.tekstiService=s,this.route=c,this.isAuthenticated=!1,this.editMode=!1}ngOnInit(){this.subscription=this.galleryService.palvelutChanged.subscribe(e=>{this.palvelut=e}),this.palvelut=this.galleryService.getPalvelut(),this.tekstit=this.tekstiService.getTekstit(),this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}onNewPalvelu(){this.router.navigate(["new"],{relativeTo:this.route})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(x2),o.Y36(ii),o.Y36(nn),o.Y36(As),o.Y36(xi))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-muutpalvelut-list"]],inputs:{index:"index"},decls:3,vars:3,consts:[[3,"teksti","index",4,"ngFor","ngForOf"],["id","kontainer",4,"ngIf"],[3,"palvelu","index",4,"ngFor","ngForOf"],[3,"teksti","index"],["id","kontainer"],[1,"row"],[1,"col-xs-12"],["id","uus",1,"btn","btn-success",3,"click"],[3,"palvelu","index"]],template:function(e,i){1&e&&(o.YNc(0,uDe,1,2,"app-muutpalvelut-text",0),o.YNc(1,dDe,5,0,"div",1),o.YNc(2,fDe,1,2,"app-muutpalvelut-item",2)),2&e&&(o.Q6J("ngForOf",i.tekstit.slice(4,5)),o.xp6(1),o.Q6J("ngIf",i.isAuthenticated),o.xp6(1),o.Q6J("ngForOf",i.palvelut))},directives:[Ni,Qt,oDe,cDe],styles:[".textinput[_ngcontent-%COMP%]{float:left;width:100%;min-height:100px;outline:none;resize:none;border:1px solid grey}#EditText[_ngcontent-%COMP%], #uus[_ngcontent-%COMP%]{margin-bottom:10px}"]}),n})();function pDe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",1),o.TgZ(1,"button",2),o.NdJ("click",function(){return o.CHM(e),o.oxw().onCancel()}),o._uU(2,"Cancel"),o.qZA(),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o._UZ(5,"img",5),o.qZA(),o.qZA(),o.TgZ(6,"div",3),o.TgZ(7,"div",4),o.TgZ(8,"h1"),o._uU(9),o.qZA(),o.qZA(),o.qZA(),o._UZ(10,"hr"),o.TgZ(11,"div",3),o.TgZ(12,"div",4),o.TgZ(13,"a",6),o.NdJ("click",function(){return o.CHM(e),o.oxw().onEditRemontti()}),o._uU(14,"Muokkaa "),o.qZA(),o.TgZ(15,"a",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().onDeleteRemontti()}),o._uU(16,"Poista Korjaus"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.xp6(5),o.s9C("alt",e.remontti.teksti),o.Q6J("src",e.remontti.imagePath,o.LSH),o.xp6(4),o.Oqu(e.remontti.teksti)}}let gDe=(()=>{class n{constructor(e,i,r,s,c,d){this.galleryService=e,this.dataStorageService=i,this.tekstiStorageService=r,this.authService=s,this.route=c,this.router=d,this.isAuthenticated=!1}ngOnInit(){this.route.params.subscribe(e=>{this.id=+e.id,this.remontti=this.galleryService.getRemontti(this.id)}),this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}ngOnDestroy(){this.userSub.unsubscribe()}onEditRemontti(){this.router.navigate(["edit"],{relativeTo:this.route})}onDeleteRemontti(){this.galleryService.deleteRemontti(this.id),this.router.navigate(["/remontit"]),this.dataStorageService.storeRemontit()}onCancel(){this.router.navigate(["../"],{relativeTo:this.route})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(x2),o.Y36(b1),o.Y36(cr),o.Y36(ii),o.Y36(xi),o.Y36(nn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-remontit-detail"]],decls:1,vars:1,consts:[["id","border",4,"ngIf"],["id","border"],["type","button",1,"btn","btn-danger",3,"click"],[1,"row"],[1,"col-xs-12"],[1,"img-responsive",2,"max-height","300px",3,"src","alt"],["id","edit",2,"cursor","pointer",3,"click"],["id","delete",2,"cursor","pointer",3,"click"]],template:function(e,i){1&e&&o.YNc(0,pDe,17,3,"div",0),2&e&&o.Q6J("ngIf",i.isAuthenticated)},directives:[Qt],styles:["#edit[_ngcontent-%COMP%]{color:#00f;font-size:25px}#delete[_ngcontent-%COMP%]{color:red;font-size:25px;margin-left:20px}#go[_ngcontent-%COMP%]{color:green;font-size:25px;margin-left:20px}#border[_ngcontent-%COMP%]{border:solid black 1px;position:absolute;top:0;left:0;margin-top:1000px;margin-left:25%;width:800px;z-index:100;background-color:#e9e9e9}button[_ngcontent-%COMP%]{float:right}img[_ngcontent-%COMP%]{height:200px}"]}),n})(),xq=(()=>{class n{constructor(e,i,r,s,c,d){this.route=e,this.router=i,this.dataStorageService=r,this.tekstiStorageService=s,this.galleryService=c,this.fireStorage=d,this.editMode=!1,this.basePath="/images",this.downloadableURL=""}ngOnInit(){this.route.params.subscribe(e=>{this.id=+e.id,this.editMode=null!=e.id,this.initForm()})}onFileChanged(e){var i=this;return(0,_e.Z)(function*(){const r=e.target.files[0];r?(i.task=i.fireStorage.upload(`${i.basePath}/${r.name}`,r),i.progressValue=i.task.percentageChanges(),(yield i.task).ref.getDownloadURL().then(c=>{i.downloadableURL=c})):(alert("No images selected"),i.downloadableURL="")})()}onSubmit(){this.editMode?this.galleryService.updateRemontti(this.id,this.remonttiForm.value):this.galleryService.addRemontti(this.remonttiForm.value),this.onCancel(),this.dataStorageService.storeRemontit(),this.tekstiStorageService.storeTekstit()}onCancel(){this.router.navigate(["../"],{relativeTo:this.route})}initForm(){let e="",i="";if(this.editMode){const r=this.galleryService.getRemontti(this.id);e=r.teksti,i=r.imagePath}this.remonttiForm=new $1({teksti:new Jn(e),imagePath:new Jn(i)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(xi),o.Y36(nn),o.Y36(b1),o.Y36(cr),o.Y36(x2),o.Y36(ah))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-remontit-edit"]],decls:28,vars:3,consts:[[1,"row"],[1,"col-xs-12"],[3,"formGroup","ngSubmit"],["type","button","id","cancel",1,"btn","btn-danger",3,"click"],["type","submit",1,"btn","btn-success"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","teksti",1,"form-control"],[2,"padding","20mm"],["type","file","name","file","accept",".jpeg,.jpg,.png,.svg",3,"input"],["for","imagePath"],["type","text","id","imagePath","formControlName","imagePath",1,"form-control"],["imagePath",""],[1,"img-responsive",3,"src"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"form",2),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(3,"div",0),o.TgZ(4,"div",1),o.TgZ(5,"button",3),o.NdJ("click",function(){return i.onCancel()}),o._uU(6,"Cancel"),o.qZA(),o.TgZ(7,"button",4),o._uU(8,"Save"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(9,"div",0),o.TgZ(10,"div",1),o.TgZ(11,"div",5),o.TgZ(12,"label",6),o._uU(13,"Teksti"),o.qZA(),o._UZ(14,"input",7),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"div",8),o.TgZ(16,"input",9),o.NdJ("input",function(s){return i.onFileChanged(s)}),o.qZA(),o._uU(17),o.qZA(),o.TgZ(18,"div",0),o.TgZ(19,"div",1),o.TgZ(20,"div",5),o.TgZ(21,"label",10),o._uU(22,"imagePath"),o.qZA(),o._UZ(23,"input",11,12),o.TgZ(25,"div",0),o.TgZ(26,"div",1),o._UZ(27,"img",13),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const r=o.MAs(24);o.xp6(2),o.Q6J("formGroup",i.remonttiForm),o.xp6(15),o.hij(" ",i.downloadableURL," "),o.xp6(10),o.Q6J("src",r.value,o.LSH)}},directives:[ms,M2,so,v2,q1,_s],styles:["form[_ngcontent-%COMP%]{border:solid black 1px;background-color:#ddd;position:absolute;top:0;left:0;margin-top:1000px;margin-left:25%;width:800px;z-index:2}button[_ngcontent-%COMP%]{margin-left:15px}button[_ngcontent-%COMP%]{float:right}#warning[_ngcontent-%COMP%]{height:7mm;width:50%}img[_ngcontent-%COMP%]{height:200px}"]}),n})();function CDe(n,t){1&n&&(o.TgZ(0,"button",1),o._uU(1," Muokkaa teksti\xe4"),o.qZA())}let mDe=(()=>{class n{constructor(e,i){this.router=e,this.authService=i,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}ngOnDestroy(){this.userSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(nn),o.Y36(ii))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-remontit-text"]],inputs:{teksti:"teksti",index:"index"},decls:3,vars:2,consts:[["class","btn btn-info","id","editText","routerLink","/text/3",4,"ngIf"],["id","editText","routerLink","/text/3",1,"btn","btn-info"]],template:function(e,i){1&e&&(o.YNc(0,CDe,2,0,"button",0),o.TgZ(1,"h3"),o._uU(2),o.qZA()),2&e&&(o.Q6J("ngIf",i.isAuthenticated),o.xp6(2),o.Oqu(i.teksti.text))},directives:[Qt,Ns],styles:["h3[_ngcontent-%COMP%]{color:#000;font-size:17px}form[_ngcontent-%COMP%]{border:solid black 1px;background-color:#ddd;position:absolute;left:0;margin-left:25%;width:900px;z-index:2}button[_ngcontent-%COMP%]{float:right}.container[_ngcontent-%COMP%]{display:flex;align-items:center}.img-col[_ngcontent-%COMP%]{flex-basis:25%;margin-right:15px}#editText[_ngcontent-%COMP%]{color:#fff;background-color:#08a}button[_ngcontent-%COMP%]{float:left}"]}),n})();const _De=function(n){return[n]};function vDe(n,t){if(1&n&&(o.TgZ(0,"button",6),o._uU(1,"muokkaa remonttia"),o.qZA()),2&n){const e=o.oxw();o.Q6J("routerLink",o.VKq(1,_De,e.index))}}let yDe=(()=>{class n{constructor(e){this.authService=e,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ii))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-remontit-item"]],inputs:{remontti:"remontti",index:"index"},decls:8,vars:3,consts:[["id","itemswrapper"],[1,"container"],["class","btn btn-secondary","routerLinkActive","active",3,"routerLink",4,"ngIf"],[1,"img-col"],[2,"height","400px",3,"src"],[1,"text","col"],["routerLinkActive","active",1,"btn","btn-secondary",3,"routerLink"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.YNc(2,vDe,2,3,"button",2),o.TgZ(3,"div",3),o._UZ(4,"img",4),o.qZA(),o.TgZ(5,"div",5),o.TgZ(6,"h3"),o._uU(7),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngIf",i.isAuthenticated),o.xp6(2),o.Q6J("src",i.remontti.imagePath,o.LSH),o.xp6(3),o.Oqu(i.remontti.teksti))},directives:[Qt,L5,Ns],styles:["h3[_ngcontent-%COMP%]{color:#000;font-size:17px}form[_ngcontent-%COMP%]{border:solid black 1px;background-color:#ddd;position:absolute;left:0;margin-left:25%;width:900px;z-index:2}.container[_ngcontent-%COMP%]{display:flex;align-items:center}.img-col[_ngcontent-%COMP%]{flex-basis:25%;margin-right:15px;margin-bottom:40px}#editText[_ngcontent-%COMP%]{font-size:20px;padding-bottom:20px;color:#00f}button[_ngcontent-%COMP%]{float:left;margin-bottom:10px}"]}),n})();function bDe(n,t){if(1&n&&o._UZ(0,"app-remontit-text",3),2&n){const i=t.index;o.Q6J("teksti",t.$implicit)("index",i)}}function MDe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",4),o.TgZ(1,"div",5),o.TgZ(2,"div",6),o.TgZ(3,"button",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().onNewRemontti()}),o._uU(4,"Uusi remontti"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}}function wDe(n,t){if(1&n&&o._UZ(0,"app-remontit-item",8),2&n){const i=t.index;o.Q6J("remontti",t.$implicit)("index",i)}}let xDe=(()=>{class n{constructor(e,i,r,s,c){this.galleryService=e,this.authService=i,this.router=r,this.tekstiService=s,this.route=c,this.isAuthenticated=!1,this.editMode=!1}ngOnInit(){this.subscription=this.galleryService.remontitChanged.subscribe(e=>{this.remontit=e}),this.remontit=this.galleryService.getRemontit(),this.tekstit=this.tekstiService.getTekstit(),this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}onNewRemontti(){this.router.navigate(["new"],{relativeTo:this.route})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(x2),o.Y36(ii),o.Y36(nn),o.Y36(As),o.Y36(xi))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-remontit-list"]],inputs:{index:"index"},decls:3,vars:3,consts:[[3,"teksti","index",4,"ngFor","ngForOf"],["id","kontainer",4,"ngIf"],[3,"remontti","index",4,"ngFor","ngForOf"],[3,"teksti","index"],["id","kontainer"],[1,"row"],[1,"col-xs-12"],["id","uus",1,"btn","btn-success",3,"click"],[3,"remontti","index"]],template:function(e,i){1&e&&(o.YNc(0,bDe,1,2,"app-remontit-text",0),o.YNc(1,MDe,5,0,"div",1),o.YNc(2,wDe,1,2,"app-remontit-item",2)),2&e&&(o.Q6J("ngForOf",i.tekstit.slice(3,4)),o.xp6(1),o.Q6J("ngIf",i.isAuthenticated),o.xp6(1),o.Q6J("ngForOf",i.remontit))},directives:[Ni,Qt,mDe,yDe],styles:["#uus[_ngcontent-%COMP%]{margin-bottom:10px}"]}),n})();function SDe(n,t){1&n&&(o.TgZ(0,"button",1),o._uU(1," Muokkaa teksti\xe4"),o.qZA())}let LDe=(()=>{class n{constructor(e,i){this.router=e,this.authService=i,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}ngOnDestroy(){this.userSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(nn),o.Y36(ii))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-gallery-text-show"]],inputs:{teksti:"teksti",index:"index"},decls:3,vars:2,consts:[["class","btn btn-info","id","editText","routerLink","/text/0",4,"ngIf"],["id","editText","routerLink","/text/0",1,"btn","btn-info"]],template:function(e,i){1&e&&(o.YNc(0,SDe,2,0,"button",0),o.TgZ(1,"h3"),o._uU(2),o.qZA()),2&e&&(o.Q6J("ngIf",i.isAuthenticated),o.xp6(2),o.Oqu(i.teksti.text))},directives:[Qt,Ns],styles:["h3[_ngcontent-%COMP%]{color:#000;font-size:17px}#editText[_ngcontent-%COMP%]{color:#fff;background-color:#08a}"]}),n})();const EDe=function(n){return[n]};let TDe=(()=>{class n{constructor(e){this.dataStorageService=e}ngOnInit(){}onFetchData(){this.dataStorageService.fetchItems().subscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(b1))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-gallery-item"]],inputs:{item:"item",index:"index",teksti:"teksti"},decls:5,vars:6,consts:[["id","itemswrapper"],["routerLinkActive","active",2,"cursor","pointer",3,"routerLink"],[1,"img-responsive",2,"max-height","220px",3,"src","alt","click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"a",1),o.TgZ(2,"img",2),o.NdJ("click",function(){return i.onFetchData()}),o.qZA(),o.TgZ(3,"h4"),o._uU(4),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(1),o.Q6J("routerLink",o.VKq(4,EDe,i.index)),o.xp6(1),o.s9C("alt",i.item.name),o.Q6J("src",i.item.imagePath,o.LSH),o.xp6(2),o.Oqu(i.item.name))},directives:[hc,L5],styles:["#itemswrapper[_ngcontent-%COMP%]{width:259px;display:inline-block;padding:30px;text-align:center}h4[_ngcontent-%COMP%]{font-size:19px;color:#000}a[_ngcontent-%COMP%]{color:#000;text-decoration:none}"]}),n})();function DDe(n,t){if(1&n&&o._UZ(0,"app-gallery-text-show",3),2&n){const i=t.index;o.Q6J("teksti",t.$implicit)("index",i)}}function ADe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",4),o.TgZ(1,"div",5),o.TgZ(2,"div",6),o.TgZ(3,"button",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().onNewItem()}),o._uU(4,"Uusi tuote"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}}function IDe(n,t){if(1&n&&o._UZ(0,"app-gallery-item",8),2&n){const i=t.index;o.Q6J("item",t.$implicit)("index",i)}}const NDe=[{path:"",redirectTo:"",pathMatch:"full"},{path:"gallery",component:bH,children:[{path:"",component:(()=>{class n{constructor(e,i,r,s,c){this.galleryService=e,this.tekstiService=i,this.router=r,this.authService=s,this.route=c,this.isAuthenticated=!1,this.editMode=!1}ngOnInit(){this.subscription=this.galleryService.itemsChanged.subscribe(e=>{this.items=e}),this.subscription=this.tekstiService.tekstitChanged.subscribe(e=>{this.tekstit=e}),this.items=this.galleryService.getItems(),this.tekstit=this.tekstiService.getTekstit(),this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}onNewItem(){this.router.navigate(["new"],{relativeTo:this.route})}ngOnDestroy(){this.subscription.unsubscribe(),this.userSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(x2),o.Y36(As),o.Y36(nn),o.Y36(ii),o.Y36(xi))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-gallery-list"]],inputs:{index:"index"},decls:3,vars:3,consts:[[3,"teksti","index",4,"ngFor","ngForOf"],["id","kontainer",4,"ngIf"],[3,"item","index",4,"ngFor","ngForOf"],[3,"teksti","index"],["id","kontainer"],[1,"row"],[1,"col-xs-12"],[1,"btn","btn-success",3,"click"],[3,"item","index"]],template:function(e,i){1&e&&(o.YNc(0,DDe,1,2,"app-gallery-text-show",0),o.YNc(1,ADe,5,0,"div",1),o.YNc(2,IDe,1,2,"app-gallery-item",2)),2&e&&(o.Q6J("ngForOf",i.tekstit.slice(0,1)),o.xp6(1),o.Q6J("ngIf",i.isAuthenticated),o.xp6(1),o.Q6J("ngForOf",i.items))},directives:[Ni,Qt,LDe,TDe],styles:[".textinput[_ngcontent-%COMP%]{float:left;width:100%;min-height:100px;outline:none;resize:none;border:1px solid grey}#EditText[_ngcontent-%COMP%]{margin-bottom:10px}"]}),n})()},{path:"new",component:yq,canActivate:[Ps]},{path:":id",component:UTe},{path:":id/edit",component:yq,canActivate:[Ps]}]},{path:"korjaukset",component:MH,children:[{path:"",component:nDe},{path:"new",component:Mq,canActivate:[Ps]},{path:":id",component:WTe,canActivate:[Ps]},{path:":id/edit",component:Mq,canActivate:[Ps]}]},{path:"muutpalvelut",component:xH,children:[{path:"",component:hDe},{path:"new",component:wq,canActivate:[Ps]},{path:":id",component:rDe,canActivate:[Ps]},{path:":id/edit",component:wq,canActivate:[Ps]}]},{path:"remontit",component:wH,children:[{path:"",component:xDe},{path:"new",component:xq,canActivate:[Ps]},{path:":id",component:gDe,canActivate:[Ps]},{path:":id/edit",component:xq,canActivate:[Ps]}]},{path:"text",component:bq,canActivate:[Ps]},{path:"text/:id",component:bq,canActivate:[Ps]},{path:"auth",component:jTe}];let Sq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[E5.forRoot(NDe)],E5]}),n})();O(1254);const Lq="@firebase/database";let BL="";function Tq(n){BL=n}class VDe{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,R.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,R.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class HDe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,R.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Dq=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new VDe(t)}}catch(t){}return new HDe},Y5=Dq("localStorage"),UL=Dq("sessionStorage"),xu=new la.Yd("@firebase/database"),Aq=function(){let n=1;return function(){return n++}}(),Iq=function(n){const t=(0,R.dS)(n),e=new R.gQ;e.update(t);const i=e.digest();return R.US.encodeByteArray(i)},lh=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=lh.apply(null,i):t+="object"==typeof i?(0,R.Pz)(i):i,t+=" "}return t};let K5=null,Nq=!0;const kq=function(n,t){(0,R.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(xu.logLevel=la.in.VERBOSE,K5=xu.log.bind(xu),t&&UL.set("logging_enabled",!0)):"function"==typeof n?K5=n:(K5=null,UL.remove("logging_enabled"))},Q1=function(...n){if(!0===Nq&&(Nq=!1,null===K5&&!0===UL.get("logging_enabled")&&kq(!0)),K5){const t=lh.apply(null,n);K5(t)}},ch=function(n){return function(...t){Q1(n,...t)}},GL=function(...n){const t="FIREBASE INTERNAL ERROR: "+lh(...n);xu.error(t)},v3=function(...n){const t=`FIREBASE FATAL ERROR: ${lh(...n)}`;throw xu.error(t),new Error(t)},Cr=function(...n){const t="FIREBASE WARNING: "+lh(...n);xu.warn(t)},L_=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},W4="[MIN_NAME]",y3="[MAX_NAME]",Q5=function(n,t){if(n===t)return 0;if(n===W4||t===y3)return-1;if(t===W4||n===y3)return 1;{const e=E_(n),i=E_(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},PDe=function(n,t){return n===t?0:n<t?-1:1},uh=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,R.Pz)(t))},jL=function(n){if("object"!=typeof n||null===n)return(0,R.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,R.Pz)(t[i]),e+=":",e+=jL(n[t[i]]);return e+="}",e},Vq=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function J1(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Hq=function(n){(0,R.hu)(!L_(n),"Invalid JSON number");const i=1023;let r,s,c,d,h;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const _=[];for(h=52;h;h-=1)_.push(c%2?1:0),c=Math.floor(c/2);for(h=11;h;h-=1)_.push(s%2?1:0),s=Math.floor(s/2);_.push(r?1:0),_.reverse();const M=_.join("");let x="";for(h=0;h<64;h+=8){let D=parseInt(M.substr(h,8),2).toString(16);1===D.length&&(D="0"+D),x+=D}return x.toLowerCase()},UDe=new RegExp("^-?(0*)\\d{1,10}$"),Rq=-2147483648,qL=2147483647,E_=function(n){if(UDe.test(n)){const t=Number(n);if(t>=Rq&&t<=qL)return t}return null},Su=function(n){try{n()}catch(t){setTimeout(()=>{throw Cr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},dh=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class jDe{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Cr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class qDe{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Q1("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Cr(t)}}let fh=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Bq=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Gq="websocket",jq="long_polling";class WL{constructor(t,e,i,r,s=!1,c="",d=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Y5.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Y5.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function qq(n,t,e){let i;if((0,R.hu)("string"==typeof t,"typeof type must == string"),(0,R.hu)("object"==typeof e,"typeof params must == object"),t===Gq)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==jq)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function WDe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return J1(e,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class ZDe{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,R.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,R.p$)(this.counters_)}}const ZL={},YL={};function KL(n){const t=n.toString();return ZL[t]||(ZL[t]=new ZDe),ZL[t]}class KDe{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Su(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Lu{constructor(t,e,i,r,s,c,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ch(t),this.stats_=KL(e),this.urlFn=h=>(this.appCheckToken&&(h.ac=this.appCheckToken),qq(e,jq,h))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new KDe(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,R.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new QL((...s)=>{const[c,d,h,_,M]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=h;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Bq.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Lu.forceAllow_=!0}static forceDisallow(){Lu.forceDisallow_=!0}static isAvailable(){return!((0,R.Yr)()||!Lu.forceAllow_&&(Lu.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,R.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,R.h$)(e),r=Vq(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,R.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,R.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class QL{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,R.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Aq(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=QL.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){Q1("frame writing exception"),d.stack&&Q1(d.stack),Q1(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Q1("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,R.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Q1("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let hh=null;"undefined"!=typeof MozWebSocket?hh=MozWebSocket:"undefined"!=typeof WebSocket&&(hh=WebSocket);let ph=(()=>{class n{constructor(e,i,r,s,c,d,h){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ch(this.connId),this.stats_=KL(i),this.connURL=n.connectionURL_(i,d,h,s),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s){const c={v:"5"};return!(0,R.Yr)()&&"undefined"!=typeof location&&location.hostname&&Bq.test(location.hostname)&&(c.r="f"),i&&(c.s=i),r&&(c.ls=r),s&&(c.ac=s),qq(e,Gq,c)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Y5.set("previous_websocket_failure",!0);try{if((0,R.Yr)()){const s={headers:{"User-Agent":`Firebase/5/${BL}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(s.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(s.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(s.proxy={origin:d}),this.mySock=new hh(this.connURL,[],s)}else this.mySock=new hh(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==hh&&!n.forceDisallow_}static previouslyFailed(){return Y5.isInMemoryStorage||!0===Y5.get("previous_websocket_failure")}markConnectionHealthy(){Y5.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,R.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,R.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,R.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Vq(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class JL{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Lu,ph]}initTransports_(t){const e=ph&&ph.isAvailable();let i=e&&!ph.previouslyFailed();if(t.webSocketOnly&&(e||Cr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ph];else{const r=this.transports_=[];for(const s of JL.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class r${constructor(t,e,i,r,s,c,d,h,_,M){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=h,this.onKill_=_,this.lastSessionId=M,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ch("c:"+this.id+":"),this.transportManager_=new JL(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=dh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=uh("t",t),i=uh("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=uh("t",t),i=uh("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=uh("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?GL("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):GL("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Cr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),dh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):dh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Y5.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class s${put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class o${constructor(t){this.allowedEvents_=t,this.listeners_={},(0,R.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,R.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class D_ extends o${constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,R.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new D_}getInitialEvent(t){return(0,R.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Gn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function On(){return new Gn("")}function ln(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ec(n){return n.pieces_.length-n.pieceNum_}function ri(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Gn(n.pieces_,t)}function eE(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function gh(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function c$(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Gn(t,0)}function Oi(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Gn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Gn(e,0)}function cn(n){return n.pieceNum_>=n.pieces_.length}function mr(n,t){const e=ln(n),i=ln(t);if(null===e)return t;if(e===i)return mr(ri(n),ri(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function _Ae(n,t){const e=gh(n,0),i=gh(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=Q5(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function tE(n,t){if(Ec(n)!==Ec(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Co(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Ec(n)>Ec(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class vAe{constructor(t,e){this.errorPrefix_=e,this.parts_=gh(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,R.ug)(this.parts_[i]);u$(this)}}function u$(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+J5(n))}function J5(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class nE extends o${constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new nE}getInitialEvent(t){return(0,R.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Ch=1e3;let I_,X5=(()=>{class n extends s${constructor(e,i,r,s,c,d,h,_){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=h,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=ch("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ch,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,R.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nE.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&D_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,c={r:s,a:e,b:i};this.log_((0,R.Pz)(c)),(0,R.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new R.BH,r={p:e._path.toString(),q:e._queryObject},s={action:"g",request:r,onComplete:d=>{const h=d.d;"ok"===d.s?(this.onDataUpdate_(r.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const d=this.outstandingGets_[c];void 0===d||s!==d||(delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(c),i.promise}listen(e,i,r,s){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,R.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,R.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const h={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(d).set(c,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,h=>{const _=h.d,M=h.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",h),"ok"!==M&&this.removeListen_(r,s),e.onComplete&&e.onComplete(M,_))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,R.r3)(e,"w")){const r=(0,R.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Cr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,R.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,R.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,d=s.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,R.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const c={p:e};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,R.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):GL("Unrecognized action received from server: "+(0,R.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,R.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ch,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ch,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ch),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,_e.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let h=!1,_=null;const M=function(){_?_.close():(h=!0,s())};e.realtime_={close:M,sendRequest:function(N){(0,R.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(N)}};const D=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[N,H]=yield Promise.all([e.authTokenProvider_.getToken(D),e.appCheckTokenProvider_.getToken(D)]);h?Q1("getToken() completed but was canceled"):(Q1("getToken() completed. Creating connection."),e.authToken_=N&&N.accessToken,e.appCheckToken_=H&&H.token,_=new r$(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,U=>{Cr(U+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(N){e.log_("Failed to get token: "+N),h||(e.repoInfo_.nodeAdmin&&Cr(N),M())}}})()}interrupt(e){Q1("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Q1("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,R.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ch,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>jL(c)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new Gn(e).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){Q1("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Q1("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,R.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+BL.replace(/\./g,"-")]=1,(0,R.uI)()?e["framework.cordova"]=1:(0,R.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=D_.getInstance().currentlyOnline();return(0,R.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class hn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new hn(t,e)}}class A_{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new hn(W4,t),r=new hn(W4,e);return 0!==this.compare(i,r)}minPost(){return hn.MIN}}class h$ extends A_{static get __EMPTY_NODE(){return I_}static set __EMPTY_NODE(t){I_=t}compare(t,e){return Q5(t.name,e.name)}isDefinedOn(t){throw(0,R.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return hn.MIN}maxPost(){return new hn(y3,I_)}makePost(t,e){return(0,R.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new hn(t,I_)}toString(){return".key"}}const b3=new h$;class N_{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(t=t,c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let rE,ua=(()=>{class n{constructor(e,i,r,s,c){this.key=e,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=s?s:Yr.EMPTY_NODE,this.right=null!=c?c:Yr.EMPTY_NODE}copy(e,i,r,s,c){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=c?c:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const c=r(e,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Yr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Yr.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Yr{constructor(t,e=Yr.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Yr(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ua.BLACK,null,null))}remove(t){return new Yr(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ua.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new N_(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new N_(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new N_(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new N_(this.root_,null,this.comparator_,!0,t)}}function TAe(n,t){return Q5(n.name,t.name)}function iE(n,t){return Q5(n,t)}Yr.EMPTY_NODE=new class EAe{copy(t,e,i,r,s){return this}insert(t,e,i){return new ua(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const p$=function(n){return"number"==typeof n?"number:"+Hq(n):"string:"+n},g$=function(n){if(n.isLeafNode()){const t=n.val();(0,R.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,R.r3)(t,".sv"),"Priority must be a string or number.")}else(0,R.hu)(n===rE||n.isEmpty(),"priority of unexpected type.");(0,R.hu)(n===rE||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let C$,m$,_$,Eu=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,R.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),g$(this.priorityNode_)}static set __childrenNodeConstructor(e){C$=e}static get __childrenNodeConstructor(){return C$}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return cn(e)?this:".priority"===ln(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=ln(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,R.hu)(".priority"!==r||1===Ec(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(ri(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+p$(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Hq(this.value_):this.value_,this.lazyHash_=Iq(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,R.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,R.hu)(s>=0,"Unknown leaf type: "+i),(0,R.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const gi=new class NAe extends A_{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?Q5(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return hn.MIN}maxPost(){return new hn(y3,new Eu("[PRIORITY-POST]",_$))}makePost(t,e){const i=m$(t);return new hn(e,new Eu("[PRIORITY-POST]",i))}toString(){return".priority"}},kAe=Math.log(2);class VAe{constructor(t){this.count=parseInt(Math.log(t+1)/kAe,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const k_=function(n,t,e,i){n.sort(t);const r=function(h,_){const M=_-h;let x,D;if(0===M)return null;if(1===M)return x=n[h],D=e?e(x):x,new ua(D,x.node,ua.BLACK,null,null);{const N=parseInt(M/2,10)+h,H=r(h,N),U=r(N+1,_);return x=n[N],D=e?e(x):x,new ua(D,x.node,ua.BLACK,H,U)}},d=function(h){let _=null,M=null,x=n.length;const D=function(H,U){const Y=x-H,ae=x;x-=H;const ce=r(Y+1,ae),ke=n[Y],Te=e?e(ke):ke;N(new ua(Te,ke.node,U,null,ce))},N=function(H){_?(_.left=H,_=H):(M=H,_=H)};for(let H=0;H<h.count;++H){const U=h.nextBitIsOne(),Y=Math.pow(2,h.count-(H+1));U?D(Y,ua.BLACK):(D(Y,ua.BLACK),D(Y,ua.RED))}return M}(new VAe(n.length));return new Yr(i||t,d)};let sE;const Tu={};class Z4{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,R.hu)(Tu&&gi,"ChildrenNode.ts has not been loaded"),sE=sE||new Z4({".priority":Tu},{".priority":gi}),sE}get(t){const e=(0,R.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Yr?e:null}hasIndex(t){return(0,R.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,R.hu)(t!==b3,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(hn.Wrap);let d,c=s.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=s.getNext();d=r?k_(i,t.getCompare()):Tu;const h=t.toString(),_=Object.assign({},this.indexSet_);_[h]=t;const M=Object.assign({},this.indexes_);return M[h]=d,new Z4(M,_)}addToIndexes(t,e){const i=(0,R.UI)(this.indexes_,(r,s)=>{const c=(0,R.DV)(this.indexSet_,s);if((0,R.hu)(c,"Missing index implementation for "+s),r===Tu){if(c.isDefinedOn(t.node)){const d=[],h=e.getIterator(hn.Wrap);let _=h.getNext();for(;_;)_.name!==t.name&&d.push(_),_=h.getNext();return d.push(t),k_(d,c.getCompare())}return Tu}{const d=e.get(t.name);let h=r;return d&&(h=h.remove(new hn(t.name,d))),h.insert(t,t.node)}});return new Z4(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,R.UI)(this.indexes_,r=>{if(r===Tu)return r;{const s=e.get(t.name);return s?r.remove(new hn(t.name,s)):r}});return new Z4(i,this.indexSet_)}}let mh,en=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&g$(this.priorityNode_),this.children_.isEmpty()&&(0,R.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return mh||(mh=new n(new Yr(iE),null,Z4.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||mh}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?mh:i}}getChild(e){const i=ln(e);return null===i?this:this.getImmediateChild(i).getChild(ri(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,R.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new hn(e,i);let s,c;i.isEmpty()?(s=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?mh:this.priorityNode_;return new n(s,d,c)}}updateChild(e,i){const r=ln(e);if(null===r)return i;{(0,R.hu)(".priority"!==ln(e)||1===Ec(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ri(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(gi,(d,h)=>{i[d]=h.val(e),r++,c&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):c=!1}),!e&&c&&s<2*r){const d=[];for(const h in i)d[h]=i[h];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+p$(this.getPriority().val())+":"),this.forEachChild(gi,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":Iq(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new hn(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new hn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new hn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,hn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,hn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)>0;)s.getNext(),c=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_h?-1:0}withIndex(e){if(e===b3||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===b3||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(gi),s=i.getIterator(gi);let c=r.getNext(),d=s.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=s.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(e){return e===b3?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const _h=new class HAe extends en{constructor(){super(new Yr(iE),en.EMPTY_NODE,Z4.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return en.EMPTY_NODE}isEmpty(){return!1}};function Wi(n,t=null){if(null===n)return en.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,R.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Eu(n,Wi(t));if(n instanceof Array){let e=en.EMPTY_NODE;return J1(n,(i,r)=>{if((0,R.r3)(n,i)&&"."!==i.substring(0,1)){const s=Wi(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(Wi(t))}{const e=[];let i=!1;if(J1(n,(c,d)=>{if("."!==c.substring(0,1)){const h=Wi(d);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),e.push(new hn(c,h)))}}),0===e.length)return en.EMPTY_NODE;const s=k_(e,TAe,c=>c.name,iE);if(i){const c=k_(e,gi.getCompare());return new en(s,Wi(t),new Z4({".priority":c},{".priority":gi}))}return new en(s,Wi(t),Z4.Default)}}Object.defineProperties(hn,{MIN:{value:new hn(W4,en.EMPTY_NODE)},MAX:{value:new hn(y3,_h)}}),h$.__EMPTY_NODE=en.EMPTY_NODE,Eu.__childrenNodeConstructor=en,function DAe(n){rE=n}(_h),function IAe(n){_$=n}(_h),function AAe(n){m$=n}(Wi);class oE extends A_{constructor(t){super(),this.indexPath_=t,(0,R.hu)(!cn(t)&&".priority"!==ln(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?Q5(t.name,e.name):s}makePost(t,e){const i=Wi(t),r=en.EMPTY_NODE.updateChild(this.indexPath_,i);return new hn(e,r)}maxPost(){const t=en.EMPTY_NODE.updateChild(this.indexPath_,_h);return new hn(y3,t)}toString(){return gh(this.indexPath_,0).join("/")}}const aE=new class OAe extends A_{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Q5(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return hn.MIN}maxPost(){return hn.MAX}makePost(t,e){const i=Wi(t);return new hn(e,i)}toString(){return".value"}},Du="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",PAe=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=Du.charAt(e%64),e=Math.floor(e/64);(0,R.hu)(0===e,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=Du.charAt(t[r]);return(0,R.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),b$=function(n){if(n===""+qL)return"-";const t=E_(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let c=0;c<e.length;c++)e[c]=n.charAt(c);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return y3;const s=Du.charAt(Du.indexOf(e[i])+1);return e[i]=s,e.slice(0,i+1).join("")},M$=function(n){if(n===""+Rq)return W4;const t=E_(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+qL:(delete e[e.length-1],e.join("")):(e[e.length-1]=Du.charAt(Du.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function w$(n){return{type:"value",snapshotNode:n}}function Au(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function vh(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function yh(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class cE{constructor(t){this.index_=t}updateChild(t,e,i,r,s,c){(0,R.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(vh(e,d)):(0,R.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(Au(e,i)):c.trackChildChange(yh(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(gi,(r,s)=>{e.hasChild(r)||i.trackChildChange(vh(r,s))}),e.isLeafNode()||e.forEachChild(gi,(r,s)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(s)||i.trackChildChange(yh(r,s,c))}else i.trackChildChange(Au(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?en.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class bh{constructor(t){this.indexedFilter_=new cE(t.getIndex()),this.index_=t.getIndex(),this.startPost_=bh.getStartPost_(t),this.endPost_=bh.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,s,c){return this.matches(new hn(e,i))||(i=en.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=en.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(en.EMPTY_NODE);const s=this;return e.forEachChild(gi,(c,d)=>{s.matches(new hn(c,d))||(r=r.updateImmediateChild(c,en.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class FAe{constructor(t){this.rangedFilter_=new bh(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,s,c){return this.rangedFilter_.matches(new hn(e,i))||(i=en.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,c):this.fullLimitUpdateChild_(t,e,i,s,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=en.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=en.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const d=s.getNext();let h;if(h=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!h)break;r=r.updateImmediateChild(d.name,d.node),c++}}else{let s,c,d,h;if(r=e.withIndex(this.index_),r=r.updatePriority(en.EMPTY_NODE),this.reverse_){h=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const x=this.index_.getCompare();d=(D,N)=>x(N,D)}else h=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let _=0,M=!1;for(;h.hasNext();){const x=h.getNext();!M&&d(s,x)<=0&&(M=!0),M&&_<this.limit_&&d(x,c)<=0?_++:r=r.updateImmediateChild(x.name,en.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let c;if(this.reverse_){const x=this.index_.getCompare();c=(D,N)=>x(N,D)}else c=this.index_.getCompare();const d=t;(0,R.hu)(d.numChildren()===this.limit_,"");const h=new hn(e,i),_=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),M=this.rangedFilter_.matches(h);if(d.hasChild(e)){const x=d.getImmediateChild(e);let D=r.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=D&&(D.name===e||d.hasChild(D.name));)D=r.getChildAfterChild(this.index_,D,this.reverse_);const N=null==D?1:c(D,h);if(M&&!i.isEmpty()&&N>=0)return null!=s&&s.trackChildChange(yh(e,i,x)),d.updateImmediateChild(e,i);{null!=s&&s.trackChildChange(vh(e,x));const U=d.updateImmediateChild(e,en.EMPTY_NODE);return null!=D&&this.rangedFilter_.matches(D)?(null!=s&&s.trackChildChange(Au(D.name,D.node)),U.updateImmediateChild(D.name,D.node)):U}}return i.isEmpty()?t:M&&c(_,h)>=0?(null!=s&&(s.trackChildChange(vh(_.name,_.node)),s.trackChildChange(Au(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(_.name,en.EMPTY_NODE)):t}}class V_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gi}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,R.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,R.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:W4}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,R.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,R.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:y3}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,R.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gi}copy(){const t=new V_;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function uE(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function dE(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function H_(n,t){const e=n.copy();return e.index_=t,e}function x$(n){const t={};if(n.isDefault())return t;let e;return n.index_===gi?e="$priority":n.index_===aE?e="$value":n.index_===b3?e="$key":((0,R.hu)(n.index_ instanceof oE,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,R.Pz)(e),n.startSet_&&(t.startAt=(0,R.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,R.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,R.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,R.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function S$(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==gi&&(t.i=n.index_.toString()),t}class R_ extends s${constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=ch("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,R.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const c=R_.getListenId_(t,i),d={};this.listens_[c]=d;const h=x$(t._queryParams);this.restRequest_(s+".json",h,(_,M)=>{let x=M;if(404===_&&(x=null,_=null),null===_&&this.onDataUpdate_(s,x,!1,i),(0,R.DV)(this.listens_,c)===d){let D;D=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(D,null)}})}unlisten(t,e){const i=R_.getListenId_(t,e);delete this.listens_[i]}get(t){const e=x$(t._queryParams),i=t._path.toString(),r=new R.BH;return this.restRequest_(i+".json",e,(s,c)=>{let d=c;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,R.xO)(e);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let h=null;if(d.status>=200&&d.status<300){try{h=(0,R.cI)(d.responseText)}catch(_){Cr("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,h)}else 401!==d.status&&404!==d.status&&Cr("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class $Ae{constructor(){this.rootNode_=en.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function O_(){return{value:null,children:new Map}}function Iu(n,t,e){if(cn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=ln(t);n.children.has(i)||n.children.set(i,O_()),Iu(n.children.get(i),t=ri(t),e)}}function fE(n,t){if(cn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(gi,(i,r)=>{Iu(n,new Gn(i),r)}),fE(n,t)}}if(n.children.size>0){const e=ln(t);return t=ri(t),n.children.has(e)&&fE(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function hE(n,t,e){null!==n.value?e(t,n.value):function WAe(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{hE(r,new Gn(t.toString()+"/"+i),e)})}class ZAe{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&J1(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class QAe{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new ZAe(t);const i=1e4+2e4*Math.random();dh(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;J1(t,(r,s)=>{s>0&&(0,R.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),dh(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var mo=(()=>{return(n=mo||(mo={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",mo;var n})();function CE(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class P_{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=mo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(cn(this.path)){if(null!=this.affectedTree.value)return(0,R.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Gn(t));return new P_(On(),e,this.revert)}}return(0,R.hu)(ln(this.path)===t,"operationForChild called for unrelated child."),new P_(ri(this.path),this.affectedTree,this.revert)}}class Mh{constructor(t,e){this.source=t,this.path=e,this.type=mo.LISTEN_COMPLETE}operationForChild(t){return cn(this.path)?new Mh(this.source,On()):new Mh(this.source,ri(this.path))}}class e0{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=mo.OVERWRITE}operationForChild(t){return cn(this.path)?new e0(this.source,On(),this.snap.getImmediateChild(t)):new e0(this.source,ri(this.path),this.snap)}}class Nu{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=mo.MERGE}operationForChild(t){if(cn(this.path)){const e=this.children.subtree(new Gn(t));return e.isEmpty()?null:e.value?new e0(this.source,On(),e.value):new Nu(this.source,On(),e)}return(0,R.hu)(ln(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Nu(this.source,ri(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Tc{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(cn(t))return this.isFullyInitialized()&&!this.filtered_;const e=ln(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class JAe{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function wh(n,t,e,i,r,s){const c=i.filter(d=>d.type===e);c.sort((d,h)=>function tIe(n,t,e){if(null==t.childName||null==e.childName)throw(0,R.g5)("Should only compare child_ events.");const i=new hn(t.childName,t.snapshotNode),r=new hn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,d,h)),c.forEach(d=>{const h=function eIe(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,s);r.forEach(_=>{_.respondsTo(d.type)&&t.push(_.createEvent(h,n.query_))})})}function z_(n,t){return{eventCache:n,serverCache:t}}function xh(n,t,e,i){return z_(new Tc(t,e,i),n.serverCache)}function E$(n,t,e,i){return z_(n.eventCache,new Tc(t,e,i))}function F_(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function t0(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let mE;class Ci{constructor(t,e=(()=>(mE||(mE=new Yr(PDe)),mE))()){this.value=t,this.children=e}static fromObject(t){let e=new Ci(null);return J1(t,(i,r)=>{e=e.set(new Gn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:On(),value:this.value};if(cn(t))return null;{const i=ln(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(ri(t),e);return null!=s?{path:Oi(new Gn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(cn(t))return this;{const e=ln(t),i=this.children.get(e);return null!==i?i.subtree(ri(t)):new Ci(null)}}set(t,e){if(cn(t))return new Ci(e,this.children);{const i=ln(t),s=(this.children.get(i)||new Ci(null)).set(ri(t),e),c=this.children.insert(i,s);return new Ci(this.value,c)}}remove(t){if(cn(t))return this.children.isEmpty()?new Ci(null):new Ci(null,this.children);{const e=ln(t),i=this.children.get(e);if(i){const r=i.remove(ri(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new Ci(null):new Ci(this.value,s)}return this}}get(t){if(cn(t))return this.value;{const e=ln(t),i=this.children.get(e);return i?i.get(ri(t)):null}}setTree(t,e){if(cn(t))return e;{const i=ln(t),s=(this.children.get(i)||new Ci(null)).setTree(ri(t),e);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Ci(this.value,c)}}fold(t){return this.fold_(On(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Oi(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,On(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(cn(t))return null;{const s=ln(t),c=this.children.get(s);return c?c.findOnPath_(ri(t),Oi(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,On(),e)}foreachOnPath_(t,e,i){if(cn(t))return this;{this.value&&i(e,this.value);const r=ln(t),s=this.children.get(r);return s?s.foreachOnPath_(ri(t),Oi(e,r),i):new Ci(null)}}foreach(t){this.foreach_(On(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Oi(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class da{constructor(t){this.writeTree_=t}static empty(){return new da(new Ci(null))}}function Sh(n,t,e){if(cn(t))return new da(new Ci(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const c=mr(r,t);return s=s.updateChild(c,e),new da(n.writeTree_.set(r,s))}{const r=new Ci(e),s=n.writeTree_.setTree(t,r);return new da(s)}}}function _E(n,t,e){let i=n;return J1(e,(r,s)=>{i=Sh(i,Oi(t,r),s)}),i}function T$(n,t){if(cn(t))return da.empty();{const e=n.writeTree_.setTree(t,new Ci(null));return new da(e)}}function vE(n,t){return null!=n0(n,t)}function n0(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(mr(e.path,t)):null}function D$(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(gi,(i,r)=>{t.push(new hn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new hn(i,r.value))}),t}function Dc(n,t){if(cn(t))return n;{const e=n0(n,t);return new da(null!=e?new Ci(e):n.writeTree_.subtree(t))}}function yE(n){return n.writeTree_.isEmpty()}function ku(n,t){return A$(On(),n.writeTree_,t)}function A$(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,R.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=A$(Oi(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Oi(n,".priority"),i)),e}}function B_(n,t){return H$(t,n)}function aIe(n,t){if(n.snap)return Co(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Co(Oi(n.path,e),t))return!0;return!1}function cIe(n){return n.visible}function I$(n,t,e){let i=da.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const c=s.path;let d;if(s.snap)Co(e,c)?(d=mr(e,c),i=Sh(i,d,s.snap)):Co(c,e)&&(d=mr(c,e),i=Sh(i,On(),s.snap.getChild(d)));else{if(!s.children)throw(0,R.g5)("WriteRecord should have .snap or .children");if(Co(e,c))d=mr(e,c),i=_E(i,d,s.children);else if(Co(c,e))if(d=mr(c,e),cn(d))i=_E(i,On(),s.children);else{const h=(0,R.DV)(s.children,ln(d));if(h){const _=h.getChild(ri(d));i=Sh(i,On(),_)}}}}}return i}function N$(n,t,e,i,r){if(i||r){const s=Dc(n.visibleWrites,t);return!r&&yE(s)?e:r||null!=e||vE(s,On())?ku(I$(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(Co(_.path,t)||Co(t,_.path))},t),e||en.EMPTY_NODE):null}{const s=n0(n.visibleWrites,t);if(null!=s)return s;{const c=Dc(n.visibleWrites,t);return yE(c)?e:null!=e||vE(c,On())?ku(c,e||en.EMPTY_NODE):null}}}function U_(n,t,e,i){return N$(n.writeTree,n.treePath,t,e,i)}function bE(n,t){return function uIe(n,t,e){let i=en.EMPTY_NODE;const r=n0(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(gi,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(e){const s=Dc(n.visibleWrites,t);return e.forEachChild(gi,(c,d)=>{const h=ku(Dc(s,new Gn(c)),d);i=i.updateImmediateChild(c,h)}),D$(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return D$(Dc(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function k$(n,t,e,i){return function dIe(n,t,e,i,r){(0,R.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Oi(t,e);if(vE(n.visibleWrites,s))return null;{const c=Dc(n.visibleWrites,s);return yE(c)?r.getChild(e):ku(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function G_(n,t){return function hIe(n,t){return n0(n.visibleWrites,t)}(n.writeTree,Oi(n.treePath,t))}function ME(n,t,e){return function fIe(n,t,e,i){const r=Oi(t,e),s=n0(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?ku(Dc(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function V$(n,t){return H$(Oi(n.treePath,t),n.writeTree)}function H$(n,t){return{treePath:n,writeTree:t}}class mIe{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,R.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,R.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,yh(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,vh(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,Au(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,R.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,yh(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const R$=new class _Ie{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class wE{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Tc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ME(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:t0(this.viewCache_),s=function CIe(n,t,e,i,r,s){return function pIe(n,t,e,i,r,s,c){let d;const h=Dc(n.visibleWrites,t),_=n0(h,On());if(null!=_)d=_;else{if(null==e)return[];d=ku(h,e)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const M=[],x=c.getCompare(),D=s?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let N=D.getNext();for(;N&&M.length<r;)0!==x(N,i)&&M.push(N),N=D.getNext();return M}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function O$(n,t,e,i,r,s){const c=t.eventCache;if(null!=G_(i,e))return t;{let d,h;if(cn(e))if((0,R.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=t0(t),x=bE(i,_ instanceof en?_:en.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),x,s)}else{const _=U_(i,t0(t));d=n.filter.updateFullNode(t.eventCache.getNode(),_,s)}else{const _=ln(e);if(".priority"===_){(0,R.hu)(1===Ec(e),"Can't have a priority with additional path components");const M=c.getNode();h=t.serverCache.getNode();const x=k$(i,e,M,h);d=null!=x?n.filter.updatePriority(M,x):c.getNode()}else{const M=ri(e);let x;if(c.isCompleteForChild(_)){h=t.serverCache.getNode();const D=k$(i,e,c.getNode(),h);x=null!=D?c.getNode().getImmediateChild(_).updateChild(M,D):c.getNode().getImmediateChild(_)}else x=ME(i,_,t.serverCache);d=null!=x?n.filter.updateChild(c.getNode(),_,x,M,r,s):c.getNode()}}return xh(t,d,c.isFullyInitialized()||cn(e),n.filter.filtersNodes())}}function j_(n,t,e,i,r,s,c,d){const h=t.serverCache;let _;const M=c?n.filter:n.filter.getIndexedFilter();if(cn(e))_=M.updateFullNode(h.getNode(),i,null);else if(M.filtersNodes()&&!h.isFiltered()){const N=h.getNode().updateChild(e,i);_=M.updateFullNode(h.getNode(),N,null)}else{const N=ln(e);if(!h.isCompleteForPath(e)&&Ec(e)>1)return t;const H=ri(e),Y=h.getNode().getImmediateChild(N).updateChild(H,i);_=".priority"===N?M.updatePriority(h.getNode(),Y):M.updateChild(h.getNode(),N,Y,H,R$,null)}const x=E$(t,_,h.isFullyInitialized()||cn(e),M.filtersNodes());return O$(n,x,e,r,new wE(r,x,s),d)}function xE(n,t,e,i,r,s,c){const d=t.eventCache;let h,_;const M=new wE(r,t,s);if(cn(e))_=n.filter.updateFullNode(t.eventCache.getNode(),i,c),h=xh(t,_,!0,n.filter.filtersNodes());else{const x=ln(e);if(".priority"===x)_=n.filter.updatePriority(t.eventCache.getNode(),i),h=xh(t,_,d.isFullyInitialized(),d.isFiltered());else{const D=ri(e),N=d.getNode().getImmediateChild(x);let H;if(cn(D))H=i;else{const U=M.getCompleteChild(x);H=null!=U?".priority"===eE(D)&&U.getChild(c$(D)).isEmpty()?U:U.updateChild(D,i):en.EMPTY_NODE}h=N.equals(H)?t:xh(t,n.filter.updateChild(d.getNode(),x,H,D,M,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return h}function P$(n,t){return n.eventCache.isCompleteForChild(t)}function z$(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function SE(n,t,e,i,r,s,c,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let _,h=t;_=cn(e)?i:new Ci(null).setTree(e,i);const M=t.serverCache.getNode();return _.children.inorderTraversal((x,D)=>{if(M.hasChild(x)){const H=z$(0,t.serverCache.getNode().getImmediateChild(x),D);h=j_(n,h,new Gn(x),H,r,s,c,d)}}),_.children.inorderTraversal((x,D)=>{const N=!t.serverCache.isCompleteForChild(x)&&void 0===D.value;if(!M.hasChild(x)&&!N){const U=z$(0,t.serverCache.getNode().getImmediateChild(x),D);h=j_(n,h,new Gn(x),U,r,s,c,d)}}),h}class EIe{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new cE(i.getIndex()),s=function BAe(n){return n.loadsAllData()?new cE(n.getIndex()):n.hasLimit()?new FAe(n):new bh(n)}(i);this.processor_=function vIe(n){return{filter:n}}(s);const c=e.serverCache,d=e.eventCache,h=r.updateFullNode(en.EMPTY_NODE,c.getNode(),null),_=s.updateFullNode(en.EMPTY_NODE,d.getNode(),null),M=new Tc(h,c.isFullyInitialized(),r.filtersNodes()),x=new Tc(_,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=z_(x,M),this.eventGenerator_=new JAe(this.query_)}get query(){return this.query_}}function AIe(n,t){const e=t0(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!cn(t)&&!e.getImmediateChild(ln(t)).isEmpty())?e.getChild(t):null}function F$(n){return 0===n.eventRegistrations_.length}function B$(n,t,e){const i=[];if(e){(0,R.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function U$(n,t,e,i){t.type===mo.MERGE&&null!==t.source.queryId&&((0,R.hu)(t0(n.viewCache_),"We should always have a full cache before handling merges"),(0,R.hu)(F_(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function bIe(n,t,e,i,r){const s=new mIe;let c,d;if(e.type===mo.OVERWRITE){const _=e;_.source.fromUser?c=xE(n,t,_.path,_.snap,i,r,s):((0,R.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered()&&!cn(_.path),c=j_(n,t,_.path,_.snap,i,r,d,s))}else if(e.type===mo.MERGE){const _=e;_.source.fromUser?c=function wIe(n,t,e,i,r,s,c){let d=t;return i.foreach((h,_)=>{const M=Oi(e,h);P$(t,ln(M))&&(d=xE(n,d,M,_,r,s,c))}),i.foreach((h,_)=>{const M=Oi(e,h);P$(t,ln(M))||(d=xE(n,d,M,_,r,s,c))}),d}(n,t,_.path,_.children,i,r,s):((0,R.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered(),c=SE(n,t,_.path,_.children,i,r,d,s))}else if(e.type===mo.ACK_USER_WRITE){const _=e;c=_.revert?function LIe(n,t,e,i,r,s){let c;if(null!=G_(i,e))return t;{const d=new wE(i,t,r),h=t.eventCache.getNode();let _;if(cn(e)||".priority"===ln(e)){let M;if(t.serverCache.isFullyInitialized())M=U_(i,t0(t));else{const x=t.serverCache.getNode();(0,R.hu)(x instanceof en,"serverChildren would be complete if leaf node"),M=bE(i,x)}M=M,_=n.filter.updateFullNode(h,M,s)}else{const M=ln(e);let x=ME(i,M,t.serverCache);null==x&&t.serverCache.isCompleteForChild(M)&&(x=h.getImmediateChild(M)),_=null!=x?n.filter.updateChild(h,M,x,ri(e),d,s):t.eventCache.getNode().hasChild(M)?n.filter.updateChild(h,M,en.EMPTY_NODE,ri(e),d,s):h,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=U_(i,t0(t)),c.isLeafNode()&&(_=n.filter.updateFullNode(_,c,s)))}return c=t.serverCache.isFullyInitialized()||null!=G_(i,On()),xh(t,_,c,n.filter.filtersNodes())}}(n,t,_.path,i,r,s):function xIe(n,t,e,i,r,s,c){if(null!=G_(r,e))return t;const d=t.serverCache.isFiltered(),h=t.serverCache;if(null!=i.value){if(cn(e)&&h.isFullyInitialized()||h.isCompleteForPath(e))return j_(n,t,e,h.getNode().getChild(e),r,s,d,c);if(cn(e)){let _=new Ci(null);return h.getNode().forEachChild(b3,(M,x)=>{_=_.set(new Gn(M),x)}),SE(n,t,e,_,r,s,d,c)}return t}{let _=new Ci(null);return i.foreach((M,x)=>{const D=Oi(e,M);h.isCompleteForPath(D)&&(_=_.set(M,h.getNode().getChild(D)))}),SE(n,t,e,_,r,s,d,c)}}(n,t,_.path,_.affectedTree,i,r,s)}else{if(e.type!==mo.LISTEN_COMPLETE)throw(0,R.g5)("Unknown operation type: "+e.type);c=function SIe(n,t,e,i,r){const s=t.serverCache;return O$(n,E$(t,s.getNode(),s.isFullyInitialized()||cn(e),s.isFiltered()),e,i,R$,r)}(n,t,e.path,i,s)}const h=s.getChanges();return function MIe(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=F_(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(w$(F_(t)))}}(t,c,h),{viewCache:c,changes:h}}(n.processor_,r,t,e,i);return function yIe(n,t){(0,R.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,R.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,R.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,G$(n,s.changes,s.viewCache.eventCache.getNode(),null)}function G$(n,t,e,i){return function XAe(n,t,e,i){const r=[],s=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function zAe(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),wh(n,r,"child_removed",t,i,e),wh(n,r,"child_added",t,i,e),wh(n,r,"child_moved",s,i,e),wh(n,r,"child_changed",t,i,e),wh(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let q_,W_;class j${constructor(){this.views=new Map}}function LE(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,R.hu)(null!=s,"SyncTree gave us an op for an invalid query."),U$(s,t,e,i)}{let s=[];for(const c of n.views.values())s=s.concat(U$(c,t,e,i));return s}}function q$(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let d=U_(e,r?i:null),h=!1;d?h=!0:i instanceof en?(d=bE(e,i),h=!1):(d=en.EMPTY_NODE,h=!1);const _=z_(new Tc(d,h,!1),new Tc(i,r,!1));return new EIe(t,_)}return c}function $$(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Ac(n,t){let e=null;for(const i of n.views.values())e=e||AIe(i,t);return e}function W$(n,t){return t._queryParams.loadsAllData()?$_(n):n.views.get(t._queryIdentifier)}function Z$(n,t){return null!=W$(n,t)}function Ic(n){return null!=$_(n)}function $_(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let FIe=1;class Y${constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ci(null),this.pendingWriteTree_=function gIe(){return{visibleWrites:da.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function EE(n,t,e,i,r){return function iIe(n,t,e,i,r){(0,R.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=Sh(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Vu(n,new e0({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Nc(n,t,e=!1){const i=function sIe(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function oIe(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);(0,R.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=e&&aIe(d,i.path)?r=!1:Co(i.path,d.path)&&(s=!0)),c--}return!!r&&(s?(function lIe(n){n.visibleWrites=I$(n.allWrites,cIe,On()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=T$(n.visibleWrites,i.path):J1(i.children,h=>{n.visibleWrites=T$(n.visibleWrites,Oi(i.path,h))}),!0))}(n.pendingWriteTree_,t)){let s=new Ci(null);return null!=i.snap?s=s.set(On(),!0):J1(i.children,c=>{s=s.set(new Gn(c),!0)}),Vu(n,new P_(i.path,s,e))}return[]}function Lh(n,t,e){return Vu(n,new e0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function TE(n,t,e,i){const r=t._path,s=n.syncPointTree_.get(r);let c=[];if(s&&("default"===t._queryIdentifier||Z$(s,t))){const d=function OIe(n,t,e,i){const r=t._queryIdentifier,s=[];let c=[];const d=Ic(n);if("default"===r)for(const[h,_]of n.views.entries())c=c.concat(B$(_,e,i)),F$(_)&&(n.views.delete(h),_.query._queryParams.loadsAllData()||s.push(_.query));else{const h=n.views.get(r);h&&(c=c.concat(B$(h,e,i)),F$(h)&&(n.views.delete(r),h.query._queryParams.loadsAllData()||s.push(h.query)))}return d&&!Ic(n)&&s.push(new(function VIe(){return(0,R.hu)(q_,"Reference.ts has not been loaded"),q_}())(t._repo,t._path)),{removed:s,events:c}}(s,t,e,i);(function HIe(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const h=d.removed;c=d.events;const _=-1!==h.findIndex(x=>x._queryParams.loadsAllData()),M=n.syncPointTree_.findOnPath(r,(x,D)=>Ic(D));if(_&&!M){const x=n.syncPointTree_.subtree(r);if(!x.isEmpty()){const D=function ZIe(n){return n.fold((t,e,i)=>{if(e&&Ic(e))return[$_(e)];{let r=[];return e&&(r=$$(e)),J1(i,(s,c)=>{r=r.concat(c)}),r}})}(x);for(let N=0;N<D.length;++N){const H=D[N],U=H.query,Y=X$(n,H);n.listenProvider_.startListening(Eh(U),Y_(n,U),Y.hashFn,Y.onComplete)}}}!M&&h.length>0&&!i&&(_?n.listenProvider_.stopListening(Eh(t),null):h.forEach(x=>{const D=n.queryToTagMap.get(K_(x));n.listenProvider_.stopListening(Eh(x),D)})),function YIe(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=K_(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,h)}return c}function K$(n,t,e){const i=t._path;let r=null,s=!1;n.syncPointTree_.foreachOnPath(i,(x,D)=>{const N=mr(x,i);r=r||Ac(D,N),s=s||Ic(D)});let d,c=n.syncPointTree_.get(i);c?(s=s||Ic(c),r=r||Ac(c,On())):(c=new j$,n.syncPointTree_=n.syncPointTree_.set(i,c)),null!=r?d=!0:(d=!1,r=en.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((D,N)=>{const H=Ac(N,On());H&&(r=r.updateImmediateChild(D,H))}));const h=Z$(c,t);if(!h&&!t._queryParams.loadsAllData()){const x=K_(t);(0,R.hu)(!n.queryToTagMap.has(x),"View does not exist, but we have a tag");const D=function KIe(){return FIe++}();n.queryToTagMap.set(x,D),n.tagToQueryMap.set(D,x)}let M=function RIe(n,t,e,i,r,s){const c=q$(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function IIe(n,t){n.eventRegistrations_.push(t)}(c,e),function NIe(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(gi,(s,c)=>{i.push(Au(s,c))}),e.isFullyInitialized()&&i.push(w$(e.getNode())),G$(n,i,e.getNode(),t)}(c,e)}(c,t,e,B_(n.pendingWriteTree_,i),r,d);if(!h&&!s){const x=W$(c,t);M=M.concat(function QIe(n,t,e){const i=t._path,r=Y_(n,t),s=X$(n,e),c=n.listenProvider_.startListening(Eh(t),r,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,R.hu)(!Ic(d.value),"If we're adding a query, it shouldn't be shadowed");else{const h=d.fold((_,M,x)=>{if(!cn(_)&&M&&Ic(M))return[$_(M).query];{let D=[];return M&&(D=D.concat($$(M).map(N=>N.query))),J1(x,(N,H)=>{D=D.concat(H)}),D}});for(let _=0;_<h.length;++_){const M=h[_];n.listenProvider_.stopListening(Eh(M),Y_(n,M))}}return c}(n,t,x))}return M}function Z_(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(c,d)=>{const _=Ac(d,mr(c,t));if(_)return _});return N$(r,t,s,e,!0)}function Vu(n,t){return Q$(t,n.syncPointTree_,null,B_(n.pendingWriteTree_,On()))}function Q$(n,t,e,i){if(cn(n.path))return J$(n,t,e,i);{const r=t.get(On());null==e&&null!=r&&(e=Ac(r,On()));let s=[];const c=ln(n.path),d=n.operationForChild(c),h=t.children.get(c);if(h&&d){const _=e?e.getImmediateChild(c):null,M=V$(i,c);s=s.concat(Q$(d,h,_,M))}return r&&(s=s.concat(LE(r,n,i,e))),s}}function J$(n,t,e,i){const r=t.get(On());null==e&&null!=r&&(e=Ac(r,On()));let s=[];return t.children.inorderTraversal((c,d)=>{const h=e?e.getImmediateChild(c):null,_=V$(i,c),M=n.operationForChild(c);M&&(s=s.concat(J$(M,d,h,_)))}),r&&(s=s.concat(LE(r,n,i,e))),s}function X$(n,t){const e=t.query,i=Y_(n,e);return{hashFn:()=>(function TIe(n){return n.viewCache_.serverCache.getNode()}(t)||en.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function jIe(n,t,e){const i=DE(n,e);if(i){const r=AE(i),s=r.path,c=r.queryId,d=mr(s,t);return IE(n,s,new Mh(CE(c),d))}return[]}(n,e._path,i):function GIe(n,t){return Vu(n,new Mh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function BDe(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return TE(n,e,null,s)}}}}function Y_(n,t){const e=K_(t);return n.queryToTagMap.get(e)}function K_(n){return n._path.toString()+"$"+n._queryIdentifier}function DE(n,t){return n.tagToQueryMap.get(t)}function AE(n){const t=n.indexOf("$");return(0,R.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Gn(n.substr(0,t))}}function IE(n,t,e){const i=n.syncPointTree_.get(t);return(0,R.hu)(i,"Missing sync point for query tag that we're tracking"),LE(i,e,B_(n.pendingWriteTree_,t),null)}function Eh(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function zIe(){return(0,R.hu)(W_,"Reference.ts has not been loaded"),W_}())(n._repo,n._path):n}class NE{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new NE(e)}node(){return this.node_}}class kE{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Oi(this.path_,t);return new kE(this.syncTree_,e)}node(){return Z_(this.syncTree_,this.path_)}}const eW=function(n,t,e){return n&&"object"==typeof n?((0,R.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?XIe(n[".sv"],t,e):"object"==typeof n[".sv"]?eNe(n[".sv"],t):void(0,R.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},XIe=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,R.hu)(!1,"Unexpected server value: "+n)},eNe=function(n,t,e){n.hasOwnProperty("increment")||(0,R.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,R.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,R.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},tW=function(n,t,e,i){return HE(t,new kE(e,n),i)},VE=function(n,t,e){return HE(n,new NE(t),e)};function HE(n,t,e){const i=n.getPriority().val(),r=eW(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const c=n,d=eW(c.getValue(),t,e);return d!==c.getValue()||r!==c.getPriority().val()?new Eu(d,Wi(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new Eu(r))),c.forEachChild(gi,(d,h)=>{const _=HE(h,t.getImmediateChild(d),e);_!==h&&(s=s.updateImmediateChild(d,_))}),s}}class RE{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function Q_(n,t){let e=t instanceof Gn?t:new Gn(t),i=n,r=ln(e);for(;null!==r;){const s=(0,R.DV)(i.node.children,r)||{children:{},childCount:0};i=new RE(r,i,s),e=ri(e),r=ln(e)}return i}function r0(n){return n.node.value}function OE(n,t){n.node.value=t,PE(n)}function nW(n){return n.node.childCount>0}function J_(n,t){J1(n.node.children,(e,i)=>{t(new RE(e,n,i))})}function iW(n,t,e,i){e&&!i&&t(n),J_(n,r=>{iW(r,t,!0,i)}),e&&i&&t(n)}function Th(n){return new Gn(null===n.parent?n.name:Th(n.parent)+"/"+n.name)}function PE(n){null!==n.parent&&function iNe(n,t,e){const i=function tNe(n){return void 0===r0(n)&&!nW(n)}(e),r=(0,R.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,PE(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,PE(n))}(n.parent,n.name,n)}const rNe=/[\[\].#$\/\u0000-\u001F\u007F]/,sNe=/[\[\].#$\u0000-\u001F\u007F]/,zE=10485760,X_=function(n){return"string"==typeof n&&0!==n.length&&!rNe.test(n)},rW=function(n){return"string"==typeof n&&0!==n.length&&!sNe.test(n)},Dh=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!L_(n)||n&&"object"==typeof n&&(0,R.r3)(n,".sv")},M3=function(n,t,e,i){i&&void 0===t||Ah((0,R.gK)(n,"value"),t,e)},Ah=function(n,t,e){const i=e instanceof Gn?new vAe(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+J5(i));if("function"==typeof t)throw new Error(n+"contains a function "+J5(i)+" with contents = "+t.toString());if(L_(t))throw new Error(n+"contains "+t.toString()+" "+J5(i));if("string"==typeof t&&t.length>zE/3&&(0,R.ug)(t)>zE)throw new Error(n+"contains a string greater than "+zE+" utf8 bytes "+J5(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(J1(t,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!X_(c)))throw new Error(n+" contains an invalid key ("+c+") "+J5(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function yAe(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,R.ug)(t),u$(n)})(i,c),Ah(n,d,i),function bAe(n){const t=n.parts_.pop();n.byteLength_-=(0,R.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+J5(i)+" in addition to actual children.")}},sW=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,R.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];J1(t,(c,d)=>{const h=new Gn(c);if(Ah(r,d,Oi(e,h)),".priority"===eE(h)&&!Dh(d))throw new Error(r+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(h)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=gh(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!X_(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(_Ae);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Co(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},FE=function(n,t,e){if(!e||void 0!==t){if(L_(t))throw new Error((0,R.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Dh(t))throw new Error((0,R.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ih=function(n,t,e,i){if(!(i&&void 0===e||X_(e)))throw new Error((0,R.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Nh=function(n,t,e,i){if(!(i&&void 0===e||rW(e)))throw new Error((0,R.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},_o=function(n,t){if(".info"===ln(t))throw new Error(n+" failed = Can't modify data under /.info/")},oW=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!X_(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),rW(n)}(e))throw new Error((0,R.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class cNe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ev(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!tE(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function BE(n,t,e){ev(n,e),aW(n,i=>tE(i,t))}function vo(n,t,e){ev(n,e),aW(n,i=>Co(i,t)||Co(t,i))}function aW(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(uNe(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function uNe(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();K5&&Q1("event: "+e.toString()),Su(i)}}}const lW="repo_interrupt";class fNe{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new cNe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=O_(),this.transactionQueueTree_=new RE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function cW(n){const e=n.infoData_.getNode(new Gn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function kh(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:cW(n)})}function uW(n,t,e,i,r){n.dataUpdateCount++;const s=new Gn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const h=(0,R.UI)(e,_=>Wi(_));c=function $Ie(n,t,e,i){const r=DE(n,i);if(r){const s=AE(r),c=s.path,d=s.queryId,h=mr(c,t),_=Ci.fromObject(e);return IE(n,c,new Nu(CE(d),h,_))}return[]}(n.serverSyncTree_,s,h,r)}else{const h=Wi(e);c=function qIe(n,t,e,i){const r=DE(n,i);if(null!=r){const s=AE(r),c=s.path,d=s.queryId,h=mr(c,t);return IE(n,c,new e0(CE(d),h,e))}return[]}(n.serverSyncTree_,s,h,r)}else if(i){const h=(0,R.UI)(e,_=>Wi(_));c=function UIe(n,t,e){const i=Ci.fromObject(e);return Vu(n,new Nu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,h)}else{const h=Wi(e);c=Lh(n.serverSyncTree_,s,h)}let d=s;c.length>0&&(d=Ru(n,s)),vo(n.eventQueue_,d,c)}function dW(n,t){UE(n,"connected",t),!1===t&&function mNe(n){Hu(n,"onDisconnectEvents");const t=kh(n),e=O_();hE(n.onDisconnect_,On(),(r,s)=>{const c=tW(r,s,n.serverSyncTree_,t);Iu(e,r,c)});let i=[];hE(e,On(),(r,s)=>{i=i.concat(Lh(n.serverSyncTree_,r,s));const c=$E(n,r);Ru(n,c)}),n.onDisconnect_=O_(),vo(n.eventQueue_,On(),i)}(n)}function UE(n,t,e){const i=new Gn("/.info/"+t),r=Wi(e);n.infoData_.updateSnapshot(i,r);const s=Lh(n.infoSyncTree_,i,r);vo(n.eventQueue_,i,s)}function tv(n){return n.nextWriteId_++}function GE(n,t,e,i,r){Hu(n,"set",{path:t.toString(),value:e,priority:i});const s=kh(n),c=Wi(e,i),d=Z_(n.serverSyncTree_,t),h=VE(c,d,s),_=tv(n),M=EE(n.serverSyncTree_,t,h,_,!0);ev(n.eventQueue_,M),n.server_.put(t.toString(),c.val(!0),(D,N)=>{const H="ok"===D;H||Cr("set at "+t+" failed: "+D);const U=Nc(n.serverSyncTree_,_,!H);vo(n.eventQueue_,t,U),kc(0,r,D,N)});const x=$E(n,t);Ru(n,x),vo(n.eventQueue_,x,[])}function _Ne(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&fE(n.onDisconnect_,t),kc(0,e,i,r)})}function fW(n,t,e,i){const r=Wi(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,c)=>{"ok"===s&&Iu(n.onDisconnect_,t,r),kc(0,i,s,c)})}function jE(n,t,e){let i;i=".info"===ln(t._path)?TE(n.infoSyncTree_,t,e):TE(n.serverSyncTree_,t,e),BE(n.eventQueue_,t._path,i)}function hW(n){n.persistentConnection_&&n.persistentConnection_.interrupt(lW)}function Hu(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Q1(e,...t)}function kc(n,t,e,i){t&&Su(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,t(c)}})}function qE(n,t,e){return Z_(n.serverSyncTree_,t,e)||en.EMPTY_NODE}function nv(n,t=n.transactionQueueTree_){if(t||iv(n,t),r0(t)){const e=gW(n,t);(0,R.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function xNe(n,t,e){const i=e.map(_=>_.currentWriteId),r=qE(n,t,i);let s=r;const c=r.hash();for(let _=0;_<e.length;_++){const M=e[_];(0,R.hu)(0===M.status,"tryToSendTransactionQueue_: items in queue should all be run."),M.status=1,M.retryCount++;const x=mr(t,M.path);s=s.updateChild(x,M.currentOutputSnapshotRaw)}const d=s.val(!0),h=t;n.server_.put(h.toString(),d,_=>{Hu(n,"transaction put response",{path:h.toString(),status:_});let M=[];if("ok"===_){const x=[];for(let D=0;D<e.length;D++)e[D].status=2,M=M.concat(Nc(n.serverSyncTree_,e[D].currentWriteId)),e[D].onComplete&&x.push(()=>e[D].onComplete(null,!0,e[D].currentOutputSnapshotResolved)),e[D].unwatcher();iv(n,Q_(n.transactionQueueTree_,t)),nv(n,n.transactionQueueTree_),vo(n.eventQueue_,t,M);for(let D=0;D<x.length;D++)Su(x[D])}else{if("datastale"===_)for(let x=0;x<e.length;x++)e[x].status=3===e[x].status?4:0;else{Cr("transaction at "+h.toString()+" failed: "+_);for(let x=0;x<e.length;x++)e[x].status=4,e[x].abortReason=_}Ru(n,t)}},c)}(n,Th(t),e)}else nW(t)&&J_(t,e=>{nv(n,e)})}function Ru(n,t){const e=pW(n,t),i=Th(e);return function SNe(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const h=t[d],_=mr(e,h.path);let x,M=!1;if((0,R.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===h.status)M=!0,x=h.abortReason,r=r.concat(Nc(n.serverSyncTree_,h.currentWriteId,!0));else if(0===h.status)if(h.retryCount>=25)M=!0,x="maxretry",r=r.concat(Nc(n.serverSyncTree_,h.currentWriteId,!0));else{const D=qE(n,h.path,c);h.currentInputSnapshot=D;const N=t[d].update(D.val());if(void 0!==N){Ah("transaction failed: Data returned ",N,h.path);let H=Wi(N);"object"==typeof N&&null!=N&&(0,R.r3)(N,".priority")||(H=H.updatePriority(D.getPriority()));const Y=h.currentWriteId,ae=kh(n),ce=VE(H,D,ae);h.currentOutputSnapshotRaw=H,h.currentOutputSnapshotResolved=ce,h.currentWriteId=tv(n),c.splice(c.indexOf(Y),1),r=r.concat(EE(n.serverSyncTree_,h.path,ce,h.currentWriteId,h.applyLocally)),r=r.concat(Nc(n.serverSyncTree_,Y,!0))}else M=!0,x="nodata",r=r.concat(Nc(n.serverSyncTree_,h.currentWriteId,!0))}vo(n.eventQueue_,e,r),r=[],M&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===x?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(x),!1,null)))}iv(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)Su(i[d]);nv(n,n.transactionQueueTree_)}(n,gW(n,e),i),i}function pW(n,t){let e,i=n.transactionQueueTree_;for(e=ln(t);null!==e&&void 0===r0(i);)i=Q_(i,e),e=ln(t=ri(t));return i}function gW(n,t){const e=[];return CW(n,t,e),e.sort((i,r)=>i.order-r.order),e}function CW(n,t,e){const i=r0(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);J_(t,r=>{CW(n,r,e)})}function iv(n,t){const e=r0(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,OE(t,e.length>0?e:void 0)}J_(t,i=>{iv(n,i)})}function $E(n,t){const e=Th(pW(n,t)),i=Q_(n.transactionQueueTree_,t);return function nNe(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{WE(n,r)}),WE(n,i),iW(i,r=>{WE(n,r)}),e}function WE(n,t){const e=r0(t);if(e){const i=[];let r=[],s=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,R.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,e[c].status=3,e[c].abortReason="set"):((0,R.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(Nc(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?OE(t,void 0):e.length=s+1,vo(n.eventQueue_,Th(t),r);for(let c=0;c<i.length;c++)Su(i[c])}}const ZE=function(n,t){const e=TNe(n),i=e.namespace;return"firebase.com"===e.domain&&v3(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&v3("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Cr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new WL(e.host,e.secure,i,t,"ws"===e.scheme||"wss"===e.scheme,"",i!==e.subdomain),path:new Gn(e.pathString)}},TNe=function(n){let t="",e="",i="",r="",s="",c=!0,d="https",h=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(d=n.substring(0,_-1),n=n.substring(_+2));let M=n.indexOf("/");-1===M&&(M=n.length);let x=n.indexOf("?");-1===x&&(x=n.length),t=n.substring(0,Math.min(M,x)),M<x&&(r=function LNe(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}t+="/"+r}return t}(n.substring(M,x)));const D=function ENe(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Cr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,x)));_=t.indexOf(":"),_>=0?(c="https"===d||"wss"===d,h=parseInt(t.substring(_+1),10)):_=t.length;const N=t.slice(0,_);if("localhost"===N.toLowerCase())e="localhost";else if(N.split(".").length<=2)e=N;else{const H=t.indexOf(".");i=t.substring(0,H).toLowerCase(),e=t.substring(H+1),s=i}"ns"in D&&(s=D.ns)}return{host:t,port:h,domain:e,subdomain:i,secure:c,scheme:d,pathString:r,namespace:s}};class mW{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,R.Pz)(this.snapshot.exportVal())}}class _W{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class vW{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,R.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class yW{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new R.BH;return _Ne(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){_o("OnDisconnect.remove",this._path);const t=new R.BH;return fW(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){_o("OnDisconnect.set",this._path),M3("OnDisconnect.set",t,this._path,!1);const e=new R.BH;return fW(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){_o("OnDisconnect.setWithPriority",this._path),M3("OnDisconnect.setWithPriority",t,this._path,!1),FE("OnDisconnect.setWithPriority",e,!1);const i=new R.BH;return function vNe(n,t,e,i,r){const s=Wi(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(c,d)=>{"ok"===c&&Iu(n.onDisconnect_,t,s),kc(0,r,c,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){_o("OnDisconnect.update",this._path),sW("OnDisconnect.update",t,this._path,!1);const e=new R.BH;return function yNe(n,t,e,i){if((0,R.xb)(e))return Q1("onDisconnect().update() called with empty data.  Don't do anything."),void kc(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&J1(e,(c,d)=>{const h=Wi(d);Iu(n.onDisconnect_,Oi(t,c),h)}),kc(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Kr{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return cn(this._path)?null:eE(this._path)}get ref(){return new yo(this._repo,this._path)}get _queryIdentifier(){const t=S$(this._queryParams),e=jL(t);return"{}"===e?"default":e}get _queryObject(){return S$(this._queryParams)}isEqual(t){if(!((t=(0,R.m9)(t))instanceof Kr))return!1;const e=this._repo===t._repo,i=tE(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function mAe(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function rv(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Vc(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===b3){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==W4)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==y3)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===gi){if(null!=t&&!Dh(t)||null!=e&&!Dh(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,R.hu)(n.getIndex()instanceof oE||n.getIndex()===aE,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function sv(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class yo extends Kr{constructor(t,e){super(t,e,new V_,!1)}get parent(){const t=c$(this._path);return null===t?null:new yo(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class s0{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Gn(t),i=o0(this.ref,t);return new s0(this._node.getChild(e),i,gi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new s0(r,o0(this.ref,i),gi)))}hasChild(t){const e=new Gn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function bW(n,t){return(n=(0,R.m9)(n))._checkNotDeleted("ref"),void 0!==t?o0(n._root,t):n._root}function MW(n,t){(n=(0,R.m9)(n))._checkNotDeleted("refFromURL");const e=ZE(t,n._repo.repoInfo_.nodeAdmin);oW("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&v3("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),bW(n,e.path.toString())}function o0(n,t){return null===ln((n=(0,R.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Nh("child","path",e,!1)):Nh("child","path",t,!1),new yo(n._repo,Oi(n._path,t));var e}function YE(n,t){n=(0,R.m9)(n),_o("set",n._path),M3("set",t,n._path,!1);const e=new R.BH;return GE(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function kNe(n,t){sW("update",t,n._path,!1);const e=new R.BH;return function CNe(n,t,e,i){Hu(n,"update",{path:t.toString(),value:e});let r=!0;const s=kh(n),c={};if(J1(e,(d,h)=>{r=!1,c[d]=tW(Oi(t,d),Wi(h),n.serverSyncTree_,s)}),r)Q1("update() called with empty data.  Don't do anything."),kc(0,i,"ok",void 0);else{const d=tv(n),h=function BIe(n,t,e,i){!function rIe(n,t,e,i){(0,R.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=_E(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Ci.fromObject(e);return Vu(n,new Nu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,d);ev(n.eventQueue_,h),n.server_.merge(t.toString(),e,(_,M)=>{const x="ok"===_;x||Cr("update at "+t+" failed: "+_);const D=Nc(n.serverSyncTree_,d,!x),N=D.length>0?Ru(n,t):t;vo(n.eventQueue_,N,D),kc(0,i,_,M)}),J1(e,_=>{const M=$E(n,Oi(t,_));Ru(n,M)}),vo(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function VNe(n){return function gNe(n,t){const e=function WIe(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(_,M)=>{const x=mr(_,e);i=i||Ac(M,x)});let r=n.syncPointTree_.get(e);r?i=i||Ac(r,On()):(r=new j$,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,c=s?new Tc(i,!0,!1):null;return function DIe(n){return F_(n.viewCache_)}(q$(r,t,B_(n.pendingWriteTree_,t._path),s?c.getNode():en.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const r=Wi(i).withIndex(t._queryParams.getIndex()),s=Lh(n.serverSyncTree_,t._path,r);return BE(n.eventQueue_,t._path,s),Promise.resolve(r)},i=>(Hu(n,"get for query "+(0,R.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,R.m9)(n))._repo,n).then(t=>new s0(t,new yo(n._repo,n._path),n._queryParams.getIndex()))}class ov{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new mW("value",this,new s0(t.snapshotNode,new yo(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new _W(this,t,e):null}matches(t){return t instanceof ov&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class av{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new _W(this,t,e):null}createEvent(t,e){(0,R.hu)(null!=t.childName,"Child events should have a childName.");const i=o0(new yo(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new mW(t.type,this,new s0(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof av&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Vh(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const h=e,_=(M,x)=>{jE(n._repo,n,d),h(M,x)};_.userCallback=e.userCallback,_.context=e.context,e=_}const c=new vW(e,s||void 0),d="value"===t?new ov(c):new av(t,c);return function bNe(n,t,e){let i;i=".info"===ln(t._path)?K$(n.infoSyncTree_,t,e):K$(n.serverSyncTree_,t,e),BE(n.eventQueue_,t._path,i)}(n._repo,n,d),()=>jE(n._repo,n,d)}function KE(n,t,e,i){return Vh(n,"value",t,e,i)}function wW(n,t,e,i){return Vh(n,"child_added",t,e,i)}function xW(n,t,e,i){return Vh(n,"child_changed",t,e,i)}function SW(n,t,e,i){return Vh(n,"child_moved",t,e,i)}function LW(n,t,e,i){return Vh(n,"child_removed",t,e,i)}function EW(n,t,e){let i=null;const r=e?new vW(e):null;"value"===t?i=new ov(r):t&&(i=new av(t,r)),jE(n._repo,n,i)}class fa{}class TW extends fa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){M3("endAt",this._value,t._path,!0);const e=dE(t._queryParams,this._value,this._key);if(sv(e),Vc(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Kr(t._repo,t._path,e,t._orderByCalled)}}class RNe extends fa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){M3("endBefore",this._value,t._path,!1);const e=function qAe(n,t,e){let i,r;return n.index_===b3?("string"==typeof t&&(t=M$(t)),r=dE(n,t,e)):(i=null==e?W4:M$(e),r=dE(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(sv(e),Vc(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Kr(t._repo,t._path,e,t._orderByCalled)}}class DW extends fa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){M3("startAt",this._value,t._path,!0);const e=uE(t._queryParams,this._value,this._key);if(sv(e),Vc(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Kr(t._repo,t._path,e,t._orderByCalled)}}class zNe extends fa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){M3("startAfter",this._value,t._path,!1);const e=function jAe(n,t,e){let i;if(n.index_===b3)"string"==typeof t&&(t=b$(t)),i=uE(n,t,e);else{let r;r=null==e?y3:b$(e),i=uE(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(sv(e),Vc(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Kr(t._repo,t._path,e,t._orderByCalled)}}class BNe extends fa{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Kr(t._repo,t._path,function UAe(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class GNe extends fa{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Kr(t._repo,t._path,function GAe(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class qNe extends fa{constructor(t){super(),this._path=t}_apply(t){rv(t,"orderByChild");const e=new Gn(this._path);if(cn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new oE(e),r=H_(t._queryParams,i);return Vc(r),new Kr(t._repo,t._path,r,!0)}}class WNe extends fa{_apply(t){rv(t,"orderByKey");const e=H_(t._queryParams,b3);return Vc(e),new Kr(t._repo,t._path,e,!0)}}class YNe extends fa{_apply(t){rv(t,"orderByPriority");const e=H_(t._queryParams,gi);return Vc(e),new Kr(t._repo,t._path,e,!0)}}class QNe extends fa{_apply(t){rv(t,"orderByValue");const e=H_(t._queryParams,aE);return Vc(e),new Kr(t._repo,t._path,e,!0)}}class XNe extends fa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(M3("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new TW(this._value,this._key)._apply(new DW(this._value,this._key)._apply(t))}}function ha(n,...t){let e=(0,R.m9)(n);for(const i of t)e=i._apply(e);return e}(function kIe(n){(0,R.hu)(!q_,"__referenceConstructor has already been defined"),q_=n})(yo),function PIe(n){(0,R.hu)(!W_,"__referenceConstructor has already been defined"),W_=n}(yo);const QE={};function IW(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||v3("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Q1("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let h,_,c=ZE(s,r),d=c.repoInfo;"undefined"!=typeof process&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(h=!0,s=`http://${_}?ns=${d.namespace}`,c=ZE(s,r),d=c.repoInfo):h=!c.repoInfo.secure;const M=r&&h?new fh(fh.OWNER):new qDe(n.name,n.options,t);oW("Invalid Firebase Database URL",c),cn(c.path)||v3("Database URL must point to the root of a Firebase Database (not including a child path).");const x=function rke(n,t,e,i){let r=QE[t.name];r||(r={},QE[t.name]=r);let s=r[n.toURLString()];return s&&v3("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new fNe(n,false,e,i),r[n.toURLString()]=s,s}(d,n,M,new jDe(n.name,e));return new oke(x,n)}class oke{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function hNe(n,t,e){if(n.stats_=KL(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new R_(n.repoInfo_,(i,r,s,c)=>{uW(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>dW(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,R.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new X5(n.repoInfo_,t,(i,r,s,c)=>{uW(n,i,r,s,c)},i=>{dW(n,i)},i=>{!function pNe(n,t){J1(t,(e,i)=>{UE(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function YDe(n,t){const e=n.toString();return YL[e]||(YL[e]=t()),YL[e]}(n.repoInfo_,()=>new QAe(n.stats_,n.server_)),n.infoData_=new $Ae,n.infoSyncTree_=new Y$({startListening:(i,r,s,c)=>{let d=[];const h=n.infoData_.getNode(i._path);return h.isEmpty()||(d=Lh(n.infoSyncTree_,i._path,h),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),UE(n,"connected",!1),n.serverSyncTree_=new Y$({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(d,h)=>{const _=c(d,h);vo(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new yo(this._repo,On())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function ike(n,t){const e=QE[t];(!e||e[n.key]!==n)&&v3(`Database ${t}(${n.repoInfo_}) has already been deleted.`),hW(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&v3("Cannot call "+t+" on a deleted database.")}}function uke(n,t){kq(n,t)}const fke={".sv":"timestamp"};class gke{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}X5.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},X5.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function dke(n){Tq(fr.SDK_VERSION),(0,fr._registerComponent)(new oa.wA("database",(t,{instanceIdentifier:e})=>IW(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,fr.registerVersion)(Lq,"0.12.7",n),(0,fr.registerVersion)(Lq,"0.12.7","esm2017")}();const vke=new la.Yd("@firebase/database-compat"),NW=function(n){vke.warn("FIREBASE WARNING: "+n)};class Mke{constructor(t){this._delegate=t}cancel(t){(0,R.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,R.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,R.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,R.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,R.Dv)("OnDisconnect.set",1,2,arguments.length),(0,R.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,R.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,R.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,R.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,NW("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,R.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class wke{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,R.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Hc{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,R.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,R.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,R.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,R.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,R.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Nh("DataSnapshot.child","path",t,!1),new Hc(this._database,this._delegate.child(t))}hasChild(t){return(0,R.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Nh("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,R.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,R.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,R.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Hc(this._database,e)))}hasChildren(){return(0,R.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,R.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,R.Dv)("DataSnapshot.ref",0,0,arguments.length),new zs(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class L2{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,R.Dv)("Query.on",2,4,arguments.length),(0,R.Wj)("Query.on","callback",e,!1);const c=L2.getCancelAndContextArgs_("Query.on",i,r),d=(_,M)=>{e.call(c.context,new Hc(this.database,_),M)};d.userCallback=e,d.context=c.context;const h=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(t){case"value":return KE(this._delegate,d,h),e;case"child_added":return wW(this._delegate,d,h),e;case"child_removed":return LW(this._delegate,d,h),e;case"child_changed":return xW(this._delegate,d,h),e;case"child_moved":return SW(this._delegate,d,h),e;default:throw new Error((0,R.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,R.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,R.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,R.Wj)("Query.off","callback",e,!0),(0,R.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,EW(this._delegate,t,r)}else EW(this._delegate,t)}get(){return VNe(this._delegate).then(t=>new Hc(this.database,t))}once(t,e,i,r){(0,R.Dv)("Query.once",1,4,arguments.length),(0,R.Wj)("Query.once","callback",e,!0);const s=L2.getCancelAndContextArgs_("Query.once",i,r),c=new R.BH,d=(_,M)=>{const x=new Hc(this.database,_);e&&e.call(s.context,x,M),c.resolve(x)};d.userCallback=e,d.context=s.context;const h=_=>{s.cancel&&s.cancel.call(s.context,_),c.reject(_)};switch(t){case"value":KE(this._delegate,d,h,{onlyOnce:!0});break;case"child_added":wW(this._delegate,d,h,{onlyOnce:!0});break;case"child_removed":LW(this._delegate,d,h,{onlyOnce:!0});break;case"child_changed":xW(this._delegate,d,h,{onlyOnce:!0});break;case"child_moved":SW(this._delegate,d,h,{onlyOnce:!0});break;default:throw new Error((0,R.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,R.Dv)("Query.limitToFirst",1,1,arguments.length),new L2(this.database,ha(this._delegate,function UNe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new BNe(n)}(t)))}limitToLast(t){return(0,R.Dv)("Query.limitToLast",1,1,arguments.length),new L2(this.database,ha(this._delegate,function jNe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new GNe(n)}(t)))}orderByChild(t){return(0,R.Dv)("Query.orderByChild",1,1,arguments.length),new L2(this.database,ha(this._delegate,function $Ne(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Nh("orderByChild","path",n,!1),new qNe(n)}(t)))}orderByKey(){return(0,R.Dv)("Query.orderByKey",0,0,arguments.length),new L2(this.database,ha(this._delegate,function ZNe(){return new WNe}()))}orderByPriority(){return(0,R.Dv)("Query.orderByPriority",0,0,arguments.length),new L2(this.database,ha(this._delegate,function KNe(){return new YNe}()))}orderByValue(){return(0,R.Dv)("Query.orderByValue",0,0,arguments.length),new L2(this.database,ha(this._delegate,function JNe(){return new QNe}()))}startAt(t=null,e){return(0,R.Dv)("Query.startAt",0,2,arguments.length),new L2(this.database,ha(this._delegate,function PNe(n=null,t){return Ih("startAt","key",t,!0),new DW(n,t)}(t,e)))}startAfter(t=null,e){return(0,R.Dv)("Query.startAfter",0,2,arguments.length),new L2(this.database,ha(this._delegate,function FNe(n,t){return Ih("startAfter","key",t,!0),new zNe(n,t)}(t,e)))}endAt(t=null,e){return(0,R.Dv)("Query.endAt",0,2,arguments.length),new L2(this.database,ha(this._delegate,function HNe(n,t){return Ih("endAt","key",t,!0),new TW(n,t)}(t,e)))}endBefore(t=null,e){return(0,R.Dv)("Query.endBefore",0,2,arguments.length),new L2(this.database,ha(this._delegate,function ONe(n,t){return Ih("endBefore","key",t,!0),new RNe(n,t)}(t,e)))}equalTo(t,e){return(0,R.Dv)("Query.equalTo",1,2,arguments.length),new L2(this.database,ha(this._delegate,function eke(n,t){return Ih("equalTo","key",t,!0),new XNe(n,t)}(t,e)))}toString(){return(0,R.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,R.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,R.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof L2))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,R.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,R.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,R.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new zs(this.database,new yo(this._delegate._repo,this._delegate._path))}}class zs extends L2{constructor(t,e){super(t,new Kr(e._repo,e._path,new V_,!1)),this.database=t,this._delegate=e}getKey(){return(0,R.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,R.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new zs(this.database,o0(this._delegate,t))}getParent(){(0,R.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new zs(this.database,t):null}getRoot(){return(0,R.Dv)("Reference.root",0,0,arguments.length),new zs(this.database,this._delegate.root)}set(t,e){(0,R.Dv)("Reference.set",1,2,arguments.length),(0,R.Wj)("Reference.set","onComplete",e,!0);const i=YE(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,R.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,NW("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}_o("Reference.update",this._delegate._path),(0,R.Wj)("Reference.update","onComplete",e,!0);const i=kNe(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,R.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,R.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function NNe(n,t,e){if(_o("setWithPriority",n._path),M3("setWithPriority",t,n._path,!1),FE("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new R.BH;return GE(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,R.Dv)("Reference.remove",0,1,arguments.length),(0,R.Wj)("Reference.remove","onComplete",t,!0);const e=function ANe(n){return _o("remove",n._path),YE(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,R.Dv)("Reference.transaction",1,3,arguments.length),(0,R.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,R.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,R.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function Cke(n,t,e){var i;if(n=(0,R.m9)(n),_o("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,s=new R.BH,d=KE(n,()=>{});return function wNe(n,t,e,i,r,s){Hu(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:Aq(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=qE(n,t,void 0);c.currentInputSnapshot=d;const h=c.update(d.val());if(void 0===h)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Ah("transaction failed: Data returned ",h,c.path),c.status=0;const _=Q_(n.transactionQueueTree_,t),M=r0(_)||[];let x;M.push(c),OE(_,M),"object"==typeof h&&null!==h&&(0,R.r3)(h,".priority")?(x=(0,R.DV)(h,".priority"),(0,R.hu)(Dh(x),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):x=(Z_(n.serverSyncTree_,t)||en.EMPTY_NODE).getPriority().val();const D=kh(n),N=Wi(h,x),H=VE(N,d,D);c.currentOutputSnapshotRaw=N,c.currentOutputSnapshotResolved=H,c.currentWriteId=tv(n);const U=EE(n.serverSyncTree_,t,H,c.currentWriteId,c.applyLocally);vo(n.eventQueue_,t,U),nv(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(h,_,M)=>{let x=null;h?s.reject(h):(x=new s0(M,new yo(n._repo,n._path),gi),s.resolve(new gke(_,x)))},d,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new wke(s.committed,new Hc(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,R.Dv)("Reference.setPriority",1,2,arguments.length),(0,R.Wj)("Reference.setPriority","onComplete",e,!0);const i=function INe(n,t){n=(0,R.m9)(n),_o("setPriority",n._path),FE("setPriority",t,!1);const e=new R.BH;return GE(n._repo,Oi(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,R.Dv)("Reference.push",0,2,arguments.length),(0,R.Wj)("Reference.push","onComplete",e,!0);const i=function DNe(n,t){n=(0,R.m9)(n),_o("push",n._path),M3("push",t,n._path,!0);const e=cW(n._repo),i=PAe(e),r=o0(n,i),s=o0(n,i);let c;return c=null!=t?YE(s,t).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new zs(this.database,c));e&&r.then(()=>e(null),c=>e(c));const s=new zs(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return _o("Reference.onDisconnect",this._delegate._path),new Mke(new yW(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Hh{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,i={}){!function ake(n,t,e,i={}){(n=(0,R.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&v3("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&v3('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new fh(fh.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,R.Sg)(i.mockUserToken,n.app.options.projectId);s=new fh(c)}!function nke(n,t,e,i){n.repoInfo_=new WL(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,R.Dv)("database.ref",0,1,arguments.length),t instanceof zs){const e=MW(this._delegate,t.toString());return new zs(this,e)}{const e=bW(this._delegate,t);return new zs(this,e)}}refFromURL(t){(0,R.Dv)("database.refFromURL",1,1,arguments.length);const i=MW(this._delegate,t);return new zs(this,i)}goOffline(){return(0,R.Dv)("database.goOffline",0,0,arguments.length),function lke(n){(n=(0,R.m9)(n))._checkNotDeleted("goOffline"),hW(n._repo)}(this._delegate)}goOnline(){return(0,R.Dv)("database.goOnline",0,0,arguments.length),function cke(n){(n=(0,R.m9)(n))._checkNotDeleted("goOnline"),function MNe(n){n.persistentConnection_&&n.persistentConnection_.resume(lW)}(n._repo)}(this._delegate)}}Hh.ServerValue={TIMESTAMP:function hke(){return fke}(),increment:n=>function pke(n){return{".sv":{increment:n}}}(n)};var Ske=Object.freeze({__proto__:null,initStandalone:function xke({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){Tq(e);const c=new oa.zt("auth-internal",new oa.H0("database-standalone"));return c.setComponent(new oa.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Hh(IW(n,c,void 0,t,s),n),namespace:r}}});const Lke=Hh.ServerValue;!function Eke(n){n.INTERNAL.registerComponent(new oa.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new Hh(r,i)},"PUBLIC").setServiceProps({Reference:zs,Query:L2,Database:Hh,DataSnapshot:Hc,enableLogging:uke,INTERNAL:Ske,ServerValue:Lke}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.7")}(dL.Z);var lv=O(5363),Tke=O(6063);class Dke extends Ct.x{constructor(t=1/0,e=1/0,i=Tke.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;e||(i.push(t),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!t.closed;c+=i?1:2)t.next(s[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=e.now();let d=0;for(let h=1;h<i.length&&i[h]<=c;h+=2)d=h;d&&i.splice(0,d+1)}}}function kW(n,t,e){var i,r;let s,c=!1;return n&&"object"==typeof n?(s=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,t=null!==(r=n.windowTime)&&void 0!==r?r:1/0,c=!!n.refCount,e=n.scheduler):s=null!=n?n:1/0,(0,Vx.B)({connector:()=>new Dke(s,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}function VW(n,t){return(0,C2.m)(t)?wi(()=>n,t):wi(()=>n)}var JE=O(9468);const XE=new o.OlP("angularfire2.auth.use-emulator"),eT=new o.OlP("angularfire2.auth.settings"),tT=new o.OlP("angularfire2.auth.tenant-id"),nT=new o.OlP("angularfire2.auth.langugage-code"),iT=new o.OlP("angularfire2.auth.use-device-language"),rT=new o.OlP("angularfire.auth.persistence"),sT=(n,t,e,i,r,s,c,d)=>(0,F1.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const h=t.runOutsideAngular(()=>n.auth());if(e&&h.useEmulator(...e),i&&(h.tenantId=i),h.languageCode=r,s&&h.useDeviceLanguage(),c)for(const[_,M]of Object.entries(c))h.settings[_]=M;return d&&h.setPersistence(d),h},[e,i,r,s,c,d]);let oT=(()=>{class n{constructor(e,i,r,s,c,d,h,_,M,x,D,N){const H=new Ct.x,U=lt(void 0).pipe((0,lv.Q)(c.outsideAngular),wi(()=>s.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,1254)))),(0,je.U)(()=>(0,F1.on)(e,s,i)),(0,je.U)(Y=>sT(Y,s,d,_,M,x,h,D)),kW({bufferSize:1,refCount:!1}));if(Yn(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=lt(null);else{U.pipe(b4()).subscribe();const ae=U.pipe(wi(Te=>Te.getRedirectResult().then(tt=>tt,()=>null)),Un.iC,kW({bufferSize:1,refCount:!1})),ce=U.pipe(wi(Te=>new xn.y(tt=>({unsubscribe:s.runOutsideAngular(()=>Te.onAuthStateChanged(st=>tt.next(st),st=>tt.error(st),()=>tt.complete()))})))),ke=U.pipe(wi(Te=>new xn.y(tt=>({unsubscribe:s.runOutsideAngular(()=>Te.onIdTokenChanged(st=>tt.next(st),st=>tt.error(st),()=>tt.complete()))}))));this.authState=ae.pipe(VW(ce),(0,JE.R)(c.outsideAngular),(0,lv.Q)(c.insideAngular)),this.user=ae.pipe(VW(ke),(0,JE.R)(c.outsideAngular),(0,lv.Q)(c.insideAngular)),this.idToken=this.user.pipe(wi(Te=>Te?(0,Sn.D)(Te.getIdToken()):lt(null))),this.idTokenResult=this.user.pipe(wi(Te=>Te?(0,Sn.D)(Te.getIdTokenResult()):lt(null))),this.credential=(0,B5.T)(ae,H,this.authState.pipe(Dn(Te=>!Te))).pipe((0,je.U)(Te=>(null==Te?void 0:Te.user)?Te:null),(0,JE.R)(c.outsideAngular),(0,lv.Q)(c.insideAngular))}return(0,F1.pX)(this,U,s,{spy:{apply:(Y,ae,ce)=>{(Y.startsWith("signIn")||Y.startsWith("createUser"))&&ce.then(ke=>H.next(ke))}}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(F1.Dh),o.LFG(F1.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Un.HU),o.LFG(XE,8),o.LFG(eT,8),o.LFG(tT,8),o.LFG(nT,8),o.LFG(iT,8),o.LFG(rT,8),o.LFG(oh,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function HW(n){return null==n}function RW(n){return"function"==typeof n.set}function OW(n,t){return RW(t)?t:n.ref(t)}function PW(n,t){if(function Ike(n){return"string"==typeof n}(n))return t.stringCase();if(RW(n))return t.firebaseCase();if(function Nke(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Rh(n,t,e="on",i=Vr.z){return new xn.y(r=>{let s=null;return s=n[e](t,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,je.U)(r=>{const{snapshot:s,prevKey:c}=r;let d=null;return s.exists()&&(d=s.key),{type:t,payload:s,prevKey:c,key:d}}),(0,Vx.B)())}function zW(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function Hke(n,t){const{payload:e,prevKey:i,key:r}=t,s=zW(n,r),c=function Vke(n,t){if(HW(t))return 0;{const e=zW(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(h=>{const _={payload:h,type:"value",prevKey:d,key:h.key};return d=h.key,n=[...n,_],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(h=>h.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(d=>d.payload.key!==e.key);case"child_changed":return n.map(d=>d.payload.key===r?t:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function FW(n){return(HW(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function BW(n,t,e){return function kke(n,t,e){return Rh(n,"value","once",e).pipe(wi(i=>{const r=[lt(i)];return t.forEach(s=>r.push(Rh(n,s,"on",e))),(0,B5.T)(...r).pipe(l3(Hke,[]))}),_2())}(n,t=FW(t),e)}function UW(n,t,e){const i=(t=FW(t)).map(r=>Rh(n,r,"on",e));return(0,B5.T)(...i)}function GW(n,t){return function(i,r){return PW(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function zke(n){return function(e){return e?PW(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function jW(n,t){return function(){return Rh(n,"value","on",t)}}const Uke=new o.OlP("angularfire2.realtimeDatabaseURL"),Gke=new o.OlP("angularfire2.database.use-emulator");let jke=(()=>{class n{constructor(e,i,r,s,c,d,h,_,M,x,D,N,H,U,Y){this.schedulers=d;const ae=h,ce=(0,F1.on)(e,c,i);_&&sT(ce,c,M,D,N,H,x,U),this.database=(0,F1.cc)(`${ce.name}.database.${r}`,"AngularFireDatabase",ce.name,()=>{const ke=c.runOutsideAngular(()=>ce.database(r||void 0));return ae&&ke.useEmulator(...ae),ke},[ae])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>OW(this.database,e));let s=r;return i&&(s=i(r)),function Fke(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:GW(i,"update"),set:GW(i,"set"),push:r=>i.push(r),remove:zke(i),snapshotChanges:r=>BW(n,r,e).pipe(Un.iC),stateChanges:r=>UW(n,r,e).pipe(Un.iC),auditTrail:r=>function Rke(n,t,e){return function Pke(n,t,e){return function Oke(n,t){return Rh(n,"value","on",t).pipe((0,je.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(I1(t),(0,je.U)(([r,s])=>{const c=r.lastKeyToLoad,d=s.map(h=>h.key);return{actions:s,lastKeyToLoad:c,loadedKeys:d}}),function kDe(n){return(0,di.e)((t,e)=>{let i=!1,r=0;t.subscribe(new tn.Q(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,je.U)(r=>r.actions))}(n,UW(n,t).pipe(l3((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(Un.iC),valueChanges:(r,s)=>BW(n,r,e).pipe((0,je.U)(d=>d.map(h=>s&&s.idField?Object.assign(Object.assign({},h.payload.val()),{[s.idField]:h.key}):h.payload.val())),Un.iC)}}(s,this)}object(e){return function Bke(n,t){return{query:n,snapshotChanges:()=>jW(n,t.schedulers.outsideAngular)().pipe(Un.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>jW(n,t.schedulers.outsideAngular)().pipe(Un.iC,(0,je.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>OW(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(F1.Dh),o.LFG(F1.xv,8),o.LFG(Uke,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Un.HU),o.LFG(Gke,8),o.LFG(oT,8),o.LFG(XE,8),o.LFG(eT,8),o.LFG(tT,8),o.LFG(nT,8),o.LFG(iT,8),o.LFG(rT,8),o.LFG(oh,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),qke=(()=>{class n{constructor(){_q.Z.registerVersion("angularfire",Un.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[jke]}),n})();function aT(){return(0,di.e)((n,t)=>{let e,i=!1;n.subscribe(new tn.Q(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}var ft,$ke="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Y4={},lT=lT||{},qt=$ke||self;function cv(){}function cT(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Oh(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var uT="closure_uid_"+(1e9*Math.random()>>>0),Zke=0;function Yke(n,t,e){return n.call.apply(n.bind,arguments)}function Kke(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function E2(n,t,e){return(E2=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Yke:Kke).apply(null,arguments)}function uv(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function T2(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return t.prototype[r].apply(i,c)}}function Rc(){this.s=this.s,this.o=this.o}var Jke={};Rc.prototype.s=!1,Rc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Wke(n){return Object.prototype.hasOwnProperty.call(n,uT)&&n[uT]||(n[uT]=++Zke)}(this);delete Jke[n]}},Rc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qW=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},$W=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&t.call(e,r[s],s,n)};function WW(n){return Array.prototype.concat.apply([],arguments)}function dT(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function dv(n){return/^[\s\xa0]*$/.test(n)}var vr,ZW=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function _r(n,t){return-1!=n.indexOf(t)}function fT(n,t){return n<t?-1:n>t?1:0}e:{var YW=qt.navigator;if(YW){var KW=YW.userAgent;if(KW){vr=KW;break e}}vr=""}function hT(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function QW(n){const t={};for(const e in n)t[e]=n[e];return t}var JW="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function XW(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<JW.length;s++)e=JW[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function pT(n){return pT[" "](n),n}pT[" "]=cv;var fv,n,tVe=_r(vr,"Opera"),Ou=_r(vr,"Trident")||_r(vr,"MSIE"),eZ=_r(vr,"Edge"),gT=eZ||Ou,tZ=_r(vr,"Gecko")&&!(_r(vr.toLowerCase(),"webkit")&&!_r(vr,"Edge"))&&!(_r(vr,"Trident")||_r(vr,"MSIE"))&&!_r(vr,"Edge"),nVe=_r(vr.toLowerCase(),"webkit")&&!_r(vr,"Edge");function nZ(){var n=qt.document;return n?n.documentMode:void 0}e:{var CT="",mT=(n=vr,tZ?/rv:([^\);]+)(\)|;)/.exec(n):eZ?/Edge\/([\d\.]+)/.exec(n):Ou?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):nVe?/WebKit\/(\S+)/.exec(n):tVe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(mT&&(CT=mT?mT[1]:""),Ou){var _T=nZ();if(null!=_T&&_T>parseFloat(CT)){fv=String(_T);break e}}fv=CT}var iVe={};var sVe=qt.document&&Ou&&(nZ()||parseInt(fv,10))||void 0,oVe=function(){if(!qt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{qt.addEventListener("test",cv,t),qt.removeEventListener("test",cv,t)}catch(e){}return n}();function $2(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Ph(n,t){if($2.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(tZ){e:{try{pT(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:aVe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ph.Z.h.call(this)}}$2.prototype.h=function(){this.defaultPrevented=!0},T2(Ph,$2);var aVe={2:"touch",3:"pen",4:"mouse"};Ph.prototype.h=function(){Ph.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var zh="closure_listenable_"+(1e6*Math.random()|0),lVe=0;function cVe(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++lVe,this.ca=this.fa=!1}function hv(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function pv(n){this.src=n,this.g={},this.h=0}function yT(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=qW(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(hv(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function bT(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==t&&s.capture==!!e&&s.ia==i)return r}return-1}pv.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=bT(n,t,i,r);return-1<c?(t=n[c],e||(t.fa=!1)):((t=new cVe(t,this.src,s,!!i,r)).fa=e,n.push(t)),t};var MT="closure_lm_"+(1e6*Math.random()|0),wT={};function rZ(n,t,e,i,r){if(i&&i.once)return oZ(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)rZ(n,t[s],e,i,r);return null}return e=ET(e),n&&n[zh]?n.N(t,e,Oh(i)?!!i.capture:!!i,r):sZ(n,t,e,!1,i,r)}function sZ(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var c=Oh(r)?!!r.capture:!!r,d=ST(n);if(d||(n[MT]=d=new pv(n)),(e=d.add(t,e,i,c,s)).proxy)return e;if(i=function uVe(){var t=dVe;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)oVe||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(lZ(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function oZ(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)oZ(n,t[s],e,i,r);return null}return e=ET(e),n&&n[zh]?n.O(t,e,Oh(i)?!!i.capture:!!i,r):sZ(n,t,e,!0,i,r)}function aZ(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)aZ(n,t[s],e,i,r);else i=Oh(i)?!!i.capture:!!i,e=ET(e),n&&n[zh]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=bT(s=n.g[t],e,i,r))&&(hv(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=ST(n))&&(t=n.g[t.toString()],n=-1,t&&(n=bT(t,e,i,r)),(e=-1<n?t[n]:null)&&xT(e))}function xT(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[zh])yT(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(lZ(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=ST(t))?(yT(e,n),0==e.h&&(e.src=null,t[MT]=null)):hv(n)}}}function lZ(n){return n in wT?wT[n]:wT[n]="on"+n}function dVe(n,t){if(n.ca)n=!0;else{t=new Ph(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&xT(n),n=e.call(i,t)}return n}function ST(n){return(n=n[MT])instanceof pv?n:null}var LT="__closure_events_fn_"+(1e9*Math.random()>>>0);function ET(n){return"function"==typeof n?n:(n[LT]||(n[LT]=function(t){return n.handleEvent(t)}),n[LT])}function X1(){Rc.call(this),this.i=new pv(this),this.P=this,this.I=null}function D2(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new $2(t,n);else if(t instanceof $2)t.target=t.target||n;else{var r=t;XW(t=new $2(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var c=t.g=e[s];r=gv(c,i,!0,t)&&r}if(r=gv(c=t.g=n,i,!0,t)&&r,r=gv(c,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=gv(c=t.g=e[s],i,!1,t)&&r}function gv(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var c=t[s];if(c&&!c.ca&&c.capture==e){var d=c.listener,h=c.ia||c.src;c.fa&&yT(n.i,c),r=!1!==d.call(h,i)&&r}}return r&&!i.defaultPrevented}T2(X1,Rc),X1.prototype[zh]=!0,X1.prototype.removeEventListener=function(n,t,e,i){aZ(this,n,t,e,i)},X1.prototype.M=function(){if(X1.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)hv(e[i]);delete n.g[t],n.h--}}this.I=null},X1.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},X1.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var TT=qt.JSON.stringify;function fVe(){var n=uZ;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var AT,cZ=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new pVe,n=>n.reset());class pVe{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function gVe(n){qt.setTimeout(()=>{throw n},0)}function DT(n,t){AT||function CVe(){var n=qt.Promise.resolve(void 0);AT=function(){n.then(mVe)}}(),IT||(AT(),IT=!0),uZ.add(n,t)}var IT=!1,uZ=new class hVe{constructor(){this.h=this.g=null}add(t,e){const i=cZ.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function mVe(){for(var n;n=fVe();){try{n.h.call(n.g)}catch(e){gVe(e)}var t=cZ;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}IT=!1}function Cv(n,t){X1.call(this),this.h=n||1,this.g=t||qt,this.j=E2(this.kb,this),this.l=Date.now()}function NT(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function kT(n,t,e){if("function"==typeof n)e&&(n=E2(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=E2(n.handleEvent,n)}return 2147483647<Number(t)?-1:qt.setTimeout(n,t||0)}function dZ(n){n.g=kT(()=>{n.g=null,n.i&&(n.i=!1,dZ(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}T2(Cv,X1),(ft=Cv.prototype).da=!1,ft.S=null,ft.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),D2(this,"tick"),this.da&&(NT(this),this.start()))}},ft.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ft.M=function(){Cv.Z.M.call(this),NT(this),delete this.g};class _Ve extends Rc{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:dZ(this)}M(){super.M(),this.g&&(qt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fh(n){Rc.call(this),this.h=n,this.g={}}T2(Fh,Rc);var fZ=[];function hZ(n,t,e,i){Array.isArray(e)||(e&&(fZ[0]=e.toString()),e=fZ);for(var r=0;r<e.length;r++){var s=rZ(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function pZ(n){hT(n.g,function(t,e){this.g.hasOwnProperty(e)&&xT(t)},n),n.g={}}function mv(){this.g=!0}function Pu(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function MVe(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return TT(e)}catch(d){return t}}(n,e)+(i?" "+i:"")})}Fh.prototype.M=function(){Fh.Z.M.call(this),pZ(this)},Fh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mv.prototype.Aa=function(){this.g=!1},mv.prototype.info=function(){};var a0={},gZ=null;function _v(){return gZ=gZ||new X1}function CZ(n){$2.call(this,a0.Ma,n)}function Bh(n){const t=_v();D2(t,new CZ(t,n))}function mZ(n,t){$2.call(this,a0.STAT_EVENT,n),this.stat=t}function yr(n){const t=_v();D2(t,new mZ(t,n))}function _Z(n,t){$2.call(this,a0.Na,n),this.size=t}function Uh(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return qt.setTimeout(function(){n()},t)}a0.Ma="serverreachability",T2(CZ,$2),a0.STAT_EVENT="statevent",T2(mZ,$2),a0.Na="timingevent",T2(_Z,$2);var vv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},vZ={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function VT(){}function bZ(){}VT.prototype.h=null;var OT,Gh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function HT(){$2.call(this,"d")}function RT(){$2.call(this,"c")}function yv(){}function jh(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new Fh(this),this.P=wVe,this.W=new Cv(n=gT?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new MZ}function MZ(){this.i=null,this.g="",this.h=!1}T2(HT,$2),T2(RT,$2),T2(yv,VT),yv.prototype.g=function(){return new XMLHttpRequest},yv.prototype.i=function(){return{}},OT=new yv;var wVe=45e3,PT={},bv={};function zT(n,t,e){n.K=1,n.v=Lv(K4(t)),n.s=e,n.U=!0,wZ(n,null)}function wZ(n,t){n.F=Date.now(),qh(n),n.A=K4(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),NZ(e.h,"t",i),n.C=0,e=n.l.H,n.h=new MZ,n.g=tY(n.l,e?t:null,!n.s),0<n.O&&(n.L=new _Ve(E2(n.Ia,n,n.g),n.O)),hZ(n.V,n.g,"readystatechange",n.gb),t=n.H?QW(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Bh(1),function vVe(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",d=s.split("&"),h=0;h<d.length;h++){var _=d[h].split("=");if(1<_.length){var M=_[0];_=_[1];var x=M.split("_");c=2<=x.length&&"type"==x[1]?c+(M+"=")+_+"&":c+(M+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function xZ(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function SZ(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=xVe(n,e),r==bv){4==t&&(n.o=4,yr(14),i=!1),Pu(n.j,n.m,null,"[Incomplete Response]");break}if(r==PT){n.o=4,yr(15),Pu(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Pu(n.j,n.m,r,null),FT(n,r)}xZ(n)&&r!=bv&&r!=PT&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,yr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),QT(t),t.L=!0,yr(11))):(Pu(n.j,n.m,e,"[Invalid Chunked Response]"),l0(n),$h(n))}function xVe(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?bv:(e=Number(t.substring(e,i)),isNaN(e)?PT:(i+=1)+e>t.length?bv:(t=t.substr(i,e),n.C=i+e,t))}function qh(n){n.Y=Date.now()+n.P,LZ(n,n.P)}function LZ(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Uh(E2(n.eb,n),t)}function Mv(n){n.B&&(qt.clearTimeout(n.B),n.B=null)}function $h(n){0==n.l.G||n.I||QZ(n.l,n)}function l0(n){Mv(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,NT(n.W),pZ(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function FT(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||GT(e.i,n)))if(e.I=n.N,!n.J&&GT(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(_){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=Uh(E2(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;Nv(e),Av(e)}KT(e),yr(18)}if(1>=HZ(e.i)&&e.ka){try{e.ka()}catch(_){}e.ka=void 0}}else d0(e,11)}else if((n.J||e.g==n)&&Nv(e),!dv(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let _=r[t];if(e.U=_[0],_=_[1],2==e.G)if("c"==_[0]){e.J=_[1],e.la=_[2];const M=_[3];null!=M&&(e.ma=M,e.h.info("VER="+e.ma));const x=_[4];null!=x&&(e.za=x,e.h.info("SVER="+e.za));const D=_[5];null!=D&&"number"==typeof D&&0<D&&(e.K=i=1.5*D,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const N=n.g;if(N){const H=N.g?N.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(H){var s=i.i;!s.g&&(_r(H,"spdy")||_r(H,"quic")||_r(H,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(jT(s,s.h),s.h=null))}if(i.D){const U=N.g?N.g.getResponseHeader("X-HTTP-Session-Id"):null;U&&(i.sa=U,Pi(i.F,i.D,U))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var c=n;if((i=e).oa=eY(i,i.H?i.la:null,i.W),c.J){RZ(i.i,c);var d=c,h=i.K;h&&d.setTimeout(h),d.B&&(Mv(d),qh(d)),i.g=c}else YZ(i);0<e.l.length&&Iv(e)}else"stop"!=_[0]&&"close"!=_[0]||d0(e,7);else 3==e.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?d0(e,7):ZT(e):"noop"!=_[0]&&e.j&&e.j.wa(_),e.A=0)}Bh(4)}catch(_){}}function BT(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(cT(n)||"string"==typeof n)$W(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(cT(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function SVe(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(cT(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}}function zu(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof zu)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function UT(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];c0(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)c0(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function c0(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(ft=jh.prototype).setTimeout=function(n){this.P=n},ft.gb=function(n){n=n.target;const t=this.L;t&&3==Q4(n)?t.l():this.Ia(n)},ft.Ia=function(n){try{if(n==this.g)e:{const M=Q4(this.g);var t=this.g.Da();const x=this.g.ba();if(!(3>M)&&(3!=M||gT||this.g&&(this.h.h||this.g.ga()||jZ(this.g)))){this.I||4!=M||7==t||Bh(8==t||0>=x?3:2),Mv(this);var e=this.g.ba();this.N=e;t:if(xZ(this)){var i=jZ(this.g);n="";var r=i.length,s=4==Q4(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){l0(this),$h(this);var c="";break t}this.h.i=new qt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==e,function yVe(n,t,e,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.X,M,e),this.i){if(this.$&&!this.J){t:{if(this.g){var d,h=this.g;if((d=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dv(d)){var _=d;break t}}_=null}if(!(e=_)){this.i=!1,this.o=3,yr(12),l0(this),$h(this);break e}Pu(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,FT(this,e)}this.U?(SZ(this,M,c),gT&&this.i&&3==M&&(hZ(this.V,this.W,"tick",this.fb),this.W.start())):(Pu(this.j,this.m,c,null),FT(this,c)),4==M&&l0(this),this.i&&!this.I&&(4==M?QZ(this.l,this):(this.i=!1,qh(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,yr(12)):(this.o=0,yr(13)),l0(this),$h(this)}}}catch(M){}},ft.fb=function(){if(this.g){var n=Q4(this.g),t=this.g.ga();this.C<t.length&&(Mv(this),SZ(this,n,t),this.i&&4!=n&&qh(this))}},ft.cancel=function(){this.I=!0,l0(this)},ft.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function bVe(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Bh(3),yr(17)),l0(this),this.o=2,$h(this)):LZ(this,this.Y-n)},(ft=zu.prototype).R=function(){UT(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},ft.T=function(){return UT(this),this.g.concat()},ft.get=function(n,t){return c0(this.h,n)?this.h[n]:t},ft.set=function(n,t){c0(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},ft.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],s=this.get(r);n.call(t,s,r,this)}};var EZ=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function u0(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof u0){this.g=void 0!==t?t:n.g,wv(this,n.j),this.s=n.s,xv(this,n.i),Sv(this,n.m),this.l=n.l,t=n.h;var e=new Yh;e.i=t.i,t.g&&(e.g=new zu(t.g),e.h=t.h),TZ(this,e),this.o=n.o}else n&&(e=String(n).match(EZ))?(this.g=!!t,wv(this,e[1]||"",!0),this.s=Wh(e[2]||""),xv(this,e[3]||"",!0),Sv(this,e[4]),this.l=Wh(e[5]||"",!0),TZ(this,e[6]||"",!0),this.o=Wh(e[7]||"")):(this.g=!!t,this.h=new Yh(null,this.g))}function K4(n){return new u0(n)}function wv(n,t,e){n.j=e?Wh(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function xv(n,t,e){n.i=e?Wh(t,!0):t}function Sv(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function TZ(n,t,e){t instanceof Yh?(n.h=t,function VVe(n,t){t&&!n.j&&(Oc(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(AZ(this,i),NZ(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=Zh(t,NVe)),n.h=new Yh(t,n.g))}function Pi(n,t,e){n.h.set(t,e)}function Lv(n){return Pi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Wh(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Zh(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,DVe),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function DVe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}u0.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Zh(t,DZ,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Zh(t,DZ,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(Zh(e,"/"==e.charAt(0)?IVe:AVe,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Zh(e,kVe)),n.join("")};var DZ=/[#\/\?@]/g,AVe=/[#\?:]/g,IVe=/[#\?]/g,NVe=/[#\?@]/g,kVe=/#/g;function Yh(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Oc(n){n.g||(n.g=new zu,n.h=0,n.i&&function LVe(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function AZ(n,t){Oc(n),t=Fu(n,t),c0(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,c0((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&UT(n)))}function IZ(n,t){return Oc(n),t=Fu(n,t),c0(n.g.h,t)}function NZ(n,t,e){AZ(n,t),0<e.length&&(n.i=null,n.g.set(Fu(n,t),dT(e)),n.h+=e.length)}function Fu(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function kZ(n){this.l=n||RVe,n=qt.PerformanceNavigationTiming?0<(n=qt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(qt.g&&qt.g.Ea&&qt.g.Ea()&&qt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ft=Yh.prototype).add=function(n,t){Oc(this),this.i=null,n=Fu(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},ft.forEach=function(n,t){Oc(this),this.g.forEach(function(e,i){$W(e,function(r){n.call(t,r,i,this)},this)},this)},ft.T=function(){Oc(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],s=0;s<r.length;s++)e.push(t[i]);return e},ft.R=function(n){Oc(this);var t=[];if("string"==typeof n)IZ(this,n)&&(t=WW(t,this.g.get(Fu(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=WW(t,n[e])}return t},ft.set=function(n,t){return Oc(this),this.i=null,IZ(this,n=Fu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},ft.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},ft.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var c=r;""!==i[s]&&(c+="="+encodeURIComponent(String(i[s]))),n.push(c)}}return this.i=n.join("&")};var RVe=10;function VZ(n){return!!n.h||!!n.g&&n.g.size>=n.j}function HZ(n){return n.h?1:n.g?n.g.size:0}function GT(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function jT(n,t){n.g?n.g.add(t):n.h=t}function RZ(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function OZ(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return dT(n.i)}function qT(){}function OVe(){this.g=new qT}function PVe(n,t,e){const i=e||"";try{BT(n,function(r,s){let c=r;Oh(r)&&(c=TT(r)),t.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Ev(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(s){}}function Kh(n){this.l=n.$b||null,this.j=n.ib||!1}function Tv(n,t){X1.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=$T,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kZ.prototype.cancel=function(){if(this.i=OZ(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},qT.prototype.stringify=function(n){return qt.JSON.stringify(n,void 0)},qT.prototype.parse=function(n){return qt.JSON.parse(n,void 0)},T2(Kh,VT),Kh.prototype.g=function(){return new Tv(this.l,this.j)},Kh.prototype.i=function(n){return function(){return n}}({}),T2(Tv,X1);var $T=0;function PZ(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Qh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Jh(n)}function Jh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ft=Tv.prototype).open=function(n,t){if(this.readyState!=$T)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Jh(this)},ft.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||qt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ft.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qh(this)),this.readyState=$T},ft.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Jh(this)),this.g&&(this.readyState=3,Jh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==qt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;PZ(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ft.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Qh(this):Jh(this),3==this.readyState&&PZ(this)}},ft.Ua=function(n){this.g&&(this.response=this.responseText=n,Qh(this))},ft.Ta=function(n){this.g&&(this.response=n,Qh(this))},ft.ha=function(){this.g&&Qh(this)},ft.setRequestHeader=function(n,t){this.v.append(n,t)},ft.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ft.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Tv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var FVe=qt.JSON.parse;function M1(n){X1.call(this),this.headers=new zu,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=zZ,this.K=this.L=!1}T2(M1,X1);var zZ="",BVe=/^https?$/i,UVe=["POST","PUT"];function jVe(n){return"content-type"==n.toLowerCase()}function FZ(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,BZ(n),Dv(n)}function BZ(n){n.D||(n.D=!0,D2(n,"complete"),D2(n,"error"))}function UZ(n){if(n.h&&void 0!==lT&&(!n.C[1]||4!=Q4(n)||2!=n.ba()))if(n.v&&4==Q4(n))kT(n.Fa,0,n);else if(D2(n,"readystatechange"),4==Q4(n)){n.h=!1;try{const d=n.ba();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===d){var r=String(n.H).match(EZ)[1]||null;if(!r&&qt.self&&qt.self.location){var s=qt.self.location.protocol;r=s.substr(0,s.length-1)}i=!BVe.test(r?r.toLowerCase():"")}e=i}if(e)D2(n,"complete"),D2(n,"success");else{n.m=6;try{var c=2<Q4(n)?n.g.statusText:""}catch(h){c=""}n.j=c+" ["+n.ba()+"]",BZ(n)}}finally{Dv(n)}}}function Dv(n,t){if(n.g){GZ(n);const e=n.g,i=n.C[0]?cv:null;n.g=null,n.C=null,t||D2(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function GZ(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(qt.clearTimeout(n.A),n.A=null)}function Q4(n){return n.g?n.g.readyState:0}function jZ(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case zZ:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function WT(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function qVe(n){let t="";return hT(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Pi(n,t,e))}function Xh(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function qZ(n){this.za=0,this.l=[],this.h=new mv,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Xh("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Xh("baseRetryDelayMs",5e3,n),this.$a=Xh("retryDelaySeedMs",1e4,n),this.Ya=Xh("forwardChannelMaxRetries",2,n),this.ra=Xh("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new kZ(n&&n.concurrentRequestLimit),this.Ca=new OVe,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function ZT(n){if($Z(n),3==n.G){var t=n.V++,e=K4(n.F);Pi(e,"SID",n.J),Pi(e,"RID",t),Pi(e,"TYPE","terminate"),e9(n,e),(t=new jh(n,n.h,t,void 0)).K=2,t.v=Lv(K4(e)),e=!1,qt.navigator&&qt.navigator.sendBeacon&&(e=qt.navigator.sendBeacon(t.v.toString(),"")),!e&&qt.Image&&((new Image).src=t.v,e=!0),e||(t.g=tY(t.l,null),t.g.ea(t.v)),t.F=Date.now(),qh(t)}XZ(n)}function Av(n){n.g&&(QT(n),n.g.cancel(),n.g=null)}function $Z(n){Av(n),n.u&&(qt.clearTimeout(n.u),n.u=null),Nv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&qt.clearTimeout(n.m),n.m=null)}function YT(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&Iv(n)}function Iv(n){VZ(n.i)||n.m||(n.m=!0,DT(n.Ha,n),n.C=0)}function WZ(n,t){var e;e=t?t.m:n.V++;const i=K4(n.F);Pi(i,"SID",n.J),Pi(i,"RID",e),Pi(i,"AID",n.U),e9(n,i),n.o&&n.s&&WT(i,n.o,n.s),e=new jh(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=ZZ(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),jT(n.i,e),zT(e,i,t)}function e9(n,t){n.j&&BT({},function(e,i){Pi(t,i,e)})}function ZZ(n,t,e){e=Math.min(n.l.length,e);var i=n.j?E2(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const c=["count="+e];-1==s?0<e?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let d=!0;for(let h=0;h<e;h++){let _=r[h].h;const M=r[h].g;if(_-=s,0>_)s=Math.max(0,r[h].h-100),d=!1;else try{PVe(M,c,"req"+_+"_")}catch(x){i&&i(M)}}if(d){i=c.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function YZ(n){n.g||n.u||(n.Y=1,DT(n.Ga,n),n.A=0)}function KT(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Uh(E2(n.Ga,n),JZ(n,n.A)),n.A++,0))}function QT(n){null!=n.B&&(qt.clearTimeout(n.B),n.B=null)}function KZ(n){n.g=new jh(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=K4(n.oa);Pi(t,"RID","rpc"),Pi(t,"SID",n.J),Pi(t,"CI",n.N?"0":"1"),Pi(t,"AID",n.U),e9(n,t),Pi(t,"TYPE","xmlhttp"),n.o&&n.s&&WT(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=Lv(K4(t)),e.s=null,e.U=!0,wZ(e,n)}function Nv(n){null!=n.v&&(qt.clearTimeout(n.v),n.v=null)}function QZ(n,t){var e=null;if(n.g==t){Nv(n),QT(n),n.g=null;var i=2}else{if(!GT(n.i,t))return;e=t.D,RZ(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;D2(i=_v(),new _Z(i,e,t,r)),Iv(n)}else YZ(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function $Ve(n,t){return!(HZ(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Uh(E2(n.Ha,n,t),JZ(n,n.C)),n.C++,0)))}(n,t)||2==i&&KT(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:d0(n,5);break;case 4:d0(n,10);break;case 3:d0(n,6);break;default:d0(n,2)}}function JZ(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function d0(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=E2(n.jb,n);e||(e=new u0("//www.google.com/images/cleardot.gif"),qt.location&&"http"==qt.location.protocol||wv(e,"https"),Lv(e)),function zVe(n,t){const e=new mv;if(qt.Image){const i=new Image;i.onload=uv(Ev,e,i,"TestLoadImage: loaded",!0,t),i.onerror=uv(Ev,e,i,"TestLoadImage: error",!1,t),i.onabort=uv(Ev,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=uv(Ev,e,i,"TestLoadImage: timeout",!1,t),qt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else yr(2);n.G=0,n.j&&n.j.va(t),XZ(n),$Z(n)}function XZ(n){n.G=0,n.I=-1,n.j&&((0!=OZ(n.i).length||0!=n.l.length)&&(n.i.i.length=0,dT(n.l),n.l.length=0),n.j.ua())}function eY(n,t,e){let i=function EVe(n){return n instanceof u0?K4(n):new u0(n,void 0)}(e);if(""!=i.i)t&&xv(i,t+"."+i.i),Sv(i,i.m);else{const r=qt.location;i=function TVe(n,t,e,i){var r=new u0(null,void 0);return n&&wv(r,n),t&&xv(r,t),e&&Sv(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&hT(n.aa,function(r,s){Pi(i,s,r)}),e=n.sa,(t=n.D)&&e&&Pi(i,t,e),Pi(i,"VER",n.ma),e9(n,i),i}function tY(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new M1(e&&n.Ba&&!n.qa?new Kh({ib:!0}):n.qa)).L=n.H,t}function nY(){}function kv(){if(Ou&&!(10<=Number(sVe)))throw Error("Environmental error: no available transport.")}function Fs(n,t){X1.call(this),this.g=new qZ(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!dv(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!dv(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Bu(this)}function iY(n){HT.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function rY(){RT.call(this),this.status=1}function Bu(n){this.g=n}(ft=M1.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():OT.g(),this.C=function yZ(n){return n.h||(n.h=n.i())}(this.u?this.u:OT),this.g.onreadystatechange=E2(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void FZ(this,s)}n=e||"";const r=new zu(this.headers);i&&BT(i,function(s,c){r.set(c,s)}),i=function Xke(n){e:{var t=jVe;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=qt.FormData&&n instanceof qt.FormData,!(0<=qW(UVe,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,c){this.g.setRequestHeader(c,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{GZ(this),0<this.B&&((this.K=function GVe(n){return Ou&&function rVe(){return function eVe(n){var t=iVe;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=ZW(String(fv)).split("."),e=ZW("9").split("."),i=Math.max(t.length,e.length);for(let c=0;0==n&&c<i;c++){var r=t[c]||"",s=e[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=fT(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||fT(0==r[2].length,0==s[2].length)||fT(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=E2(this.pa,this)):this.A=kT(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){FZ(this,s)}},ft.pa=function(){void 0!==lT&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,D2(this,"timeout"),this.abort(8))},ft.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,D2(this,"complete"),D2(this,"abort"),Dv(this))},ft.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dv(this,!0)),M1.Z.M.call(this)},ft.Fa=function(){this.s||(this.F||this.v||this.l?UZ(this):this.cb())},ft.cb=function(){UZ(this)},ft.ba=function(){try{return 2<Q4(this)?this.g.status:-1}catch(n){return-1}},ft.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ft.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),FVe(t)}},ft.Da=function(){return this.m},ft.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ft=qZ.prototype).ma=8,ft.G=1,ft.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},ft.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new jh(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=QW(s),XW(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=ZZ(this,r,t),Pi(e=K4(this.F),"RID",n),Pi(e,"CVER",22),this.D&&Pi(e,"X-HTTP-Session-Id",this.D),e9(this,e),this.o&&s&&WT(e,this.o,s),jT(this.i,r),this.Ra&&Pi(e,"TYPE","init"),this.ja?(Pi(e,"$req",t),Pi(e,"SID","null"),r.$=!0,zT(r,e,null)):zT(r,e,t),this.G=2}}else 3==this.G&&(n?WZ(this,n):0==this.l.length||VZ(this.i)||WZ(this))},ft.Ga=function(){if(this.u=null,KZ(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Uh(E2(this.bb,this),n)}},ft.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,yr(10),Av(this),KZ(this))},ft.ab=function(){null!=this.v&&(this.v=null,Av(this),KT(this),yr(19))},ft.jb=function(n){n?(this.h.info("Successfully pinged google.com"),yr(2)):(this.h.info("Failed to ping google.com"),yr(1))},(ft=nY.prototype).xa=function(){},ft.wa=function(){},ft.va=function(){},ft.ua=function(){},ft.Oa=function(){},kv.prototype.g=function(n,t){return new Fs(n,t)},T2(Fs,X1),Fs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),DT(E2(n.hb,n,t))),yr(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=eY(n,null,n.W),Iv(n)},Fs.prototype.close=function(){ZT(this.g)},Fs.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,YT(this.g,t)}else this.v?((t={}).__data__=TT(n),YT(this.g,t)):YT(this.g,n)},Fs.prototype.M=function(){this.g.j=null,delete this.j,ZT(this.g),delete this.g,Fs.Z.M.call(this)},T2(iY,HT),T2(rY,RT),T2(Bu,nY),Bu.prototype.xa=function(){D2(this.g,"a")},Bu.prototype.wa=function(n){D2(this.g,new iY(n))},Bu.prototype.va=function(n){D2(this.g,new rY(n))},Bu.prototype.ua=function(){D2(this.g,"b")},kv.prototype.createWebChannel=kv.prototype.g,Fs.prototype.send=Fs.prototype.u,Fs.prototype.open=Fs.prototype.m,Fs.prototype.close=Fs.prototype.close,vv.NO_ERROR=0,vv.TIMEOUT=8,vv.HTTP_ERROR=6,vZ.COMPLETE="complete",bZ.EventType=Gh,Gh.OPEN="a",Gh.CLOSE="b",Gh.ERROR="c",Gh.MESSAGE="d",X1.prototype.listen=X1.prototype.N,M1.prototype.listenOnce=M1.prototype.O,M1.prototype.getLastError=M1.prototype.La,M1.prototype.getLastErrorCode=M1.prototype.Da,M1.prototype.getStatus=M1.prototype.ba,M1.prototype.getResponseJson=M1.prototype.Qa,M1.prototype.getResponseText=M1.prototype.ga,M1.prototype.send=M1.prototype.ea;var WVe=Y4.createWebChannelTransport=function(){return new kv},ZVe=Y4.getStatEventTarget=function(){return _v()},JT=Y4.ErrorCode=vv,YVe=Y4.EventType=vZ,KVe=Y4.Event=a0,sY=Y4.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},QVe=Y4.FetchXmlHttpFactory=Kh,Vv=Y4.WebChannel=bZ,JVe=Y4.XhrIo=M1;const oY="@firebase/firestore";class A2{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}A2.UNAUTHENTICATED=new A2(null),A2.GOOGLE_CREDENTIALS=new A2("google-credentials-uid"),A2.FIRST_PARTY=new A2("first-party-uid"),A2.MOCK_USER=new A2("mock-user");let Uu="9.6.10";const Pc=new la.Yd("@firebase/firestore");function XT(){return Pc.logLevel}function ze(n,...t){if(Pc.logLevel<=la.in.DEBUG){const e=t.map(eD);Pc.debug(`Firestore (${Uu}): ${n}`,...e)}}function w1(n,...t){if(Pc.logLevel<=la.in.ERROR){const e=t.map(eD);Pc.error(`Firestore (${Uu}): ${n}`,...e)}}function t9(n,...t){if(Pc.logLevel<=la.in.WARN){const e=t.map(eD);Pc.warn(`Firestore (${Uu}): ${n}`,...e)}}function eD(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function ht(n="Unexpected state"){const t=`FIRESTORE (${Uu}) INTERNAL ASSERTION FAILED: `+n;throw w1(t),new Error(t)}function Bt(n,t){n||ht()}function Qe(n,t){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends R.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class e2{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class aY{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class tHe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(A2.UNAUTHENTICATED))}shutdown(){}}class nHe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class iHe{constructor(t){this.t=t,this.currentUser=A2.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=_=>this.i!==r?(r=this.i,e(_)):Promise.resolve();let c=new e2;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new e2,t.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const _=c;t.enqueueRetryable((0,_e.Z)(function*(){yield _.promise,yield s(i.currentUser)}))},h=_=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(_=>h(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?h(_):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new e2)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Bt("string"==typeof i.accessToken),new aY(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Bt(null===t||"string"==typeof t),new A2(t)}}class rHe{constructor(t,e,i){this.type="FirstParty",this.user=A2.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class sHe{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new rHe(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(A2.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lY{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oHe{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=s=>{null!=s.error&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.p;return this.p=s.token,ze("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?r(s):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Bt("string"==typeof e.token),this.p=e.token,new lY(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Bs{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.I(i),this.T=i=>e.writeSequenceNumber(i))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function aHe(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}Bs.A=-1;class cY{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=aHe(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function pn(n,t){return n<t?-1:n>t?1:0}function Gu(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function uY(n){return n+"\0"}class g1{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ie(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ie(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ie(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ie(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return g1.fromMillis(Date.now())}static fromDate(t){return g1.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new g1(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?pn(this.nanoseconds,t.nanoseconds):pn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new g1(0,0))}static max(){return new Rt(new g1(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function dY(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function f0(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function fY(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class n9{constructor(t,e,i){void 0===e?e=0:e>t.length&&ht(),void 0===i?i=t.length-e:i>t.length-e&&ht(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===n9.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof n9?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),c=e.get(r);if(s<c)return-1;if(s>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class En extends n9{construct(t,e,i){return new En(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ie(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new En(e)}static emptyPath(){return new En([])}}const lHe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class t2 extends n9{construct(t,e,i){return new t2(t,e,i)}static isValidIdentifier(t){return lHe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t2.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new t2(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Ie(de.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const d=t[r];if("\\"===d){if(r+1===t.length)throw new Ie(de.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[r+1];if("\\"!==h&&"."!==h&&"`"!==h)throw new Ie(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(s(),r++)}if(s(),c)throw new Ie(de.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new t2(e)}static emptyPath(){return new t2([])}}class ju{constructor(t){this.fields=t,t.sort(t2.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Gu(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class B1{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new B1(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new B1(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return pn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}B1.EMPTY_BYTE_STRING=new B1("");const uHe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zc(n){if(Bt(!!n),"string"==typeof n){let t=0;const e=uHe.exec(n);if(Bt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:l1(n.seconds),nanos:l1(n.nanos)}}function l1(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function h0(n){return"string"==typeof n?B1.fromBase64String(n):B1.fromUint8Array(n)}function tD(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function hY(n){const t=n.mapValue.fields.__previous_value__;return tD(t)?hY(t):t}function i9(n){const t=zc(n.mapValue.fields.__local_write_time__.timestampValue);return new g1(t.seconds,t.nanos)}class dHe{constructor(t,e,i,r,s,c,d,h){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=h}}class J4{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new J4("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof J4&&t.projectId===this.projectId&&t.database===this.database}}function p0(n){return null==n}function r9(n){return 0===n&&1/n==-1/0}function pY(n){return"number"==typeof n&&Number.isInteger(n)&&!r9(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class We{constructor(t){this.path=t}static fromPath(t){return new We(En.fromString(t))}static fromName(t){return new We(En.fromString(t).popFirst(5))}static empty(){return new We(En.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===En.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return En.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new We(new En(t.slice()))}}const gY={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},CY={nullValue:"NULL_VALUE"};function g0(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?tD(n)?4:yY(n)?9:10:ht()}function w3(n,t){if(n===t)return!0;const e=g0(n);if(e!==g0(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return i9(n).isEqual(i9(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=zc(i.timestampValue),c=zc(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,h0(n.bytesValue).isEqual(h0(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return l1(i.geoPointValue.latitude)===l1(r.geoPointValue.latitude)&&l1(i.geoPointValue.longitude)===l1(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return l1(i.integerValue)===l1(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=l1(i.doubleValue),c=l1(r.doubleValue);return s===c?r9(s)===r9(c):isNaN(s)&&isNaN(c)}return!1}(n,t);case 9:return Gu(n.arrayValue.values||[],t.arrayValue.values||[],w3);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(dY(s)!==dY(c))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===c[d]||!w3(s[d],c[d])))return!1;return!0}(n,t);default:return ht()}var r}function s9(n,t){return void 0!==(n.values||[]).find(e=>w3(e,t))}function Fc(n,t){if(n===t)return 0;const e=g0(n),i=g0(t);if(e!==i)return pn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return pn(n.booleanValue,t.booleanValue);case 2:return function(r,s){const c=l1(r.integerValue||r.doubleValue),d=l1(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,t);case 3:return mY(n.timestampValue,t.timestampValue);case 4:return mY(i9(n),i9(t));case 5:return pn(n.stringValue,t.stringValue);case 6:return function(r,s){const c=h0(r),d=h0(s);return c.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const c=r.split("/"),d=s.split("/");for(let h=0;h<c.length&&h<d.length;h++){const _=pn(c[h],d[h]);if(0!==_)return _}return pn(c.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const c=pn(l1(r.latitude),l1(s.latitude));return 0!==c?c:pn(l1(r.longitude),l1(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const c=r.values||[],d=s.values||[];for(let h=0;h<c.length&&h<d.length;++h){const _=Fc(c[h],d[h]);if(_)return _}return pn(c.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){const c=r.fields||{},d=Object.keys(c),h=s.fields||{},_=Object.keys(h);d.sort(),_.sort();for(let M=0;M<d.length&&M<_.length;++M){const x=pn(d[M],_[M]);if(0!==x)return x;const D=Fc(c[d[M]],h[_[M]]);if(0!==D)return D}return pn(d.length,_.length)}(n.mapValue,t.mapValue);default:throw ht()}}function mY(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return pn(n,t);const e=zc(n),i=zc(t),r=pn(e.seconds,i.seconds);return 0!==r?r:pn(e.nanos,i.nanos)}function qu(n){return nD(n)}function nD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=zc(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?h0(n.bytesValue).toBase64():"referenceValue"in n?We.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=nD(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const d of r)c?c=!1:s+=",",s+=`${d}:${nD(i.fields[d])}`;return s+"}"}(n.mapValue):ht();var t}function $u(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function iD(n){return!!n&&"integerValue"in n}function o9(n){return!!n&&"arrayValue"in n}function _Y(n){return!!n&&"nullValue"in n}function vY(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hv(n){return!!n&&"mapValue"in n}function a9(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return f0(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=a9(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=a9(n.arrayValue.values[e]);return t}return Object.assign({},n)}function yY(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function bY(n,t){return void 0===n?t:void 0===t||Fc(n,t)>0?n:t}function MY(n,t){return void 0===n?t:void 0===t||Fc(n,t)<0?n:t}class W2{constructor(t){this.value=t}static empty(){return new W2({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Hv(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=a9(e)}setAll(t){let e=t2.emptyPath(),i={},r=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const h=this.getFieldsMap(e);this.applyChanges(h,i,r),i={},r=[],e=d.popLast()}c?i[d.lastSegment()]=a9(c):r.push(d.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());Hv(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return w3(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Hv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){f0(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new W2(a9(this.value))}}function wY(n){const t=[];return f0(n.fields,(e,i)=>{const r=new t2([e]);if(Hv(i)){const s=wY(i.mapValue).fields;if(0===s.length)t.push(r);else for(const c of s)t.push(r.child(c))}else t.push(r)}),new ju(t)}class Ei{constructor(t,e,i,r,s,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=s,this.documentState=c}static newInvalidDocument(t){return new Ei(t,0,Rt.min(),Rt.min(),W2.empty(),0)}static newFoundDocument(t,e,i){return new Ei(t,1,e,Rt.min(),i,0)}static newNoDocument(t,e){return new Ei(t,2,e,Rt.min(),W2.empty(),0)}static newUnknownDocument(t,e){return new Ei(t,3,e,Rt.min(),W2.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=W2.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=W2.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ei&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ei(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Rv{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function rD(n){return n.fields.find(t=>2===t.kind)}function Wu(n){return n.fields.filter(t=>2!==t.kind)}Rv.UNKNOWN_ID=-1;class Ov{constructor(t,e){this.fieldPath=t,this.kind=e}}class l9{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new l9(0,X4.min())}}function xY(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Rt.fromTimestamp(1e9===i?new g1(e+1,0):new g1(e,i));return new X4(r,We.empty(),t)}function fHe(n){return new X4(n.readTime,n.key,-1)}class X4{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new X4(Rt.min(),We.empty(),-1)}static max(){return new X4(Rt.max(),We.empty(),-1)}}function hHe(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=We.comparator(n.documentKey,t.documentKey),0!==e?e:pn(n.largestBatchId,t.largestBatchId))}class pHe{constructor(t,e=null,i=[],r=[],s=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=d,this.P=null}}function SY(n,t=null,e=[],i=[],r=null,s=null,c=null){return new pHe(n,t,e,i,r,s,c)}function C0(n){const t=Qe(n);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+qu(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),p0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>qu(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>qu(i)).join(",")),t.P=e}return t.P}function c9(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!wHe(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!w3(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!TY(n.startAt,t.startAt)&&TY(n.endAt,t.endAt)}function Pv(n){return We.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function zv(n,t){return n.filters.filter(e=>e instanceof I2&&e.field.isEqual(t))}class I2 extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.V(t,e,i):new CHe(t,e,i):"array-contains"===e?new vHe(t,i):"in"===e?new yHe(t,i):"not-in"===e?new bHe(t,i):"array-contains-any"===e?new MHe(t,i):new I2(t,e,i)}static V(t,e,i){return"in"===e?new mHe(t,i):new _He(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(Fc(e,this.value)):null!==e&&g0(this.value)===g0(e)&&this.v(Fc(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ht()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class CHe extends I2{constructor(t,e,i){super(t,e,i),this.key=We.fromName(i.referenceValue)}matches(t){const e=We.comparator(t.key,this.key);return this.v(e)}}class mHe extends I2{constructor(t,e){super(t,"in",e),this.keys=LY(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class _He extends I2{constructor(t,e){super(t,"not-in",e),this.keys=LY(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function LY(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>We.fromName(i.referenceValue))}class vHe extends I2{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return o9(e)&&s9(e.arrayValue,this.value)}}class yHe extends I2{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&s9(this.value.arrayValue,e)}}class bHe extends I2{constructor(t,e){super(t,"not-in",e)}matches(t){if(s9(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!s9(this.value.arrayValue,e)}}class MHe extends I2{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!o9(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>s9(this.value.arrayValue,i))}}class Bc{constructor(t,e){this.position=t,this.inclusive=e}}class Zu{constructor(t,e="asc"){this.field=t,this.dir=e}}function wHe(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function EY(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],c=n.position[r];if(i=s.field.isKeyField()?We.comparator(We.fromName(c.referenceValue),e.key):Fc(c,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function TY(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!w3(n.position[e],t.position[e]))return!1;return!0}class el{constructor(t,e=null,i=[],r=[],s=null,c="F",d=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=h,this.D=null,this.C=null}}function DY(n,t,e,i,r,s,c,d){return new el(n,t,e,i,r,s,c,d)}function Yu(n){return new el(n)}function Fv(n){return!p0(n.limit)&&"F"===n.limitType}function Bv(n){return!p0(n.limit)&&"L"===n.limitType}function sD(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function oD(n){for(const t of n.filters)if(t.S())return t.field;return null}function aD(n){return null!==n.collectionGroup}function Ku(n){const t=Qe(n);if(null===t.D){t.D=[];const e=oD(t),i=sD(t);if(null!==e&&null===i)e.isKeyField()||t.D.push(new Zu(e)),t.D.push(new Zu(t2.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.D.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Zu(t2.keyField(),s))}}}return t.D}function bo(n){const t=Qe(n);if(!t.C)if("F"===t.limitType)t.C=SY(t.path,t.collectionGroup,Ku(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of Ku(t))e.push(new Zu(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new Bc(t.endAt.position,!t.endAt.inclusive):null,r=t.startAt?new Bc(t.startAt.position,!t.startAt.inclusive):null;t.C=SY(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.C}function AY(n,t,e){return new el(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function u9(n,t){return c9(bo(n),bo(t))&&n.limitType===t.limitType}function IY(n){return`${C0(bo(n))}|lt:${n.limitType}`}function lD(n){return`Query(target=${function gHe(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${qu(i.value)}`;var i}).join(", ")}]`),p0(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>qu(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>qu(e)).join(",")),`Target(${t})`}(bo(n))}; limitType=${n.limitType})`}function cD(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):We.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,c){const d=EY(r,s,c);return r.inclusive?d<=0:d<0}(e.startAt,Ku(e),i)||e.endAt&&!function(r,s,c){const d=EY(r,s,c);return r.inclusive?d>=0:d>0}(e.endAt,Ku(e),i)));var e,i}function NY(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kY(n){return(t,e)=>{let i=!1;for(const r of Ku(n)){const s=xHe(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function xHe(n,t,e){const i=n.field.isKeyField()?We.comparator(t.key,e.key):function(r,s,c){const d=s.data.field(r),h=c.data.field(r);return null!==d&&null!==h?Fc(d,h):ht()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ht()}}function VY(n,t){if(n.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:r9(t)?"-0":t}}function HY(n){return{integerValue:""+n}}function RY(n,t){return pY(t)?HY(t):VY(n,t)}class Uv{constructor(){this._=void 0}}function SHe(n,t,e){return n instanceof Qu?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof m0?PY(n,t):n instanceof _0?zY(n,t):function(i,r){const s=OY(i,r),c=FY(s)+FY(i.k);return iD(s)&&iD(i.k)?HY(c):VY(i.M,c)}(n,t)}function LHe(n,t,e){return n instanceof m0?PY(n,t):n instanceof _0?zY(n,t):e}function OY(n,t){return n instanceof Ju?iD(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Qu extends Uv{}class m0 extends Uv{constructor(t){super(),this.elements=t}}function PY(n,t){const e=BY(t);for(const i of n.elements)e.some(r=>w3(r,i))||e.push(i);return{arrayValue:{values:e}}}class _0 extends Uv{constructor(t){super(),this.elements=t}}function zY(n,t){let e=BY(t);for(const i of n.elements)e=e.filter(r=>!w3(r,i));return{arrayValue:{values:e}}}class Ju extends Uv{constructor(t,e){super(),this.M=t,this.k=e}}function FY(n){return l1(n.integerValue||n.doubleValue)}function BY(n){return o9(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class d9{constructor(t,e){this.field=t,this.transform=e}}class THe{constructor(t,e){this.version=t,this.transformResults=e}}class x1{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new x1}static exists(t){return new x1(void 0,t)}static updateTime(t){return new x1(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Gv(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class jv{}function DHe(n,t,e){n instanceof f9?function(i,r,s){const c=i.value.clone(),d=qY(i.fieldTransforms,r,s.transformResults);c.setAll(d),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,t,e):n instanceof v0?function(i,r,s){if(!Gv(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=qY(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(jY(i)),d.setAll(c),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function uD(n,t,e){var r;n instanceof f9?function(i,r,s){if(!Gv(i.precondition,r))return;const c=i.value.clone(),d=$Y(i.fieldTransforms,s,r);c.setAll(d),r.convertToFoundDocument(GY(r),c).setHasLocalMutations()}(n,t,e):n instanceof v0?function(i,r,s){if(!Gv(i.precondition,r))return;const c=$Y(i.fieldTransforms,s,r),d=r.data;d.setAll(jY(i)),d.setAll(c),r.convertToFoundDocument(GY(r),d).setHasLocalMutations()}(n,t,e):Gv(n.precondition,r=t)&&r.convertToNoDocument(Rt.min())}function AHe(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=OY(i.transform,r||null);null!=s&&(null==e&&(e=W2.empty()),e.set(i.field,s))}return e||null}function UY(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Gu(e,i,(r,s)=>function EHe(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof m0&&i instanceof m0||e instanceof _0&&i instanceof _0?Gu(e.elements,i.elements,w3):e instanceof Ju&&i instanceof Ju?w3(e.k,i.k):e instanceof Qu&&i instanceof Qu);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function GY(n){return n.isFoundDocument()?n.version:Rt.min()}class f9 extends jv{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}}class v0 extends jv{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}}function jY(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function qY(n,t,e){const i=new Map;Bt(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],c=s.transform,d=t.data.field(s.field);i.set(s.field,LHe(c,d,e[r]))}return i}function $Y(n,t,e){const i=new Map;for(const r of n){const s=r.transform,c=e.data.field(r.field);i.set(r.field,SHe(s,c,t))}return i}class h9 extends jv{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class dD extends jv{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class IHe{constructor(t){this.count=t}}var S1,Tn;function WY(n){switch(n){default:return ht();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function ZY(n){if(void 0===n)return w1("GRPC error has no .code"),de.UNKNOWN;switch(n){case S1.OK:return de.OK;case S1.CANCELLED:return de.CANCELLED;case S1.UNKNOWN:return de.UNKNOWN;case S1.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case S1.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case S1.INTERNAL:return de.INTERNAL;case S1.UNAVAILABLE:return de.UNAVAILABLE;case S1.UNAUTHENTICATED:return de.UNAUTHENTICATED;case S1.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case S1.NOT_FOUND:return de.NOT_FOUND;case S1.ALREADY_EXISTS:return de.ALREADY_EXISTS;case S1.PERMISSION_DENIED:return de.PERMISSION_DENIED;case S1.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case S1.ABORTED:return de.ABORTED;case S1.OUT_OF_RANGE:return de.OUT_OF_RANGE;case S1.UNIMPLEMENTED:return de.UNIMPLEMENTED;case S1.DATA_LOSS:return de.DATA_LOSS;default:return ht()}}(Tn=S1||(S1={}))[Tn.OK=0]="OK",Tn[Tn.CANCELLED=1]="CANCELLED",Tn[Tn.UNKNOWN=2]="UNKNOWN",Tn[Tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tn[Tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tn[Tn.NOT_FOUND=5]="NOT_FOUND",Tn[Tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tn[Tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tn[Tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tn[Tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tn[Tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tn[Tn.ABORTED=10]="ABORTED",Tn[Tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tn[Tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tn[Tn.INTERNAL=13]="INTERNAL",Tn[Tn.UNAVAILABLE=14]="UNAVAILABLE",Tn[Tn.DATA_LOSS=15]="DATA_LOSS";class Uc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){f0(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return fY(this.inner)}size(){return this.innerSize}}class C1{constructor(t,e){this.comparator=t,this.root=e||N2.EMPTY}insert(t,e){return new C1(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,N2.BLACK,null,null))}remove(t){return new C1(this.comparator,this.root.remove(t,this.comparator).copy(null,null,N2.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new qv(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new qv(this.root,t,this.comparator,!1)}getReverseIterator(){return new qv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new qv(this.root,t,this.comparator,!0)}}class qv{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class N2{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=null!=i?i:N2.RED,this.left=null!=r?r:N2.EMPTY,this.right=null!=s?s:N2.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new N2(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return N2.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return N2.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,N2.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,N2.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ht();const t=this.left.check();if(t!==this.right.check())throw ht();return t+(this.isRed()?0:1)}}N2.EMPTY=null,N2.RED=!0,N2.BLACK=!1,N2.EMPTY=new class{constructor(){this.size=0}get key(){throw ht()}get value(){throw ht()}get color(){throw ht()}get left(){throw ht()}get right(){throw ht()}copy(n,t,e,i,r){return this}insert(n,t,e){return new N2(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ti{constructor(t){this.comparator=t,this.data=new C1(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new YY(this.data.getIterator())}getIteratorFrom(t){return new YY(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Ti)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ti(this.comparator);return e.data=t,e}}class YY{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Xu(n){return n.hasNext()?n.getNext():void 0}const NHe=new C1(We.comparator);function Mo(){return NHe}const kHe=new C1(We.comparator);function fD(){return kHe}function p9(){return new Uc(n=>n.toString(),(n,t)=>n.isEqual(t))}const VHe=new C1(We.comparator),HHe=new Ti(We.comparator);function jn(...n){let t=HHe;for(const e of n)t=t.add(e);return t}const RHe=new Ti(pn);function $v(){return RHe}class g9{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,C9.createSynthesizedTargetChangeForCurrentChange(t,e)),new g9(Rt.min(),i,$v(),Mo(),jn())}}class C9{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e){return new C9(B1.EMPTY_BYTE_STRING,e,jn(),jn(),jn())}}class Wv{constructor(t,e,i,r){this.O=t,this.removedTargetIds=e,this.key=i,this.F=r}}class KY{constructor(t,e){this.targetId=t,this.$=e}}class QY{constructor(t,e,i=B1.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class JY{constructor(){this.B=0,this.L=eK(),this.U=B1.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(t){t.approximateByteSize()>0&&(this.G=!0,this.U=t)}H(){let t=jn(),e=jn(),i=jn();return this.L.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ht()}}),new C9(this.U,this.q,t,e,i)}J(){this.G=!1,this.L=eK()}Y(t,e){this.G=!0,this.L=this.L.insert(t,e)}X(t){this.G=!0,this.L=this.L.remove(t)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class OHe{constructor(t){this.nt=t,this.st=new Map,this.it=Mo(),this.rt=XY(),this.ot=new Ti(pn)}ut(t){for(const e of t.O)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ht(t){this.forEachTarget(t,e=>{const i=this.lt(e);switch(t.state){case 0:this.ft(e)&&i.W(t.resumeToken);break;case 1:i.tt(),i.K||i.J(),i.W(t.resumeToken);break;case 2:i.tt(),i.K||this.removeTarget(e);break;case 3:this.ft(e)&&(i.et(),i.W(t.resumeToken));break;case 4:this.ft(e)&&(this.dt(e),i.W(t.resumeToken));break;default:ht()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.st.forEach((i,r)=>{this.ft(r)&&e(r)})}_t(t){const e=t.targetId,i=t.$.count,r=this.wt(e);if(r){const s=r.target;if(Pv(s))if(0===i){const c=new We(s.path);this.ct(e,c,Ei.newNoDocument(c,Rt.min()))}else Bt(1===i);else this.gt(e)!==i&&(this.dt(e),this.ot=this.ot.add(e))}}yt(t){const e=new Map;this.st.forEach((s,c)=>{const d=this.wt(c);if(d){if(s.current&&Pv(d.target)){const h=new We(d.target.path);null!==this.it.get(h)||this.It(c,h)||this.ct(c,h,Ei.newNoDocument(h,t))}s.j&&(e.set(c,s.H()),s.J())}});let i=jn();this.rt.forEach((s,c)=>{let d=!0;c.forEachWhile(h=>{const _=this.wt(h);return!_||2===_.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.it.forEach((s,c)=>c.setReadTime(t));const r=new g9(t,e,this.ot,this.it,i);return this.it=Mo(),this.rt=XY(),this.ot=new Ti(pn),r}at(t,e){if(!this.ft(t))return;const i=this.It(t,e.key)?2:0;this.lt(t).Y(e.key,i),this.it=this.it.insert(e.key,e),this.rt=this.rt.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,i){if(!this.ft(t))return;const r=this.lt(t);this.It(t,e)?r.Y(e,1):r.X(e),this.rt=this.rt.insert(e,this.Tt(e).delete(t)),i&&(this.it=this.it.insert(e,i))}removeTarget(t){this.st.delete(t)}gt(t){const e=this.lt(t).H();return this.nt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Z(t){this.lt(t).Z()}lt(t){let e=this.st.get(t);return e||(e=new JY,this.st.set(t,e)),e}Tt(t){let e=this.rt.get(t);return e||(e=new Ti(pn),this.rt=this.rt.insert(t,e)),e}ft(t){const e=null!==this.wt(t);return e||ze("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.st.get(t);return e&&e.K?null:this.nt.Et(t)}dt(t){this.st.set(t,new JY),this.nt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}It(t,e){return this.nt.getRemoteKeysForTarget(t).has(e)}}function XY(){return new C1(We.comparator)}function eK(){return new C1(We.comparator)}const PHe={asc:"ASCENDING",desc:"DESCENDING"},zHe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class FHe{constructor(t,e){this.databaseId=t,this.N=e}}function m9(n,t){return n.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tK(n,t){return n.N?t.toBase64():t.toUint8Array()}function BHe(n,t){return m9(n,t.toTimestamp())}function n2(n){return Bt(!!n),Rt.fromTimestamp(function(t){const e=zc(t);return new g1(e.seconds,e.nanos)}(n))}function hD(n,t){return(e=n,new En(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function nK(n){const t=En.fromString(n);return Bt(dK(t)),t}function _9(n,t){return hD(n.databaseId,t.path)}function x3(n,t){const e=nK(t);if(e.get(1)!==n.databaseId.projectId)throw new Ie(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ie(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new We(rK(e))}function pD(n,t){return hD(n.databaseId,t)}function iK(n){const t=nK(n);return 4===t.length?En.emptyPath():rK(t)}function v9(n){return new En(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rK(n){return Bt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function sK(n,t,e){return{name:_9(n,t),fields:e.value.mapValue.fields}}function oK(n,t,e){const i=x3(n,t.name),r=n2(t.updateTime),s=new W2({mapValue:{fields:t.fields}}),c=Ei.newFoundDocument(i,r,s);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function y9(n,t){let e;if(t instanceof f9)e={update:sK(n,t.key,t.value)};else if(t instanceof h9)e={delete:_9(n,t.key)};else if(t instanceof v0)e={update:sK(n,t.key,t.data),updateMask:KHe(t.fieldMask)};else{if(!(t instanceof dD))return ht();e={verify:_9(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof Qu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof m0)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof _0)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ju)return{fieldPath:s.field.canonicalString(),increment:c.k};throw ht()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:BHe(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ht()),e;var r}function gD(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?x1.updateTime(n2(r.updateTime)):void 0!==r.exists?x1.exists(r.exists):x1.none():x1.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,c){let d=null;"setToServerValue"in c?(Bt("REQUEST_TIME"===c.setToServerValue),d=new Qu):"appendMissingElements"in c?d=new m0(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new _0(c.removeAllFromArray.values||[]):"increment"in c?d=new Ju(s,c.increment):ht();const h=t2.fromServerFormat(c.fieldPath);return new d9(h,d)}(n,r)):[];var r;if(t.update){const r=x3(n,t.update.name),s=new W2({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new ju((t.updateMask.fieldPaths||[]).map(_=>t2.fromServerFormat(_)));return new v0(r,s,c,e,i)}return new f9(r,s,e,i)}if(t.delete){const r=x3(n,t.delete);return new h9(r,e)}if(t.verify){const r=x3(n,t.verify);return new dD(r,e)}return ht()}function aK(n,t){return{documents:[pD(n,t.path)]}}function lK(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=pD(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=pD(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(h){if(0===h.length)return;const _=h.map(M=>function(x){if("=="===x.op){if(vY(x.value))return{unaryFilter:{field:ed(x.field),op:"IS_NAN"}};if(_Y(x.value))return{unaryFilter:{field:ed(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(vY(x.value))return{unaryFilter:{field:ed(x.field),op:"IS_NOT_NAN"}};if(_Y(x.value))return{unaryFilter:{field:ed(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ed(x.field),op:WHe(x.op),value:x.value}}}(M));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(t.filters);r&&(e.structuredQuery.where=r);const s=function(h){if(0!==h.length)return h.map(_=>{return{field:ed((M=_).field),direction:$He(M.dir)};var M})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const c=(_=t.limit,n.N||p0(_)?_:{value:_});var _,d,h;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(h=t.endAt).inclusive,values:h.position}),e}function cK(n){let t=iK(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Bt(1===i);const M=e.from[0];M.allDescendants?r=M.collectionId:t=t.child(M.collectionId)}let s=[];e.where&&(s=uK(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(M=>{return new Zu(td((x=M).field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let d=null;e.limit&&(d=function(M){let x;return x="object"==typeof M?M.value:M,p0(x)?null:x}(e.limit));let h=null;var M;e.startAt&&(h=new Bc((M=e.startAt).values||[],!!M.before));let _=null;return e.endAt&&(_=function(M){return new Bc(M.values||[],!M.before)}(e.endAt)),DY(t,r,c,s,d,"F",h,_)}function uK(n){return n?void 0!==n.unaryFilter?[YHe(n)]:void 0!==n.fieldFilter?[ZHe(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>uK(t)).reduce((t,e)=>t.concat(e)):ht():[]}function $He(n){return PHe[n]}function WHe(n){return zHe[n]}function ed(n){return{fieldPath:n.canonicalString()}}function td(n){return t2.fromServerFormat(n.fieldPath)}function ZHe(n){return I2.create(td(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ht()}}(n.fieldFilter.op),n.fieldFilter.value)}function YHe(n){switch(n.unaryFilter.op){case"IS_NAN":const t=td(n.unaryFilter.field);return I2.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=td(n.unaryFilter.field);return I2.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=td(n.unaryFilter.field);return I2.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=td(n.unaryFilter.field);return I2.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ht()}}function KHe(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function dK(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function r2(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=fK(t)),t=QHe(n.get(e),t);return fK(t)}function QHe(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function fK(n){return n+"\x01\x01"}function pa(n){const t=n.length;if(Bt(t>=2),2===t)return Bt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),En.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const c=n.indexOf("\x01",s);switch((c<0||c>e)&&ht(),n.charAt(c+1)){case"\x01":const d=n.substring(s,c);let h;0===r.length?h=d:(r+=d,h=r,r=""),i.push(h);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:ht()}s=c+2}return new En(i)}const hK=["userId","batchId"];function Zv(n,t){return[n,r2(t)]}function pK(n,t,e){return[n,r2(t),e]}const JHe={},XHe=["prefixPath","collectionGroup","readTime","documentId"],eRe=["prefixPath","collectionGroup","documentId"],tRe=["collectionGroup","readTime","prefixPath","documentId"],nRe=["canonicalId","targetId"],iRe=["targetId","path"],rRe=["path","targetId"],sRe=["collectionId","parent"],oRe=["indexId","uid"],aRe=["uid","sequenceNumber"],lRe=["indexId","uid","arrayValue","directionalValue","documentKey"],cRe=["indexId","uid","documentKey"],uRe=["userId","collectionPath","documentId"],dRe=["userId","collectionPath","largestBatchId"],fRe=["userId","collectionGroup","largestBatchId"],gK=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],hRe=[...gK,"documentOverlays"],CK=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pRe=[...CK,"indexConfiguration","indexState","indexEntries"],mK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _K{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class Ce{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ce((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ce?e:Ce.resolve(e)}catch(e){return Ce.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ce.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ce.reject(e)}static resolve(t){return new Ce((e,i)=>{e(t)})}static reject(t){return new Ce((e,i)=>{i(t)})}static waitFor(t){return new Ce((e,i)=>{let r=0,s=0,c=!1;t.forEach(d=>{++r,d.next(()=>{++s,c&&s===r&&e()},h=>i(h))}),c=!0,s===r&&e()})}static or(t){let e=Ce.resolve(!1);for(const i of t)e=e.next(r=>r?Ce.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}}class Yv{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.At=new e2,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{e.error?this.At.reject(new b9(t,e.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=CD(i.target.error);this.At.reject(new b9(t,r))}}static open(t,e,i,r){try{return new Yv(e,t.transaction(r,i))}catch(s){throw new b9(e,s)}}get Rt(){return this.At.promise}abort(t){t&&this.At.reject(t),this.aborted||(ze("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new CRe(e)}}class ga{constructor(t,e,i){this.name=t,this.version=e,this.Pt=i,12.2===ga.Vt((0,R.z$)())&&w1("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return ze("SimpleDb","Removing database:",t),b0(window.indexedDB.deleteDatabase(t)).toPromise()}static vt(){if(!(0,R.hl)())return!1;if(ga.St())return!0;const t=(0,R.z$)(),e=ga.Vt(t),i=0<e&&e<10,r=ga.Dt(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static St(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Ct)}static xt(t,e){return t.store(e)}static Vt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(t){var e=this;return(0,_e.Z)(function*(){return e.db||(ze("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{r(new b9(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const d=c.target.error;r("VersionError"===d.name?new Ie(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Ie(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new b9(t,d))},s.onupgradeneeded=c=>{ze("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.Pt.kt(c.target.result,s.transaction,c.oldVersion,e.version).next(()=>{ze("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Mt&&(e.db.onversionchange=i=>e.Mt(i)),e.db})()}Ot(t){this.Mt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,_e.Z)(function*(){const c="readonly"===e;let d=0;for(;;){++d;try{s.db=yield s.Nt(t);const h=Yv.open(s.db,t,c?"readonly":"readwrite",i),_=r(h).next(M=>(h.bt(),M)).catch(M=>(h.abort(M),Ce.reject(M))).toPromise();return _.catch(()=>{}),yield h.Rt,_}catch(h){const _="FirebaseError"!==h.name&&d<3;if(ze("SimpleDb","Transaction failed with error:",h.message,"Retrying:",_),s.close(),!_)return Promise.reject(h)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class gRe{constructor(t){this.Ft=t,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(t){this.Ft=t}done(){this.$t=!0}Ut(t){this.Bt=t}delete(){return b0(this.Ft.delete())}}class b9 extends Ie{constructor(t,e){super(de.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function y0(n){return"IndexedDbTransactionError"===n.name}class CRe{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(ze("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(ze("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),b0(i)}add(t){return ze("SimpleDb","ADD",this.store.name,t,t),b0(this.store.add(t))}get(t){return b0(this.store.get(t)).next(e=>(void 0===e&&(e=null),ze("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return ze("SimpleDb","DELETE",this.store.name,t),b0(this.store.delete(t))}count(){return ze("SimpleDb","COUNT",this.store.name),b0(this.store.count())}qt(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.Gt(r,(c,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new Ce((s,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}Kt(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Ce((r,s)=>{i.onerror=c=>{s(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Qt(t,e){ze("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.jt=!1;const r=this.cursor(i);return this.Gt(r,(s,c,d)=>d.delete())}Wt(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.Gt(r,e)}zt(t){const e=this.cursor({});return new Ce((i,r)=>{e.onerror=s=>{const c=CD(s.target.error);r(c)},e.onsuccess=s=>{const c=s.target.result;c?t(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}Gt(t,e){const i=[];return new Ce((r,s)=>{t.onerror=c=>{s(c.target.error)},t.onsuccess=c=>{const d=c.target.result;if(!d)return void r();const h=new gRe(d),_=e(d.primaryKey,d.value,h);if(_ instanceof Ce){const M=_.catch(x=>(h.done(),Ce.reject(x)));i.push(M)}h.isDone?r():null===h.Lt?d.continue():d.continue(h.Lt)}}).next(()=>Ce.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.jt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function b0(n){return new Ce((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=CD(i.target.error);e(r)}})}let vK=!1;function CD(n){const t=ga.Vt((0,R.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vK||(vK=!0,setTimeout(()=>{throw i},0)),i}}return n}class yK extends _K{constructor(t,e){super(),this.Ht=t,this.currentSequenceNumber=e}}function s2(n,t){const e=Qe(n);return ga.xt(e.Ht,t)}class mD{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&DHe(s,t,i[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&uD(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&uD(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(Rt.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),jn())}isEqual(t){return this.batchId===t.batchId&&Gu(this.mutations,t.mutations,(e,i)=>UY(e,i))&&Gu(this.baseMutations,t.baseMutations,(e,i)=>UY(e,i))}}class _D{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Bt(t.mutations.length===i.length);let r=VHe;const s=t.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new _D(t,e,i,r)}}class vD{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Gc{constructor(t,e,i,r,s=Rt.min(),c=Rt.min(),d=B1.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(t){return new Gc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Gc(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Gc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class bK{constructor(t){this.Jt=t}}function MK(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Kv(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:_9(r=n.Jt,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:m9(r,s.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:M0(t.version)};else{if(!t.isUnknownDocument())return ht();i.unknownDocument={path:e.path.toArray(),version:M0(t.version)}}var r,s;return i}function Kv(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function M0(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function w0(n){const t=new g1(n.seconds,n.nanoseconds);return Rt.fromTimestamp(t)}function nd(n,t){const e=(t.baseMutations||[]).map(s=>gD(n.Jt,s));for(let s=0;s<t.mutations.length-1;++s){const c=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(c.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(s=>gD(n.Jt,s)),r=g1.fromMillis(t.localWriteTimeMs);return new mD(t.batchId,r,e,i)}function M9(n){const t=w0(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?w0(n.lastLimboFreeSnapshotVersion):Rt.min();let i;var r;return void 0!==n.query.documents?(Bt(1===(r=n.query).documents.length),i=bo(Yu(iK(r.documents[0])))):i=bo(cK(n.query)),new Gc(i,n.targetId,0,n.lastListenSequenceNumber,t,e,B1.fromBase64String(n.resumeToken))}function wK(n,t){const e=M0(t.snapshotVersion),i=M0(t.lastLimboFreeSnapshotVersion);let r;r=Pv(t.target)?aK(n.Jt,t.target):lK(n.Jt,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:C0(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function yD(n){const t=cK({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?AY(t,t.limit,"L"):t}function bD(n,t){return new vD(t.largestBatchId,gD(n.Jt,t.overlayMutation))}function xK(n,t){const e=t.path.lastSegment();return[n,r2(t.path.popLast()),e]}class _Re{getBundleMetadata(t,e){return SK(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:w0(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return SK(t).put({bundleId:(i=e).id,createTime:M0(n2(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return LK(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:yD(r.bundledQuery),readTime:w0(r.readTime)};var r})}saveNamedQuery(t,e){return LK(t).put({name:(i=e).name,readTime:M0(n2(i.readTime)),bundledQuery:i.bundledQuery});var i}}function SK(n){return s2(n,"bundles")}function LK(n){return s2(n,"namedQueries")}class MD{constructor(t,e){this.M=t,this.userId=e}static Yt(t,e){return new MD(t,e.uid||"")}getOverlay(t,e){return w9(t).get(xK(this.userId,e)).next(i=>i?bD(this.M,i):null)}saveOverlays(t,e,i){const r=[];return i.forEach((s,c)=>{const d=new vD(e,c);r.push(this.Xt(t,d))}),Ce.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(c=>r.add(r2(c.getCollectionPath())));const s=[];return r.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);s.push(w9(t).Qt("collectionPathOverlayIndex",d))}),Ce.waitFor(s)}getOverlaysForCollection(t,e,i){const r=p9(),s=r2(e),c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return w9(t).qt("collectionPathOverlayIndex",c).next(d=>{for(const h of d){const _=bD(this.M,h);r.set(_.getKey(),_)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=p9();let c;const d=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return w9(t).Wt({index:"collectionGroupOverlayIndex",range:d},(h,_,M)=>{const x=bD(this.M,_);s.size()<r||x.largestBatchId===c?(s.set(x.getKey(),x),c=x.largestBatchId):M.done()}).next(()=>s)}Xt(t,e){return w9(t).put(function(i,r,s){const[c,d,h]=xK(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:h,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:y9(i.Jt,s.mutation)}}(this.M,this.userId,e))}}function w9(n){return s2(n,"documentOverlays")}class id{constructor(){}Zt(t,e){this.te(t,e),e.ee()}te(t,e){if("nullValue"in t)this.ne(e,5);else if("booleanValue"in t)this.ne(e,10),e.se(t.booleanValue?1:0);else if("integerValue"in t)this.ne(e,15),e.se(l1(t.integerValue));else if("doubleValue"in t){const i=l1(t.doubleValue);isNaN(i)?this.ne(e,13):(this.ne(e,15),r9(i)?e.se(0):e.se(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ne(e,20),"string"==typeof i?e.ie(i):(e.ie(`${i.seconds||""}`),e.se(i.nanos||0))}else if("stringValue"in t)this.re(t.stringValue,e),this.oe(e);else if("bytesValue"in t)this.ne(e,30),e.ue(h0(t.bytesValue)),this.oe(e);else if("referenceValue"in t)this.ae(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ne(e,45),e.se(i.latitude||0),e.se(i.longitude||0)}else"mapValue"in t?yY(t)?this.ne(e,Number.MAX_SAFE_INTEGER):(this.ce(t.mapValue,e),this.oe(e)):"arrayValue"in t?(this.he(t.arrayValue,e),this.oe(e)):ht()}re(t,e){this.ne(e,25),this.le(t,e)}le(t,e){e.ie(t)}ce(t,e){const i=t.fields||{};this.ne(e,55);for(const r of Object.keys(i))this.re(r,e),this.te(i[r],e)}he(t,e){const i=t.values||[];this.ne(e,50);for(const r of i)this.te(r,e)}ae(t,e){this.ne(e,37),We.fromName(t).path.forEach(i=>{this.ne(e,60),this.le(i,e)})}ne(t,e){t.se(e)}oe(t){t.se(2)}}function vRe(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function EK(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=vRe(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}id.fe=new id;class yRe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this._e(i.value),i=e.next();this.we()}me(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.ge(i.value),i=e.next();this.ye()}pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(e<"\ud800"||"\udbff"<e)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=e.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=e.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(t){const e=this.Ee(t),i=EK(e);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Re(t){const e=this.Ee(t),i=EK(e);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(t){this.Ae(t.length),this.buffer.set(t,this.position),this.position+=t.length}Se(){return this.buffer.slice(0,this.position)}Ee(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}_e(t){const e=255&t;0===e?(this.Pe(0),this.Pe(255)):255===e?(this.Pe(255),this.Pe(0)):this.Pe(e)}ge(t){const e=255&t;0===e?(this.ve(0),this.ve(255)):255===e?(this.ve(255),this.ve(0)):this.ve(t)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(t){this.Ae(1),this.buffer[this.position++]=t}ve(t){this.Ae(1),this.buffer[this.position++]=~t}Ae(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class bRe{constructor(t){this.De=t}ue(t){this.De.de(t)}ie(t){this.De.pe(t)}se(t){this.De.Te(t)}ee(){this.De.be()}}class MRe{constructor(t){this.De=t}ue(t){this.De.me(t)}ie(t){this.De.Ie(t)}se(t){this.De.Re(t)}ee(){this.De.Ve()}}class Qv{constructor(){this.De=new yRe,this.Ce=new bRe(this.De),this.xe=new MRe(this.De)}seed(t){this.De.seed(t)}Ne(t){return 0===t?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class jc{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new jc(this.indexId,this.documentKey,this.arrayValue,i)}}function x0(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=TK(n.arrayValue,t.arrayValue),0!==e?e:(e=TK(n.directionalValue,t.directionalValue),0!==e?e:We.comparator(n.documentKey,t.documentKey)))}function TK(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class wRe{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];for(const e of t.filters){const i=e;i.S()?this.Fe=i:this.Oe.push(i)}}$e(t){const e=rD(t);if(void 0!==e&&!this.Be(e))return!1;const i=Wu(t);let r=0,s=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const c=i[r];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[s++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(s>=this.Me.length||!this.Ue(this.Me[s++],c))return!1}return!0}Be(t){for(const e of this.Oe)if(this.Le(e,t))return!0;return!1}Le(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Ue(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class xRe{constructor(){this.qe=new wD}addToCollectionParentIndex(t,e){return this.qe.add(e),Ce.resolve()}getCollectionParents(t,e){return Ce.resolve(this.qe.getEntries(e))}addFieldIndex(t,e){return Ce.resolve()}deleteFieldIndex(t,e){return Ce.resolve()}getDocumentsMatchingTarget(t,e){return Ce.resolve(null)}getFieldIndex(t,e){return Ce.resolve(null)}getFieldIndexes(t,e){return Ce.resolve([])}getNextCollectionGroupToUpdate(t){return Ce.resolve(null)}updateCollectionGroup(t,e,i){return Ce.resolve()}updateIndexEntries(t,e){return Ce.resolve()}}class wD{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ti(En.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ti(En.comparator)).toArray()}}const Jv=new Uint8Array(0);class SRe{constructor(t){this.user=t,this.Ge=new wD,this.Ke=new Uc(e=>C0(e),(e,i)=>c9(e,i)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ge.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ge.add(e)});const s={collectionId:i,parent:r2(r)};return DK(t).put(s)}return Ce.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[uY(e),""],!1,!0);return DK(t).qt(r).next(s=>{for(const c of s){if(c.collectionId!==e)break;i.push(pa(c.parent))}return i})}addFieldIndex(t,e){const i=Xv(t),r={indexId:(s=e).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var s;return delete r.indexId,i.add(r).next()}deleteFieldIndex(t,e){const i=Xv(t),r=ey(t),s=x9(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=x9(t);let r=!0;const s=new Map;return Ce.forEach(this.Qe(e),c=>this.getFieldIndex(t,c).next(d=>{r&&(r=!!d),s.set(c,d)})).next(()=>{if(r){let c=jn();return Ce.forEach(s,(d,h)=>{var _;ze("IndexedDbIndexManager",`Using index ${_=d,`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(ce=>`${ce.fieldPath}:${ce.kind}`).join(",")}`} to execute ${C0(e)}`);const M=function(ce,ke){const Te=rD(ke);if(void 0===Te)return null;for(const tt of zv(ce,Te.fieldPath))switch(tt.op){case"array-contains-any":return tt.value.arrayValue.values||[];case"array-contains":return[tt.value]}return null}(h,d),x=function(ce,ke){const Te=new Map;for(const tt of Wu(ke))for(const st of zv(ce,tt.fieldPath))switch(st.op){case"==":case"in":Te.set(tt.fieldPath.canonicalString(),st.value);break;case"not-in":case"!=":return Te.set(tt.fieldPath.canonicalString(),st.value),Array.from(Te.values())}return null}(h,d),D=function(ce,ke){const Te=[];let tt=!0;for(const un of Wu(ke)){let Kt,ei=!0;for(const $n of zv(ce,un.fieldPath)){let mi,xo=!0;switch($n.op){case"<":case"<=":mi="nullValue"in(st=$n.value)?CY:"booleanValue"in st?{booleanValue:!1}:"integerValue"in st||"doubleValue"in st?{doubleValue:NaN}:"timestampValue"in st?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in st?{stringValue:""}:"bytesValue"in st?{bytesValue:""}:"referenceValue"in st?$u(J4.empty(),We.empty()):"geoPointValue"in st?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in st?{arrayValue:{}}:"mapValue"in st?{mapValue:{}}:ht();break;case"==":case"in":case">=":mi=$n.value;break;case">":mi=$n.value,xo=!1;break;case"!=":case"not-in":mi=CY}bY(Kt,mi)===mi&&(Kt=mi,ei=xo)}if(null!==ce.startAt)for(let $n=0;$n<ce.orderBy.length;++$n)if(ce.orderBy[$n].field.isEqual(un.fieldPath)){const mi=ce.startAt.position[$n];bY(Kt,mi)===mi&&(Kt=mi,ei=ce.startAt.inclusive);break}if(void 0===Kt)return null;Te.push(Kt),tt&&(tt=ei)}var st;return new Bc(Te,tt)}(h,d),N=function(ce,ke){const Te=[];let tt=!0;for(const un of Wu(ke)){let Kt,ei=!0;for(const $n of zv(ce,un.fieldPath)){let mi,xo=!0;switch($n.op){case">=":case">":mi="nullValue"in(st=$n.value)?{booleanValue:!1}:"booleanValue"in st?{doubleValue:NaN}:"integerValue"in st||"doubleValue"in st?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in st?{stringValue:""}:"stringValue"in st?{bytesValue:""}:"bytesValue"in st?$u(J4.empty(),We.empty()):"referenceValue"in st?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in st?{arrayValue:{}}:"arrayValue"in st?{mapValue:{}}:"mapValue"in st?gY:ht(),xo=!1;break;case"==":case"in":case"<=":mi=$n.value;break;case"<":mi=$n.value,xo=!1;break;case"!=":case"not-in":mi=gY}MY(Kt,mi)===mi&&(Kt=mi,ei=xo)}if(null!==ce.endAt)for(let $n=0;$n<ce.orderBy.length;++$n)if(ce.orderBy[$n].field.isEqual(un.fieldPath)){const mi=ce.endAt.position[$n];MY(Kt,mi)===mi&&(Kt=mi,ei=ce.endAt.inclusive);break}if(void 0===Kt)return null;Te.push(Kt),tt&&(tt=ei)}var st;return new Bc(Te,tt)}(h,d),H=this.je(d,h,D),U=this.je(d,h,N),Y=this.We(d,h,x),ae=this.ze(d.indexId,M,H,!!D&&D.inclusive,U,!!N&&N.inclusive,Y);return Ce.forEach(ae,ce=>i.Kt(ce,e.limit).next(ke=>{ke.forEach(Te=>{c=c.add(new We(pa(Te.documentKey)))})}))}).next(()=>c)}return Ce.resolve(null)})}Qe(t){let e=this.Ke.get(t);return e||(e=[t],this.Ke.set(t,e),e)}ze(t,e,i,r,s,c,d){const h=(null!=e?e.length:1)*Math.max(null!=i?i.length:1,null!=s?s.length:1),_=h/(null!=e?e.length:1),M=[];for(let x=0;x<h;++x){const D=e?this.He(e[x/_]):Jv,N=i?this.Je(t,D,i[x%_],r):this.Ye(t),H=s?this.Xe(t,D,s[x%_],c):this.Ye(t+1);M.push(...this.createRange(N,H,d.map(U=>this.Je(t,D,U,!0))))}return M}Je(t,e,i,r){const s=new jc(t,We.empty(),e,i);return r?s:s.ke()}Xe(t,e,i,r){const s=new jc(t,We.empty(),e,i);return r?s.ke():s}Ye(t){return new jc(t,We.empty(),Jv,Jv)}getFieldIndex(t,e){const i=new wRe(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{const c=s.filter(d=>i.$e(d));return c.sort((d,h)=>h.fields.length-d.fields.length),c.length>0?c[0]:null})}Ze(t,e){const i=new Qv;for(const r of Wu(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const c=i.Ne(r.kind);id.fe.Zt(s,c)}return i.Se()}He(t){const e=new Qv;return id.fe.Zt(t,e.Ne(0)),e.Se()}We(t,e,i){if(null===i)return[];let r=[];r.push(new Qv);let s=0;for(const c of Wu(t)){const d=i[s++];for(const h of r)if(this.tn(e,c.fieldPath)&&o9(d))r=this.en(r,c,d);else{const _=h.Ne(c.kind);id.fe.Zt(d,_)}}return this.nn(r)}je(t,e,i){return null==i?null:this.We(t,e,i.position)}nn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Se();return e}en(t,e,i){const r=[...t],s=[];for(const c of i.arrayValue.values||[])for(const d of r){const h=new Qv;h.seed(d.Se()),id.fe.Zt(c,h.Ne(e.kind)),s.push(h)}return s}tn(t,e){return!!t.filters.find(i=>i instanceof I2&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=Xv(t),r=ey(t);return(e?i.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.qt()).next(s=>{const c=[];return Ce.forEach(s,d=>r.get([d.indexId,this.uid]).next(h=>{c.push(function(_,M){const x=M?new l9(M.sequenceNumber,new X4(w0(M.readTime),new We(pa(M.documentKey)),M.largestBatchId)):l9.empty(),D=_.fields.map(([N,H])=>new Ov(t2.fromServerFormat(N),H));return new Rv(_.indexId,_.collectionGroup,D,x)}(d,h))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:pn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=Xv(t),s=ey(t);return this.sn(t).next(c=>r.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(d=>Ce.forEach(d,h=>{return s.put({indexId:h.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:M0((D=i).readTime),documentKey:r2(D.documentKey.path),largestBatchId:D.largestBatchId});var D})))}updateIndexEntries(t,e){const i=new Map;return Ce.forEach(e,(r,s)=>{const c=i.get(r.collectionGroup);return(c?Ce.resolve(c):this.getFieldIndexes(t,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),Ce.forEach(d,h=>this.rn(t,r,h).next(_=>{const M=this.on(s,h);return _.isEqual(M)?Ce.resolve():this.un(t,s,_,M)}))))})}an(t,e,i){return x9(t).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,documentKey:r2(e.key.path)})}cn(t,e,i){return x9(t).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,r2(e.key.path)])}rn(t,e,i){const r=x9(t);let s=new Ti(x0);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,r2(e.path)])},(c,d)=>{s=s.add(new jc(i.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>s)}on(t,e){let i=new Ti(x0);const r=this.Ze(e,t);if(null==r)return i;const s=rD(e);if(null!=s){const c=t.data.field(s.fieldPath);if(o9(c))for(const d of c.arrayValue.values||[])i=i.add(new jc(e.indexId,t.key,this.He(d),r))}else i=i.add(new jc(e.indexId,t.key,Jv,r));return i}un(t,e,i,r){ze("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const s=[];return function(c,d,h,_,M){const x=c.getIterator(),D=d.getIterator();let N=Xu(x),H=Xu(D);for(;N||H;){let U=!1,Y=!1;if(N&&H){const ae=h(N,H);ae<0?Y=!0:ae>0&&(U=!0)}else null!=N?Y=!0:U=!0;U?(_(H),H=Xu(D)):Y?(M(N),N=Xu(x)):(N=Xu(x),H=Xu(D))}}(i,r,x0,c=>{s.push(this.an(t,e,c))},c=>{s.push(this.cn(t,e,c))}),Ce.waitFor(s)}sn(t){let e=1;return ey(t).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((c,d)=>x0(c,d)).filter((c,d,h)=>!d||0!==x0(c,h[d-1]));const r=[];r.push(t);for(const c of i){const d=x0(c,t),h=x0(c,e);if(0===d)r[0]=t.ke();else if(d>0&&h<0)r.push(c),r.push(c.ke());else if(h>0)break}r.push(e);const s=[];for(let c=0;c<r.length;c+=2)s.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,""],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,""]));return s}}function DK(n){return s2(n,"collectionParents")}function x9(n){return s2(n,"indexEntries")}function Xv(n){return s2(n,"indexConfiguration")}function ey(n){return s2(n,"indexState")}const AK={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qr{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Qr(t,Qr.DEFAULT_COLLECTION_PERCENTILE,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function IK(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],c=IDBKeyRange.only(e.batchId);let d=0;const h=i.Wt({range:c},(M,x,D)=>(d++,D.delete()));s.push(h.next(()=>{Bt(1===d)}));const _=[];for(const M of e.mutations){const x=pK(t,M.key.path,e.batchId);s.push(r.delete(x)),_.push(M.key)}return Ce.waitFor(s).next(()=>_)}function ty(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ht();t=n.noDocument}return JSON.stringify(t).length}Qr.DEFAULT_COLLECTION_PERCENTILE=10,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qr.DEFAULT=new Qr(41943040,Qr.DEFAULT_COLLECTION_PERCENTILE,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qr.DISABLED=new Qr(-1,0,0);class xD{constructor(t,e,i,r){this.userId=t,this.M=e,this.indexManager=i,this.referenceDelegate=r,this.hn={}}static Yt(t,e,i,r){Bt(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new xD(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qc(t).Wt({index:"userMutationsIndex",range:i},(r,s,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=rd(t),c=qc(t);return c.add({}).next(d=>{Bt("number"==typeof d);const h=new mD(d,e,i,r),_=function(D,N,H){const U=H.baseMutations.map(ae=>y9(D.Jt,ae)),Y=H.mutations.map(ae=>y9(D.Jt,ae));return{userId:N,batchId:H.batchId,localWriteTimeMs:H.localWriteTime.toMillis(),baseMutations:U,mutations:Y}}(this.M,this.userId,h),M=[];let x=new Ti((D,N)=>pn(D.canonicalString(),N.canonicalString()));for(const D of r){const N=pK(this.userId,D.key.path,d);x=x.add(D.key.path.popLast()),M.push(c.put(_)),M.push(s.put(N,JHe))}return x.forEach(D=>{M.push(this.indexManager.addToCollectionParentIndex(t,D))}),t.addOnCommittedListener(()=>{this.hn[d]=h.keys()}),Ce.waitFor(M).next(()=>h)})}lookupMutationBatch(t,e){return qc(t).get(e).next(i=>i?(Bt(i.userId===this.userId),nd(this.M,i)):null)}ln(t,e){return this.hn[e]?Ce.resolve(this.hn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.hn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return qc(t).Wt({index:"userMutationsIndex",range:r},(c,d,h)=>{d.userId===this.userId&&(Bt(d.batchId>=i),s=nd(this.M,d)),h.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return qc(t).Wt({index:"userMutationsIndex",range:e,reverse:!0},(r,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qc(t).qt("userMutationsIndex",e).next(i=>i.map(r=>nd(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=Zv(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return rd(t).Wt({range:r},(c,d,h)=>{const[_,M,x]=c,D=pa(M);if(_===this.userId&&e.path.isEqual(D))return qc(t).get(x).next(N=>{if(!N)throw ht();Bt(N.userId===this.userId),s.push(nd(this.M,N))});h.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ti(pn);const r=[];return e.forEach(s=>{const c=Zv(this.userId,s.path),d=IDBKeyRange.lowerBound(c),h=rd(t).Wt({range:d},(_,M,x)=>{const[D,N,H]=_,U=pa(N);D===this.userId&&s.path.isEqual(U)?i=i.add(H):x.done()});r.push(h)}),Ce.waitFor(r).next(()=>this.fn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=Zv(this.userId,i),c=IDBKeyRange.lowerBound(s);let d=new Ti(pn);return rd(t).Wt({range:c},(h,_,M)=>{const[x,D,N]=h,H=pa(D);x===this.userId&&i.isPrefixOf(H)?H.length===r&&(d=d.add(N)):M.done()}).next(()=>this.fn(t,d))}fn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(qc(t).get(s).next(c=>{if(null===c)throw ht();Bt(c.userId===this.userId),i.push(nd(this.M,c))}))}),Ce.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return IK(t.Ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.dn(e.batchId)}),Ce.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}dn(t){delete this.hn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Ce.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return rd(t).Wt({range:i},(s,c,d)=>{if(s[0]===this.userId){const h=pa(s[1]);r.push(h)}else d.done()}).next(()=>{Bt(0===r.length)})})}containsKey(t,e){return NK(t,this.userId,e)}_n(t){return kK(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function NK(n,t,e){const i=Zv(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return rd(n).Wt({range:s,jt:!0},(d,h,_)=>{const[M,x,D]=d;M===t&&x===r&&(c=!0),_.done()}).next(()=>c)}function qc(n){return s2(n,"mutations")}function rd(n){return s2(n,"documentMutations")}function kK(n){return s2(n,"mutationQueues")}class S0{constructor(t){this.wn=t}next(){return this.wn+=2,this.wn}static mn(){return new S0(0)}static gn(){return new S0(-1)}}class LRe{constructor(t,e){this.referenceDelegate=t,this.M=e}allocateTargetId(t){return this.yn(t).next(e=>{const i=new S0(e.highestTargetId);return e.highestTargetId=i.next(),this.pn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.yn(t).next(e=>Rt.fromTimestamp(new g1(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.yn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.yn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.pn(t,r)))}addTargetData(t,e){return this.In(t,e).next(()=>this.yn(t).next(i=>(i.targetCount+=1,this.Tn(e,i),this.pn(t,i))))}updateTargetData(t,e){return this.In(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>sd(t).delete(e.targetId)).next(()=>this.yn(t)).next(i=>(Bt(i.targetCount>0),i.targetCount-=1,this.pn(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return sd(t).Wt((c,d)=>{const h=M9(d);h.sequenceNumber<=e&&null===i.get(h.targetId)&&(r++,s.push(this.removeTargetData(t,h)))}).next(()=>Ce.waitFor(s)).next(()=>r)}forEachTarget(t,e){return sd(t).Wt((i,r)=>{const s=M9(r);e(s)})}yn(t){return VK(t).get("targetGlobalKey").next(e=>(Bt(null!==e),e))}pn(t,e){return VK(t).put("targetGlobalKey",e)}In(t,e){return sd(t).put(wK(this.M,e))}Tn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.yn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=C0(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return sd(t).Wt({range:r,index:"queryTargetsIndex"},(c,d,h)=>{const _=M9(d);c9(e,_.target)&&(s=_,h.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=$c(t);return e.forEach(c=>{const d=r2(c.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(t,i,c))}),Ce.waitFor(r)}removeMatchingKeys(t,e,i){const r=$c(t);return Ce.forEach(e,s=>{const c=r2(s.path);return Ce.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=$c(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=$c(t);let s=jn();return r.Wt({range:i,jt:!0},(c,d,h)=>{const _=pa(c[1]),M=new We(_);s=s.add(M)}).next(()=>s)}containsKey(t,e){const i=r2(e.path),r=IDBKeyRange.bound([i],[uY(i)],!1,!0);let s=0;return $c(t).Wt({index:"documentTargetsIndex",jt:!0,range:r},([c,d],h,_)=>{0!==c&&(s++,_.done())}).next(()=>s>0)}Et(t,e){return sd(t).get(e).next(i=>i?M9(i):null)}}function sd(n){return s2(n,"targets")}function VK(n){return s2(n,"targetGlobal")}function $c(n){return s2(n,"targetDocuments")}function L0(n){return SD.apply(this,arguments)}function SD(){return SD=(0,_e.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==mK)throw n;ze("LocalStore","Unexpectedly lost primary lease")}),SD.apply(this,arguments)}function HK([n,t],[e,i]){const r=pn(n,e);return 0===r?pn(t,i):r}class ERe{constructor(t){this.En=t,this.buffer=new Ti(HK),this.An=0}Rn(){return++this.An}bn(t){const e=[t,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();HK(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class TRe{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.Pn=!1,this.Vn=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(t)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(t){var e=this;const i=this.Pn?3e5:6e4;ze("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,_e.Z)(function*(){e.Vn=null,e.Pn=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(r){y0(r)?ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield L0(r)}yield e.vn(t)}))}}class DRe{constructor(t,e){this.Sn=t,this.params=e}calculateTargetCount(t,e){return this.Sn.Dn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Ce.resolve(Bs.A);const i=new ERe(e);return this.Sn.forEachTarget(t,r=>i.bn(r.sequenceNumber)).next(()=>this.Sn.Cn(t,r=>i.bn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Sn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Sn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(AK)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AK):this.xn(t,e))}getCacheSize(t){return this.Sn.getCacheSize(t)}xn(t,e){let i,r,s,c,d,h,_;const M=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),r=this.params.maximumSequenceNumbersToCollect):r=x,c=Date.now(),this.nthSequenceNumber(t,r))).next(x=>(i=x,d=Date.now(),this.removeTargets(t,i,e))).next(x=>(s=x,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(x=>(_=Date.now(),XT()<=la.in.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-M}ms\n\tDetermined least recently used ${r} in `+(d-c)+`ms\n\tRemoved ${s} targets in `+(h-d)+`ms\n\tRemoved ${x} documents in `+(_-h)+`ms\nTotal Duration: ${_-M}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:x})))}}class ARe{constructor(t,e){this.db=t,this.garbageCollector=new DRe(this,e)}Dn(t){const e=this.Nn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Nn(t){let e=0;return this.Cn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Cn(t,e){return this.kn(t,(i,r)=>e(r))}addReference(t,e,i){return ny(t,i)}removeReference(t,e,i){return ny(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return ny(t,e)}Mn(t,e){return function(i,r){let s=!1;return kK(i).zt(c=>NK(i,c,r).next(d=>(d&&(s=!0),Ce.resolve(!d)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.kn(t,(c,d)=>{if(d<=e){const h=this.Mn(t,c).next(_=>{if(!_)return s++,i.getEntry(t,c).next(()=>(i.removeEntry(c,Rt.min()),$c(t).delete([0,r2(c.path)])))});r.push(h)}}).next(()=>Ce.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return ny(t,e)}kn(t,e){const i=$c(t);let r,s=Bs.A;return i.Wt({index:"documentTargetsIndex"},([c,d],{path:h,sequenceNumber:_})=>{0===c?(s!==Bs.A&&e(new We(pa(r)),s),s=_,r=h):s=Bs.A}).next(()=>{s!==Bs.A&&e(new We(pa(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function ny(n,t){return $c(n).put((i=n.currentSequenceNumber,{targetId:0,path:r2(t.path),sequenceNumber:i}));var i}class RK{constructor(){this.changes=new Uc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ei.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Ce.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class IRe{constructor(t){this.M=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return E0(t).put(i)}removeEntry(t,e,i){return E0(t).delete(function(r,s){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Kv(s),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.On(t,i)))}getEntry(t,e){let i=Ei.newInvalidDocument(e);return E0(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(S9(e))},(r,s)=>{i=this.Fn(e,s)}).next(()=>i)}$n(t,e){let i={size:0,document:Ei.newInvalidDocument(e)};return E0(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(S9(e))},(r,s)=>{i={document:this.Fn(e,s),size:ty(s)}}).next(()=>i)}getEntries(t,e){let i=Mo();return this.Bn(t,e,(r,s)=>{const c=this.Fn(r,s);i=i.insert(r,c)}).next(()=>i)}Ln(t,e){let i=Mo(),r=new C1(We.comparator);return this.Bn(t,e,(s,c)=>{const d=this.Fn(s,c);i=i.insert(s,d),r=r.insert(s,ty(c))}).next(()=>({documents:i,Un:r}))}Bn(t,e,i){if(e.isEmpty())return Ce.resolve();let r=new Ti(zK);e.forEach(h=>r=r.add(h));const s=IDBKeyRange.bound(S9(r.first()),S9(r.last())),c=r.getIterator();let d=c.getNext();return E0(t).Wt({index:"documentKeyIndex",range:s},(h,_,M)=>{const x=We.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;d&&zK(d,x)<0;)i(d,null),d=c.getNext();d&&d.isEqual(x)&&(i(d,_),d=c.hasNext()?c.getNext():null),d?M.Ut(S9(d)):M.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),Kv(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return E0(t).qt(IDBKeyRange.bound(r,s,!0)).next(c=>{let d=Mo();for(const h of c){const _=this.Fn(We.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);d=d.insert(_.key,_)}return d})}getAllFromCollectionGroup(t,e,i,r){let s=Mo();const c=PK(e,i),d=PK(e,X4.max());return E0(t).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(h,_,M)=>{const x=this.Fn(We.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);s=s.insert(x.key,x),s.size===r&&M.done()}).next(()=>s)}newChangeBuffer(t){return new NRe(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return OK(t).get("remoteDocumentGlobalKey").next(e=>(Bt(!!e),e))}On(t,e){return OK(t).put("remoteDocumentGlobalKey",e)}Fn(t,e){if(e){const i=function mRe(n,t){let e;if(t.document)e=oK(n.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=We.fromSegments(t.noDocument.path),r=w0(t.noDocument.readTime);e=Ei.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ht();{const i=We.fromSegments(t.unknownDocument.path),r=w0(t.unknownDocument.version);e=Ei.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new g1(i[0],i[1]);return Rt.fromTimestamp(r)}(t.readTime)),e}(this.M,e);if(!i.isNoDocument()||!i.version.isEqual(Rt.min()))return i}return Ei.newInvalidDocument(t)}}class NRe extends RK{constructor(t,e){super(),this.qn=t,this.trackRemovals=e,this.Gn=new Uc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Ti((s,c)=>pn(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const d=this.Gn.get(s);if(e.push(this.qn.removeEntry(t,s,d.readTime)),c.isValidDocument()){const h=MK(this.qn.M,c);r=r.add(s.path.popLast()),i+=ty(h)-d.size,e.push(this.qn.addEntry(t,s,h))}else if(i-=d.size,this.trackRemovals){const h=MK(this.qn.M,c.convertToNoDocument(Rt.min()));e.push(this.qn.addEntry(t,s,h))}}),r.forEach(s=>{e.push(this.qn.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.qn.updateMetadata(t,i)),Ce.waitFor(e)}getFromCache(t,e){return this.qn.$n(t,e).next(i=>(this.Gn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.qn.Ln(t,e).next(({documents:i,Un:r})=>(r.forEach((s,c)=>{this.Gn.set(s,{size:c,readTime:i.get(s).readTime})}),i))}}function OK(n){return s2(n,"remoteDocumentGlobal")}function E0(n){return s2(n,"remoteDocumentsV14")}function S9(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function PK(n,t){const e=t.documentKey.path.toArray();return[n,Kv(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function zK(n,t){const e=n.path.length-t.path.length;return 0!==e?e:We.comparator(n,t)}class kRe{constructor(t){this.M=t}kt(t,e,i,r){const s=new Yv("createOrUpgrade",e);var d;i<1&&r>=1&&(t.createObjectStore("owner"),(d=t).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hK,{unique:!0}),d.createObjectStore("documentMutations"),FK(t),function(d){d.createObjectStore("remoteDocuments")}(t));let c=Ce.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(t),FK(t)),c=c.next(()=>function(d){const h=d.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rt.min().toTimestamp(),targetCount:0};return h.put("targetGlobalKey",_)}(s))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(d,h){return h.store("mutations").qt().next(_=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hK,{unique:!0});const M=h.store("mutations"),x=_.map(D=>M.put(D));return Ce.waitFor(x)})}(t,s))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(c=c.next(()=>this.Kn(s))),i<6&&r>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(t),this.Qn(s)))),i<7&&r>=7&&(c=c.next(()=>this.jn(s))),i<8&&r>=8&&(c=c.next(()=>this.Wn(t,s))),i<9&&r>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(c=c.next(()=>this.zn(s))),i<11&&r>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(c=c.next(()=>{!function(d){const h=d.createObjectStore("documentOverlays",{keyPath:uRe});h.createIndex("collectionPathOverlayIndex",dRe,{unique:!1}),h.createIndex("collectionGroupOverlayIndex",fRe,{unique:!1})}(t)})),i<13&&r>=13&&(c=c.next(()=>function(d){const h=d.createObjectStore("remoteDocumentsV14",{keyPath:XHe});h.createIndex("documentKeyIndex",eRe),h.createIndex("collectionGroupIndex",tRe)}(t)).next(()=>this.Hn(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>{!function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:oRe}).createIndex("sequenceNumberIndex",aRe,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:lRe}).createIndex("documentKeyIndex",cRe,{unique:!1})}(t)})),c}Qn(t){let e=0;return t.store("remoteDocuments").Wt((i,r)=>{e+=ty(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Kn(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.qt().next(r=>Ce.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",c).next(d=>Ce.forEach(d,h=>{Bt(h.userId===s.userId);const _=nd(this.M,h);return IK(t,s.userId,_).next(()=>{})}))}))}jn(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Wt((c,d)=>{const h=new En(c),_=[0,r2(h)];s.push(e.get(_).next(M=>M?Ce.resolve():e.put({targetId:0,path:r2(h),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Ce.waitFor(s))})}Wn(t,e){t.createObjectStore("collectionParents",{keyPath:sRe});const i=e.store("collectionParents"),r=new wD,s=c=>{if(r.add(c)){const d=c.lastSegment(),h=c.popLast();return i.put({collectionId:d,parent:r2(h)})}};return e.store("remoteDocuments").Wt({jt:!0},(c,d)=>{const h=new En(c);return s(h.popLast())}).next(()=>e.store("documentMutations").Wt({jt:!0},([c,d,h],_)=>{const M=pa(d);return s(M.popLast())}))}zn(t){const e=t.store("targets");return e.Wt((i,r)=>{const s=M9(r),c=wK(this.M,s);return e.put(c)})}Hn(t,e){const i=e.store("remoteDocuments"),r=[];return i.Wt((s,c)=>{const d=e.store("remoteDocumentsV14"),h=(_=c,_.document?new We(En.fromString(_.document.name).popFirst(5)):_.noDocument?We.fromSegments(_.noDocument.path):_.unknownDocument?We.fromSegments(_.unknownDocument.path):ht()).path.toArray();var _;const M={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(d.put(M))}).next(()=>Ce.waitFor(r))}}function FK(n){n.createObjectStore("targetDocuments",{keyPath:iRe}).createIndex("documentTargetsIndex",rRe,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",nRe,{unique:!0}),n.createObjectStore("targetGlobal")}const LD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ED{constructor(t,e,i,r,s,c,d,h,_,M,x=13){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Jn=s,this.window=c,this.document=d,this.Yn=_,this.Xn=M,this.Zn=x,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=D=>Promise.resolve(),!ED.vt())throw new Ie(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ARe(this,r),this.cs=e+"main",this.M=new bK(h),this.hs=new ga(this.cs,this.Zn,new kRe(this.M)),this.ls=new LRe(this.referenceDelegate,this.M),this.fs=new IRe(this.M),this.ds=new _Re,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===M&&w1("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ie(de.FAILED_PRECONDITION,LD);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.ls.getHighestSequenceNumber(t))}).then(t=>{this.ts=new Bs(t,this.Yn)}).then(()=>{this.es=!0}).catch(t=>(this.hs&&this.hs.close(),Promise.reject(t)))}Is(t){var e=this;return this.us=function(){var i=(0,_e.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.hs.Ot(function(){var e=(0,_e.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Jn.enqueueAndForget((0,_e.Z)(function*(){e.started&&(yield e.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>iy(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(t).next(e=>{e||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(t)).next(e=>this.isPrimary&&!e?this.As(t).next(()=>!1):!!e&&this.Rs(t).next(()=>!0))).catch(t=>{if(y0(t))return ze("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Jn.enqueueRetryable(()=>this.us(t)),this.isPrimary=t})}Ts(t){return L9(t).get("owner").next(e=>Ce.resolve(this.bs(e)))}Ps(t){return iy(t).delete(this.clientId)}Vs(){var t=this;return(0,_e.Z)(function*(){if(t.isPrimary&&!t.vs(t.os,18e5)){t.os=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=s2(i,"clientMetadata");return r.qt().next(s=>{const c=t.Ss(s,18e5),d=s.filter(h=>-1===c.indexOf(h));return Ce.forEach(d,h=>r.delete(h.clientId)).next(()=>d)})}).catch(()=>[]);if(t._s)for(const i of e)t._s.removeItem(t.Ds(i.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(t){return!!t&&t.ownerId===this.clientId}Es(t){return this.Xn?Ce.resolve(!0):L9(t).get("owner").next(e=>{if(null!==e&&this.vs(e.leaseTimestampMs,5e3)&&!this.Cs(e.ownerId)){if(this.bs(e)&&this.networkEnabled)return!0;if(!this.bs(e)){if(!e.allowTabSynchronization)throw new Ie(de.FAILED_PRECONDITION,LD);return!1}}return!(!this.networkEnabled||!this.inForeground)||iy(t).qt().next(i=>void 0===this.Ss(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&d)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&ze("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,_e.Z)(function*(){t.es=!1,t.xs(),t.rs&&(t.rs.cancel(),t.rs=null),t.Ns(),t.ks(),yield t.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new yK(e,Bs.A);return t.As(i).next(()=>t.Ps(i))}),t.hs.close(),t.Ms()})()}Ss(t,e){return t.filter(i=>this.vs(i.updateTimeMs,e)&&!this.Cs(i.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",t=>iy(t).qt().next(e=>this.Ss(e,18e5).map(i=>i.clientId)))}get started(){return this.es}getMutationQueue(t,e){return xD.Yt(t,this.M,e,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(t){return new SRe(t)}getDocumentOverlayCache(t){return MD.Yt(this.M,t)}getBundleCache(){return this.ds}runTransaction(t,e,i){ze("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=14===(c=this.Zn)?pRe:13===c?CK:12===c?hRe:11===c?gK:void ht();var c;let d;return this.hs.runTransaction(t,r,s,h=>(d=new yK(h,this.ts?this.ts.next():Bs.A),"readwrite-primary"===e?this.Ts(d).next(_=>!!_||this.Es(d)).next(_=>{if(!_)throw w1(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Ie(de.FAILED_PRECONDITION,mK);return i(d)}).next(_=>this.Rs(d).next(()=>_)):this.Fs(d).next(()=>i(d)))).then(h=>(d.raiseOnCommittedEvent(),h))}Fs(t){return L9(t).get("owner").next(e=>{if(null!==e&&this.vs(e.leaseTimestampMs,5e3)&&!this.Cs(e.ownerId)&&!this.bs(e)&&!(this.Xn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ie(de.FAILED_PRECONDITION,LD)})}Rs(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return L9(t).put("owner",e)}static vt(){return ga.vt()}As(t){const e=L9(t);return e.get("owner").next(i=>this.bs(i)?(ze("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Ce.resolve())}vs(t,e){const i=Date.now();return!(t<i-e||t>i&&(w1(`Detected an update time that is in the future: ${t} > ${i}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ns=()=>{this.xs(),(0,R.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(t){var e;try{const i=null!==(null===(e=this._s)||void 0===e?void 0:e.getItem(this.Ds(t)));return ze("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return w1("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(t){w1("Failed to set zombie client id.",t)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(t){}}Ds(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function L9(n){return s2(n,"owner")}function iy(n){return s2(n,"clientMetadata")}function TD(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class VRe{constructor(t,e,i){this.fs=t,this.$s=e,this.indexManager=i}Bs(t,e){return this.$s.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.Ls(t,e,i))}Ls(t,e,i){return this.fs.getEntry(t,e).next(r=>{for(const s of i)s.applyToLocalView(r);return r})}Us(t,e){t.forEach((i,r)=>{for(const s of e)s.applyToLocalView(r)})}qs(t,e){return this.fs.getEntries(t,e).next(i=>this.Gs(t,i).next(()=>i))}Gs(t,e){return this.$s.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.Us(e,i))}Ks(t,e,i){return We.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.Qs(t,e.path):aD(e)?this.js(t,e,i):this.Ws(t,e,i);var r}Qs(t,e){return this.Bs(t,new We(e)).next(i=>{let r=fD();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}js(t,e,i){const r=e.collectionGroup;let s=fD();return this.indexManager.getCollectionParents(t,r).next(c=>Ce.forEach(c,d=>{const h=(_=e,M=d.child(r),new el(M,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,M;return this.Ws(t,h,i).next(_=>{_.forEach((M,x)=>{s=s.insert(M,x)})})}).next(()=>s))}Ws(t,e,i){let r;return this.fs.getAllFromCollection(t,e.path,i).next(s=>(r=s,this.$s.getAllMutationBatchesAffectingQuery(t,e))).next(s=>{for(const c of s)for(const d of c.mutations){const h=d.key;let _=r.get(h);null==_&&(_=Ei.newInvalidDocument(h),r=r.insert(h,_)),uD(d,_,c.localWriteTime),_.isFoundDocument()||(r=r.remove(h))}}).next(()=>(r.forEach((s,c)=>{cD(e,c)||(r=r.remove(s))}),r))}}class DD{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.zs=i,this.Hs=r}static Js(t,e){let i=jn(),r=jn();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new DD(t,e.fromCache,i,r)}}class BK{Ys(t){this.Xs=t}Ks(t,e,i,r){return 0===(s=e).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||i.isEqual(Rt.min())?this.Zs(t,e):this.Xs.qs(t,r).next(s=>{const c=this.ti(e,s);return(Fv(e)||Bv(e))&&this.ei(e.limitType,c,r,i)?this.Zs(t,e):(XT()<=la.in.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lD(e)),this.Xs.Ks(t,e,xY(i,-1)).next(d=>(c.forEach(h=>{d=d.insert(h.key,h)}),d)))});var s}ti(t,e){let i=new Ti(kY(t));return e.forEach((r,s)=>{cD(t,s)&&(i=i.add(s))}),i}ei(t,e,i,r){if(i.size!==e.size)return!0;const s="F"===t?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Zs(t,e){return XT()<=la.in.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",lD(e)),this.Xs.Ks(t,e,X4.min())}}class HRe{constructor(t,e,i,r){this.persistence=t,this.ni=e,this.M=r,this.si=new C1(pn),this.ii=new Uc(s=>C0(s),c9),this.ri=new Map,this.oi=t.getRemoteDocumentCache(),this.ls=t.getTargetCache(),this.ds=t.getBundleCache(),this.ui(i)}ui(t){this.indexManager=this.persistence.getIndexManager(t),this.$s=this.persistence.getMutationQueue(t,this.indexManager),this.ai=new VRe(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.si))}}function UK(n,t,e,i){return new HRe(n,t,e,i)}function GK(n,t){return AD.apply(this,arguments)}function AD(){return AD=(0,_e.Z)(function*(n,t){const e=Qe(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.$s.getAllMutationBatches(i).next(s=>(r=s,e.ui(t),e.$s.getAllMutationBatches(i))).next(s=>{const c=[],d=[];let h=jn();for(const _ of r){c.push(_.batchId);for(const M of _.mutations)h=h.add(M.key)}for(const _ of s){d.push(_.batchId);for(const M of _.mutations)h=h.add(M.key)}return e.ai.qs(i,h).next(_=>({ci:_,removedBatchIds:c,addedBatchIds:d}))})})}),AD.apply(this,arguments)}function RRe(n,t){const e=Qe(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.oi.newChangeBuffer({trackRemovals:!0});return function(c,d,h,_){const M=h.batch,x=M.keys();let D=Ce.resolve();return x.forEach(N=>{D=D.next(()=>_.getEntry(d,N)).next(H=>{const U=h.docVersions.get(N);Bt(null!==U),H.version.compareTo(U)<0&&(M.applyToRemoteDocument(H,h),H.isValidDocument()&&(H.setReadTime(h.commitVersion),_.addEntry(H)))})}),D.next(()=>c.$s.removeMutationBatch(d,M))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.$s.performConsistencyCheck(i)).next(()=>e.ai.qs(i,r))})}function jK(n){const t=Qe(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ls.getLastRemoteSnapshotVersion(e))}function ORe(n,t){const e=Qe(n),i=t.snapshotVersion;let r=e.si;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=e.oi.newChangeBuffer({trackRemovals:!0});r=e.si;const d=[];t.targetChanges.forEach((_,M)=>{const x=r.get(M);if(!x)return;d.push(e.ls.removeMatchingKeys(s,_.removedDocuments,M).next(()=>e.ls.addMatchingKeys(s,_.addedDocuments,M)));let D=x.withSequenceNumber(s.currentSequenceNumber);var N,H,U;t.targetMismatches.has(M)?D=D.withResumeToken(B1.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,i)),r=r.insert(M,D),H=D,U=_,(0===(N=x).resumeToken.approximateByteSize()||H.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8||U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0)&&d.push(e.ls.updateTargetData(s,D))});let h=Mo();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(s,_))}),d.push(qK(s,c,t.documentUpdates).next(_=>{h=_})),!i.isEqual(Rt.min())){const _=e.ls.getLastRemoteSnapshotVersion(s).next(M=>e.ls.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(_)}return Ce.waitFor(d).next(()=>c.apply(s)).next(()=>e.ai.Gs(s,h)).next(()=>h)}).then(s=>(e.si=r,s))}function qK(n,t,e){let i=jn();return e.forEach(r=>i=i.add(r)),t.getEntries(n,i).next(r=>{let s=Mo();return e.forEach((c,d)=>{const h=r.get(c);d.isNoDocument()&&d.version.isEqual(Rt.min())?(t.removeEntry(c,d.readTime),s=s.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||0===d.version.compareTo(h.version)&&h.hasPendingWrites?(t.addEntry(d),s=s.insert(c,d)):ze("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)}),s})}function PRe(n,t){const e=Qe(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.$s.getNextMutationBatchAfterBatchId(i,t)))}function od(n,t){const e=Qe(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.ls.getTargetData(i,t).next(s=>s?(r=s,Ce.resolve(r)):e.ls.allocateTargetId(i).next(c=>(r=new Gc(t,c,0,i.currentSequenceNumber),e.ls.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.si.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.si=e.si.insert(i.targetId,i),e.ii.set(t,i.targetId)),i})}function ad(n,t,e){return ID.apply(this,arguments)}function ID(){return ID=(0,_e.Z)(function*(n,t,e){const i=Qe(n),r=i.si.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!y0(c))throw c;ze("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.si=i.si.remove(t),i.ii.delete(r.target)}),ID.apply(this,arguments)}function ry(n,t,e){const i=Qe(n);let r=Rt.min(),s=jn();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,h,_){const M=Qe(d),x=M.ii.get(_);return void 0!==x?Ce.resolve(M.si.get(x)):M.ls.getTargetData(h,_)}(i,c,bo(t)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.ls.getMatchingKeysForTargetId(c,d.targetId).next(h=>{s=h})}).next(()=>i.ni.Ks(c,t,e?r:Rt.min(),e?s:jn())).next(d=>(ZK(i,NY(t),d),{documents:d,hi:s})))}function $K(n,t){const e=Qe(n),i=Qe(e.ls),r=e.si.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.Et(s,t).next(c=>c?c.target:null))}function WK(n,t){const e=Qe(n),i=e.ri.get(t)||Rt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.oi.getAllFromCollectionGroup(r,t,xY(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(ZK(e,t,r),r))}function ZK(n,t,e){let i=Rt.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.ri.set(t,i)}function ND(){return ND=(0,_e.Z)(function*(n,t,e,i){const r=Qe(n);let s=jn(),c=Mo();for(const _ of e){const M=t.li(_.metadata.name);_.document&&(s=s.add(M));const x=t.fi(_);x.setReadTime(t.di(_.metadata.readTime)),c=c.insert(M,x)}const d=r.oi.newChangeBuffer({trackRemovals:!0}),h=yield od(r,(_=i,bo(Yu(En.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",_=>qK(_,d,c).next(M=>(d.apply(_),M)).next(M=>r.ls.removeMatchingKeysForTargetId(_,h.targetId).next(()=>r.ls.addMatchingKeys(_,s,h.targetId)).next(()=>r.ai.Gs(_,M)).next(()=>M)))}),ND.apply(this,arguments)}function FRe(n,t){return kD.apply(this,arguments)}function kD(){return kD=(0,_e.Z)(function*(n,t,e=jn()){const i=yield od(n,bo(yD(t.bundledQuery))),r=Qe(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=n2(t.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.ds.saveNamedQuery(s,t);const d=i.withResumeToken(B1.EMPTY_BYTE_STRING,c);return r.si=r.si.insert(d.targetId,d),r.ls.updateTargetData(s,d).next(()=>r.ls.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.ls.addMatchingKeys(s,e,i.targetId)).next(()=>r.ds.saveNamedQuery(s,t))})}),kD.apply(this,arguments)}class BRe{constructor(t){this.M=t,this._i=new Map,this.wi=new Map}getBundleMetadata(t,e){return Ce.resolve(this._i.get(e))}saveBundleMetadata(t,e){var i;return this._i.set(e.id,{id:(i=e).id,version:i.version,createTime:n2(i.createTime)}),Ce.resolve()}getNamedQuery(t,e){return Ce.resolve(this.wi.get(e))}saveNamedQuery(t,e){return this.wi.set(e.name,{name:(i=e).name,query:yD(i.bundledQuery),readTime:n2(i.readTime)}),Ce.resolve();var i}}class URe{constructor(){this.overlays=new C1(We.comparator),this.mi=new Map}getOverlay(t,e){return Ce.resolve(this.overlays.get(e))}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.Xt(t,e,s)}),Ce.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.mi.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.mi.delete(i)),Ce.resolve()}getOverlaysForCollection(t,e,i){const r=p9(),s=e.length+1,c=new We(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,_=h.getKey();if(!e.isPrefixOf(_.path))break;_.path.length===s&&h.largestBatchId>i&&r.set(h.getKey(),h)}return Ce.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new C1((_,M)=>_-M);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===e&&_.largestBatchId>i){let M=s.get(_.largestBatchId);null===M&&(M=p9(),s=s.insert(_.largestBatchId,M)),M.set(_.getKey(),_)}}const d=p9(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((_,M)=>d.set(_,M)),!(d.size()>=r)););return Ce.resolve(d)}Xt(t,e,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const c=this.mi.get(r.largestBatchId).delete(i.key);this.mi.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new vD(e,i));let s=this.mi.get(e);void 0===s&&(s=jn(),this.mi.set(e,s)),this.mi.set(e,s.add(i.key))}}class VD{constructor(){this.gi=new Ti(o2.yi),this.pi=new Ti(o2.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(t,e){const i=new o2(t,e);this.gi=this.gi.add(i),this.pi=this.pi.add(i)}Ti(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Ei(new o2(t,e))}Ai(t,e){t.forEach(i=>this.removeReference(i,e))}Ri(t){const e=new We(new En([])),i=new o2(e,t),r=new o2(e,t+1),s=[];return this.pi.forEachInRange([i,r],c=>{this.Ei(c),s.push(c.key)}),s}bi(){this.gi.forEach(t=>this.Ei(t))}Ei(t){this.gi=this.gi.delete(t),this.pi=this.pi.delete(t)}Pi(t){const e=new We(new En([])),i=new o2(e,t),r=new o2(e,t+1);let s=jn();return this.pi.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(t){const e=new o2(t,0),i=this.gi.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class o2{constructor(t,e){this.key=t,this.Vi=e}static yi(t,e){return We.comparator(t.key,e.key)||pn(t.Vi,e.Vi)}static Ii(t,e){return pn(t.Vi,e.Vi)||We.comparator(t.key,e.key)}}class GRe{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.$s=[],this.vi=1,this.Si=new Ti(o2.yi)}checkEmpty(t){return Ce.resolve(0===this.$s.length)}addMutationBatch(t,e,i,r){const s=this.vi;this.vi++;const c=new mD(s,e,i,r);this.$s.push(c);for(const d of r)this.Si=this.Si.add(new o2(d.key,s)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return Ce.resolve(c)}lookupMutationBatch(t,e){return Ce.resolve(this.Di(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Ci(e+1),s=r<0?0:r;return Ce.resolve(this.$s.length>s?this.$s[s]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(t){return Ce.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new o2(e,0),r=new o2(e,Number.POSITIVE_INFINITY),s=[];return this.Si.forEachInRange([i,r],c=>{const d=this.Di(c.Vi);s.push(d)}),Ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ti(pn);return e.forEach(r=>{const s=new o2(r,0),c=new o2(r,Number.POSITIVE_INFINITY);this.Si.forEachInRange([s,c],d=>{i=i.add(d.Vi)})}),Ce.resolve(this.xi(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;We.isDocumentKey(s)||(s=s.child(""));const c=new o2(new We(s),0);let d=new Ti(pn);return this.Si.forEachWhile(h=>{const _=h.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(d=d.add(h.Vi)),!0)},c),Ce.resolve(this.xi(d))}xi(t){const e=[];return t.forEach(i=>{const r=this.Di(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Bt(0===this.Ni(e.batchId,"removed")),this.$s.shift();let i=this.Si;return Ce.forEach(e.mutations,r=>{const s=new o2(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Si=i})}dn(t){}containsKey(t,e){const i=new o2(e,0),r=this.Si.firstAfterOrEqual(i);return Ce.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Ce.resolve()}Ni(t,e){return this.Ci(t)}Ci(t){return 0===this.$s.length?0:t-this.$s[0].batchId}Di(t){const e=this.Ci(t);return e<0||e>=this.$s.length?null:this.$s[e]}}class jRe{constructor(t){this.ki=t,this.docs=new C1(We.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,c=this.ki(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Ce.resolve(i?i.document.mutableCopy():Ei.newInvalidDocument(e))}getEntries(t,e){let i=Mo();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ei.newInvalidDocument(r))}),Ce.resolve(i)}getAllFromCollection(t,e,i){let r=Mo();const s=new We(e.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!e.isPrefixOf(d.path))break;d.path.length>e.length+1||hHe(fHe(h),i)<=0||(r=r.insert(h.key,h.mutableCopy()))}return Ce.resolve(r)}getAllFromCollectionGroup(t,e,i,r){ht()}Mi(t,e){return Ce.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new qRe(this)}getSize(t){return Ce.resolve(this.size)}}class qRe extends RK{constructor(t){super(),this.qn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.qn.addEntry(t,r)):this.qn.removeEntry(i)}),Ce.waitFor(e)}getFromCache(t,e){return this.qn.getEntry(t,e)}getAllFromCache(t,e){return this.qn.getEntries(t,e)}}class $Re{constructor(t){this.persistence=t,this.Oi=new Uc(e=>C0(e),c9),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.Fi=0,this.$i=new VD,this.targetCount=0,this.Bi=S0.mn()}forEachTarget(t,e){return this.Oi.forEach((i,r)=>e(r)),Ce.resolve()}getLastRemoteSnapshotVersion(t){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ce.resolve(this.Fi)}allocateTargetId(t){return this.highestTargetId=this.Bi.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Fi&&(this.Fi=e),Ce.resolve()}In(t){this.Oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Bi=new S0(e),this.highestTargetId=e),t.sequenceNumber>this.Fi&&(this.Fi=t.sequenceNumber)}addTargetData(t,e){return this.In(e),this.targetCount+=1,Ce.resolve()}updateTargetData(t,e){return this.In(e),Ce.resolve()}removeTargetData(t,e){return this.Oi.delete(e.target),this.$i.Ri(e.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Oi.forEach((c,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.Oi.delete(c),s.push(this.removeMatchingKeysForTargetId(t,d.targetId)),r++)}),Ce.waitFor(s).next(()=>r)}getTargetCount(t){return Ce.resolve(this.targetCount)}getTargetData(t,e){const i=this.Oi.get(e)||null;return Ce.resolve(i)}addMatchingKeys(t,e,i){return this.$i.Ti(e,i),Ce.resolve()}removeMatchingKeys(t,e,i){this.$i.Ai(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(c=>{s.push(r.markPotentiallyOrphaned(t,c))}),Ce.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.$i.Ri(e),Ce.resolve()}getMatchingKeysForTargetId(t,e){const i=this.$i.Pi(e);return Ce.resolve(i)}containsKey(t,e){return Ce.resolve(this.$i.containsKey(e))}}class WRe{constructor(t,e){this.Li={},this.overlays={},this.ts=new Bs(0),this.es=!1,this.es=!0,this.referenceDelegate=t(this),this.ls=new $Re(this),this.indexManager=new xRe,this.fs=new jRe(i=>this.referenceDelegate.Ui(i)),this.M=new bK(e),this.ds=new BRe(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new URe,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Li[t.toKey()];return i||(i=new GRe(e,this.referenceDelegate),this.Li[t.toKey()]=i),i}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(t,e,i){ze("MemoryPersistence","Starting transaction:",t);const r=new ZRe(this.ts.next());return this.referenceDelegate.qi(),i(r).next(s=>this.referenceDelegate.Gi(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ki(t,e){return Ce.or(Object.values(this.Li).map(i=>()=>i.containsKey(t,e)))}}class ZRe extends _K{constructor(t){super(),this.currentSequenceNumber=t}}class HD{constructor(t){this.persistence=t,this.Qi=new VD,this.ji=null}static Wi(t){return new HD(t)}get zi(){if(this.ji)return this.ji;throw ht()}addReference(t,e,i){return this.Qi.addReference(i,e),this.zi.delete(i.toString()),Ce.resolve()}removeReference(t,e,i){return this.Qi.removeReference(i,e),this.zi.add(i.toString()),Ce.resolve()}markPotentiallyOrphaned(t,e){return this.zi.add(e.toString()),Ce.resolve()}removeTarget(t,e){this.Qi.Ri(e.targetId).forEach(r=>this.zi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.zi.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}qi(){this.ji=new Set}Gi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.zi,i=>{const r=We.fromPath(i);return this.Hi(t,r).next(s=>{s||e.removeEntry(r,Rt.min())})}).next(()=>(this.ji=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hi(t,e).next(i=>{i?this.zi.delete(e.toString()):this.zi.add(e.toString())})}Ui(t){return 0}Hi(t,e){return Ce.or([()=>Ce.resolve(this.Qi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ki(t,e)])}}function YK(n,t){return`firestore_clients_${n}_${t}`}function KK(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function RD(n,t){return`firestore_targets_${n}_${t}`}class sy{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ji(t,e,i){const r=JSON.parse(i);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new Ie(r.error.code,r.error.message))),c?new sy(t,e,r.state,s):(w1("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class E9{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ji(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Ie(i.error.code,i.error.message))),s?new E9(t,i.state,r):(w1("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class oy{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ji(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=$v();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=pY(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new oy(t,s):(w1("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class OD{constructor(t,e){this.clientId=t,this.onlineState=e}static Ji(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new OD(e.clientId,e.onlineState):(w1("SharedClientState",`Failed to parse online state: ${t}`),null)}}class PD{constructor(){this.activeTargetIds=$v()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zD{constructor(t,e,i,r,s){this.window=t,this.Jn=e,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new C1(pn),this.started=!1,this.ir=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.rr=YK(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new PD),this.ar=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,_e.Z)(function*(){const e=yield t.syncEngine.Os();for(const r of e){if(r===t.tr)continue;const s=t.getItem(YK(t.persistenceKey,r));if(s){const c=oy.Ji(r,s);c&&(t.sr=t.sr.insert(c.clientId,c))}}t._r();const i=t.storage.getItem(t.lr);if(i){const r=t.wr(i);r&&t.mr(r)}for(const r of t.ir)t.nr(r);t.ir=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ur,JSON.stringify(t))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(t){let e=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.yr(t,"pending")}updateMutationState(t,e,i){this.yr(t,e,i),this.pr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(RD(this.persistenceKey,t));if(i){const r=E9.Ji(t,i);r&&(e=r.state)}}return this.Ir.Xi(t),this._r(),e}removeLocalQueryTarget(t){this.Ir.Zi(t),this._r()}isLocalQueryTarget(t){return this.Ir.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(RD(this.persistenceKey,t))}updateQueryState(t,e,i){this.Tr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.pr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Er(t)}notifyBundleLoaded(t){this.Ar(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return ze("SharedClientState","READ",t,e),e}setItem(t,e){ze("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){ze("SharedClientState","REMOVE",t),this.storage.removeItem(t)}nr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(ze("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void w1("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,_e.Z)(function*(){if(e.started){if(null!==i.key)if(e.ar.test(i.key)){if(null==i.newValue){const r=e.Rr(i.key);return e.br(r,null)}{const r=e.Pr(i.key,i.newValue);if(r)return e.br(r.clientId,r)}}else if(e.cr.test(i.key)){if(null!==i.newValue){const r=e.Vr(i.key,i.newValue);if(r)return e.vr(r)}}else if(e.hr.test(i.key)){if(null!==i.newValue){const r=e.Sr(i.key,i.newValue);if(r)return e.Dr(r)}}else if(i.key===e.lr){if(null!==i.newValue){const r=e.wr(i.newValue);if(r)return e.mr(r)}}else if(i.key===e.ur){const r=function(s){let c=Bs.A;if(null!=s)try{const d=JSON.parse(s);Bt("number"==typeof d),c=d}catch(d){w1("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);r!==Bs.A&&e.sequenceNumberHandler(r)}else if(i.key===e.dr){const r=e.Cr(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Nr(s)))}}else e.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(t,e,i){const r=new sy(this.currentUser,t,e,i),s=KK(this.persistenceKey,this.currentUser,t);this.setItem(s,r.Yi())}pr(t){const e=KK(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Er(t){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:t}))}Tr(t,e,i){const r=RD(this.persistenceKey,t),s=new E9(t,e,i);this.setItem(r,s.Yi())}Ar(t){const e=JSON.stringify(Array.from(t));this.setItem(this.dr,e)}Rr(t){const e=this.ar.exec(t);return e?e[1]:null}Pr(t,e){const i=this.Rr(t);return oy.Ji(i,e)}Vr(t,e){const i=this.cr.exec(t),r=Number(i[1]);return sy.Ji(new A2(void 0!==i[2]?i[2]:null),r,e)}Sr(t,e){const i=this.hr.exec(t),r=Number(i[1]);return E9.Ji(r,e)}wr(t){return OD.Ji(t)}Cr(t){return JSON.parse(t)}vr(t){var e=this;return(0,_e.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.kr(t.batchId,t.state,t.error);ze("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Dr(t){return this.syncEngine.Mr(t.targetId,t.state,t.error)}br(t,e){const i=e?this.sr.insert(t,e):this.sr.remove(t),r=this.gr(this.sr),s=this.gr(i),c=[],d=[];return s.forEach(h=>{r.has(h)||c.push(h)}),r.forEach(h=>{s.has(h)||d.push(h)}),this.syncEngine.Or(c,d).then(()=>{this.sr=i})}mr(t){this.sr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}gr(t){let e=$v();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class QK{constructor(){this.Fr=new PD,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,i){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new PD,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class YRe{Br(t){}shutdown(){}}class JK{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(t){this.Kr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Kr)t(0)}Gr(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Kr)t(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const KRe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class QRe{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class JRe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.so=(t.ssl?"https":"http")+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,i,r,s){const c=this.oo(t,e);ze("RestConnection","Sending: ",c,i);const d={};return this.uo(d,r,s),this.ao(t,c,d,i).then(h=>(ze("RestConnection","Received: ",h),h),h=>{throw t9("RestConnection",`${t} failed with error: `,h,"url: ",c,"request:",i),h})}co(t,e,i,r,s){return this.ro(t,e,i,r,s)}uo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Uu,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}oo(t,e){return`${this.so}/v1/${e}:${KRe[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}ao(t,e,i,r){return new Promise((s,c)=>{const d=new JVe;d.listenOnce(YVe.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case JT.NO_ERROR:const _=d.getResponseJson();ze("Connection","XHR received:",JSON.stringify(_)),s(_);break;case JT.TIMEOUT:ze("Connection",'RPC "'+t+'" timed out'),c(new Ie(de.DEADLINE_EXCEEDED,"Request time out"));break;case JT.HTTP_ERROR:const M=d.getStatus();if(ze("Connection",'RPC "'+t+'" failed with status:',M,"response text:",d.getResponseText()),M>0){const x=d.getResponseJson().error;if(x&&x.status&&x.message){const D=function(N){const H=N.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(H)>=0?H:de.UNKNOWN}(x.status);c(new Ie(D,x.message))}else c(new Ie(de.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Ie(de.UNAVAILABLE,"Connection failed."));break;default:ht()}}finally{ze("Connection",'RPC "'+t+'" completed.')}});const h=JSON.stringify(r);d.send(e,"POST",h,i,15)})}ho(t,e,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=WVe(),c=ZVe(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new QVe({})),this.uo(d.initMessageHeaders,e,i),(0,R.uI)()||(0,R.b$)()||(0,R.d)()||(0,R.w1)()||(0,R.Mn)()||(0,R.ru)()||(d.httpHeadersOverwriteParam="$httpHeaders");const h=r.join("");ze("Connection","Creating WebChannel: "+h,d);const _=s.createWebChannel(h,d);let M=!1,x=!1;const D=new QRe({jr:H=>{x?ze("Connection","Not sending because WebChannel is closed:",H):(M||(ze("Connection","Opening WebChannel transport."),_.open(),M=!0),ze("Connection","WebChannel sending:",H),_.send(H))},Wr:()=>_.close()}),N=(H,U,Y)=>{H.listen(U,ae=>{try{Y(ae)}catch(ce){setTimeout(()=>{throw ce},0)}})};return N(_,Vv.EventType.OPEN,()=>{x||ze("Connection","WebChannel transport opened.")}),N(_,Vv.EventType.CLOSE,()=>{x||(x=!0,ze("Connection","WebChannel transport closed"),D.eo())}),N(_,Vv.EventType.ERROR,H=>{x||(x=!0,t9("Connection","WebChannel transport errored:",H),D.eo(new Ie(de.UNAVAILABLE,"The operation could not be completed")))}),N(_,Vv.EventType.MESSAGE,H=>{var U;if(!x){const Y=H.data[0];Bt(!!Y);const ae=Y,ce=ae.error||(null===(U=ae[0])||void 0===U?void 0:U.error);if(ce){ze("Connection","WebChannel received error:",ce);const ke=ce.status;let Te=function(st){const un=S1[st];if(void 0!==un)return ZY(un)}(ke),tt=ce.message;void 0===Te&&(Te=de.INTERNAL,tt="Unknown error status: "+ke+" with message "+ce.message),x=!0,D.eo(new Ie(Te,tt)),_.close()}else ze("Connection","WebChannel received:",Y),D.no(Y)}}),N(c,KVe.STAT_EVENT,H=>{H.stat===sY.PROXY?ze("Connection","Detected buffering proxy"):H.stat===sY.NOPROXY&&ze("Connection","Detected no buffering proxy")}),setTimeout(()=>{D.Zr()},0),D}}function XK(){return"undefined"!=typeof window?window:null}function ay(){return"undefined"!=typeof document?document:null}function T9(n){return new FHe(n,!0)}class FD{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Jn=t,this.timerId=e,this.lo=i,this.fo=r,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,e-i);r>0&&ze("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class eQ{constructor(t,e,i,r,s,c,d,h){this.Jn=t,this.Ao=i,this.Ro=r,this.bo=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new FD(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var t=this;return(0,_e.Z)(function*(){t.Do()&&(yield t.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(t){this.Fo(),this.stream.send(t)}Mo(){var t=this;return(0,_e.Z)(function*(){if(t.Co())return t.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(t,e){var i=this;return(0,_e.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==t?i.So.reset():e&&e.code===de.RESOURCE_EXHAUSTED?(w1(e.toString()),w1("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):e&&e.code===de.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Jr(e)})()}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===e&&this.Uo(i,r)},i=>{t(()=>{const r=new Ie(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(t,e){const i=this.Lo(this.Po);this.stream=this.Go(t,e),this.stream.zr(()=>{i(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var t=this;this.state=5,this.So.Io((0,_e.Z)(function*(){t.state=0,t.start()}))}qo(t){return ze("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.Jn.enqueueAndForget(()=>this.Po===t?e():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XRe extends eQ{constructor(t,e,i,r,s,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.M=s}Go(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function GHe(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(h=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===h?1:"REMOVE"===h?2:"CURRENT"===h?3:"RESET"===h?4:ht(),r=t.targetChange.targetIds||[],s=function(h,_){return h.N?(Bt(void 0===_||"string"==typeof _),B1.fromBase64String(_||"")):(Bt(void 0===_||_ instanceof Uint8Array),B1.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(h){const _=void 0===h.code?de.UNKNOWN:ZY(h.code);return new Ie(_,h.message||"")}(c);e=new QY(i,r,s,d||null)}else if("documentChange"in t){const i=t.documentChange,r=x3(n,i.document.name),s=n2(i.document.updateTime),c=new W2({mapValue:{fields:i.document.fields}}),d=Ei.newFoundDocument(r,s,c);e=new Wv(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in t){const i=t.documentDelete,r=x3(n,i.document),s=i.readTime?n2(i.readTime):Rt.min(),c=Ei.newNoDocument(r,s);e=new Wv([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=x3(n,i.document);e=new Wv([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ht();{const i=t.filter,s=new IHe(i.count||0);e=new KY(i.targetId,s)}}var h;return e}(this.M,t),i=function(r){if(!("targetChange"in r))return Rt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Rt.min():s.readTime?n2(s.readTime):Rt.min()}(t);return this.listener.Ko(e,i)}Qo(t){const e={};e.database=v9(this.M),e.addTarget=function(r,s){let c;const d=s.target;return c=Pv(d)?{documents:aK(r,d)}:{query:lK(r,d)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=tK(r,s.resumeToken):s.snapshotVersion.compareTo(Rt.min())>0&&(c.readTime=m9(r,s.snapshotVersion.toTimestamp())),c}(this.M,t);const i=function qHe(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ht()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Oo(e)}jo(t){const e={};e.database=v9(this.M),e.removeTarget=t,this.Oo(e)}}class eOe extends eQ{constructor(t,e,i,r,s,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.M=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(Bt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=function jHe(n,t){return n&&n.length>0?(Bt(void 0!==t),n.map(e=>function(i,r){let s=n2(i.updateTime?i.updateTime:r);return s.isEqual(Rt.min())&&(s=n2(r)),new THe(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=n2(t.commitTime);return this.listener.Jo(i,e)}return Bt(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=v9(this.M),this.Oo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>y9(this.M,i))};this.Oo(e)}}class tOe extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=i,this.M=r,this.Zo=!1}tu(){if(this.Zo)throw new Ie(de.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.bo.ro(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ie(de.UNKNOWN,r.toString())})}co(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.bo.co(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ie(de.UNKNOWN,r.toString())})}terminate(){this.Zo=!0}}class nOe{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.au(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(w1(e),this.su=!1):ze("OnlineStateTracker",e)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class iOe{constructor(t,e,i,r,s){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(d=>{i.enqueueAndForget((0,_e.Z)(function*(){var h;Wc(c)&&(ze("RemoteStore","Restarting streams for network reachability change."),yield(h=(0,_e.Z)(function*(_){const M=Qe(_);M.lu.add(4),yield ld(M),M._u.set("Unknown"),M.lu.delete(4),yield D9(M)}),function(_){return h.apply(this,arguments)})(c))}))}),this._u=new nOe(i,r)}}function D9(n){return BD.apply(this,arguments)}function BD(){return BD=(0,_e.Z)(function*(n){if(Wc(n))for(const t of n.fu)yield t(!0)}),BD.apply(this,arguments)}function ld(n){return UD.apply(this,arguments)}function UD(){return UD=(0,_e.Z)(function*(n){for(const t of n.fu)yield t(!1)}),UD.apply(this,arguments)}function ly(n,t){const e=Qe(n);e.hu.has(t.targetId)||(e.hu.set(t.targetId,t),qD(e)?jD(e):ud(e).Co()&&GD(e,t))}function A9(n,t){const e=Qe(n),i=ud(e);e.hu.delete(t),i.Co()&&tQ(e,t),0===e.hu.size&&(i.Co()?i.ko():Wc(e)&&e._u.set("Unknown"))}function GD(n,t){n.wu.Z(t.targetId),ud(n).Qo(t)}function tQ(n,t){n.wu.Z(t),ud(n).jo(t)}function jD(n){n.wu=new OHe({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.hu.get(t)||null}),ud(n).start(),n._u.iu()}function qD(n){return Wc(n)&&!ud(n).Do()&&n.hu.size>0}function Wc(n){return 0===Qe(n).lu.size}function nQ(n){n.wu=void 0}function rOe(n){return $D.apply(this,arguments)}function $D(){return $D=(0,_e.Z)(function*(n){n.hu.forEach((t,e)=>{GD(n,t)})}),$D.apply(this,arguments)}function sOe(n,t){return WD.apply(this,arguments)}function WD(){return WD=(0,_e.Z)(function*(n,t){nQ(n),qD(n)?(n._u.uu(t),jD(n)):n._u.set("Unknown")}),WD.apply(this,arguments)}function oOe(n,t,e){return ZD.apply(this,arguments)}function ZD(){return ZD=(0,_e.Z)(function*(n,t,e){if(n._u.set("Online"),t instanceof QY&&2===t.state&&t.cause)try{yield(i=(0,_e.Z)(function*(r,s){const c=s.cause;for(const d of s.targetIds)r.hu.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.hu.delete(d),r.wu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){ze("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield cy(n,i)}else if(t instanceof Wv?n.wu.ut(t):t instanceof KY?n.wu._t(t):n.wu.ht(t),!e.isEqual(Rt.min()))try{const i=yield jK(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const c=r.wu.yt(s);return c.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const _=r.hu.get(h);_&&r.hu.set(h,_.withResumeToken(d.resumeToken,s))}}),c.targetMismatches.forEach(d=>{const h=r.hu.get(d);if(!h)return;r.hu.set(d,h.withResumeToken(B1.EMPTY_BYTE_STRING,h.snapshotVersion)),tQ(r,d);const _=new Gc(h.target,d,1,h.sequenceNumber);GD(r,_)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){ze("RemoteStore","Failed to raise snapshot:",i),yield cy(n,i)}var i}),ZD.apply(this,arguments)}function cy(n,t,e){return YD.apply(this,arguments)}function YD(){return YD=(0,_e.Z)(function*(n,t,e){if(!y0(t))throw t;n.lu.add(1),yield ld(n),n._u.set("Offline"),e||(e=()=>jK(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){ze("RemoteStore","Retrying IndexedDB access"),yield e(),n.lu.delete(1),yield D9(n)}))}),YD.apply(this,arguments)}function iQ(n,t){return t().catch(e=>cy(n,e,t))}function cd(n){return KD.apply(this,arguments)}function KD(){return KD=(0,_e.Z)(function*(n){const t=Qe(n),e=Zc(t);let i=t.cu.length>0?t.cu[t.cu.length-1].batchId:-1;for(;aOe(t);)try{const r=yield PRe(t.localStore,i);if(null===r){0===t.cu.length&&e.ko();break}i=r.batchId,lOe(t,r)}catch(r){yield cy(t,r)}rQ(t)&&sQ(t)}),KD.apply(this,arguments)}function aOe(n){return Wc(n)&&n.cu.length<10}function lOe(n,t){n.cu.push(t);const e=Zc(n);e.Co()&&e.zo&&e.Ho(t.mutations)}function rQ(n){return Wc(n)&&!Zc(n).Do()&&n.cu.length>0}function sQ(n){Zc(n).start()}function cOe(n){return QD.apply(this,arguments)}function QD(){return QD=(0,_e.Z)(function*(n){Zc(n).Xo()}),QD.apply(this,arguments)}function uOe(n){return JD.apply(this,arguments)}function JD(){return JD=(0,_e.Z)(function*(n){const t=Zc(n);for(const e of n.cu)t.Ho(e.mutations)}),JD.apply(this,arguments)}function dOe(n,t,e){return XD.apply(this,arguments)}function XD(){return XD=(0,_e.Z)(function*(n,t,e){const i=n.cu.shift(),r=_D.from(i,t,e);yield iQ(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield cd(n)}),XD.apply(this,arguments)}function fOe(n,t){return eA.apply(this,arguments)}function eA(){return eA=(0,_e.Z)(function*(n,t){var e;t&&Zc(n).zo&&(yield(e=(0,_e.Z)(function*(i,r){if(WY(s=r.code)&&s!==de.ABORTED){const c=i.cu.shift();Zc(i).No(),yield iQ(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield cd(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),rQ(n)&&sQ(n)}),eA.apply(this,arguments)}function oQ(n,t){return tA.apply(this,arguments)}function tA(){return tA=(0,_e.Z)(function*(n,t){const e=Qe(n);e.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const i=Wc(e);e.lu.add(3),yield ld(e),i&&e._u.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.lu.delete(3),yield D9(e)}),tA.apply(this,arguments)}function nA(n,t){return iA.apply(this,arguments)}function iA(){return iA=(0,_e.Z)(function*(n,t){const e=Qe(n);t?(e.lu.delete(2),yield D9(e)):t||(e.lu.add(2),yield ld(e),e._u.set("Unknown"))}),iA.apply(this,arguments)}function ud(n){return n.mu||(n.mu=function(t,e,i){const r=Qe(t);return r.tu(),new XRe(e,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{zr:rOe.bind(null,n),Jr:sOe.bind(null,n),Ko:oOe.bind(null,n)}),n.fu.push(function(){var t=(0,_e.Z)(function*(e){e?(n.mu.No(),qD(n)?jD(n):n._u.set("Unknown")):(yield n.mu.stop(),nQ(n))});return function(e){return t.apply(this,arguments)}}())),n.mu}function Zc(n){return n.gu||(n.gu=function(t,e,i){const r=Qe(t);return r.tu(),new eOe(e,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{zr:cOe.bind(null,n),Jr:fOe.bind(null,n),Yo:uOe.bind(null,n),Jo:dOe.bind(null,n)}),n.fu.push(function(){var t=(0,_e.Z)(function*(e){e?(n.gu.No(),yield cd(n)):(yield n.gu.stop(),n.cu.length>0&&(ze("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(e){return t.apply(this,arguments)}}())),n.gu}class rA{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new e2,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,s){const c=Date.now()+i,d=new rA(t,e,c,r,s);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ie(de.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dd(n,t){if(w1("AsyncQueue",`${t}: ${n}`),y0(n))return new Ie(de.UNAVAILABLE,`${t}: ${n}`);throw n}class fd{constructor(t){this.comparator=t?(e,i)=>t(e,i)||We.comparator(e.key,i.key):(e,i)=>We.comparator(e.key,i.key),this.keyedMap=fD(),this.sortedSet=new C1(this.comparator)}static emptySet(t){return new fd(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof fd)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new fd;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class aQ{constructor(){this.yu=new C1(We.comparator)}track(t){const e=t.doc.key,i=this.yu.get(e);i?0!==t.type&&3===i.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==i.type?this.yu=this.yu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.yu=this.yu.remove(e):1===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):ht():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal((e,i)=>{t.push(i)}),t}}class hd{constructor(t,e,i,r,s,c,d,h){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h}static fromInitialDocuments(t,e,i,r){const s=[];return e.forEach(c=>{s.push({type:0,doc:c})}),new hd(t,e,fd.emptySet(e),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&u9(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class hOe{constructor(){this.Iu=void 0,this.listeners=[]}}class pOe{constructor(){this.queries=new Uc(t=>IY(t),u9),this.onlineState="Unknown",this.Tu=new Set}}function sA(n,t){return oA.apply(this,arguments)}function oA(){return oA=(0,_e.Z)(function*(n,t){const e=Qe(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new hOe),r)try{s.Iu=yield e.onListen(i)}catch(c){const d=dd(c,`Initialization of query '${lD(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,s),s.listeners.push(t),t.Eu(e.onlineState),s.Iu&&t.Au(s.Iu)&&cA(e)}),oA.apply(this,arguments)}function aA(n,t){return lA.apply(this,arguments)}function lA(){return lA=(0,_e.Z)(function*(n,t){const e=Qe(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const c=s.listeners.indexOf(t);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),lA.apply(this,arguments)}function gOe(n,t){const e=Qe(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const d of c.listeners)d.Au(r)&&(i=!0);c.Iu=r}}i&&cA(e)}function COe(n,t,e){const i=Qe(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function cA(n){n.Tu.forEach(t=>{t.next()})}class uA{constructor(t,e,i){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new hd(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.Vu(t)&&(this.Ru.next(t),e=!0):this.vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}vu(t,e){return!t.fromCache||!(this.options.Du&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}Vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(t){t=hd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class mOe{constructor(t,e){this.payload=t,this.byteLength=e}Cu(){return"metadata"in this.payload}}class lQ{constructor(t){this.M=t}li(t){return x3(this.M,t)}fi(t){return t.metadata.exists?oK(this.M,t.document,!1):Ei.newNoDocument(this.li(t.metadata.name),this.di(t.metadata.readTime))}di(t){return n2(t)}}class _Oe{constructor(t,e,i){this.xu=t,this.localStore=e,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=cQ(t)}Nu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=En.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ku(t){const e=new Map,i=new lQ(this.M);for(const r of t)if(r.metadata.queries){const s=i.li(r.metadata.name);for(const c of r.metadata.queries){const d=(e.get(c)||jn()).add(s);e.set(c,d)}}return e}complete(){var t=this;return(0,_e.Z)(function*(){const e=yield function zRe(n,t,e,i){return ND.apply(this,arguments)}(t.localStore,new lQ(t.M),t.documents,t.xu.id),i=t.ku(t.documents);for(const r of t.queries)yield FRe(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Mu:t.collectionGroups,Ou:e}})()}}function cQ(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class uQ{constructor(t){this.key=t}}class dQ{constructor(t){this.key=t}}class fQ{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=jn(),this.mutatedKeys=jn(),this.Lu=kY(t),this.Uu=new fd(this.Lu)}get qu(){return this.Fu}Gu(t,e){const i=e?e.Ku:new aQ,r=e?e.Uu:this.Uu;let s=e?e.mutatedKeys:this.mutatedKeys,c=r,d=!1;const h=Fv(this.query)&&r.size===this.query.limit?r.last():null,_=Bv(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((M,x)=>{const D=r.get(M),N=cD(this.query,x)?x:null,H=!!D&&this.mutatedKeys.has(D.key),U=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let Y=!1;D&&N?D.data.isEqual(N.data)?H!==U&&(i.track({type:3,doc:N}),Y=!0):this.Qu(D,N)||(i.track({type:2,doc:N}),Y=!0,(h&&this.Lu(N,h)>0||_&&this.Lu(N,_)<0)&&(d=!0)):!D&&N?(i.track({type:0,doc:N}),Y=!0):D&&!N&&(i.track({type:1,doc:D}),Y=!0,(h||_)&&(d=!0)),Y&&(N?(c=c.add(N),s=U?s.add(M):s.delete(M)):(c=c.delete(M),s=s.delete(M)))}),Fv(this.query)||Bv(this.query))for(;c.size>this.query.limit;){const M=Fv(this.query)?c.last():c.first();c=c.delete(M.key),s=s.delete(M.key),i.track({type:1,doc:M})}return{Uu:c,Ku:i,ei:d,mutatedKeys:s}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const s=t.Ku.pu();s.sort((_,M)=>function(x,D){const N=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht()}};return N(x)-N(D)}(_.type,M.type)||this.Lu(_.doc,M.doc)),this.ju(i);const c=e?this.Wu():[],d=0===this.Bu.size&&this.current?1:0,h=d!==this.$u;return this.$u=d,0!==s.length||h?{snapshot:new hd(this.query,t.Uu,r,s,t.mutatedKeys,0===d,h,!1),zu:c}:{zu:c}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new aQ,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=jn(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const e=[];return t.forEach(i=>{this.Bu.has(i)||e.push(new dQ(i))}),this.Bu.forEach(i=>{t.has(i)||e.push(new uQ(i))}),e}Ju(t){this.Fu=t.hi,this.Bu=jn();const e=this.Gu(t.documents);return this.applyChanges(e,!0)}Yu(){return hd.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class vOe{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class yOe{constructor(t){this.key=t,this.Xu=!1}}class bOe{constructor(t,e,i,r,s,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Zu={},this.ta=new Uc(d=>IY(d),u9),this.ea=new Map,this.na=new Set,this.sa=new C1(We.comparator),this.ia=new Map,this.ra=new VD,this.oa={},this.ua=new Map,this.aa=S0.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function MOe(n,t){return dA.apply(this,arguments)}function dA(){return dA=(0,_e.Z)(function*(n,t){const e=VA(n);let i,r;const s=e.ta.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.Yu();else{const c=yield od(e.localStore,bo(t));e.isPrimaryClient&&ly(e.remoteStore,c);const d=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield fA(e,t,i,"current"===d)}return r}),dA.apply(this,arguments)}function fA(n,t,e,i){return hA.apply(this,arguments)}function hA(){return hA=(0,_e.Z)(function*(n,t,e,i){n.ha=(M,x,D)=>{return(N=(0,_e.Z)(function*(H,U,Y,ae){let ce=U.view.Gu(Y);ce.ei&&(ce=yield ry(H.localStore,U.query,!1).then(({documents:tt})=>U.view.Gu(tt,ce)));const ke=ae&&ae.targetChanges.get(U.targetId),Te=U.view.applyChanges(ce,H.isPrimaryClient,ke);return wA(H,U.targetId,Te.zu),Te.snapshot}),function(H,U,Y,ae){return N.apply(this,arguments)})(n,M,x,D);var N};const r=yield ry(n.localStore,t,!0),s=new fQ(t,r.hi),c=s.Gu(r.documents),d=C9.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),h=s.applyChanges(c,n.isPrimaryClient,d);wA(n,e,h.zu);const _=new vOe(t,e,s);return n.ta.set(t,_),n.ea.has(e)?n.ea.get(e).push(t):n.ea.set(e,[t]),h.snapshot}),hA.apply(this,arguments)}function wOe(n,t){return pA.apply(this,arguments)}function pA(){return pA=(0,_e.Z)(function*(n,t){const e=Qe(n),i=e.ta.get(t),r=e.ea.get(i.targetId);if(r.length>1)return e.ea.set(i.targetId,r.filter(s=>!u9(s,t))),void e.ta.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ad(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),A9(e.remoteStore,i.targetId),pd(e,i.targetId)}).catch(L0))):(pd(e,i.targetId),yield ad(e.localStore,i.targetId,!0))}),pA.apply(this,arguments)}function gA(){return gA=(0,_e.Z)(function*(n,t,e){const i=HA(n);try{const r=yield function(s,c){const d=Qe(s),h=g1.now(),_=c.reduce((x,D)=>x.add(D.key),jn());let M;return d.persistence.runTransaction("Locally write mutations","readwrite",x=>d.ai.qs(x,_).next(D=>{M=D;const N=[];for(const H of c){const U=AHe(H,M.get(H.key));null!=U&&N.push(new v0(H.key,U,wY(U.value.mapValue),x1.exists(!0)))}return d.$s.addMutationBatch(x,h,N,c)})).then(x=>(x.applyToLocalDocumentSet(M),{batchId:x.batchId,changes:M}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,d){let h=s.oa[s.currentUser.toKey()];h||(h=new C1(pn)),h=h.insert(c,d),s.oa[s.currentUser.toKey()]=h}(i,r.batchId,e),yield tl(i,r.changes),yield cd(i.remoteStore)}catch(r){const s=dd(r,"Failed to persist write");e.reject(s)}}),gA.apply(this,arguments)}function hQ(n,t){return CA.apply(this,arguments)}function CA(){return CA=(0,_e.Z)(function*(n,t){const e=Qe(n);try{const i=yield ORe(e.localStore,t);t.targetChanges.forEach((r,s)=>{const c=e.ia.get(s);c&&(Bt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.Xu=!0:r.modifiedDocuments.size>0?Bt(c.Xu):r.removedDocuments.size>0&&(Bt(c.Xu),c.Xu=!1))}),yield tl(e,i,t)}catch(i){yield L0(i)}}),CA.apply(this,arguments)}function pQ(n,t,e){const i=Qe(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ta.forEach((s,c)=>{const d=c.view.Eu(t);d.snapshot&&r.push(d.snapshot)}),function(s,c){const d=Qe(s);d.onlineState=c;let h=!1;d.queries.forEach((_,M)=>{for(const x of M.listeners)x.Eu(c)&&(h=!0)}),h&&cA(d)}(i.eventManager,t),r.length&&i.Zu.Ko(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function SOe(n,t,e){return mA.apply(this,arguments)}function mA(){return mA=(0,_e.Z)(function*(n,t,e){const i=Qe(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ia.get(t),s=r&&r.key;if(s){let c=new C1(We.comparator);c=c.insert(s,Ei.newNoDocument(s,Rt.min()));const d=jn().add(s),h=new g9(Rt.min(),new Map,new Ti(pn),c,d);yield hQ(i,h),i.sa=i.sa.remove(s),i.ia.delete(t),xA(i)}else yield ad(i.localStore,t,!1).then(()=>pd(i,t,e)).catch(L0)}),mA.apply(this,arguments)}function LOe(n,t){return _A.apply(this,arguments)}function _A(){return _A=(0,_e.Z)(function*(n,t){const e=Qe(n),i=t.batch.batchId;try{const r=yield RRe(e.localStore,t);MA(e,i,null),bA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield tl(e,r)}catch(r){yield L0(r)}}),_A.apply(this,arguments)}function EOe(n,t,e){return vA.apply(this,arguments)}function vA(){return vA=(0,_e.Z)(function*(n,t,e){const i=Qe(n);try{const r=yield function(s,c){const d=Qe(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let _;return d.$s.lookupMutationBatch(h,c).next(M=>(Bt(null!==M),_=M.keys(),d.$s.removeMutationBatch(h,M))).next(()=>d.$s.performConsistencyCheck(h)).next(()=>d.ai.qs(h,_))})}(i.localStore,t);MA(i,t,e),bA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield tl(i,r)}catch(r){yield L0(r)}}),vA.apply(this,arguments)}function yA(){return yA=(0,_e.Z)(function*(n,t){const e=Qe(n);Wc(e.remoteStore)||ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=Qe(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.$s.getHighestUnacknowledgedBatchId(d))}(e.localStore);if(-1===i)return void t.resolve();const r=e.ua.get(i)||[];r.push(t),e.ua.set(i,r)}catch(i){const r=dd(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),yA.apply(this,arguments)}function bA(n,t){(n.ua.get(t)||[]).forEach(e=>{e.resolve()}),n.ua.delete(t)}function MA(n,t,e){const i=Qe(n);let r=i.oa[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.oa[i.currentUser.toKey()]=r}}function pd(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ea.get(t))n.ta.delete(i),e&&n.Zu.la(i,e);n.ea.delete(t),n.isPrimaryClient&&n.ra.Ri(t).forEach(i=>{n.ra.containsKey(i)||gQ(n,i)})}function gQ(n,t){n.na.delete(t.path.canonicalString());const e=n.sa.get(t);null!==e&&(A9(n.remoteStore,e),n.sa=n.sa.remove(t),n.ia.delete(e),xA(n))}function wA(n,t,e){for(const i of e)i instanceof uQ?(n.ra.addReference(i.key,t),DOe(n,i)):i instanceof dQ?(ze("SyncEngine","Document no longer in limbo: "+i.key),n.ra.removeReference(i.key,t),n.ra.containsKey(i.key)||gQ(n,i.key)):ht()}function DOe(n,t){const e=t.key,i=e.path.canonicalString();n.sa.get(e)||n.na.has(i)||(ze("SyncEngine","New document in limbo: "+e),n.na.add(i),xA(n))}function xA(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const t=n.na.values().next().value;n.na.delete(t);const e=new We(En.fromString(t)),i=n.aa.next();n.ia.set(i,new yOe(e)),n.sa=n.sa.insert(e,i),ly(n.remoteStore,new Gc(bo(Yu(e.path)),i,2,Bs.A))}}function tl(n,t,e){return SA.apply(this,arguments)}function SA(){return SA=(0,_e.Z)(function*(n,t,e){const i=Qe(n),r=[],s=[],c=[];var d;i.ta.isEmpty()||(i.ta.forEach((d,h)=>{c.push(i.ha(h,t,e).then(_=>{if(_){i.isPrimaryClient&&i.sharedClientState.updateQueryState(h.targetId,_.fromCache?"not-current":"current"),r.push(_);const M=DD.Js(h.targetId,_);s.push(M)}}))}),yield Promise.all(c),i.Zu.Ko(r),yield(d=(0,_e.Z)(function*(h,_){const M=Qe(h);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>Ce.forEach(_,D=>Ce.forEach(D.zs,N=>M.persistence.referenceDelegate.addReference(x,D.targetId,N)).next(()=>Ce.forEach(D.Hs,N=>M.persistence.referenceDelegate.removeReference(x,D.targetId,N)))))}catch(x){if(!y0(x))throw x;ze("LocalStore","Failed to update sequence numbers: "+x)}for(const x of _){const D=x.targetId;if(!x.fromCache){const N=M.si.get(D),U=N.withLastLimboFreeSnapshotVersion(N.snapshotVersion);M.si=M.si.insert(D,U)}}}),function(h,_){return d.apply(this,arguments)})(i.localStore,s))}),SA.apply(this,arguments)}function AOe(n,t){return LA.apply(this,arguments)}function LA(){return LA=(0,_e.Z)(function*(n,t){const e=Qe(n);if(!e.currentUser.isEqual(t)){ze("SyncEngine","User change. New user:",t.toKey());const i=yield GK(e.localStore,t);e.currentUser=t,(r=e).ua.forEach(c=>{c.forEach(d=>{d.reject(new Ie(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.ua.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield tl(e,i.ci)}var r}),LA.apply(this,arguments)}function IOe(n,t){const e=Qe(n),i=e.ia.get(t);if(i&&i.Xu)return jn().add(i.key);{let r=jn();const s=e.ea.get(t);if(!s)return r;for(const c of s){const d=e.ta.get(c);r=r.unionWith(d.view.qu)}return r}}function NOe(n,t){return EA.apply(this,arguments)}function EA(){return EA=(0,_e.Z)(function*(n,t){const e=Qe(n),i=yield ry(e.localStore,t.query,!0),r=t.view.Ju(i);return e.isPrimaryClient&&wA(e,t.targetId,r.zu),r}),EA.apply(this,arguments)}function kOe(n,t){return TA.apply(this,arguments)}function TA(){return TA=(0,_e.Z)(function*(n,t){const e=Qe(n);return WK(e.localStore,t).then(i=>tl(e,i))}),TA.apply(this,arguments)}function VOe(n,t,e,i){return DA.apply(this,arguments)}function DA(){return DA=(0,_e.Z)(function*(n,t,e,i){const r=Qe(n),s=yield function(c,d){const h=Qe(c),_=Qe(h.$s);return h.persistence.runTransaction("Lookup mutation documents","readonly",M=>_.ln(M,d).next(x=>x?h.ai.qs(M,x):Ce.resolve(null)))}(r.localStore,t);var d;null!==s?("pending"===e?yield cd(r.remoteStore):"acknowledged"===e||"rejected"===e?(MA(r,t,i||null),bA(r,t),d=t,Qe(Qe(r.localStore).$s).dn(d)):ht(),yield tl(r,s)):ze("SyncEngine","Cannot apply mutation batch with id: "+t)}),DA.apply(this,arguments)}function AA(){return AA=(0,_e.Z)(function*(n,t){const e=Qe(n);if(VA(e),HA(e),!0===t&&!0!==e.ca){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield CQ(e,i.toArray());e.ca=!0,yield nA(e.remoteStore,!0);for(const s of r)ly(e.remoteStore,s)}else if(!1===t&&!1!==e.ca){const i=[];let r=Promise.resolve();e.ea.forEach((s,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(pd(e,c),ad(e.localStore,c,!0))),A9(e.remoteStore,c)}),yield r,yield CQ(e,i),function(s){const c=Qe(s);c.ia.forEach((d,h)=>{A9(c.remoteStore,h)}),c.ra.bi(),c.ia=new Map,c.sa=new C1(We.comparator)}(e),e.ca=!1,yield nA(e.remoteStore,!1)}}),AA.apply(this,arguments)}function CQ(n,t,e){return IA.apply(this,arguments)}function IA(){return IA=(0,_e.Z)(function*(n,t,e){const i=Qe(n),r=[],s=[];for(const c of t){let d;const h=i.ea.get(c);if(h&&0!==h.length){d=yield od(i.localStore,bo(h[0]));for(const _ of h){const M=i.ta.get(_),x=yield NOe(i,M);x.snapshot&&s.push(x.snapshot)}}else{const _=yield $K(i.localStore,c);d=yield od(i.localStore,_),yield fA(i,mQ(_),c,!1)}r.push(d)}return i.Zu.Ko(s),r}),IA.apply(this,arguments)}function mQ(n){return DY(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function ROe(n){const t=Qe(n);return Qe(Qe(t.localStore).persistence).Os()}function OOe(n,t,e,i){return NA.apply(this,arguments)}function NA(){return NA=(0,_e.Z)(function*(n,t,e,i){const r=Qe(n);if(r.ca)return void ze("SyncEngine","Ignoring unexpected query state notification.");const s=r.ea.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const c=yield WK(r.localStore,NY(s[0])),d=g9.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield tl(r,c,d);break}case"rejected":yield ad(r.localStore,t,!0),pd(r,t,i);break;default:ht()}}),NA.apply(this,arguments)}function POe(n,t,e){return kA.apply(this,arguments)}function kA(){return kA=(0,_e.Z)(function*(n,t,e){const i=VA(n);if(i.ca){for(const r of t){if(i.ea.has(r)){ze("SyncEngine","Adding an already active target "+r);continue}const s=yield $K(i.localStore,r),c=yield od(i.localStore,s);yield fA(i,mQ(s),c.targetId,!1),ly(i.remoteStore,c)}for(const r of e)i.ea.has(r)&&(yield ad(i.localStore,r,!1).then(()=>{A9(i.remoteStore,r),pd(i,r)}).catch(L0))}}),kA.apply(this,arguments)}function VA(n){const t=Qe(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=hQ.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=IOe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=SOe.bind(null,t),t.Zu.Ko=gOe.bind(null,t.eventManager),t.Zu.la=COe.bind(null,t.eventManager),t}function HA(n){const t=Qe(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=LOe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=EOe.bind(null,t),t}class _Q{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,_e.Z)(function*(){e.M=T9(t.databaseInfo.databaseId),e.sharedClientState=e.da(t),e.persistence=e._a(t),yield e.persistence.start(),e.gcScheduler=e.wa(t),e.localStore=e.ma(t)})()}wa(t){return null}ma(t){return UK(this.persistence,new BK,t.initialUser,this.M)}_a(t){return new WRe(HD.Wi,this.M)}da(t){return new QK}terminate(){var t=this;return(0,_e.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class vQ extends _Q{constructor(t,e,i){super(),this.ga=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,_e.Z)(function*(){yield e().call(i,t),yield i.ga.initialize(i,t),yield HA(i.ga.syncEngine),yield cd(i.ga.remoteStore),yield i.persistence.Is(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}ma(t){return UK(this.persistence,new BK,t.initialUser,this.M)}wa(t){return new TRe(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}_a(t){const e=TD(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Qr.withCacheSize(this.cacheSizeBytes):Qr.DEFAULT;return new ED(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,XK(),ay(),this.M,this.sharedClientState,!!this.forceOwnership)}da(t){return new QK}}class FOe extends vQ{constructor(t,e){super(t,e,!1),this.ga=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,_e.Z)(function*(){yield e().call(i,t);const r=i.ga.syncEngine;i.sharedClientState instanceof zD&&(i.sharedClientState.syncEngine={kr:VOe.bind(null,r),Mr:OOe.bind(null,r),Or:POe.bind(null,r),Os:ROe.bind(null,r),Nr:kOe.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Is(function(){var s=(0,_e.Z)(function*(c){yield function HOe(n,t){return AA.apply(this,arguments)}(i.ga.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):c||i.gcScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}da(t){const e=XK();if(!zD.vt(e))throw new Ie(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=TD(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new zD(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class RA{initialize(t,e){var i=this;return(0,_e.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>pQ(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=AOe.bind(null,i.syncEngine),yield nA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new pOe}createDatastore(t){const e=T9(t.databaseInfo.databaseId),i=new JRe(t.databaseInfo);return new tOe(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=d=>pQ(this.syncEngine,d,0),c=JK.vt()?new JK:new YRe,new iOe(e,i,r,s,c);var e,i,r,s,c}createSyncEngine(t,e){return function(i,r,s,c,d,h,_){const M=new bOe(i,r,s,c,d,h);return _&&(M.ca=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,_e.Z)(function*(e){const i=Qe(e);ze("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield ld(i),i.du.shutdown(),i._u.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function yQ(n,t=10240){let e=0;return{read:()=>(0,_e.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class uy{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.ya(this.observer.next,t)}error(t){this.observer.error?this.ya(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}pa(){this.muted=!0}ya(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class BOe{constructor(t,e){this.Ia=t,this.M=e,this.metadata=new e2,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ia.cancel()}getMetadata(){var t=this;return(0,_e.Z)(function*(){return t.metadata.promise})()}fa(){var t=this;return(0,_e.Z)(function*(){return yield t.getMetadata(),t.Ea()})()}Ea(){var t=this;return(0,_e.Z)(function*(){const e=yield t.Aa();if(null===e)return null;const i=t.Ta.decode(e),r=Number(i);isNaN(r)&&t.Ra(`length string (${i}) is not valid number`);const s=yield t.ba(r);return new mOe(JSON.parse(s),e.length+r)})()}Pa(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Aa(){var t=this;return(0,_e.Z)(function*(){for(;t.Pa()<0&&!(yield t.Va()););if(0===t.buffer.length)return null;const e=t.Pa();e<0&&t.Ra("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}ba(t){var e=this;return(0,_e.Z)(function*(){for(;e.buffer.length<t;)(yield e.Va())&&e.Ra("Reached the end of bundle when more is expected.");const i=e.Ta.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Ra(t){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${t}`)}Va(){var t=this;return(0,_e.Z)(function*(){const e=yield t.Ia.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class UOe{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ie(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,_e.Z)(function*(s,c){const d=Qe(s),h=v9(d.M)+"/documents",_={documents:c.map(N=>_9(d.M,N))},M=yield d.co("BatchGetDocuments",h,_),x=new Map;M.forEach(N=>{const H=function UHe(n,t){return"found"in t?function(e,i){Bt(!!i.found);const r=x3(e,i.found.name),s=n2(i.found.updateTime),c=new W2({mapValue:{fields:i.found.fields}});return Ei.newFoundDocument(r,s,c)}(n,t):"missing"in t?function(e,i){Bt(!!i.missing),Bt(!!i.readTime);const r=x3(e,i.missing),s=n2(i.readTime);return Ei.newNoDocument(r,s)}(n,t):ht()}(d.M,N);x.set(H.key.toString(),H)});const D=[];return c.forEach(N=>{const H=x.get(N.toString());Bt(!!H),D.push(H)}),D}),function(s,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new h9(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=We.fromPath(r);t.mutations.push(new dD(s,t.precondition(s)))}),yield(i=(0,_e.Z)(function*(r,s){const c=Qe(r),d=v9(c.M)+"/documents",h={writes:s.map(_=>y9(c.M,_))};yield c.ro("Commit",d,h)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ht();e=Rt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ie(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?x1.updateTime(e):x1.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Rt.min()))throw new Ie(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return x1.updateTime(e)}return x1.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class GOe{constructor(t,e,i,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=i,this.deferred=r,this.va=5,this.So=new FD(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var t=this;this.So.Io((0,_e.Z)(function*(){const e=new UOe(t.datastore),i=t.Da(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Ca(s)}))}).catch(r=>{t.Ca(r)})}))}Da(t){try{const e=this.updateFunction(t);return!p0(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ca(t){this.va>0&&this.xa(t)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(t)}xa(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!WY(e)}return!1}}class jOe{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=A2.UNAUTHENTICATED,this.clientId=cY.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,_e.Z)(function*(d){ze("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(ze("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,_e.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ie(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new e2;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=dd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function bQ(n,t){return OA.apply(this,arguments)}function OA(){return OA=(0,_e.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,_e.Z)(function*(s){i.isEqual(s)||(yield GK(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),OA.apply(this,arguments)}function MQ(n,t){return PA.apply(this,arguments)}function PA(){return PA=(0,_e.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield zA(n);ze("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>oQ(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>oQ(t.remoteStore,s)),n.onlineComponents=t}),PA.apply(this,arguments)}function zA(n){return FA.apply(this,arguments)}function FA(){return FA=(0,_e.Z)(function*(n){return n.offlineComponents||(ze("FirestoreClient","Using default OfflineComponentProvider"),yield bQ(n,new _Q)),n.offlineComponents}),FA.apply(this,arguments)}function dy(n){return BA.apply(this,arguments)}function BA(){return BA=(0,_e.Z)(function*(n){return n.onlineComponents||(ze("FirestoreClient","Using default OnlineComponentProvider"),yield MQ(n,new RA)),n.onlineComponents}),BA.apply(this,arguments)}function wQ(n){return zA(n).then(t=>t.persistence)}function UA(n){return zA(n).then(t=>t.localStore)}function xQ(n){return dy(n).then(t=>t.remoteStore)}function GA(n){return dy(n).then(t=>t.syncEngine)}function gd(n){return jA.apply(this,arguments)}function jA(){return jA=(0,_e.Z)(function*(n){const t=yield dy(n),e=t.eventManager;return e.onListen=MOe.bind(null,t.syncEngine),e.onUnlisten=wOe.bind(null,t.syncEngine),e}),jA.apply(this,arguments)}function SQ(n,t,e={}){const i=new e2;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(r,s,c,d,h){const _=new uy({next:x=>{s.enqueueAndForget(()=>aA(r,M));const D=x.docs.has(c);!D&&x.fromCache?h.reject(new Ie(de.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&x.fromCache&&d&&"server"===d.source?h.reject(new Ie(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(x)},error:x=>h.reject(x)}),M=new uA(Yu(c.path),_,{includeMetadataChanges:!0,Du:!0});return sA(r,M)}(yield gd(n),n.asyncQueue,t,e,i)})),i.promise}function LQ(n,t,e={}){const i=new e2;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(r,s,c,d,h){const _=new uy({next:x=>{s.enqueueAndForget(()=>aA(r,M)),x.fromCache&&"server"===d.source?h.reject(new Ie(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),M=new uA(c,_,{includeMetadataChanges:!0,Du:!0});return sA(r,M)}(yield gd(n),n.asyncQueue,t,e,i)})),i.promise}const EQ=new Map;function qA(n,t,e){if(!e)throw new Ie(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function TQ(n,t,e,i){if(!0===t&&!0===i)throw new Ie(de.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function DQ(n){if(!We.isDocumentKey(n))throw new Ie(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function AQ(n){if(We.isDocumentKey(n))throw new Ie(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ht()}function Mn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ie(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=fy(n);throw new Ie(de.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function IQ(n,t){if(t<=0)throw new Ie(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class NQ{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ie(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ie(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,TQ("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class I9{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NQ({}),this._settingsFrozen=!1,t instanceof J4?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ie(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new J4(r.options.projectId)}(t))}get app(){if(!this._app)throw new Ie(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ie(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NQ(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new tHe;switch(e.type){case"gapi":const i=e.client;return Bt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new sHe(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ie(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=EQ.get(t);e&&(ze("ComponentProvider","Removing Datastore"),EQ.delete(t),e.terminate())}(this),Promise.resolve()}}class Di{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new S3(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Di(this.firestore,t,this._key)}}class Z2{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Z2(this.firestore,t,this._query)}}class S3 extends Z2{constructor(t,e,i){super(t,e,Yu(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Di(this.firestore,null,new We(t))}withConverter(t){return new S3(this.firestore,t,this._path)}}function kQ(n,t,...e){if(n=(0,R.m9)(n),qA("collection","path",t),n instanceof I9){const i=En.fromString(t,...e);return AQ(i),new S3(n,null,i)}{if(!(n instanceof Di||n instanceof S3))throw new Ie(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(En.fromString(t,...e));return AQ(i),new S3(n.firestore,null,i)}}function hy(n,t,...e){if(n=(0,R.m9)(n),1===arguments.length&&(t=cY.R()),qA("doc","path",t),n instanceof I9){const i=En.fromString(t,...e);return DQ(i),new Di(n,null,new We(i))}{if(!(n instanceof Di||n instanceof S3))throw new Ie(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(En.fromString(t,...e));return DQ(i),new Di(n.firestore,n instanceof S3?n.converter:null,new We(i))}}function VQ(n,t){return n=(0,R.m9)(n),t=(0,R.m9)(t),(n instanceof Di||n instanceof S3)&&(t instanceof Di||t instanceof S3)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function HQ(n,t){return n=(0,R.m9)(n),t=(0,R.m9)(t),n instanceof Z2&&t instanceof Z2&&n.firestore===t.firestore&&u9(n._query,t._query)&&n.converter===t.converter}class tPe{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new FD(this,"async_queue_retry"),this.Ua=()=>{const e=ay();e&&ze("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const t=ay();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.qa(),this.Ga(t)}enterRestrictedMode(t){if(!this.Ma){this.Ma=!0,this.Ba=t||!1;const e=ay();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ua)}}enqueue(t){if(this.qa(),this.Ma)return new Promise(()=>{});const e=new e2;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.ka.push(t),this.Ka()))}Ka(){var t=this;return(0,_e.Z)(function*(){if(0!==t.ka.length){try{yield t.ka[0](),t.ka.shift(),t.So.reset()}catch(e){if(!y0(e))throw e;ze("AsyncQueue","Operation failed with retryable error: "+e)}t.ka.length>0&&t.So.Io(()=>t.Ka())}})()}Ga(t){const e=this.Na.then(()=>(this.$a=!0,t().catch(i=>{throw this.Fa=i,this.$a=!1,w1("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.$a=!1,i))));return this.Na=e,e}enqueueAfterDelay(t,e,i){this.qa(),this.La.indexOf(t)>-1&&(e=0);const r=rA.createAndSchedule(this,t,e,i,s=>this.Qa(s));return this.Oa.push(r),r}qa(){this.Fa&&ht()}verifyOperationInProgress(){}ja(){var t=this;return(0,_e.Z)(function*(){let e;do{e=t.Na,yield e}while(e!==t.Na)})()}Wa(t){for(const e of this.Oa)if(e.timerId===t)return!0;return!1}za(t){return this.ja().then(()=>{this.Oa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Oa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.ja()})}Ha(t){this.La.push(t)}Qa(t){const e=this.Oa.indexOf(t);this.Oa.splice(e,1)}}function $A(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class nPe{constructor(){this._progressObserver={},this._taskCompletionResolver=new e2,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class zi extends I9{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new tPe,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||RQ(this),this._firestoreClient.terminate()}}function L1(n){return n._firestoreClient||RQ(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function RQ(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new dHe(n._databaseId,s,n._persistenceKey,(d=e).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new jOe(n._authCredentials,n._appCheckCredentials,n._queue,i)}function OQ(n,t,e){const i=new e2;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield bQ(n,e),yield MQ(n,t),i.resolve()}catch(r){if(!("FirebaseError"===(s=r).name?s.code===de.FAILED_PRECONDITION||s.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var s})).then(()=>i.promise)}function PQ(n){if(n._initialized||n._terminated)throw new Ie(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class nl{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ie(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new t2(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class L3{constructor(t){this._byteString=t}static fromBase64String(t){try{return new L3(B1.fromBase64String(t))}catch(e){throw new Ie(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new L3(B1.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class T0{constructor(t){this._methodName=t}}class py{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ie(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ie(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return pn(this._lat,t._lat)||pn(this._long,t._long)}}const fPe=/^__.*__$/;class hPe{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new v0(t,this.data,this.fieldMask,e,this.fieldTransforms):new f9(t,this.data,e,this.fieldTransforms)}}class zQ{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new v0(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function FQ(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht()}}class gy{constructor(t,e,i,r,s,c){this.settings=t,this.databaseId=e,this.M=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Ja(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(t){return new gy(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Xa({path:i,tc:!1});return r.ec(t),r}nc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Xa({path:i,tc:!1});return r.Ja(),r}sc(t){return this.Xa({path:void 0,tc:!0})}ic(t){return _y(t,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Ja(){if(this.path)for(let t=0;t<this.path.length;t++)this.ec(this.path.get(t))}ec(t){if(0===t.length)throw this.ic("Document fields must not be empty");if(FQ(this.Ya)&&fPe.test(t))throw this.ic('Document fields cannot begin and end with "__"')}}class pPe{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.M=i||T9(t)}uc(t,e,i,r=!1){return new gy({Ya:t,methodName:e,oc:i,path:t2.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function D0(n){const t=n._freezeSettings(),e=T9(n._databaseId);return new pPe(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Cy(n,t,e,i,r,s={}){const c=n.uc(s.merge||s.mergeFields?2:0,t,e,r);KA("Data must be an object, but it was:",c,i);const d=GQ(i,c);let h,_;if(s.merge)h=new ju(c.fieldMask),_=c.fieldTransforms;else if(s.mergeFields){const M=[];for(const x of s.mergeFields){const D=QA(t,x,e);if(!c.contains(D))throw new Ie(de.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);qQ(M,D)||M.push(D)}h=new ju(M),_=c.fieldTransforms.filter(x=>h.covers(x.field))}else h=null,_=c.fieldTransforms;return new hPe(new W2(d),h,_)}class N9 extends T0{_toFieldTransform(t){if(2!==t.Ya)throw t.ic(1===t.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof N9}}function BQ(n,t,e){return new gy({Ya:3,oc:t.settings.oc,methodName:n._methodName,tc:e},t.databaseId,t.M,t.ignoreUndefinedProperties)}class WA extends T0{_toFieldTransform(t){return new d9(t.path,new Qu)}isEqual(t){return t instanceof WA}}class gPe extends T0{constructor(t,e){super(t),this.ac=e}_toFieldTransform(t){const e=BQ(this,t,!0),i=this.ac.map(s=>A0(s,e)),r=new m0(i);return new d9(t.path,r)}isEqual(t){return this===t}}class CPe extends T0{constructor(t,e){super(t),this.ac=e}_toFieldTransform(t){const e=BQ(this,t,!0),i=this.ac.map(s=>A0(s,e)),r=new _0(i);return new d9(t.path,r)}isEqual(t){return this===t}}class mPe extends T0{constructor(t,e){super(t),this.cc=e}_toFieldTransform(t){const e=new Ju(t.M,RY(t.M,this.cc));return new d9(t.path,e)}isEqual(t){return this===t}}function ZA(n,t,e,i){const r=n.uc(1,t,e);KA("Data must be an object, but it was:",r,i);const s=[],c=W2.empty();f0(i,(h,_)=>{const M=my(t,h,e);_=(0,R.m9)(_);const x=r.nc(M);if(_ instanceof N9)s.push(M);else{const D=A0(_,x);null!=D&&(s.push(M),c.set(M,D))}});const d=new ju(s);return new zQ(c,d,r.fieldTransforms)}function YA(n,t,e,i,r,s){const c=n.uc(1,t,e),d=[QA(t,i,e)],h=[r];if(s.length%2!=0)throw new Ie(de.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<s.length;D+=2)d.push(QA(t,s[D])),h.push(s[D+1]);const _=[],M=W2.empty();for(let D=d.length-1;D>=0;--D)if(!qQ(_,d[D])){const N=d[D];let H=h[D];H=(0,R.m9)(H);const U=c.nc(N);if(H instanceof N9)_.push(N);else{const Y=A0(H,U);null!=Y&&(_.push(N),M.set(N,Y))}}const x=new ju(_);return new zQ(M,x,c.fieldTransforms)}function UQ(n,t,e,i=!1){return A0(e,n.uc(i?4:3,t))}function A0(n,t){if(jQ(n=(0,R.m9)(n)))return KA("Unsupported field value:",t,n),GQ(n,t);if(n instanceof T0)return function(e,i){if(!FQ(i.Ya))throw i.ic(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ic(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.tc&&4!==t.Ya)throw t.ic("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const c of e){let d=A0(c,i.sc(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,R.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return RY(i.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=g1.fromDate(e);return{timestampValue:m9(i.M,r)}}if(e instanceof g1){const r=new g1(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:m9(i.M,r)}}if(e instanceof py)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof L3)return{bytesValue:tK(i.M,e._byteString)};if(e instanceof Di){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.ic(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:hD(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ic(`Unsupported field value: ${fy(e)}`)}(n,t)}function GQ(n,t){const e={};return fY(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):f0(n,(i,r)=>{const s=A0(r,t.Za(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function jQ(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof g1||n instanceof py||n instanceof L3||n instanceof Di||n instanceof T0)}function KA(n,t,e){if(!jQ(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=fy(e);throw t.ic("an object"===i?n+" a custom object":n+" "+i)}var i}function QA(n,t,e){if((t=(0,R.m9)(t))instanceof nl)return t._internalPath;if("string"==typeof t)return my(n,t);throw _y("Field path arguments must be of type string or ",n,!1,void 0,e)}const _Pe=new RegExp("[~\\*/\\[\\]]");function my(n,t,e){if(t.search(_Pe)>=0)throw _y(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new nl(...t.split("."))._internalPath}catch(i){throw _y(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function _y(n,t,e,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(s||c)&&(h+=" (found",s&&(h+=` in field ${i}`),c&&(h+=` in document ${r}`),h+=")"),new Ie(de.INVALID_ARGUMENT,d+n+h)}function qQ(n,t){return n.some(e=>e.isEqual(t))}class k9{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Di(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new vPe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(vy("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class vPe extends k9{data(){return super.data()}}function vy(n,t){return"string"==typeof t?my(n,t):t instanceof nl?t._internalPath:t._delegate._internalPath}class I0{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class il extends k9{constructor(t,e,i,r,s,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new V9(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(vy("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class V9 extends il{data(t={}){return super.data(t)}}class Yc{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new I0(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new V9(this._firestore,this._userDataWriter,i.key,i,new I0(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ie(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new V9(i._firestore,i._userDataWriter,c.doc.key,c.doc,new I0(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new V9(i._firestore,i._userDataWriter,c.doc.key,c.doc,new I0(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,_=-1;return 0!==c.type&&(h=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),_=s.indexOf(c.doc.key)),{type:yPe(c.type),doc:d,oldIndex:h,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function yPe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht()}}function $Q(n,t){return n instanceof il&&t instanceof il?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Yc&&t instanceof Yc&&n._firestore===t._firestore&&HQ(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function WQ(n){if(Bv(n)&&0===n.explicitOrderBy.length)throw new Ie(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class H9{}function Kc(n,...t){for(const e of t)n=e._apply(n);return n}class bPe extends H9{constructor(t,e,i){super(),this.hc=t,this.lc=e,this.fc=i,this.type="where"}_apply(t){const e=D0(t.firestore),i=function(r,s,c,d,h,_,M){let x;if(h.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new Ie(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){XQ(M,_);const N=[];for(const H of M)N.push(JQ(d,r,H));x={arrayValue:{values:N}}}else x=JQ(d,r,M)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||XQ(M,_),x=UQ(c,"where",M,"in"===_||"not-in"===_);const D=I2.create(h,_,x);return function(N,H){if(H.S()){const Y=oD(N);if(null!==Y&&!Y.isEqual(H.field))throw new Ie(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Y.toString()}' and '${H.field.toString()}'`);const ae=sD(N);null!==ae&&eJ(0,H.field,ae)}const U=function(Y,ae){for(const ce of Y.filters)if(ae.indexOf(ce.op)>=0)return ce.op;return null}(N,function(Y){switch(Y){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(H.op));if(null!==U)throw new Ie(de.INVALID_ARGUMENT,U===H.op?`Invalid query. You cannot use more than one '${H.op.toString()}' filter.`:`Invalid query. You cannot use '${H.op.toString()}' filters with '${U.toString()}' filters.`)}(r,D),D}(t._query,0,e,t.firestore._databaseId,this.hc,this.lc,this.fc);return new Z2(t.firestore,t.converter,function(r,s){const c=r.filters.concat([s]);return new el(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class wPe extends H9{constructor(t,e){super(),this.hc=t,this.dc=e,this.type="orderBy"}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new Ie(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ie(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Zu(r,s);return function(d,h){if(null===sD(d)){const _=oD(d);null!==_&&eJ(0,_,h.field)}}(i,c),c}(t._query,this.hc,this.dc);return new Z2(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new el(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class ZQ extends H9{constructor(t,e,i){super(),this.type=t,this._c=e,this.wc=i}_apply(t){return new Z2(t.firestore,t.converter,AY(t._query,this._c,this.wc))}}class YQ extends H9{constructor(t,e,i){super(),this.type=t,this.mc=e,this.gc=i}_apply(t){const e=QQ(t,this.type,this.mc,this.gc);return new Z2(t.firestore,t.converter,(r=e,new el((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class KQ extends H9{constructor(t,e,i){super(),this.type=t,this.mc=e,this.gc=i}_apply(t){const e=QQ(t,this.type,this.mc,this.gc);return new Z2(t.firestore,t.converter,(r=e,new el((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function QQ(n,t,e,i){if(e[0]=(0,R.m9)(e[0]),e[0]instanceof k9)return function(r,s,c,d,h){if(!d)throw new Ie(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const _=[];for(const M of Ku(r))if(M.field.isKeyField())_.push($u(s,d.key));else{const x=d.data.field(M.field);if(tD(x))throw new Ie(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const D=M.field.canonicalString();throw new Ie(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${D}' (used as the orderBy) does not exist.`)}_.push(x)}return new Bc(_,h)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=D0(n.firestore);return function(s,c,d,h,_,M){const x=s.explicitOrderBy;if(_.length>x.length)throw new Ie(de.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const D=[];for(let N=0;N<_.length;N++){const H=_[N];if(x[N].field.isKeyField()){if("string"!=typeof H)throw new Ie(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof H}`);if(!aD(s)&&-1!==H.indexOf("/"))throw new Ie(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${H}' contains a slash.`);const U=s.path.child(En.fromString(H));if(!We.isDocumentKey(U))throw new Ie(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${U}' is not because it contains an odd number of segments.`);const Y=new We(U);D.push($u(c,Y))}else{const U=UQ(d,h,H);D.push(U)}}return new Bc(D,M)}(n._query,n.firestore._databaseId,r,t,e,i)}}function JQ(n,t,e){if("string"==typeof(e=(0,R.m9)(e))){if(""===e)throw new Ie(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aD(t)&&-1!==e.indexOf("/"))throw new Ie(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(En.fromString(e));if(!We.isDocumentKey(i))throw new Ie(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return $u(n,new We(i))}if(e instanceof Di)return $u(n,e._key);throw new Ie(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fy(e)}.`)}function XQ(n,t){if(!Array.isArray(n)||0===n.length)throw new Ie(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ie(de.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function eJ(n,t,e){if(!e.isEqual(t))throw new Ie(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class JA{convertValue(t,e="none"){switch(g0(t)){case 0:return null;case 1:return t.booleanValue;case 2:return l1(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(h0(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ht()}}convertObject(t,e){const i={};return f0(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new py(l1(t.latitude),l1(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=hY(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(i9(t));default:return null}}convertTimestamp(t){const e=zc(t);return new g1(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=En.fromString(t);Bt(dK(i));const r=new J4(i.get(1),i.get(3)),s=new We(i.popFirst(5));return r.isEqual(e)||w1(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function yy(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class IPe extends JA{constructor(t){super(),this.firestore=t}convertBytes(t){return new L3(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Di(this.firestore,null,e)}}class tJ{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=D0(t)}set(t,e,i){this._verifyNotCommitted();const r=Qc(t,this._firestore),s=yy(r.converter,e,i),c=Cy(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,x1.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=Qc(t,this._firestore);let c;return c="string"==typeof(e=(0,R.m9)(e))||e instanceof nl?YA(this._dataReader,"WriteBatch.update",s._key,e,i,r):ZA(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(c.toMutation(s._key,x1.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Qc(t,this._firestore);return this._mutations=this._mutations.concat(new h9(e._key,x1.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ie(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qc(n,t){if((n=(0,R.m9)(n)).firestore!==t)throw new Ie(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class N0 extends JA{constructor(t){super(),this.firestore=t}convertBytes(t){return new L3(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Di(this.firestore,null,e)}}function nJ(n,t,e){n=Mn(n,Di);const i=Mn(n.firestore,zi),r=yy(n.converter,t,e);return Cd(i,[Cy(D0(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,x1.none())])}function iJ(n,t,e,...i){n=Mn(n,Di);const r=Mn(n.firestore,zi),s=D0(r);let c;return c="string"==typeof(t=(0,R.m9)(t))||t instanceof nl?YA(s,"updateDoc",n._key,t,e,i):ZA(s,"updateDoc",n._key,t),Cd(r,[c.toMutation(n._key,x1.exists(!0))])}function rJ(n,...t){var e,i,r;n=(0,R.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||$A(t[c])||(s=t[c],c++);const d={includeMetadataChanges:s.includeMetadataChanges};if($A(t[c])){const x=t[c];t[c]=null===(e=x.next)||void 0===e?void 0:e.bind(x),t[c+1]=null===(i=x.error)||void 0===i?void 0:i.bind(x),t[c+2]=null===(r=x.complete)||void 0===r?void 0:r.bind(x)}let h,_,M;if(n instanceof Di)_=Mn(n.firestore,zi),M=Yu(n._key.path),h={next:x=>{t[c]&&t[c](XA(_,n,x))},error:t[c+1],complete:t[c+2]};else{const x=Mn(n,Z2);_=Mn(x.firestore,zi),M=x._query;const D=new N0(_);h={next:N=>{t[c]&&t[c](new Yc(_,D,x,N))},error:t[c+1],complete:t[c+2]},WQ(n._query)}return function(x,D,N,H){const U=new uy(H),Y=new uA(D,U,N);return x.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return sA(yield gd(x),Y)})),()=>{U.pa(),x.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return aA(yield gd(x),Y)}))}}(L1(_),M,d,h)}function Cd(n,t){return function(e,i){const r=new e2;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function xOe(n,t,e){return gA.apply(this,arguments)}(yield GA(e),i,r)})),r.promise}(L1(n),t)}function XA(n,t,e){const i=e.docs.get(t._key),r=new N0(n);return new il(n,r,t._key,i,new I0(e.hasPendingWrites,e.fromCache),t.converter)}class BPe extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=D0(t)}get(t){const e=Qc(t,this._firestore),i=new IPe(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ht();const s=r[0];if(s.isFoundDocument())return new k9(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new k9(this._firestore,i,e._key,null,e.converter);throw ht()})}set(t,e,i){const r=Qc(t,this._firestore),s=yy(r.converter,e,i),c=Cy(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(t,e,i,...r){const s=Qc(t,this._firestore);let c;return c="string"==typeof(e=(0,R.m9)(e))||e instanceof nl?YA(this._dataReader,"Transaction.update",s._key,e,i,r):ZA(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,c),this}delete(t){const e=Qc(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Qc(t,this._firestore),i=new N0(this._firestore);return super.get(t).then(r=>new il(this._firestore,i,e._key,r._document,new I0(!1,!1),e.converter))}}function eI(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ie("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function oJ(){if("undefined"==typeof Uint8Array)throw new Ie("unimplemented","Uint8Arrays are not available in this environment.")}function aJ(){if(!function cHe(){return"undefined"!=typeof atob}())throw new Ie("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Uu=fr.SDK_VERSION,(0,fr._registerComponent)(new oa.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),s=new zi(r,new iHe(e.getProvider("auth-internal")),new oHe(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC")),(0,fr.registerVersion)(oY,"3.4.7",n),(0,fr.registerVersion)(oY,"3.4.7","esm2017")}();class R9{constructor(t){this._delegate=t}static fromBase64String(t){return aJ(),new R9(L3.fromBase64String(t))}static fromUint8Array(t){return oJ(),new R9(L3.fromUint8Array(t))}toBase64(){return aJ(),this._delegate.toBase64()}toUint8Array(){return oJ(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function tI(n){return function KPe(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class QPe{enableIndexedDbPersistence(t,e){return function rPe(n,t){PQ(n=Mn(n,zi));const e=L1(n),i=n._freezeSettings(),r=new RA;return OQ(e,r,new vQ(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function sPe(n){PQ(n=Mn(n,zi));const t=L1(n),e=n._freezeSettings(),i=new RA;return OQ(t,i,new FOe(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function oPe(n){if(n._initialized&&!n._terminated)throw new Ie(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new e2;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(e=(0,_e.Z)(function*(i){if(!ga.vt())return Promise.resolve();const r=i+"main";yield ga.delete(r)}),function(i){return e.apply(this,arguments)})(TD(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class lJ{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof J4||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&t9("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function XOe(n,t,e,i={}){var r;const s=(n=Mn(n,I9))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&t9("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=A2.MOCK_USER;else{c=(0,R.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new Ie(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new A2(h)}n._authCredentials=new nHe(new aY(c,d))}}(this._delegate,t,e,i)}enableNetwork(){return function lPe(n){return function qOe(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const t=yield wQ(n),e=yield xQ(n);return t.setNetworkEnabled(!0),function(i){const r=Qe(i);return r.lu.delete(0),D9(r)}(e)}))}(L1(n=Mn(n,zi)))}(this._delegate)}disableNetwork(){return function cPe(n){return function $Oe(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const t=yield wQ(n),e=yield xQ(n);return t.setNetworkEnabled(!1),(i=(0,_e.Z)(function*(r){const s=Qe(r);s.lu.add(0),yield ld(s),s._u.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(L1(n=Mn(n,zi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,TQ("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function aPe(n){return function(t){const e=new e2;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function TOe(n,t){return yA.apply(this,arguments)}(yield GA(t),e)})),e.promise}(L1(n=Mn(n,zi)))}(this._delegate)}onSnapshotsInSync(t){return function FPe(n,t){return function YOe(n,t){const e=new uy(t);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return i=yield gd(n),r=e,Qe(i).Tu.add(r),void r.next();var i,r})),()=>{e.pa(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return i=yield gd(n),r=e,void Qe(i).Tu.delete(r);var i,r}))}}(L1(n=Mn(n,zi)),$A(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ie("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new md(this,kQ(this._delegate,t))}catch(e){throw br(e,"collection()","Firestore.collection()")}}doc(t){try{return new wo(this,hy(this._delegate,t))}catch(e){throw br(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Mr(this,function ePe(n,t){if(n=Mn(n,I9),qA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ie(de.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Z2(n,null,(e=t,new el(En.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw br(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function UPe(n,t){return function KOe(n,t){const e=new e2;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const i=yield(r=n,dy(r).then(s=>s.datastore));var r;new GOe(n.asyncQueue,i,t,e).run()})),e.promise}(L1(n=Mn(n,zi)),e=>t(new BPe(n,e)))}(this._delegate,e=>t(new cJ(this,e)))}batch(){return L1(this._delegate),new uJ(new tJ(this._delegate,t=>Cd(this._delegate,t)))}loadBundle(t){return function uPe(n,t){const e=L1(n=Mn(n,zi)),i=new nPe;return function QOe(n,t,e,i){const r=function(s,c){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,h=function(h,_){if(h instanceof Uint8Array)return yQ(h,_);if(h instanceof ArrayBuffer)return yQ(new Uint8Array(h),_);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new BOe(h,c);var h}(e,T9(t));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function zOe(n,t,e){const i=Qe(n);var r;(r=(0,_e.Z)(function*(s,c,d){try{const h=yield c.getMetadata();if(yield function(D,N){const H=Qe(D),U=n2(N.createTime);return H.persistence.runTransaction("hasNewerBundle","readonly",Y=>H.ds.getBundleMetadata(Y,N.id)).then(Y=>!!Y&&Y.createTime.compareTo(U)>=0)}(s.localStore,h))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(D=h).totalDocuments,bytesLoaded:D.totalBytes,totalDocuments:D.totalDocuments,totalBytes:D.totalBytes}),Promise.resolve(new Set);d._updateProgress(cQ(h));const _=new _Oe(h,s.localStore,c.M);let M=yield c.fa();for(;M;){const D=yield _.Nu(M);D&&d._updateProgress(D),M=yield c.fa()}const x=yield _.complete();return yield tl(s,x.Ou,void 0),yield function(D,N){const H=Qe(D);return H.persistence.runTransaction("Save bundle","readwrite",U=>H.ds.saveBundleMetadata(U,N))}(s.localStore,h),d._completeWith(x.progress),Promise.resolve(x.Mu)}catch(h){return t9("SyncEngine",`Loading bundle failed with ${h}`),d._failWith(h),Promise.resolve(new Set)}var D}),function(s,c,d){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield GA(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function dPe(n,t){return function JOe(n,t){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(e,i){const r=Qe(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.ds.getNamedQuery(s,i))}(yield UA(n),t)}))}(L1(n=Mn(n,zi)),t).then(e=>e?new Z2(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Mr(this,e):null)}}class by extends JA{constructor(t){super(),this.firestore=t}convertBytes(t){return new R9(new L3(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return wo.forKey(e,this.firestore,null)}}class cJ{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new by(t)}get(t){const e=V0(t);return this._delegate.get(e).then(i=>new O9(this._firestore,new il(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=V0(t);return i?(eI("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=V0(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=V0(t);return this._delegate.delete(e),this}}class uJ{constructor(t){this._delegate=t}set(t,e,i){const r=V0(t);return i?(eI("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=V0(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=V0(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class k0{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new V9(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new P9(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=k0.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new k0(t,new by(t),e),r.set(e,s)),s}}k0.INSTANCES=new WeakMap;class wo{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new by(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ie("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new wo(e,new Di(e._delegate,i,new We(t)))}static forKey(t,e,i){return new wo(e,new Di(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new md(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new md(this.firestore,kQ(this._delegate,t))}catch(e){throw br(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,R.m9)(t))instanceof Di&&VQ(this._delegate,t)}set(t,e){e=eI("DocumentReference.set",e);try{return e?nJ(this._delegate,t,e):nJ(this._delegate,t)}catch(i){throw br(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?iJ(this._delegate,t):iJ(this._delegate,t,e,...i)}catch(r){throw br(r,"updateDoc()","DocumentReference.update()")}}delete(){return function PPe(n){return Cd(Mn(n.firestore,zi),[new h9(n._key,x1.none())])}(this._delegate)}onSnapshot(...t){const e=dJ(t),i=fJ(t,r=>new O9(this.firestore,new il(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return rJ(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function kPe(n){n=Mn(n,Di);const t=Mn(n.firestore,zi),e=L1(t),i=new N0(t);return function WOe(n,t){const e=new e2;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(i=(0,_e.Z)(function*(r,s,c){try{const d=yield function(h,_){const M=Qe(h);return M.persistence.runTransaction("read document","readonly",x=>M.ai.Bs(x,_))}(r,s);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new Ie(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const h=dd(d,`Failed to get document '${s} from cache`);c.reject(h)}}),function(r,s,c){return i.apply(this,arguments)})(yield UA(n),t,e);var i})),e.promise}(e,n._key).then(r=>new il(t,i,n._key,r,new I0(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function VPe(n){n=Mn(n,Di);const t=Mn(n.firestore,zi);return SQ(L1(t),n._key,{source:"server"}).then(e=>XA(t,n,e))}(this._delegate):function NPe(n){n=Mn(n,Di);const t=Mn(n.firestore,zi);return SQ(L1(t),n._key).then(e=>XA(t,n,e))}(this._delegate),e.then(i=>new O9(this.firestore,new il(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new wo(this.firestore,this._delegate.withConverter(t?k0.getInstance(this.firestore,t):null))}}function br(n,t,e){return n.message=n.message.replace(t,e),n}function dJ(n){for(const t of n)if("object"==typeof t&&!tI(t))return t;return{}}function fJ(n,t){var e,i;let r;return r=tI(n[0])?n[0]:tI(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class O9{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new wo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return $Q(this._delegate,t._delegate)}}class P9 extends O9{data(t){const e=this._delegate.data(t);return function eHe(n,t){n||ht()}(void 0!==e),e}}class Mr{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new by(t)}where(t,e,i){try{return new Mr(this.firestore,Kc(this._delegate,function MPe(n,t,e){const i=t,r=vy("where",n);return new bPe(r,i,e)}(t,e,i)))}catch(r){throw br(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Mr(this.firestore,Kc(this._delegate,function xPe(n,t="asc"){const e=t,i=vy("orderBy",n);return new wPe(i,e)}(t,e)))}catch(i){throw br(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Mr(this.firestore,Kc(this._delegate,function SPe(n){return IQ("limit",n),new ZQ("limit",n,"F")}(t)))}catch(e){throw br(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Mr(this.firestore,Kc(this._delegate,function LPe(n){return IQ("limitToLast",n),new ZQ("limitToLast",n,"L")}(t)))}catch(e){throw br(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Mr(this.firestore,Kc(this._delegate,function EPe(...n){return new YQ("startAt",n,!0)}(...t)))}catch(e){throw br(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Mr(this.firestore,Kc(this._delegate,function TPe(...n){return new YQ("startAfter",n,!1)}(...t)))}catch(e){throw br(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Mr(this.firestore,Kc(this._delegate,function DPe(...n){return new KQ("endBefore",n,!1)}(...t)))}catch(e){throw br(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Mr(this.firestore,Kc(this._delegate,function APe(...n){return new KQ("endAt",n,!0)}(...t)))}catch(e){throw br(e,"endAt()","Query.endAt()")}}isEqual(t){return HQ(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function RPe(n){n=Mn(n,Z2);const t=Mn(n.firestore,zi),e=L1(t),i=new N0(t);return function ZOe(n,t){const e=new e2;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(i=(0,_e.Z)(function*(r,s,c){try{const d=yield ry(r,s,!0),h=new fQ(s,d.hi),_=h.Gu(d.documents),M=h.applyChanges(_,!1);c.resolve(M.snapshot)}catch(d){const h=dd(d,`Failed to execute query '${s} against cache`);c.reject(h)}}),function(r,s,c){return i.apply(this,arguments)})(yield UA(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Yc(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function OPe(n){n=Mn(n,Z2);const t=Mn(n.firestore,zi),e=L1(t),i=new N0(t);return LQ(e,n._query,{source:"server"}).then(r=>new Yc(t,i,n,r))}(this._delegate):function HPe(n){n=Mn(n,Z2);const t=Mn(n.firestore,zi),e=L1(t),i=new N0(t);return WQ(n._query),LQ(e,n._query).then(r=>new Yc(t,i,n,r))}(this._delegate),e.then(i=>new nI(this.firestore,new Yc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=dJ(t),i=fJ(t,r=>new nI(this.firestore,new Yc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return rJ(this._delegate,e,i)}withConverter(t){return new Mr(this.firestore,this._delegate.withConverter(t?k0.getInstance(this.firestore,t):null))}}class XPe{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new P9(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class nI{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Mr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new P9(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new XPe(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new P9(this._firestore,i))})}isEqual(t){return $Q(this._delegate,t._delegate)}}class md extends Mr{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new wo(this.firestore,t):null}doc(t){try{return new wo(this.firestore,void 0===t?hy(this._delegate):hy(this._delegate,t))}catch(e){throw br(e,"doc()","CollectionReference.doc()")}}add(t){return function zPe(n,t){const e=Mn(n.firestore,zi),i=hy(n),r=yy(n.converter,t);return Cd(e,[Cy(D0(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,x1.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new wo(this.firestore,e))}isEqual(t){return VQ(this._delegate,t._delegate)}withConverter(t){return new md(this.firestore,this._delegate.withConverter(t?k0.getInstance(this.firestore,t):null))}}function V0(n){return Mn(n,Di)}class iI{constructor(...t){this._delegate=new nl(...t)}static documentId(){return new iI(t2.keyField().canonicalString())}isEqual(t){return(t=(0,R.m9)(t))instanceof nl&&this._delegate._internalPath.isEqual(t._internalPath)}}class H0{constructor(t){this._delegate=t}static serverTimestamp(){const t=function jPe(){return new WA("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new H0(t)}static delete(){const t=function GPe(){return new N9("deleteField")}();return t._methodName="FieldValue.delete",new H0(t)}static arrayUnion(...t){const e=function qPe(...n){return new gPe("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new H0(e)}static arrayRemove(...t){const e=function $Pe(...n){return new CPe("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new H0(e)}static increment(t){const e=function WPe(n){return new mPe("increment",n)}(t);return e._methodName="FieldValue.increment",new H0(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const eze={Firestore:lJ,GeoPoint:py,Timestamp:g1,Blob:R9,Transaction:cJ,WriteBatch:uJ,DocumentReference:wo,DocumentSnapshot:O9,Query:Mr,QueryDocumentSnapshot:P9,QuerySnapshot:nI,CollectionReference:md,FieldPath:iI,FieldValue:H0,setLogLevel:function JPe(n){!function XVe(n){Pc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function hJ(n,t){return function ize(n,t=Vr.z){return new xn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function rI(n,t){return hJ(n,t).pipe((0,je.U)(e=>({payload:e,type:"query"})))}function My(n,t){return rI(n,t).pipe(ki(void 0),aT(),(0,je.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,d)=>{const h=r.find(M=>M.doc.ref.isEqual(c.ref)),_=null==e?void 0:e.payload.docs.find(M=>M.ref.isEqual(c.ref));h&&JSON.stringify(h.doc.metadata)===JSON.stringify(c.metadata)||!h&&_&&JSON.stringify(_.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),s}))}function pJ(n,t,e){return My(n,e).pipe(l3((i,r)=>function sze(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function oze(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return sI(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return sI(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return sI(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),_2(),(0,je.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function sI(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function gJ(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function nze(n){(function tze(n,t){n.INTERNAL.registerComponent(new oa.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},eze)))})(n,(t,e)=>new lJ(t,e,new QPe)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(dL.Z);class CJ{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=My(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,je.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(ki(void 0),aT(),Dn(([i,r])=>r.length>0||!i),(0,je.U)(([i,r])=>r),Un.iC)}auditTrail(t){return this.stateChanges(t).pipe(l3((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=gJ(t);return pJ(this.query,e,this.afs.schedulers.outsideAngular).pipe(Un.iC)}valueChanges(t={}){return rI(this.query,this.afs.schedulers.outsideAngular).pipe((0,je.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Un.iC)}get(t){return(0,Sn.D)(this.query.get(t)).pipe(Un.iC)}add(t){return this.ref.add(t)}doc(t){return new mJ(this.ref.doc(t),this.afs)}}class mJ{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=_J(i,e);return new CJ(r,s,this.afs)}snapshotChanges(){return function rze(n,t){return hJ(n,t).pipe(ki(void 0),aT(),(0,je.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Un.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,je.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Sn.D)(this.ref.get(t)).pipe(Un.iC)}}class aze{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?My(this.query,this.afs.schedulers.outsideAngular).pipe((0,je.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Dn(e=>e.length>0),Un.iC):My(this.query,this.afs.schedulers.outsideAngular).pipe(Un.iC)}auditTrail(t){return this.stateChanges(t).pipe(l3((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=gJ(t);return pJ(this.query,e,this.afs.schedulers.outsideAngular).pipe(Un.iC)}valueChanges(t={}){return rI(this.query,this.afs.schedulers.outsideAngular).pipe((0,je.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Un.iC)}get(t){return(0,Sn.D)(this.query.get(t)).pipe(Un.iC)}}const lze=new o.OlP("angularfire2.enableFirestorePersistence"),cze=new o.OlP("angularfire2.firestore.persistenceSettings"),uze=new o.OlP("angularfire2.firestore.settings"),dze=new o.OlP("angularfire2.firestore.use-emulator");function _J(n,t=(e=>e)){return{query:t(n),ref:n}}let fze=(()=>{class n{constructor(e,i,r,s,c,d,h,_,M,x,D,N,H,U,Y,ae,ce){this.schedulers=h;const ke=(0,F1.on)(e,d,i),Te=M;x&&sT(ke,d,D,H,U,Y,N,ae),[this.firestore,this.persistenceEnabled$]=(0,F1.cc)(`${ke.name}.firestore`,"AngularFirestore",ke.name,()=>{const tt=d.runOutsideAngular(()=>ke.firestore());if(s&&tt.settings(s),Te&&tt.useEmulator(...Te),r&&!Yn(c)){const st=()=>{try{return(0,Sn.D)(tt.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(un){return"undefined"!=typeof console&&console.warn(un),lt(!1)}};return[tt,d.runOutsideAngular(st)]}return[tt,lt(!1)]},[s,Te,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:c}=_J(r,i),d=this.schedulers.ngZone.run(()=>s);return new CJ(d,c,this)}collectionGroup(e,i){const r=i||(c=>c),s=this.firestore.collectionGroup(e);return new aze(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new mJ(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(F1.Dh),o.LFG(F1.xv,8),o.LFG(lze,8),o.LFG(uze,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Un.HU),o.LFG(cze,8),o.LFG(dze,8),o.LFG(oT,8),o.LFG(XE,8),o.LFG(eT,8),o.LFG(tT,8),o.LFG(nT,8),o.LFG(iT,8),o.LFG(rT,8),o.LFG(oh,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const vJ_firebaseConfig={apiKey:"AIzaSyC-O0-Lj0tjPToBSQpFqIcgGJaMt8Ia6YA",authDomain:"eurouuni-ced0b.firebaseapp.com",databaseURL:"https://eurouuni-ced0b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"eurouuni-ced0b",storageBucket:"eurouuni-ced0b.appspot.com",messagingSenderId:"656902143819",appId:"1:656902143819:web:b9849abebd514f1e30f2ce"};let hze=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[exe]}),n.\u0275inj=o.cJS({providers:[Bf,As,x2,fze],imports:[[Ur,ir,ug,Bee,MSe,wV,QSe,ate,rne,gH,Ox,Sq,Bl,qb,Dne,Kie,Lwe,F1.hO.initializeApp(vJ_firebaseConfig),qke,VTe,wV,Sq,bi,Ur,E5,bi,ir]]}),n})();(0,o.G48)(),as().bootstrapModule(hze).catch(n=>console.error(n))},5867:(pt,xe,O)=>{O.d(xe,{C6:()=>o.getApps,Mq:()=>o.getApp});var o=O(9681);(0,o.registerVersion)("firebase","9.6.10","app")},127:(pt,xe,O)=>{O.d(xe,{Z:()=>o.Z});var o=O(3942);o.Z.registerVersion("firebase","9.6.10","app-compat")},1254:(pt,xe,O)=>{O.r(xe);var o=O(5861),X=O(3942),P=O(2090),le=O(9681);function ue(v,g){var C={};for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&g.indexOf(b)<0&&(C[b]=v[b]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var T=0;for(b=Object.getOwnPropertySymbols(v);T<b.length;T++)g.indexOf(b[T])<0&&Object.prototype.propertyIsEnumerable.call(v,b[T])&&(C[b[T]]=v[b[T]])}return C}var Oe=O(1877),he=O(4859);const k2=function St(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},m1=function Nn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},kn=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),si=new Oe.Yd("@firebase/auth");function Ai(v,...g){si.logLevel<=Oe.in.ERROR&&si.error(`Auth (${le.SDK_VERSION}): ${v}`,...g)}function vn(v,...g){throw Yi(v,...g)}function Wn(v,...g){return Yi(v,...g)}function Gs(v,g,C){const b=Object.assign(Object.assign({},m1()),{[g]:C});return new P.LL("auth","Firebase",b).create(g,{appName:v.name})}function l2(v,g,C){if(!(g instanceof C))throw C.name!==g.constructor.name&&vn(v,"argument-error"),Gs(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yi(v,...g){if("string"!=typeof v){const C=g[0],b=[...g.slice(1)];return b[0]&&(b[0].appName=v.name),v._errorFactory.create(C,...b)}return kn.create(v,...g)}function Ae(v,g,...C){if(!v)throw Yi(g,...C)}function Fi(v){const g="INTERNAL ASSERTION FAILED: "+v;throw Ai(g),new Error(g)}function oi(v,g){v||Fi(g)}const yt=new Map;function Cn(v){oi(v instanceof Function,"Expected a class definition");let g=yt.get(v);return g?(oi(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,yt.set(v,g),g)}function U1(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function c1(){return"http:"===Ki()||"https:"===Ki()}function Ki(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class wn{constructor(g,C){this.shortDelay=g,this.longDelay=C,oi(C>g,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function ai(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(c1()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function nt(v,g){oi(v.emulator,"Emulator should always be set here");const{url:C}=v.emulator;return g?`${C}${g.startsWith("/")?g.slice(1):g}`:C}class Lt{static initialize(g,C,b){this.fetchImpl=g,C&&(this.headersImpl=C),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},K2=new wn(3e4,6e4);function mn(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function Tt(v,g,C,b){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,o.Z)(function*(v,g,C,b,T={}){return Xr(v,T,(0,o.Z)(function*(){let I={},G={};b&&("GET"===g?G=b:I={body:JSON.stringify(b)});const ie=(0,P.xO)(Object.assign({key:v.config.apiKey},G)).slice(1),He=yield v._getAdditionalHeaders();return He["Content-Type"]="application/json",v.languageCode&&(He["X-Firebase-Locale"]=v.languageCode),Lt.fetch()(Xe(v,v.config.apiHost,C,ie),Object.assign({method:g,headers:He,referrerPolicy:"no-referrer"},I))}))})).apply(this,arguments)}function Xr(v,g,C){return _n.apply(this,arguments)}function _n(){return(_n=(0,o.Z)(function*(v,g,C){v._canInitEmulator=!1;const b=Object.assign(Object.assign({},wr),g);try{const T=new Se(v),I=yield Promise.race([C(),T.promise]);T.clearNetworkTimeout();const G=yield I.json();if("needConfirmation"in G)throw ut(v,"account-exists-with-different-credential",G);if(I.ok&&!("errorMessage"in G))return G;{const ie=I.ok?G.errorMessage:G.error.message,[He,Ne]=ie.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw ut(v,"credential-already-in-use",G);if("EMAIL_EXISTS"===He)throw ut(v,"email-already-in-use",G);const at=b[He]||He.toLowerCase().replace(/[_\s]+/g,"-");if(Ne)throw Gs(v,at,Ne);vn(v,at)}}catch(T){if(T instanceof P.ZR)throw T;vn(v,"network-request-failed")}})).apply(this,arguments)}function Dt(v,g,C,b){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,o.Z)(function*(v,g,C,b,T={}){const I=yield Tt(v,g,C,b,T);return"mfaPendingCredential"in I&&vn(v,"multi-factor-auth-required",{_serverResponse:I}),I})).apply(this,arguments)}function Xe(v,g,C,b){const T=`${g}${C}?${b}`;return v.config.emulator?nt(v.config,T):`${v.config.apiScheme}://${T}`}class Se{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((C,b)=>{this.timer=setTimeout(()=>b(Wn(this.auth,"network-request-failed")),K2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ut(v,g,C){const b={appName:v.name};C.email&&(b.email=C.email),C.phoneNumber&&(b.phoneNumber=C.phoneNumber);const T=Wn(v,g,b);return T.customData._tokenResponse=C,T}function Zt(){return(Zt=(0,o.Z)(function*(v,g){return Tt(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function yn(v,g){return q.apply(this,arguments)}function q(){return(q=(0,o.Z)(function*(v,g){return Tt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function B(v,g){return Z.apply(this,arguments)}function Z(){return(Z=(0,o.Z)(function*(v,g){return Tt(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function pe(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Mt(){return(Mt=(0,o.Z)(function*(v,g=!1){const C=(0,P.m9)(v),b=yield C.getIdToken(g),T=Bi(b);Ae(T&&T.exp&&T.auth_time&&T.iat,C.auth,"internal-error");const I="object"==typeof T.firebase?T.firebase:void 0,G=null==I?void 0:I.sign_in_provider;return{claims:T,token:b,authTime:pe(dn(T.auth_time)),issuedAtTime:pe(dn(T.iat)),expirationTime:pe(dn(T.exp)),signInProvider:G||null,signInSecondFactor:(null==I?void 0:I.sign_in_second_factor)||null}})).apply(this,arguments)}function dn(v){return 1e3*Number(v)}function Bi(v){const[g,C,b]=v.split(".");if(void 0===g||void 0===C||void 0===b)return Ai("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,P.tV)(C);return T?JSON.parse(T):(Ai("Failed to decode base64 JWT payload"),null)}catch(T){return Ai("Caught error parsing JWT payload as JSON",T),null}}function on(v,g){return zt.apply(this,arguments)}function zt(){return(zt=(0,o.Z)(function*(v,g,C=!1){if(C)return g;try{return yield g}catch(b){throw b instanceof P.ZR&&li(b)&&v.auth.currentUser===v&&(yield v.auth.signOut()),b}})).apply(this,arguments)}function li({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class ci{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var C;if(g){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const T=(null!==(C=this.user.stsTokenManager.expirationTime)&&void 0!==C?C:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(g=!1){var C=this;if(!this.isRunning)return;const b=this.getInterval(g);this.timerId=setTimeout((0,o.Z)(function*(){yield C.iteration()}),b)}iteration(){var g=this;return(0,o.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===C.code&&g.schedule(!0))}g.schedule()})()}}class Q2{constructor(g,C){this.createdAt=g,this.lastLoginAt=C,this._initializeTime()}_initializeTime(){this.lastSignInTime=pe(this.lastLoginAt),this.creationTime=pe(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function js(v){return xr.apply(this,arguments)}function xr(){return(xr=(0,o.Z)(function*(v){var g;const C=v.auth,b=yield v.getIdToken(),T=yield on(v,B(C,{idToken:b}));Ae(null==T?void 0:T.users.length,C,"internal-error");const I=T.users[0];v._notifyReloadListener(I);const G=(null===(g=I.providerUserInfo)||void 0===g?void 0:g.length)?Xc(I.providerUserInfo):[],ie=yi(v.providerData,G),at=!!v.isAnonymous&&!(v.email&&I.passwordHash||(null==ie?void 0:ie.length)),dt={uid:I.localId,displayName:I.displayName||null,photoURL:I.photoUrl||null,email:I.email||null,emailVerified:I.emailVerified||!1,phoneNumber:I.phoneNumber||null,tenantId:I.tenantId||null,providerData:ie,metadata:new Q2(I.createdAt,I.lastLoginAt),isAnonymous:at};Object.assign(v,dt)})).apply(this,arguments)}function c2(){return(c2=(0,o.Z)(function*(v){const g=(0,P.m9)(v);yield js(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function yi(v,g){return[...v.filter(b=>!g.some(T=>T.providerId===b.providerId)),...g]}function Xc(v){return v.map(g=>{var{providerId:C}=g,b=ue(g,["providerId"]);return{providerId:C,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function $e(){return($e=(0,o.Z)(function*(v,g){const C=yield Xr(v,{},(0,o.Z)(function*(){const b=(0,P.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:T,apiKey:I}=v.config,G=Xe(v,T,"/v1/token",`key=${I}`),ie=yield v._getAdditionalHeaders();return ie["Content-Type"]="application/x-www-form-urlencoded",Lt.fetch()(G,{method:"POST",headers:ie,body:b})}));return{accessToken:C.access_token,expiresIn:C.expires_in,refreshToken:C.refresh_token}})).apply(this,arguments)}class Vt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Ae(g.idToken,"internal-error"),Ae(void 0!==g.idToken,"internal-error"),Ae(void 0!==g.refreshToken,"internal-error");const C="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function vi(v){const g=Bi(v);return Ae(g,"internal-error"),Ae(void 0!==g.exp,"internal-error"),Ae(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,C)}getToken(g,C=!1){var b=this;return(0,o.Z)(function*(){return Ae(!b.accessToken||b.refreshToken,g,"user-token-expired"),C||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(g,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,C){var b=this;return(0,o.Z)(function*(){const{accessToken:T,refreshToken:I,expiresIn:G}=yield function G1(v,g){return $e.apply(this,arguments)}(g,C);b.updateTokensAndExpiration(T,I,Number(G))})()}updateTokensAndExpiration(g,C,b){this.refreshToken=C||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(g,C){const{refreshToken:b,accessToken:T,expirationTime:I}=C,G=new Vt;return b&&(Ae("string"==typeof b,"internal-error",{appName:g}),G.refreshToken=b),T&&(Ae("string"==typeof T,"internal-error",{appName:g}),G.accessToken=T),I&&(Ae("number"==typeof I,"internal-error",{appName:g}),G.expirationTime=I),G}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Vt,this.toJSON())}_performRefresh(){return Fi("not implemented")}}function an(v,g){Ae("string"==typeof v||void 0===v,"internal-error",{appName:g})}class ui{constructor(g){var{uid:C,auth:b,stsTokenManager:T}=g,I=ue(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ci(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=C,this.auth=b,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=I.displayName||null,this.email=I.email||null,this.emailVerified=I.emailVerified||!1,this.phoneNumber=I.phoneNumber||null,this.photoURL=I.photoURL||null,this.isAnonymous=I.isAnonymous||!1,this.tenantId=I.tenantId||null,this.providerData=I.providerData?[...I.providerData]:[],this.metadata=new Q2(I.createdAt||void 0,I.lastLoginAt||void 0)}getIdToken(g){var C=this;return(0,o.Z)(function*(){const b=yield on(C,C.stsTokenManager.getToken(C.auth,g));return Ae(b,C.auth,"internal-error"),C.accessToken!==b&&(C.accessToken=b,yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)),b})()}getIdTokenResult(g){return function Ge(v){return Mt.apply(this,arguments)}(this,g)}reload(){return function Lo(v){return c2.apply(this,arguments)}(this)}_assign(g){this!==g&&(Ae(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(C=>Object.assign({},C)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new ui(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,C=!1){var b=this;return(0,o.Z)(function*(){let T=!1;g.idToken&&g.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(g),T=!0),C&&(yield js(b)),yield b.auth._persistUserIfCurrent(b),T&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var g=this;return(0,o.Z)(function*(){const C=yield g.getIdToken();return yield on(g,function mt(v,g){return Zt.apply(this,arguments)}(g.auth,{idToken:C})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,C){var b,T,I,G,ie,He,Ne,at;const dt=null!==(b=C.displayName)&&void 0!==b?b:void 0,sn=null!==(T=C.email)&&void 0!==T?T:void 0,Xn=null!==(I=C.phoneNumber)&&void 0!==I?I:void 0,ys=null!==(G=C.photoURL)&&void 0!==G?G:void 0,jl=null!==(ie=C.tenantId)&&void 0!==ie?ie:void 0,R6=null!==(He=C._redirectEventId)&&void 0!==He?He:void 0,u4=null!==(Ne=C.createdAt)&&void 0!==Ne?Ne:void 0,C8=null!==(at=C.lastLoginAt)&&void 0!==at?at:void 0,{uid:ql,emailVerified:O6,isAnonymous:m8,providerData:d4,stsTokenManager:P6}=C;Ae(ql&&P6,g,"internal-error");const $l=Vt.fromJSON(this.name,P6);Ae("string"==typeof ql,g,"internal-error"),an(dt,g.name),an(sn,g.name),Ae("boolean"==typeof O6,g,"internal-error"),Ae("boolean"==typeof m8,g,"internal-error"),an(Xn,g.name),an(ys,g.name),an(jl,g.name),an(R6,g.name),an(u4,g.name),an(C8,g.name);const t3=new ui({uid:ql,auth:g,email:sn,emailVerified:O6,displayName:dt,isAnonymous:m8,photoURL:ys,phoneNumber:Xn,tenantId:jl,stsTokenManager:$l,createdAt:u4,lastLoginAt:C8});return d4&&Array.isArray(d4)&&(t3.providerData=d4.map(_8=>Object.assign({},_8))),R6&&(t3._redirectEventId=R6),t3}static _fromIdTokenResponse(g,C,b=!1){return(0,o.Z)(function*(){const T=new Vt;T.updateFromServerResponse(C);const I=new ui({uid:C.localId,auth:g,stsTokenManager:T,isAnonymous:b});return yield js(I),I})()}}const Vn=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(C,b){var T=this;return(0,o.Z)(function*(){T.storage[C]=b})()}_get(C){var b=this;return(0,o.Z)(function*(){const T=b.storage[C];return void 0===T?null:T})()}_remove(C){var b=this;return(0,o.Z)(function*(){delete b.storage[C]})()}_addListener(C,b){}_removeListener(C,b){}}return v.type="NONE",v})();function Ji(v,g,C){return`firebase:${v}:${g}:${C}`}class Ut{constructor(g,C,b){this.persistence=g,this.auth=C,this.userKey=b;const{config:T,name:I}=this.auth;this.fullUserKey=Ji(this.userKey,T.apiKey,I),this.fullPersistenceKey=Ji("persistence",T.apiKey,I),this.boundEventHandler=C._onStorageEvent.bind(C),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,o.Z)(function*(){const C=yield g.persistence._get(g.fullUserKey);return C?ui._fromJSON(g.auth,C):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var C=this;return(0,o.Z)(function*(){if(C.persistence===g)return;const b=yield C.getCurrentUser();return yield C.removeCurrentUser(),C.persistence=g,b?C.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,C,b="authUser"){return(0,o.Z)(function*(){if(!C.length)return new Ut(Cn(Vn),g,b);const T=(yield Promise.all(C.map(function(){var Ne=(0,o.Z)(function*(at){if(yield at._isAvailable())return at});return function(at){return Ne.apply(this,arguments)}}()))).filter(Ne=>Ne);let I=T[0]||Cn(Vn);const G=Ji(b,g.config.apiKey,g.name);let ie=null;for(const Ne of C)try{const at=yield Ne._get(G);if(at){const dt=ui._fromJSON(g,at);Ne!==I&&(ie=dt),I=Ne;break}}catch(at){}const He=T.filter(Ne=>Ne._shouldAllowMigration);return I._shouldAllowMigration&&He.length?(I=He[0],ie&&(yield I._set(G,ie.toJSON())),yield Promise.all(C.map(function(){var Ne=(0,o.Z)(function*(at){if(at!==I)try{yield at._remove(G)}catch(dt){}});return function(at){return Ne.apply(this,arguments)}}())),new Ut(I,g,b)):new Ut(I,g,b)})()}}function $s(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(es(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Ws(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Ni(g))return"Blackberry";if(Xi(g))return"Webos";if(Ht(g))return"Safari";if((g.includes("chrome/")||Sr(g))&&!g.includes("edge/"))return"Chrome";if(J2(g))return"Android";{const b=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function Ws(v=(0,P.z$)()){return/firefox\//i.test(v)}function Ht(v=(0,P.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Sr(v=(0,P.z$)()){return/crios\//i.test(v)}function es(v=(0,P.z$)()){return/iemobile/i.test(v)}function J2(v=(0,P.z$)()){return/android/i.test(v)}function Ni(v=(0,P.z$)()){return/blackberry/i.test(v)}function Xi(v=(0,P.z$)()){return/webos/i.test(v)}function u2(v=(0,P.z$)()){return/iphone|ipad|ipod/i.test(v)}function T3(v=(0,P.z$)()){return u2(v)||J2(v)||Xi(v)||Ni(v)||/windows phone/i.test(v)||es(v)}function V2(v,g=[]){let C;switch(v){case"Browser":C=$s((0,P.z$)());break;case"Worker":C=`${$s((0,P.z$)())}-${v}`;break;default:C=v}const b=g.length?g.join(","):"FirebaseCore-web";return`${C}/JsCore/${le.SDK_VERSION}/${b}`}class H2{constructor(g,C,b){this.app=g,this.heartbeatServiceProvider=C,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Eo(this),this.idTokenSubscription=new Eo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(g,C){var b=this;return C&&(this._popupRedirectResolver=Cn(C)),this._initializationPromise=this.queue((0,o.Z)(function*(){var T,I;if(!b._deleted&&(b.persistenceManager=yield Ut.create(b,g),!b._deleted)){if(null===(T=b._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(G){}yield b.initializeCurrentUser(C),b.lastNotifiedUid=(null===(I=b.currentUser)||void 0===I?void 0:I.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,o.Z)(function*(){if(g._deleted)return;const C=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||C){if(g.currentUser&&C&&g.currentUser.uid===C.uid)return g._currentUser._assign(C),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(C)}})()}initializeCurrentUser(g){var C=this;return(0,o.Z)(function*(){var b;let T=yield C.assertedPersistence.getCurrentUser();if(g&&C.config.authDomain){yield C.getOrInitRedirectPersistenceManager();const I=null===(b=C.redirectUser)||void 0===b?void 0:b._redirectEventId,G=null==T?void 0:T._redirectEventId,ie=yield C.tryRedirectSignIn(g);(!I||I===G)&&(null==ie?void 0:ie.user)&&(T=ie.user)}return T?T._redirectEventId?(Ae(C._popupRedirectResolver,C,"argument-error"),yield C.getOrInitRedirectPersistenceManager(),C.redirectUser&&C.redirectUser._redirectEventId===T._redirectEventId?C.directlySetCurrentUser(T):C.reloadAndSetCurrentUserOrClear(T)):C.reloadAndSetCurrentUserOrClear(T):C.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var C=this;return(0,o.Z)(function*(){let b=null;try{b=yield C._popupRedirectResolver._completeRedirectFn(C,g,!0)}catch(T){yield C._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(g){var C=this;return(0,o.Z)(function*(){try{yield js(g)}catch(b){if("auth/network-request-failed"!==b.code)return C.directlySetCurrentUser(null)}return C.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Ca(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,o.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var C=this;return(0,o.Z)(function*(){const b=g?(0,P.m9)(g):null;return b&&Ae(b.auth.config.apiKey===C.config.apiKey,C,"invalid-user-token"),C._updateCurrentUser(b&&b._clone(C))})()}_updateCurrentUser(g){var C=this;return(0,o.Z)(function*(){if(!C._deleted)return g&&Ae(C.tenantId===g.tenantId,C,"tenant-id-mismatch"),C.queue((0,o.Z)(function*(){yield C.directlySetCurrentUser(g),C.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,o.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var C=this;return this.queue((0,o.Z)(function*(){yield C.assertedPersistence.setPersistence(Cn(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new P.LL("auth","Firebase",g())}onAuthStateChanged(g,C,b){return this.registerStateListener(this.authStateSubscription,g,C,b)}onIdTokenChanged(g,C,b){return this.registerStateListener(this.idTokenSubscription,g,C,b)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,C){var b=this;return(0,o.Z)(function*(){const T=yield b.getOrInitRedirectPersistenceManager(C);return null===g?T.removeCurrentUser():T.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var C=this;return(0,o.Z)(function*(){if(!C.redirectPersistenceManager){const b=g&&Cn(g)||C._popupRedirectResolver;Ae(b,C,"argument-error"),C.redirectPersistenceManager=yield Ut.create(C,[Cn(b._redirectPersistence)],"redirectUser"),C.redirectUser=yield C.redirectPersistenceManager.getCurrentUser()}return C.redirectPersistenceManager})()}_redirectUserForId(g){var C=this;return(0,o.Z)(function*(){var b,T;return C._isInitialized&&(yield C.queue((0,o.Z)(function*(){}))),(null===(b=C._currentUser)||void 0===b?void 0:b._redirectEventId)===g?C._currentUser:(null===(T=C.redirectUser)||void 0===T?void 0:T._redirectEventId)===g?C.redirectUser:null})()}_persistUserIfCurrent(g){var C=this;return(0,o.Z)(function*(){if(g===C.currentUser)return C.queue((0,o.Z)(function*(){return C.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,C;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(C=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==C?C:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,C,b,T){if(this._deleted)return()=>{};const I="function"==typeof C?C:C.next.bind(C),G=this._isInitialized?Promise.resolve():this._initializationPromise;return Ae(G,this,"internal-error"),G.then(()=>I(this.currentUser)),"function"==typeof C?g.addObserver(C,b,T):g.addObserver(C)}directlySetCurrentUser(g){var C=this;return(0,o.Z)(function*(){C.currentUser&&C.currentUser!==g&&(C._currentUser._stopProactiveRefresh(),g&&C.isProactiveRefreshEnabled&&g._startProactiveRefresh()),C.currentUser=g,g?yield C.assertedPersistence.setCurrentUser(g):yield C.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=V2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,o.Z)(function*(){var C;const b={"X-Client-Version":g.clientVersion};g.app.options.appId&&(b["X-Firebase-gmpid"]=g.app.options.appId);const T=yield null===(C=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getHeartbeatsHeader();return T&&(b["X-Firebase-Client"]=T),b})()}}function Zn(v){return(0,P.m9)(v)}class Eo{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,P.ne)(C=>this.observer=C)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _1(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function P0(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class Zs{constructor(g,C){this.providerId=g,this.signInMethod=C}toJSON(){return Fi("not implemented")}_getIdTokenResponse(g){return Fi("not implemented")}_linkToIdToken(g,C){return Fi("not implemented")}_getReauthenticationResolver(g){return Fi("not implemented")}}function e6(v,g){return sl.apply(this,arguments)}function sl(){return(sl=(0,o.Z)(function*(v,g){return Tt(v,"POST","/v1/accounts:resetPassword",mn(v,g))})).apply(this,arguments)}function t6(v,g){return ol.apply(this,arguments)}function ol(){return(ol=(0,o.Z)(function*(v,g){return Tt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function D3(v,g){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,o.Z)(function*(v,g){return Tt(v,"POST","/v1/accounts:update",mn(v,g))})).apply(this,arguments)}function al(){return(al=(0,o.Z)(function*(v,g){return Dt(v,"POST","/v1/accounts:signInWithPassword",mn(v,g))})).apply(this,arguments)}function A3(v,g){return ll.apply(this,arguments)}function ll(){return(ll=(0,o.Z)(function*(v,g){return Tt(v,"POST","/v1/accounts:sendOobCode",mn(v,g))})).apply(this,arguments)}function F0(v,g){return cl.apply(this,arguments)}function cl(){return(cl=(0,o.Z)(function*(v,g){return A3(v,g)})).apply(this,arguments)}function _d(v,g){return _a.apply(this,arguments)}function _a(){return(_a=(0,o.Z)(function*(v,g){return A3(v,g)})).apply(this,arguments)}function ul(v,g){return ts.apply(this,arguments)}function ts(){return(ts=(0,o.Z)(function*(v,g){return A3(v,g)})).apply(this,arguments)}function n6(v,g){return dl.apply(this,arguments)}function dl(){return(dl=(0,o.Z)(function*(v,g){return A3(v,g)})).apply(this,arguments)}function X2(){return(X2=(0,o.Z)(function*(v,g){return Dt(v,"POST","/v1/accounts:signInWithEmailLink",mn(v,g))})).apply(this,arguments)}function ns(){return(ns=(0,o.Z)(function*(v,g){return Dt(v,"POST","/v1/accounts:signInWithEmailLink",mn(v,g))})).apply(this,arguments)}class Ys extends Zs{constructor(g,C,b,T=null){super("password",b),this._email=g,this._password=C,this._tenantId=T}static _fromEmailAndPassword(g,C){return new Ys(g,C,"password")}static _fromEmailAndCode(g,C,b=null){return new Ys(g,C,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const C="string"==typeof g?JSON.parse(g):g;if((null==C?void 0:C.email)&&(null==C?void 0:C.password)){if("password"===C.signInMethod)return this._fromEmailAndPassword(C.email,C.password);if("emailLink"===C.signInMethod)return this._fromEmailAndCode(C.email,C.password,C.tenantId)}return null}_getIdTokenResponse(g){var C=this;return(0,o.Z)(function*(){switch(C.signInMethod){case"password":return function z0(v,g){return al.apply(this,arguments)}(g,{returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function i6(v,g){return X2.apply(this,arguments)}(g,{email:C._email,oobCode:C._password});default:vn(g,"internal-error")}})()}_linkToIdToken(g,C){var b=this;return(0,o.Z)(function*(){switch(b.signInMethod){case"password":return t6(g,{idToken:C,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function va(v,g){return ns.apply(this,arguments)}(g,{idToken:C,email:b._email,oobCode:b._password});default:vn(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Er(v,g){return bi.apply(this,arguments)}function bi(){return(bi=(0,o.Z)(function*(v,g){return Dt(v,"POST","/v1/accounts:signInWithIdp",mn(v,g))})).apply(this,arguments)}class Mi extends Zs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const C=new Mi(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(C.idToken=g.idToken),g.accessToken&&(C.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(C.nonce=g.nonce),g.pendingToken&&(C.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(C.accessToken=g.oauthToken,C.secret=g.oauthTokenSecret):vn("argument-error"),C}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const C="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:T}=C,I=ue(C,["providerId","signInMethod"]);if(!b||!T)return null;const G=new Mi(b,T);return G.idToken=I.idToken||void 0,G.accessToken=I.accessToken||void 0,G.secret=I.secret,G.nonce=I.nonce,G.pendingToken=I.pendingToken||null,G}_getIdTokenResponse(g){return Er(g,this.buildRequest())}_linkToIdToken(g,C){const b=this.buildRequest();return b.idToken=C,Er(g,b)}_getReauthenticationResolver(g){const C=this.buildRequest();return C.autoCreate=!1,Er(g,C)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const C={};this.idToken&&(C.id_token=this.idToken),this.accessToken&&(C.access_token=this.accessToken),this.secret&&(C.oauth_token_secret=this.secret),C.providerId=this.providerId,this.nonce&&!this.pendingToken&&(C.nonce=this.nonce),g.postBody=(0,P.xO)(C)}return g}}function r6(v,g){return is.apply(this,arguments)}function is(){return(is=(0,o.Z)(function*(v,g){return Tt(v,"POST","/v1/accounts:sendVerificationCode",mn(v,g))})).apply(this,arguments)}function Yn(){return(Yn=(0,o.Z)(function*(v,g){return Dt(v,"POST","/v1/accounts:signInWithPhoneNumber",mn(v,g))})).apply(this,arguments)}function Do(){return(Do=(0,o.Z)(function*(v,g){const C=yield Dt(v,"POST","/v1/accounts:signInWithPhoneNumber",mn(v,g));if(C.temporaryProof)throw ut(v,"account-exists-with-different-credential",C);return C})).apply(this,arguments)}const fl={USER_NOT_FOUND:"user-not-found"};function Ao(){return(Ao=(0,o.Z)(function*(v,g){return Dt(v,"POST","/v1/accounts:signInWithPhoneNumber",mn(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),fl)})).apply(this,arguments)}class E1 extends Zs{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,C){return new E1({verificationId:g,verificationCode:C})}static _fromTokenResponse(g,C){return new E1({phoneNumber:g,temporaryProof:C})}_getIdTokenResponse(g){return function Dr(v,g){return Yn.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,C){return function s6(v,g){return Do.apply(this,arguments)}(g,Object.assign({idToken:C},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function hl(v,g){return Ao.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:C,verificationId:b,verificationCode:T}=this.params;return g&&C?{temporaryProof:g,phoneNumber:C}:{sessionInfo:b,code:T}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:C,verificationCode:b,phoneNumber:T,temporaryProof:I}=g;return b||C||T||I?new E1({verificationId:C,verificationCode:b,phoneNumber:T,temporaryProof:I}):null}}class rs{constructor(g){var C,b,T,I,G,ie;const He=(0,P.zd)((0,P.pd)(g)),Ne=null!==(C=He.apiKey)&&void 0!==C?C:null,at=null!==(b=He.oobCode)&&void 0!==b?b:null,dt=function zn(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=He.mode)&&void 0!==T?T:null);Ae(Ne&&at&&dt,"argument-error"),this.apiKey=Ne,this.operation=dt,this.code=at,this.continueUrl=null!==(I=He.continueUrl)&&void 0!==I?I:null,this.languageCode=null!==(G=He.languageCode)&&void 0!==G?G:null,this.tenantId=null!==(ie=He.tenantId)&&void 0!==ie?ie:null}static parseLink(g){const C=function I3(v){const g=(0,P.zd)((0,P.pd)(v)).link,C=g?(0,P.zd)((0,P.pd)(g)).deep_link_id:null,b=(0,P.zd)((0,P.pd)(v)).deep_link_id;return(b?(0,P.zd)((0,P.pd)(b)).link:null)||b||C||g||v}(g);try{return new rs(C)}catch(b){return null}}}let ss=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(C,b){return Ys._fromEmailAndPassword(C,b)}static credentialWithLink(C,b){const T=rs.parseLink(b);return Ae(T,"argument-error"),Ys._fromEmailAndCode(C,T.code,T.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class v1{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class er extends v1{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Kn extends er{static credentialFromJSON(g){const C="string"==typeof g?JSON.parse(g):g;return Ae("providerId"in C&&"signInMethod"in C,"argument-error"),Mi._fromParams(C)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Ae(g.idToken||g.accessToken,"argument-error"),Mi._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Kn.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Kn.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:C,oauthAccessToken:b,oauthTokenSecret:T,pendingToken:I,nonce:G,providerId:ie}=g;if(!b&&!T&&!C&&!I||!ie)return null;try{return new Kn(ie)._credential({idToken:C,accessToken:b,nonce:G,pendingToken:I})}catch(He){return null}}}let ya=(()=>{class v extends er{constructor(){super("facebook.com")}static credential(C){return Mi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return v.credentialFromTaggedObject(C)}static credentialFromError(C){return v.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return v.credential(C.oauthAccessToken)}catch(b){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Io=(()=>{class v extends er{constructor(){super("google.com"),this.addScope("profile")}static credential(C,b){return Mi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:C,accessToken:b})}static credentialFromResult(C){return v.credentialFromTaggedObject(C)}static credentialFromError(C){return v.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:b,oauthAccessToken:T}=C;if(!b&&!T)return null;try{return v.credential(b,T)}catch(I){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),qn=(()=>{class v extends er{constructor(){super("github.com")}static credential(C){return Mi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return v.credentialFromTaggedObject(C)}static credentialFromError(C){return v.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return v.credential(C.oauthAccessToken)}catch(b){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class h2 extends Zs{constructor(g,C){super(g,g),this.pendingToken=C}_getIdTokenResponse(g){return Er(g,this.buildRequest())}_linkToIdToken(g,C){const b=this.buildRequest();return b.idToken=C,Er(g,b)}_getReauthenticationResolver(g){const C=this.buildRequest();return C.autoCreate=!1,Er(g,C)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const C="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:T,pendingToken:I}=C;return b&&T&&I&&b===T?new h2(b,I):null}static _create(g,C){return new h2(g,C)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class tr extends v1{constructor(g){Ae(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return tr.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return tr.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const C=h2.fromJSON(g);return Ae(C,"argument-error"),C}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:C,providerId:b}=g;if(!C||!b)return null;try{return h2._create(b,C)}catch(T){return null}}}let D1=(()=>{class v extends er{constructor(){super("twitter.com")}static credential(C,b){return Mi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:C,oauthTokenSecret:b})}static credentialFromResult(C){return v.credentialFromTaggedObject(C)}static credentialFromError(C){return v.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthAccessToken:b,oauthTokenSecret:T}=C;if(!b||!T)return null;try{return v.credential(b,T)}catch(I){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Ks(v,g){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,o.Z)(function*(v,g){return Dt(v,"POST","/v1/accounts:signUp",mn(v,g))})).apply(this,arguments)}class it{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,C,b,T=!1){return(0,o.Z)(function*(){const I=yield ui._fromIdTokenResponse(g,b,T),G=ba(b);return new it({user:I,providerId:G,_tokenResponse:b,operationType:C})})()}static _forOperation(g,C,b){return(0,o.Z)(function*(){yield g._updateTokensIfNecessary(b,!0);const T=ba(b);return new it({user:g,providerId:T,_tokenResponse:b,operationType:C})})()}}function ba(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function No(){return(No=(0,o.Z)(function*(v){var g;const C=Zn(v);if(yield C._initializationPromise,null===(g=C.currentUser)||void 0===g?void 0:g.isAnonymous)return new it({user:C.currentUser,providerId:null,operationType:"signIn"});const b=yield Ks(C,{returnSecureToken:!0}),T=yield it._fromIdTokenResponse(C,"signIn",b,!0);return yield C._updateCurrentUser(T.user),T})).apply(this,arguments)}class ko extends P.ZR{constructor(g,C,b,T){var I;super(C.code,C.message),this.operationType=b,this.user=T,Object.setPrototypeOf(this,ko.prototype),this.customData={appName:g.name,tenantId:null!==(I=g.tenantId)&&void 0!==I?I:void 0,_serverResponse:C.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(g,C,b,T){return new ko(g,C,b,T)}}function Qs(v,g,C,b){return("reauthenticate"===g?C._getReauthenticationResolver(v):C._getIdTokenResponse(v)).catch(I=>{throw"auth/multi-factor-auth-required"===I.code?ko._fromErrorAndOperation(v,I,g,b):I})}function k3(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function Le(){return(Le=(0,o.Z)(function*(v,g){const C=(0,P.m9)(v);yield Pn(!0,C,g);const{providerUserInfo:b}=yield yn(C.auth,{idToken:yield C.getIdToken(),deleteProvider:[g]}),T=k3(b||[]);return C.providerData=C.providerData.filter(I=>T.has(I.providerId)),T.has("phone")||(C.phoneNumber=null),yield C.auth._persistUserIfCurrent(C),C})).apply(this,arguments)}function Yt(v,g){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,o.Z)(function*(v,g,C=!1){const b=yield on(v,g._linkToIdToken(v.auth,yield v.getIdToken()),C);return it._forOperation(v,"link",b)})).apply(this,arguments)}function Pn(v,g,C){return H3.apply(this,arguments)}function H3(){return(H3=(0,o.Z)(function*(v,g,C){yield js(g);const T=!1===v?"provider-already-linked":"no-such-provider";Ae(k3(g.providerData).has(C)===v,g.auth,T)})).apply(this,arguments)}function p2(v,g){return y1.apply(this,arguments)}function y1(){return(y1=(0,o.Z)(function*(v,g,C=!1){const{auth:b}=v,T="reauthenticate";try{const I=yield on(v,Qs(b,T,g,v),C);Ae(I.idToken,b,"internal-error");const G=Bi(I.idToken);Ae(G,b,"internal-error");const{sub:ie}=G;return Ae(v.uid===ie,b,"user-mismatch"),it._forOperation(v,T,I)}catch(I){throw"auth/user-not-found"===(null==I?void 0:I.code)&&vn(b,"user-mismatch"),I}})).apply(this,arguments)}function Vo(v,g){return Js.apply(this,arguments)}function Js(){return(Js=(0,o.Z)(function*(v,g,C=!1){const b="signIn",T=yield Qs(v,b,g),I=yield it._fromIdTokenResponse(v,b,T);return C||(yield v._updateCurrentUser(I.user)),I})).apply(this,arguments)}function R3(v,g){return O3.apply(this,arguments)}function O3(){return(O3=(0,o.Z)(function*(v,g){return Vo(Zn(v),g)})).apply(this,arguments)}function Ho(v,g){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,o.Z)(function*(v,g){const C=(0,P.m9)(v);return yield Pn(!1,C,g.providerId),Yt(C,g)})).apply(this,arguments)}function e1(v,g){return A1.apply(this,arguments)}function A1(){return(A1=(0,o.Z)(function*(v,g){return p2((0,P.m9)(v),g)})).apply(this,arguments)}function P3(v,g){return nr.apply(this,arguments)}function nr(){return(nr=(0,o.Z)(function*(v,g){return Dt(v,"POST","/v1/accounts:signInWithCustomToken",mn(v,g))})).apply(this,arguments)}function z3(){return(z3=(0,o.Z)(function*(v,g){const C=Zn(v),b=yield P3(C,{token:g,returnSecureToken:!0}),T=yield it._fromIdTokenResponse(C,"signIn",b);return yield C._updateCurrentUser(T.user),T})).apply(this,arguments)}class os{constructor(g,C){this.factorId=g,this.uid=C.mfaEnrollmentId,this.enrollmentTime=new Date(C.enrolledAt).toUTCString(),this.displayName=C.displayName}static _fromServerResponse(g,C){return"phoneInfo"in C?F3._fromServerResponse(g,C):vn(g,"internal-error")}}class F3 extends os{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,C){return new F3(C)}}function Xs(v,g,C){var b;Ae((null===(b=C.url)||void 0===b?void 0:b.length)>0,v,"invalid-continue-uri"),Ae(void 0===C.dynamicLinkDomain||C.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=C.url,g.dynamicLinkDomain=C.dynamicLinkDomain,g.canHandleCodeInApp=C.handleCodeInApp,C.iOS&&(Ae(C.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=C.iOS.bundleId),C.android&&(Ae(C.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=C.android.installApp,g.androidMinimumVersionCode=C.android.minimumVersion,g.androidPackageName=C.android.packageName)}function as(){return(as=(0,o.Z)(function*(v,g,C){const b=(0,P.m9)(v),T={requestType:"PASSWORD_RESET",email:g};C&&Xs(b,T,C),yield _d(b,T)})).apply(this,arguments)}function ir(){return(ir=(0,o.Z)(function*(v,g,C){yield e6((0,P.m9)(v),{oobCode:g,newPassword:C})})).apply(this,arguments)}function xa(){return(xa=(0,o.Z)(function*(v,g){yield D3((0,P.m9)(v),{oobCode:g})})).apply(this,arguments)}function eo(v,g){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,o.Z)(function*(v,g){const C=(0,P.m9)(v),b=yield e6(C,{oobCode:g}),T=b.requestType;switch(Ae(T,C,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ae(b.newEmail,C,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ae(b.mfaInfo,C,"internal-error");default:Ae(b.email,C,"internal-error")}let I=null;return b.mfaInfo&&(I=os._fromServerResponse(Zn(C),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:I},operation:T}})).apply(this,arguments)}function La(){return(La=(0,o.Z)(function*(v,g){const{data:C}=yield eo((0,P.m9)(v),g);return C.email})).apply(this,arguments)}function Ro(){return(Ro=(0,o.Z)(function*(v,g,C){const b=Zn(v),T=yield Ks(b,{returnSecureToken:!0,email:g,password:C}),I=yield it._fromIdTokenResponse(b,"signIn",T);return yield b._updateCurrentUser(I.user),I})).apply(this,arguments)}function Fn(){return(Fn=(0,o.Z)(function*(v,g,C){const b=(0,P.m9)(v),T={requestType:"EMAIL_SIGNIN",email:g};Ae(C.handleCodeInApp,b,"argument-error"),C&&Xs(b,T,C),yield ul(b,T)})).apply(this,arguments)}function Ta(){return(Ta=(0,o.Z)(function*(v,g,C){const b=(0,P.m9)(v),T=ss.credentialWithLink(g,C||U1());return Ae(T._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),R3(b,T)})).apply(this,arguments)}function a6(v,g){return Da.apply(this,arguments)}function Da(){return(Da=(0,o.Z)(function*(v,g){return Tt(v,"POST","/v1/accounts:createAuthUri",mn(v,g))})).apply(this,arguments)}function l6(){return(l6=(0,o.Z)(function*(v,g){const b={identifier:g,continueUri:c1()?U1():"http://localhost"},{signinMethods:T}=yield a6((0,P.m9)(v),b);return T||[]})).apply(this,arguments)}function Oo(){return(Oo=(0,o.Z)(function*(v,g){const C=(0,P.m9)(v),T={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&Xs(C.auth,T,g);const{email:I}=yield F0(C.auth,T);I!==v.email&&(yield v.reload())})).apply(this,arguments)}function Po(){return(Po=(0,o.Z)(function*(v,g,C){const b=(0,P.m9)(v),I={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};C&&Xs(b.auth,I,C);const{email:G}=yield n6(b.auth,I);G!==v.email&&(yield v.reload())})).apply(this,arguments)}function Cl(v,g){return Na.apply(this,arguments)}function Na(){return(Na=(0,o.Z)(function*(v,g){return Tt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function O2(){return(O2=(0,o.Z)(function*(v,{displayName:g,photoURL:C}){if(void 0===g&&void 0===C)return;const b=(0,P.m9)(v),I={idToken:yield b.getIdToken(),displayName:g,photoUrl:C,returnSecureToken:!0},G=yield on(b,Cl(b.auth,I));b.displayName=G.displayName||null,b.photoURL=G.photoUrl||null;const ie=b.providerData.find(({providerId:He})=>"password"===He);ie&&(ie.displayName=b.displayName,ie.photoURL=b.photoURL),yield b._updateTokensIfNecessary(G)})).apply(this,arguments)}function c6(v,g,C){return kr.apply(this,arguments)}function kr(){return(kr=(0,o.Z)(function*(v,g,C){const{auth:b}=v,I={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(I.email=g),C&&(I.password=C);const G=yield on(v,t6(b,I));yield v._updateTokensIfNecessary(G,!0)})).apply(this,arguments)}class j1{constructor(g,C,b={}){this.isNewUser=g,this.providerId=C,this.profile=b}}class _l extends j1{constructor(g,C,b,T){super(g,C,b),this.username=T}}class u6 extends j1{constructor(g,C){super(g,"facebook.com",C)}}class yd extends _l{constructor(g,C){super(g,"github.com",C,"string"==typeof(null==C?void 0:C.login)?null==C?void 0:C.login:null)}}class xn extends j1{constructor(g,C){super(g,"google.com",C)}}class ni extends _l{constructor(g,C,b){super(g,"twitter.com",C,b)}}function P2(v){const{user:g,_tokenResponse:C}=v;return g.isAnonymous&&!C?{providerId:null,isNewUser:!1,profile:null}:function ml(v){var g,C;if(!v)return null;const{providerId:b}=v,T=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},I=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!b&&(null==v?void 0:v.idToken)){const G=null===(C=null===(g=Bi(v.idToken))||void 0===g?void 0:g.firebase)||void 0===C?void 0:C.sign_in_provider;if(G)return new j1(I,"anonymous"!==G&&"custom"!==G?G:null)}if(!b)return null;switch(b){case"facebook.com":return new u6(I,T);case"github.com":return new yd(I,T);case"google.com":return new xn(I,T);case"twitter.com":return new ni(I,T,v.screenName||null);case"custom":case"anonymous":return new j1(I,null);default:return new j1(I,b,T)}}(C)}class cs{constructor(g,C){this.type=g,this.credential=C}static _fromIdtoken(g){return new cs("enroll",g)}static _fromMfaPendingCredential(g){return new cs("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var C,b;if(null==g?void 0:g.multiFactorSession){if(null===(C=g.multiFactorSession)||void 0===C?void 0:C.pendingCredential)return cs._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(b=g.multiFactorSession)||void 0===b?void 0:b.idToken)return cs._fromIdtoken(g.multiFactorSession.idToken)}return null}}class to{constructor(g,C,b){this.session=g,this.hints=C,this.signInResolver=b}static _fromError(g,C){const b=Zn(g),T=C.customData._serverResponse,I=(T.mfaInfo||[]).map(ie=>os._fromServerResponse(b,ie));Ae(T.mfaPendingCredential,b,"internal-error");const G=cs._fromMfaPendingCredential(T.mfaPendingCredential);return new to(G,I,function(){var ie=(0,o.Z)(function*(He){const Ne=yield He._process(b,G);delete T.mfaInfo,delete T.mfaPendingCredential;const at=Object.assign(Object.assign({},T),{idToken:Ne.idToken,refreshToken:Ne.refreshToken});switch(C.operationType){case"signIn":const dt=yield it._fromIdTokenResponse(b,C.operationType,at);return yield b._updateCurrentUser(dt.user),dt;case"reauthenticate":return Ae(C.user,b,"internal-error"),it._forOperation(C.user,C.operationType,at);default:vn(b,"internal-error")}});return function(He){return ie.apply(this,arguments)}}())}resolveSignIn(g){var C=this;return(0,o.Z)(function*(){return C.signInResolver(g)})()}}function d6(v,g){return Tt(v,"POST","/v2/accounts/mfaEnrollment:start",mn(v,g))}class Bn{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(C=>{C.mfaInfo&&(this.enrolledFactors=C.mfaInfo.map(b=>os._fromServerResponse(g.auth,b)))})}static _fromUser(g){return new Bn(g)}getSession(){var g=this;return(0,o.Z)(function*(){return cs._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,C){var b=this;return(0,o.Z)(function*(){const T=g,I=yield b.getSession(),G=yield on(b.user,T._process(b.user.auth,I,C));return yield b.user._updateTokensIfNecessary(G),b.user.reload()})()}unenroll(g){var C=this;return(0,o.Z)(function*(){const b="string"==typeof g?g:g.uid,T=yield C.user.getIdToken(),I=yield on(C.user,function zo(v,g){return Tt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",mn(v,g))}(C.user.auth,{idToken:T,mfaEnrollmentId:b}));C.enrolledFactors=C.enrolledFactors.filter(({uid:G})=>G!==b),yield C.user._updateTokensIfNecessary(I);try{yield C.user.reload()}catch(G){if("auth/user-token-expired"!==G.code)throw G}})()}}const no=new WeakMap,us="__sak";class z2{constructor(g,C){this.storageRetriever=g,this.type=C}_isAvailable(){try{return this.storage?(this.storage.setItem(us,"1"),this.storage.removeItem(us),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,C){return this.storage.setItem(g,JSON.stringify(C)),Promise.resolve()}_get(g){const C=this.storage.getItem(g);return Promise.resolve(C?JSON.parse(C):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Uo=(()=>{class v extends z2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(C,b)=>this.onStorageEvent(C,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Vr(){const v=(0,P.z$)();return Ht(v)||u2(v)}()&&function rl(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=T3(),this._shouldAllowMigration=!0}forAllChangedKeys(C){for(const b of Object.keys(this.listeners)){const T=this.storage.getItem(b),I=this.localCache[b];T!==I&&C(b,I,T)}}onStorageEvent(C,b=!1){if(!C.key)return void this.forAllChangedKeys((ie,He,Ne)=>{this.notifyListeners(ie,Ne)});const T=C.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ie=this.storage.getItem(T);if(C.newValue!==ie)null!==C.newValue?this.storage.setItem(T,C.newValue):this.storage.removeItem(T);else if(this.localCache[T]===C.newValue&&!b)return}const I=()=>{const ie=this.storage.getItem(T);!b&&this.localCache[T]===ie||this.notifyListeners(T,ie)},G=this.storage.getItem(T);!function bn(){return(0,P.w1)()&&10===document.documentMode}()||G===C.newValue||C.newValue===C.oldValue?I():setTimeout(I,10)}notifyListeners(C,b){this.localCache[C]=b;const T=this.listeners[C];if(T)for(const I of Array.from(T))I(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((C,b,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:C,oldValue:b,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(C,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[C]||(this.listeners[C]=new Set,this.localCache[C]=this.storage.getItem(C)),this.listeners[C].add(b)}_removeListener(C,b){this.listeners[C]&&(this.listeners[C].delete(b),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(C,b){var T=()=>super._set,I=this;return(0,o.Z)(function*(){yield T().call(I,C,b),I.localCache[C]=JSON.stringify(b)})()}_get(C){var b=()=>super._get,T=this;return(0,o.Z)(function*(){const I=yield b().call(T,C);return T.localCache[C]=JSON.stringify(I),I})()}_remove(C){var b=()=>super._remove,T=this;return(0,o.Z)(function*(){yield b().call(T,C),delete T.localCache[C]})()}}return v.type="LOCAL",v})(),tn=(()=>{class v extends z2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(C,b){}_removeListener(C,b){}}return v.type="SESSION",v})();let h6=(()=>{class v{constructor(C){this.eventTarget=C,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(C){const b=this.receivers.find(I=>I.isListeningto(C));if(b)return b;const T=new v(C);return this.receivers.push(T),T}isListeningto(C){return this.eventTarget===C}handleEvent(C){var b=this;return(0,o.Z)(function*(){const T=C,{eventId:I,eventType:G,data:ie}=T.data,He=b.handlersMap[G];if(!(null==He?void 0:He.size))return;T.ports[0].postMessage({status:"ack",eventId:I,eventType:G});const Ne=Array.from(He).map(function(){var dt=(0,o.Z)(function*(sn){return sn(T.origin,ie)});return function(sn){return dt.apply(this,arguments)}}()),at=yield function jo(v){return Promise.all(v.map(function(){var g=(0,o.Z)(function*(C){try{return{fulfilled:!0,value:yield C}}catch(b){return{fulfilled:!1,reason:b}}});return function(C){return g.apply(this,arguments)}}()))}(Ne);T.ports[0].postMessage({status:"done",eventId:I,eventType:G,response:at})})()}_subscribe(C,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[C]||(this.handlersMap[C]=new Set),this.handlersMap[C].add(b)}_unsubscribe(C,b){this.handlersMap[C]&&b&&this.handlersMap[C].delete(b),(!b||0===this.handlersMap[C].size)&&delete this.handlersMap[C],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Hn(v="",g=10){let C="";for(let b=0;b<g;b++)C+=Math.floor(10*Math.random());return v+C}class vl{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,C,b=50){var T=this;return(0,o.Z)(function*(){const I="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!I)throw new Error("connection_unavailable");let G,ie;return new Promise((He,Ne)=>{const at=Hn("",20);I.port1.start();const dt=setTimeout(()=>{Ne(new Error("unsupported_event"))},b);ie={messageChannel:I,onMessage(sn){const Xn=sn;if(Xn.data.eventId===at)switch(Xn.data.status){case"ack":clearTimeout(dt),G=setTimeout(()=>{Ne(new Error("timeout"))},3e3);break;case"done":clearTimeout(G),He(Xn.data.response);break;default:clearTimeout(dt),clearTimeout(G),Ne(new Error("invalid_response"))}}},T.handlers.add(ie),I.port1.addEventListener("message",ie.onMessage),T.target.postMessage({eventType:g,eventId:at,data:C},[I.port2])}).finally(()=>{ie&&T.removeMessageHandler(ie)})})()}}function Rn(){return window}function ds(){return void 0!==Rn().WorkerGlobalScope&&"function"==typeof Rn().importScripts}function F2(){return(F2=(0,o.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const G3="firebaseLocalStorageDb",Hr="firebaseLocalStorage",bl="fbase_key";class Rr{constructor(g){this.request=g}toPromise(){return new Promise((g,C)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{C(this.request.error)})})}}function Ln(v,g){return v.transaction([Hr],g?"readwrite":"readonly").objectStore(Hr)}function Ra(){const v=indexedDB.open(G3,1);return new Promise((g,C)=>{v.addEventListener("error",()=>{C(v.error)}),v.addEventListener("upgradeneeded",()=>{const b=v.result;try{b.createObjectStore(Hr,{keyPath:bl})}catch(T){C(T)}}),v.addEventListener("success",(0,o.Z)(function*(){const b=v.result;b.objectStoreNames.contains(Hr)?g(b):(b.close(),yield function bd(){const v=indexedDB.deleteDatabase(G3);return new Rr(v).toPromise()}(),g(yield Ra()))}))})}function j3(v,g,C){return p6.apply(this,arguments)}function p6(){return(p6=(0,o.Z)(function*(v,g,C){const b=Ln(v,!0).put({[bl]:g,value:C});return new Rr(b).toPromise()})).apply(this,arguments)}function q3(){return(q3=(0,o.Z)(function*(v,g){const C=Ln(v,!1).get(g),b=yield new Rr(C).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function di(v,g){const C=Ln(v,!0).delete(g);return new Rr(C).toPromise()}const ki=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var C=this;return(0,o.Z)(function*(){return C.db||(C.db=yield Ra()),C.db})()}_withRetries(C){var b=this;return(0,o.Z)(function*(){let T=0;for(;;)try{const I=yield b._openDb();return yield C(I)}catch(I){if(T++>3)throw I;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var C=this;return(0,o.Z)(function*(){return ds()?C.initializeReceiver():C.initializeSender()})()}initializeReceiver(){var C=this;return(0,o.Z)(function*(){C.receiver=h6._getInstance(function rr(){return ds()?self:null}()),C.receiver._subscribe("keyChanged",function(){var b=(0,o.Z)(function*(T,I){return{keyProcessed:(yield C._poll()).includes(I.key)}});return function(T,I){return b.apply(this,arguments)}}()),C.receiver._subscribe("ping",function(){var b=(0,o.Z)(function*(T,I){return["keyChanged"]});return function(T,I){return b.apply(this,arguments)}}())})()}initializeSender(){var C=this;return(0,o.Z)(function*(){var b,T;if(C.activeServiceWorker=yield function Ha(){return F2.apply(this,arguments)}(),!C.activeServiceWorker)return;C.sender=new vl(C.activeServiceWorker);const I=yield C.sender._send("ping",{},800);!I||(null===(b=I[0])||void 0===b?void 0:b.fulfilled)&&(null===(T=I[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(C.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(C){var b=this;return(0,o.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function m2(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:C},b.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const C=yield Ra();return yield j3(C,us,"1"),yield di(C,us),!0}catch(C){}return!1})()}_withPendingWrite(C){var b=this;return(0,o.Z)(function*(){b.pendingWrites++;try{yield C()}finally{b.pendingWrites--}})()}_set(C,b){var T=this;return(0,o.Z)(function*(){return T._withPendingWrite((0,o.Z)(function*(){return yield T._withRetries(I=>j3(I,C,b)),T.localCache[C]=b,T.notifyServiceWorker(C)}))})()}_get(C){var b=this;return(0,o.Z)(function*(){const T=yield b._withRetries(I=>function Oa(v,g){return q3.apply(this,arguments)}(I,C));return b.localCache[C]=T,T})()}_remove(C){var b=this;return(0,o.Z)(function*(){return b._withPendingWrite((0,o.Z)(function*(){return yield b._withRetries(T=>di(T,C)),delete b.localCache[C],b.notifyServiceWorker(C)}))})()}_poll(){var C=this;return(0,o.Z)(function*(){const b=yield C._withRetries(G=>{const ie=Ln(G,!1).getAll();return new Rr(ie).toPromise()});if(!b)return[];if(0!==C.pendingWrites)return[];const T=[],I=new Set;for(const{fbase_key:G,value:ie}of b)I.add(G),JSON.stringify(C.localCache[G])!==JSON.stringify(ie)&&(C.notifyListeners(G,ie),T.push(G));for(const G of Object.keys(C.localCache))C.localCache[G]&&!I.has(G)&&(C.notifyListeners(G,null),T.push(G));return T})()}notifyListeners(C,b){this.localCache[C]=b;const T=this.listeners[C];if(T)for(const I of Array.from(T))I(b)}startPolling(){var C=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return C._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(C,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[C]||(this.listeners[C]=new Set,this._get(C)),this.listeners[C].add(b)}_removeListener(C,b){this.listeners[C]&&(this.listeners[C].delete(b),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function _2(v,g){return Tt(v,"POST","/v2/accounts/mfaSignIn:start",mn(v,g))}function jt(){return(jt=(0,o.Z)(function*(v){return(yield Tt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pa(v){return new Promise((g,C)=>{const b=document.createElement("script");b.setAttribute("src",v),b.onload=g,b.onerror=T=>{const I=Wn("internal-error");I.customData=T,C(I)},b.type="text/javascript",b.charset="UTF-8",function I1(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(b)})}function hs(v){return`__${v}${Math.floor(1e6*Math.random())}`}const ps=1e12;class Fa{constructor(g){this.auth=g,this.counter=ps,this._widgets=new Map}render(g,C){const b=this.counter;return this._widgets.set(b,new $3(g,this.auth.name,C||{})),this.counter++,b}reset(g){var C;const b=g||ps;null===(C=this._widgets.get(b))||void 0===C||C.delete(),this._widgets.delete(b)}getResponse(g){var C;return(null===(C=this._widgets.get(g||ps))||void 0===C?void 0:C.getResponse())||""}execute(g){var C=this;return(0,o.Z)(function*(){var b;return null===(b=C._widgets.get(g||ps))||void 0===b||b.execute(),""})()}}class $3{constructor(g,C,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof g?document.getElementById(g):g;Ae(T,"argument-error",{appName:C}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Or(v){const g=[],C="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<v;b++)g.push(C.charAt(Math.floor(Math.random()*C.length)));return g.join("")}(50);const{callback:g,"expired-callback":C}=this.params;if(g)try{g(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,C)try{C()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vi=hs("rcb"),d1=new wn(3e4,6e4);class qo{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Rn().grecaptcha}load(g,C=""){return Ae(function Md(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(C),g,"argument-error"),this.shouldResolveImmediately(C)?Promise.resolve(Rn().grecaptcha):new Promise((b,T)=>{const I=Rn().setTimeout(()=>{T(Wn(g,"network-request-failed"))},d1.get());Rn()[Vi]=()=>{Rn().clearTimeout(I),delete Rn()[Vi];const ie=Rn().grecaptcha;if(!ie)return void T(Wn(g,"internal-error"));const He=ie.render;ie.render=(Ne,at)=>{const dt=He(Ne,at);return this.counter++,dt},this.hostLanguage=C,b(ie)},Pa(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:Vi,render:"explicit",hl:C})}`).catch(()=>{clearTimeout(I),T(Wn(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!Rn().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ml{load(g){return(0,o.Z)(function*(){return new Fa(g)})()}clearedOneInstance(){}}const v2="recaptcha",N1={theme:"light",type:"image"};class Z3{constructor(g,C=Object.assign({},N1),b){this.parameters=C,this.type=v2,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Zn(b),this.isInvisible="invisible"===this.parameters.size,Ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof g?document.getElementById(g):g;Ae(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ml:new qo,this.validateStartingState()}verify(){var g=this;return(0,o.Z)(function*(){g.assertNotDestroyed();const C=yield g.render(),b=g.getAssertedRecaptcha();return b.getResponse(C)||new Promise(I=>{const G=ie=>{!ie||(g.tokenChangeListeners.delete(G),I(ie))};g.tokenChangeListeners.add(G),g.isInvisible&&b.execute(C)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Ae(!this.parameters.sitekey,this.auth,"argument-error"),Ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return C=>{if(this.tokenChangeListeners.forEach(b=>b(C)),"function"==typeof g)g(C);else if("string"==typeof g){const b=Rn()[g];"function"==typeof b&&b(C)}}}assertNotDestroyed(){Ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,o.Z)(function*(){if(yield g.init(),!g.widgetId){let C=g.container;if(!g.isInvisible){const b=document.createElement("div");C.appendChild(b),C=b}g.widgetId=g.getAssertedRecaptcha().render(C,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,o.Z)(function*(){Ae(c1()&&!ds(),g.auth,"internal-error"),yield function t1(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const C=yield function wi(v){return jt.apply(this,arguments)}(g.auth);Ae(C,g.auth,"internal-error"),g.parameters.sitekey=C})()}getAssertedRecaptcha(){return Ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class B2{constructor(g,C){this.verificationId=g,this.onConfirmation=C}confirm(g){const C=E1._fromVerification(this.verificationId,g);return this.onConfirmation(C)}}function k1(){return(k1=(0,o.Z)(function*(v,g,C){const b=Zn(v),T=yield zr(b,g,(0,P.m9)(C));return new B2(T,I=>R3(b,I))})).apply(this,arguments)}function Y3(){return(Y3=(0,o.Z)(function*(v,g,C){const b=(0,P.m9)(v);yield Pn(!1,b,"phone");const T=yield zr(b.auth,g,(0,P.m9)(C));return new B2(T,I=>Ho(b,I))})).apply(this,arguments)}function gs(){return(gs=(0,o.Z)(function*(v,g,C){const b=(0,P.m9)(v),T=yield zr(b.auth,g,(0,P.m9)(C));return new B2(T,I=>e1(b,I))})).apply(this,arguments)}function zr(v,g,C){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,o.Z)(function*(v,g,C){var b;const T=yield C.verify();try{let I;if(Ae("string"==typeof T,v,"argument-error"),Ae(C.type===v2,v,"argument-error"),I="string"==typeof g?{phoneNumber:g}:g,"session"in I){const G=I.session;if("phoneNumber"in I)return Ae("enroll"===G.type,v,"internal-error"),(yield d6(v,{idToken:G.credential,phoneEnrollmentInfo:{phoneNumber:I.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{Ae("signin"===G.type,v,"internal-error");const ie=(null===(b=I.multiFactorHint)||void 0===b?void 0:b.uid)||I.multiFactorUid;return Ae(ie,v,"missing-multi-factor-info"),(yield _2(v,{mfaPendingCredential:G.credential,mfaEnrollmentId:ie,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:G}=yield r6(v,{phoneNumber:I.phoneNumber,recaptchaToken:T});return G}}finally{C._reset()}})).apply(this,arguments)}function L(){return(L=(0,o.Z)(function*(v,g){yield Yt((0,P.m9)(v),g)})).apply(this,arguments)}let E=(()=>{class v{constructor(C){this.providerId=v.PROVIDER_ID,this.auth=Zn(C)}verifyPhoneNumber(C,b){return zr(this.auth,C,(0,P.m9)(b))}static credential(C,b){return E1._fromVerification(C,b)}static credentialFromResult(C){return v.credentialFromTaggedObject(C)}static credentialFromError(C){return v.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{phoneNumber:b,temporaryProof:T}=C;return b&&T?E1._fromTokenResponse(b,T):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function V(v,g){return g?Cn(g):(Ae(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class F extends Zs{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Er(g,this._buildIdpRequest())}_linkToIdToken(g,C){return Er(g,this._buildIdpRequest(C))}_getReauthenticationResolver(g){return Er(g,this._buildIdpRequest())}_buildIdpRequest(g){const C={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(C.idToken=g),C}}function K(v){return Vo(v.auth,new F(v),v.bypassAuthState)}function oe(v){const{auth:g,user:C}=v;return Ae(C,g,"internal-error"),p2(C,new F(v),v.bypassAuthState)}function Me(v){return et.apply(this,arguments)}function et(){return(et=(0,o.Z)(function*(v){const{auth:g,user:C}=v;return Ae(C,g,"internal-error"),Yt(C,new F(v),v.bypassAuthState)})).apply(this,arguments)}class It{constructor(g,C,b,T,I=!1){this.auth=g,this.resolver=b,this.user=T,this.bypassAuthState=I,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(C)?C:[C]}execute(){var g=this;return new Promise(function(){var C=(0,o.Z)(function*(b,T){g.pendingPromise={resolve:b,reject:T};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(I){g.reject(I)}});return function(b,T){return C.apply(this,arguments)}}())}onAuthEvent(g){var C=this;return(0,o.Z)(function*(){const{urlResponse:b,sessionId:T,postBody:I,tenantId:G,error:ie,type:He}=g;if(ie)return void C.reject(ie);const Ne={auth:C.auth,requestUri:b,sessionId:T,tenantId:G||void 0,postBody:I||void 0,user:C.user,bypassAuthState:C.bypassAuthState};try{C.resolve(yield C.getIdpTask(He)(Ne))}catch(at){C.reject(at)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return K;case"linkViaPopup":case"linkViaRedirect":return Me;case"reauthViaPopup":case"reauthViaRedirect":return oe;default:vn(this.auth,"internal-error")}}resolve(g){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wt=new wn(2e3,1e4);function Nt(){return(Nt=(0,o.Z)(function*(v,g,C){const b=Zn(v);l2(v,g,v1);const T=V(b,C);return new b2(b,"signInViaPopup",g,T).executeNotNull()})).apply(this,arguments)}function fi(){return(fi=(0,o.Z)(function*(v,g,C){const b=(0,P.m9)(v);l2(b.auth,g,v1);const T=V(b.auth,C);return new b2(b.auth,"reauthViaPopup",g,T,b).executeNotNull()})).apply(this,arguments)}function H1(){return(H1=(0,o.Z)(function*(v,g,C){const b=(0,P.m9)(v);l2(b.auth,g,v1);const T=V(b.auth,C);return new b2(b.auth,"linkViaPopup",g,T,b).executeNotNull()})).apply(this,arguments)}let b2=(()=>{class v extends It{constructor(C,b,T,I,G){super(C,b,I,G),this.provider=T,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var C=this;return(0,o.Z)(function*(){const b=yield C.execute();return Ae(b,C.auth,"internal-error"),b})()}onExecution(){var C=this;return(0,o.Z)(function*(){oi(1===C.filter.length,"Popup operations only handle one event");const b=Hn();C.authWindow=yield C.resolver._openPopup(C.auth,C.provider,C.filter[0],b),C.authWindow.associatedEvent=b,C.resolver._originValidation(C.auth).catch(T=>{C.reject(T)}),C.resolver._isIframeWebStorageSupported(C.auth,T=>{T||C.reject(Wn(C.auth,"web-storage-unsupported"))}),C.pollUserCancellation()})()}get eventId(){var C;return(null===(C=this.authWindow)||void 0===C?void 0:C.associatedEvent)||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const C=()=>{var b,T;this.pollId=(null===(T=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(C,wt.get())};C()}}return v.currentPopupAction=null,v})();const U2=new Map;class Ua extends It{constructor(g,C,b=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],C,void 0,b),this.eventId=null}execute(){var g=()=>super.execute,C=this;return(0,o.Z)(function*(){let b=U2.get(C.auth._key());if(!b){try{const I=(yield function Fr(v,g){return Hi.apply(this,arguments)}(C.resolver,C.auth))?yield g().call(C):null;b=()=>Promise.resolve(I)}catch(T){b=()=>Promise.reject(T)}U2.set(C.auth._key(),b)}return C.bypassAuthState||U2.set(C.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(g){var C=()=>super.onAuthEvent,b=this;return(0,o.Z)(function*(){if("signInViaRedirect"===g.type)return C().call(b,g);if("unknown"!==g.type){if(g.eventId){const T=yield b.auth._redirectUserForId(g.eventId);if(T)return b.user=T,C().call(b,g);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function Hi(){return(Hi=(0,o.Z)(function*(v,g){const C=M2(g),b=q1(v);if(!(yield b._isAvailable()))return!1;const T="true"===(yield b._get(C));return yield b._remove(C),T})).apply(this,arguments)}function K3(v,g){return j0.apply(this,arguments)}function j0(){return(j0=(0,o.Z)(function*(v,g){return q1(v)._set(M2(g),"true")})).apply(this,arguments)}function q1(v){return Cn(v._redirectPersistence)}function M2(v){return Ji("pendingRedirect",v.config.apiKey,v.name)}function wl(){return(wl=(0,o.Z)(function*(v,g,C){const b=Zn(v);l2(v,g,v1);const T=V(b,C);return yield K3(T,b),T._openRedirect(b,g,"signInViaRedirect")})).apply(this,arguments)}function q0(){return(q0=(0,o.Z)(function*(v,g,C){const b=(0,P.m9)(v);l2(b.auth,g,v1);const T=V(b.auth,C);yield K3(T,b.auth);const I=yield J3(b);return T._openRedirect(b.auth,g,"reauthViaRedirect",I)})).apply(this,arguments)}function Q3(){return(Q3=(0,o.Z)(function*(v,g,C){const b=(0,P.m9)(v);l2(b.auth,g,v1);const T=V(b.auth,C);yield Pn(!1,b,g.providerId),yield K3(T,b.auth);const I=yield J3(b);return T._openRedirect(b.auth,g,"linkViaRedirect",I)})).apply(this,arguments)}function Wo(){return(Wo=(0,o.Z)(function*(v,g){return yield Zn(v)._initializationPromise,xl(v,g,!1)})).apply(this,arguments)}function xl(v,g){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,o.Z)(function*(v,g,C=!1){const b=Zn(v),T=V(b,g),G=yield new Ua(b,T,C).execute();return G&&!C&&(delete G.user._redirectEventId,yield b._persistUserIfCurrent(G.user),yield b._setRedirectUser(null,g)),G})).apply(this,arguments)}function J3(v){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,o.Z)(function*(v){const g=Hn(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class v6{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let C=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(g,b)&&(C=!0,this.sendToConsumer(g,b),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Zo(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qa(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,C||(this.queuedRedirectEvent=g,C=!0)),C}sendToConsumer(g,C){var b;if(g.error&&!qa(g)){const T=(null===(b=g.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";C.onError(Wn(this.auth,T))}else C.onAuthEvent(g)}isEventForConsumer(g,C){const b=null===C.eventId||!!g.eventId&&g.eventId===C.eventId;return C.filter.includes(g.type)&&b}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(X3(g))}saveEventToCache(g){this.cachedEventUids.add(X3(g)),this.lastProcessedEventTime=Date.now()}}function X3(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function qa({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===(null==g?void 0:g.code)}function W0(v){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,o.Z)(function*(v,g={}){return Tt(v,"GET","/v1/projects",g)})).apply(this,arguments)}const wd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Z0=/^https?/;function Br(){return(Br=(0,o.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield W0(v);for(const C of g)try{if($a(C))return}catch(b){}vn(v,"unauthorized-domain")})).apply(this,arguments)}function $a(v){const g=U1(),{protocol:C,hostname:b}=new URL(g);if(v.startsWith("chrome-extension://")){const G=new URL(v);return""===G.hostname&&""===b?"chrome-extension:"===C&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===C&&G.hostname===b}if(!Z0.test(C))return!1;if(wd.test(v))return b===v;const T=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(b)}const Ll=new wn(3e4,6e4);function Y0(){const v=Rn().___jsl;if(null==v?void 0:v.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let C=0;C<v.CP.length;C++)v.CP[C]=null}let Wa=null;function El(v){return Wa=Wa||function K0(v){return new Promise((g,C)=>{var b,T,I;function G(){Y0(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Y0(),C(Wn(v,"network-request-failed"))},timeout:Ll.get()})}if(null===(T=null===(b=Rn().gapi)||void 0===b?void 0:b.iframes)||void 0===T?void 0:T.Iframe)g(gapi.iframes.getContext());else{if(!(null===(I=Rn().gapi)||void 0===I?void 0:I.load)){const ie=hs("iframefcb");return Rn()[ie]=()=>{gapi.load?G():C(Wn(v,"network-request-failed"))},Pa(`https://apis.google.com/js/api.js?onload=${ie}`).catch(He=>C(He))}G()}}).catch(g=>{throw Wa=null,g})}(v),Wa}const j9=new wn(5e3,15e3),Ya={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sd(v){const g=v.config;Ae(g.authDomain,v,"auth-domain-config-required");const C=g.emulator?nt(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,b={apiKey:g.apiKey,appName:v.name,v:le.SDK_VERSION},T=e4.get(v.config.apiHost);T&&(b.eid=T);const I=v._getFrameworks();return I.length&&(b.fw=I.join(",")),`${C}?${(0,P.xO)(b).slice(1)}`}function Dl(){return Dl=(0,o.Z)(function*(v){const g=yield El(v),C=Rn().gapi;return Ae(C,v,"internal-error"),g.open({where:document.body,url:Sd(v),messageHandlersFilter:C.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ya,dontclear:!0},b=>new Promise(function(){var T=(0,o.Z)(function*(I,G){yield b.restyle({setHideOnLeave:!1});const ie=Wn(v,"network-request-failed"),He=Rn().setTimeout(()=>{G(ie)},j9.get());function Ne(){Rn().clearTimeout(He),I(b)}b.ping(Ne).then(Ne,()=>{G(ie)})});return function(I,G){return T.apply(this,arguments)}}()))}),Dl.apply(this,arguments)}const Yo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $1{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Ka(v,g,C,b,T,I){Ae(v.config.authDomain,v,"auth-domain-config-required"),Ae(v.config.apiKey,v,"invalid-api-key");const G={apiKey:v.config.apiKey,appName:v.name,authType:C,redirectUrl:b,v:le.SDK_VERSION,eventId:T};if(g instanceof v1){g.setDefaultLanguage(v.languageCode),G.providerId=g.providerId||"",(0,P.xb)(g.getCustomParameters())||(G.customParameters=JSON.stringify(g.getCustomParameters()));for(const[He,Ne]of Object.entries(I||{}))G[He]=Ne}if(g instanceof er){const He=g.getScopes().filter(Ne=>""!==Ne);He.length>0&&(G.scopes=He.join(","))}v.tenantId&&(G.tid=v.tenantId);const ie=G;for(const He of Object.keys(ie))void 0===ie[He]&&delete ie[He];return`${function J0({config:v}){return v.emulator?nt(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,P.xO)(ie).slice(1)}`}const Nl="webStorageSupport";class kl extends class X0{constructor(g){this.factorId=g}_process(g,C,b){switch(C.type){case"enroll":return this._finalizeEnroll(g,C.credential,b);case"signin":return this._finalizeSignIn(g,C.credential);default:return Fi("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new kl(g)}_finalizeEnroll(g,C,b){return function f6(v,g){return Tt(v,"POST","/v2/accounts/mfaEnrollment:finalize",mn(v,g))}(g,{idToken:C,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,C){return function G0(v,g){return Tt(v,"POST","/v2/accounts/mfaSignIn:finalize",mn(v,g))}(g,{mfaPendingCredential:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ld=(()=>{class v{constructor(){}static assertion(C){return kl._fromCredential(C)}}return v.FACTOR_ID="phone",v})();var b6="@firebase/auth",Vl="0.19.11";class ms{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var C=this;return(0,o.Z)(function*(){return C.assertAuthConfigured(),yield C.auth._initializationPromise,C.auth.currentUser?{accessToken:yield C.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const C=this.auth.onIdTokenChanged(b=>{var T;g((null===(T=b)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,C),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const C=this.internalListeners.get(g);!C||(this.internalListeners.delete(g),C(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Qa(){return window}function Rl(){return(Rl=(0,o.Z)(function*(v,g,C){var b;const{BuildInfo:T}=Qa();oi(g.sessionId,"AuthEvent did not contain a session ID");const I=yield so(g.sessionId),G={};return u2()?G.ibi=T.packageName:J2()?G.apn=T.packageName:vn(v,"operation-not-supported-in-this-environment"),T.displayName&&(G.appDisplayName=T.displayName),G.sessionId=I,Ka(v,C,g.type,void 0,null!==(b=g.eventId)&&void 0!==b?b:void 0,G)})).apply(this,arguments)}function n4(){return(n4=(0,o.Z)(function*(v){const{BuildInfo:g}=Qa(),C={};u2()?C.iosBundleId=g.packageName:J2()?C.androidPackageName=g.packageName:vn(v,"operation-not-supported-in-this-environment"),yield W0(v,C)})).apply(this,arguments)}function i4(){return(i4=(0,o.Z)(function*(v,g,C){const{cordova:b}=Qa();let T=()=>{};try{yield new Promise((I,G)=>{let ie=null;function He(){var dt;I();const sn=null===(dt=b.plugins.browsertab)||void 0===dt?void 0:dt.close;"function"==typeof sn&&sn(),"function"==typeof(null==C?void 0:C.close)&&C.close()}function Ne(){ie||(ie=window.setTimeout(()=>{G(Wn(v,"redirect-cancelled-by-user"))},2e3))}function at(){"visible"===(null==document?void 0:document.visibilityState)&&Ne()}g.addPassiveListener(He),document.addEventListener("resume",Ne,!1),J2()&&document.addEventListener("visibilitychange",at,!1),T=()=>{g.removePassiveListener(He),document.removeEventListener("resume",Ne,!1),document.removeEventListener("visibilitychange",at,!1),ie&&window.clearTimeout(ie)}})}finally{T()}})).apply(this,arguments)}function so(v){return n8.apply(this,arguments)}function n8(){return(n8=(0,o.Z)(function*(v){const g=S6(v),C=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(C)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function S6(v){if(oi(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const g=new ArrayBuffer(v.length),C=new Uint8Array(g);for(let b=0;b<v.length;b++)C[b]=v.charCodeAt(b);return C}!function M6(v){(0,le._registerComponent)(new he.wA("auth",(g,{options:C})=>{const b=g.getProvider("app").getImmediate(),T=g.getProvider("heartbeat"),{apiKey:I,authDomain:G}=b.options;return((ie,He)=>{Ae(I&&!I.includes(":"),"invalid-api-key",{appName:ie.name}),Ae(!(null==G?void 0:G.includes(":")),"argument-error",{appName:ie.name});const Ne={apiKey:I,authDomain:G,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V2(v)},at=new H2(ie,He,Ne);return function Ii(v,g){const C=(null==g?void 0:g.persistence)||[],b=(Array.isArray(C)?C:[C]).map(Cn);(null==g?void 0:g.errorMap)&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(b,null==g?void 0:g.popupRedirectResolver)}(at,C),at})(b,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,C,b)=>{g.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new he.wA("auth-internal",g=>{const C=Zn(g.getProvider("auth").getImmediate());return new ms(C)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(b6,Vl,function Hl(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,le.registerVersion)(b6,Vl,"esm2017")}("Browser");class n1 extends v6{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(C=>C(g)),super.onEvent(g)}initialized(){var g=this;return(0,o.Z)(function*(){yield g.initPromise})()}}function _s(v){return r1.apply(this,arguments)}function r1(){return(r1=(0,o.Z)(function*(v){const g=yield s4()._get(E6(v));return g&&(yield s4()._remove(E6(v))),g})).apply(this,arguments)}function L6(){const v=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<20;C++){const b=Math.floor(Math.random()*g.length);v.push(g.charAt(b))}return v.join("")}function s4(){return Cn(Uo)}function E6(v){return Ji("authEvent",v.config.apiKey,v.name)}function o4(v){if(!(null==v?void 0:v.includes("?")))return{};const[g,...C]=v.split("?");return(0,P.zd)(C.join("?"))}function T6(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Wn("no-auth-event")}}function D6(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function l8(v=(0,P.z$)()){return!("file:"!==D6()&&"ionic:"!==D6()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Fl(){try{const v=self.localStorage,g=Hn();if(v)return v.setItem(g,"1"),v.removeItem(g),!function Nd(v=(0,P.z$)()){return function oo(){return(0,P.w1)()&&11===(null==document?void 0:document.documentMode)}()||function c8(v=(0,P.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,P.hl)()}catch(v){return A6()&&(0,P.hl)()}return!1}function A6(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function a4(){return(function zl(){return"http:"===D6()||"https:"===D6()}()||(0,P.ru)()||l8())&&!function Id(){return(0,P.b$)()||(0,P.UG)()}()&&Fl()&&!A6()}function I6(){return l8()&&"undefined"!=typeof document}function N6(){return(N6=(0,o.Z)(function*(){return!!I6()&&new Promise(v=>{const g=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),v(!0)})})})).apply(this,arguments)}const j2={LOCAL:"local",NONE:"none",SESSION:"session"},l4=Ae,kd="persistence";function Bl(v){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,o.Z)(function*(v){yield v._initializationPromise;const g=Vd(),C=Ji(kd,v.config.apiKey,v.name);g&&g.setItem(C,v._getPersistence())})).apply(this,arguments)}function Vd(){var v;try{return(null===(v=function d8(){return"undefined"!=typeof window?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch(g){return null}}const Sy=Ae;class vs{constructor(){this.browserResolver=Cn(class xy{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tn,this._completeRedirectFn=xl}_openPopup(g,C,b,T){var I=this;return(0,o.Z)(function*(){var G;oi(null===(G=I.eventManagers[g._key()])||void 0===G?void 0:G.manager,"_initialize() not called before _openPopup()");const ie=Ka(g,C,b,U1(),T);return function t4(v,g,C,b=500,T=600){const I=Math.max((window.screen.availHeight-T)/2,0).toString(),G=Math.max((window.screen.availWidth-b)/2,0).toString();let ie="";const He=Object.assign(Object.assign({},Yo),{width:b.toString(),height:T.toString(),top:I,left:G}),Ne=(0,P.z$)().toLowerCase();C&&(ie=Sr(Ne)?"_blank":C),Ws(Ne)&&(g=g||"http://localhost",He.scrollbars="yes");const at=Object.entries(He).reduce((sn,[Xn,ys])=>`${sn}${Xn}=${ys},`,"");if(function d2(v=(0,P.z$)()){var g;return u2(v)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Ne)&&"_self"!==ie)return function q9(v,g){const C=document.createElement("a");C.href=v,C.target=g;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),C.dispatchEvent(b)}(g||"",ie),new $1(null);const dt=window.open(g||"",ie,at);Ae(dt,v,"popup-blocked");try{dt.focus()}catch(sn){}return new $1(dt)}(g,ie,Hn())})()}_openRedirect(g,C,b,T){var I=this;return(0,o.Z)(function*(){return yield I._originValidation(g),function yl(v){Rn().location.href=v}(Ka(g,C,b,U1(),T)),new Promise(()=>{})})()}_initialize(g){const C=g._key();if(this.eventManagers[C]){const{manager:T,promise:I}=this.eventManagers[C];return T?Promise.resolve(T):(oi(I,"If manager is not set, promise should be"),I)}const b=this.initAndGetManager(g);return this.eventManagers[C]={promise:b},b.catch(()=>{delete this.eventManagers[C]}),b}initAndGetManager(g){var C=this;return(0,o.Z)(function*(){const b=yield function Q0(v){return Dl.apply(this,arguments)}(g),T=new v6(g);return b.register("authEvent",I=>(Ae(null==I?void 0:I.authEvent,g,"invalid-auth-event"),{status:T.onEvent(I.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),C.eventManagers[g._key()]={manager:T},C.iframes[g._key()]=b,T})()}_isIframeWebStorageSupported(g,C){this.iframes[g._key()].send(Nl,{type:Nl},T=>{var I;const G=null===(I=null==T?void 0:T[0])||void 0===I?void 0:I[Nl];void 0!==G&&C(!!G),vn(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const C=g._key();return this.originValidationPromises[C]||(this.originValidationPromises[C]=function xd(v){return Br.apply(this,arguments)}(g)),this.originValidationPromises[C]}get _shouldInitProactively(){return T3()||Ht()||u2()}}),this.cordovaResolver=Cn(class Pl{constructor(){this._redirectPersistence=tn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xl}_initialize(g){var C=this;return(0,o.Z)(function*(){const b=g._key();let T=C.eventManagers.get(b);return T||(T=new n1(g),C.eventManagers.set(b,T),C.attachCallbackListeners(g,T)),T})()}_openPopup(g){vn(g,"operation-not-supported-in-this-environment")}_openRedirect(g,C,b,T){var I=this;return(0,o.Z)(function*(){!function Td(v){var g,C,b,T,I,G,ie,He,Ne,at;const dt=Qa();Ae("function"==typeof(null===(g=null==dt?void 0:dt.universalLinks)||void 0===g?void 0:g.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ae(void 0!==(null===(C=null==dt?void 0:dt.BuildInfo)||void 0===C?void 0:C.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ae("function"==typeof(null===(I=null===(T=null===(b=null==dt?void 0:dt.cordova)||void 0===b?void 0:b.plugins)||void 0===T?void 0:T.browsertab)||void 0===I?void 0:I.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ae("function"==typeof(null===(He=null===(ie=null===(G=null==dt?void 0:dt.cordova)||void 0===G?void 0:G.plugins)||void 0===ie?void 0:ie.browsertab)||void 0===He?void 0:He.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ae("function"==typeof(null===(at=null===(Ne=null==dt?void 0:dt.cordova)||void 0===Ne?void 0:Ne.InAppBrowser)||void 0===at?void 0:at.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const G=yield I._initialize(g);yield G.initialized(),G.resetRedirect(),function F9(){U2.clear()}(),yield I._originValidation(g);const ie=function Ol(v,g,C=null){return{type:g,eventId:C,urlResponse:null,sessionId:L6(),postBody:null,tenantId:v.tenantId,error:Wn(v,"no-auth-event")}}(g,b,T);yield function i8(v,g){return s4()._set(E6(v),g)}(g,ie);const He=yield function t8(v,g,C){return Rl.apply(this,arguments)}(g,ie,C),Ne=yield function x6(v){const{cordova:g}=Qa();return new Promise(C=>{g.plugins.browsertab.isAvailable(b=>{let T=null;b?g.plugins.browsertab.openUrl(v):T=g.InAppBrowser.open(v,function Qt(v=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),C(T)})})}(He);return function Ed(v,g,C){return i4.apply(this,arguments)}(g,G,Ne)})()}_isIframeWebStorageSupported(g,C){throw new Error("Method not implemented.")}_originValidation(g){const C=g._key();return this.originValidationPromises[C]||(this.originValidationPromises[C]=function w6(v){return n4.apply(this,arguments)}(g)),this.originValidationPromises[C]}attachCallbackListeners(g,C){const{universalLinks:b,handleOpenURL:T,BuildInfo:I}=Qa(),G=setTimeout((0,o.Z)(function*(){yield _s(g),C.onEvent(T6())}),500),ie=function(){var at=(0,o.Z)(function*(dt){clearTimeout(G);const sn=yield _s(g);let Xn=null;sn&&(null==dt?void 0:dt.url)&&(Xn=function Ja(v,g){var C,b;const T=function s8(v){const g=o4(v),C=g.link?decodeURIComponent(g.link):void 0,b=o4(C).link,T=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return o4(T).link||T||b||C||v}(g);if(T.includes("/__/auth/callback")){const I=o4(T),G=I.firebaseError?function r8(v){try{return JSON.parse(v)}catch(g){return null}}(decodeURIComponent(I.firebaseError)):null,ie=null===(b=null===(C=null==G?void 0:G.code)||void 0===C?void 0:C.split("auth/"))||void 0===b?void 0:b[1],He=ie?Wn(ie):null;return He?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:He,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:T,postBody:null}}return null}(sn,dt.url)),C.onEvent(Xn||T6())});return function(sn){return at.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,ie);const He=T,Ne=`${I.packageName.toLowerCase()}://`;Qa().handleOpenURL=function(){var at=(0,o.Z)(function*(dt){if(dt.toLowerCase().startsWith(Ne)&&ie({url:dt}),"function"==typeof He)try{He(dt)}catch(sn){console.error(sn)}});return function(dt){return at.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=tn,this._completeRedirectFn=xl}_initialize(g){var C=this;return(0,o.Z)(function*(){return yield C.selectUnderlyingResolver(),C.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,C,b,T){var I=this;return(0,o.Z)(function*(){return yield I.selectUnderlyingResolver(),I.assertedUnderlyingResolver._openPopup(g,C,b,T)})()}_openRedirect(g,C,b,T){var I=this;return(0,o.Z)(function*(){return yield I.selectUnderlyingResolver(),I.assertedUnderlyingResolver._openRedirect(g,C,b,T)})()}_isIframeWebStorageSupported(g,C){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,C)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return I6()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Sy(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,o.Z)(function*(){if(g.underlyingResolver)return;const C=yield function u8(){return N6.apply(this,arguments)}();g.underlyingResolver=C?g.cordovaResolver:g.browserResolver})()}}function Hd(v){return v.unwrap()}function k6(v){return h8(v)}function h8(v){const{_tokenResponse:g}=v instanceof P.ZR?v.customData:v;if(!g)return null;if(!(v instanceof P.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return E.credentialFromResult(v);const C=g.providerId;if(!C||"password"===C)return null;let b;switch(C){case"google.com":b=Io;break;case"facebook.com":b=ya;break;case"github.com":b=qn;break;case"twitter.com":b=D1;break;default:const{oauthIdToken:T,oauthAccessToken:I,oauthTokenSecret:G,pendingToken:ie,nonce:He}=g;return I||G||T||ie?ie?C.startsWith("saml.")?h2._create(C,ie):Mi._fromParams({providerId:C,signInMethod:C,pendingToken:ie,idToken:T,accessToken:I}):new Kn(C).credential({idToken:T,accessToken:I,rawNonce:He}):null}return v instanceof P.ZR?b.credentialFromError(v):b.credentialFromResult(v)}function O1(v,g){return g.catch(C=>{throw C instanceof P.ZR&&function V6(v,g){var C;const b=null===(C=g.customData)||void 0===C?void 0:C._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new p8(v,function Va(v,g){var C;const b=(0,P.m9)(v),T=g;return Ae(g.customData.operationType,b,"argument-error"),Ae(null===(C=T.customData._serverResponse)||void 0===C?void 0:C.mfaPendingCredential,b,"argument-error"),to._fromError(b,T)}(v,g));else if(b){const T=h8(g),I=g;T&&(I.credential=T,I.tenantId=b.tenantId||void 0,I.email=b.email||void 0,I.phoneNumber=b.phoneNumber||void 0)}}(v,C),C}).then(C=>{const T=C.user;return{operationType:C.operationType,credential:k6(C),additionalUserInfo:P2(C),user:or.getOrCreate(T)}})}function e3(v,g){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,o.Z)(function*(v,g){const C=yield g;return{verificationId:C.verificationId,confirm:b=>O1(v,C.confirm(b))}})).apply(this,arguments)}class p8{constructor(g,C){this.resolver=C,this.auth=function jr(v){return v.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return O1(Hd(this.auth),this.resolver.resolveSignIn(g))}}class or{constructor(g){this._delegate=g,this.multiFactor=function io(v){const g=(0,P.m9)(v);return no.has(g)||no.set(g,Bn._fromUser(g)),no.get(g)}(g)}static getOrCreate(g){return or.USER_MAP.has(g)||or.USER_MAP.set(g,new or(g)),or.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var C=this;return(0,o.Z)(function*(){return O1(C.auth,Ho(C._delegate,g))})()}linkWithPhoneNumber(g,C){var b=this;return(0,o.Z)(function*(){return e3(b.auth,function y2(v,g,C){return Y3.apply(this,arguments)}(b._delegate,g,C))})()}linkWithPopup(g){var C=this;return(0,o.Z)(function*(){return O1(C.auth,function sr(v,g,C){return H1.apply(this,arguments)}(C._delegate,g,vs))})()}linkWithRedirect(g){var C=this;return(0,o.Z)(function*(){return yield Bl(Zn(C.auth)),function U9(v,g,C){return function G9(v,g,C){return Q3.apply(this,arguments)}(v,g,C)}(C._delegate,g,vs)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var C=this;return(0,o.Z)(function*(){return O1(C.auth,e1(C._delegate,g))})()}reauthenticateWithPhoneNumber(g,C){return e3(this.auth,function $o(v,g,C){return gs.apply(this,arguments)}(this._delegate,g,C))}reauthenticateWithPopup(g){return O1(this.auth,function V1(v,g,C){return fi.apply(this,arguments)}(this._delegate,g,vs))}reauthenticateWithRedirect(g){var C=this;return(0,o.Z)(function*(){return yield Bl(Zn(C.auth)),function _6(v,g,C){return function B9(v,g,C){return q0.apply(this,arguments)}(v,g,C)}(C._delegate,g,vs)})()}sendEmailVerification(g){return function Aa(v,g){return Oo.apply(this,arguments)}(this._delegate,g)}unlink(g){var C=this;return(0,o.Z)(function*(){return yield function V3(v,g){return Le.apply(this,arguments)}(C._delegate,g),C})()}updateEmail(g){return function ka(v,g){return c6((0,P.m9)(v),g,null)}(this._delegate,g)}updatePassword(g){return function U0(v,g){return c6((0,P.m9)(v),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function g6(v,g){return L.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function Ui(v,g){return O2.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,C){return function Ia(v,g,C){return Po.apply(this,arguments)}(this._delegate,g,C)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}or.USER_MAP=new WeakMap;const Qo=Ae;let H6=(()=>{class v{constructor(C,b){if(this.app=C,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=C.options;Qo(T,"invalid-api-key",{appName:C.name}),Qo(T,"invalid-api-key",{appName:C.name});const I="undefined"!=typeof window?vs:void 0;this._delegate=b.initialize({options:{persistence:c4(T,C.name),popupRedirectResolver:I}}),this._delegate._updateErrorMap(k2),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?or.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(C){this._delegate.languageCode=C}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(C){this._delegate.tenantId=C}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(C,b){!function ma(v,g,C){const b=Zn(v);Ae(b._canInitEmulator,b,"emulator-config-failed"),Ae(/^https?:\/\//.test(g),b,"invalid-emulator-scheme");const T=!!(null==C?void 0:C.disableWarnings),I=_1(g),{host:G,port:ie}=function To(v){const g=_1(v),C=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!C)return{host:"",port:null};const b=C[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(b);if(T){const I=T[1];return{host:I,port:P0(b.substr(I.length+1))}}{const[I,G]=b.split(":");return{host:I,port:P0(G)}}}(g);b.config.emulator={url:`${I}//${G}${null===ie?"":`:${ie}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:G,port:ie,protocol:I.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function f2(){function v(){const g=document.createElement("p"),C=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",C.position="fixed",C.width="100%",C.backgroundColor="#ffffff",C.border=".1em solid #000000",C.color="#b50000",C.bottom="0px",C.left="0px",C.margin="0px",C.zIndex="10000",C.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,C,b)}applyActionCode(C){return function B0(v,g){return xa.apply(this,arguments)}(this._delegate,C)}checkActionCode(C){return eo(this._delegate,C)}confirmPasswordReset(C,b){return function pl(v,g,C){return ir.apply(this,arguments)}(this._delegate,C,b)}createUserWithEmailAndPassword(C,b){var T=this;return(0,o.Z)(function*(){return O1(T._delegate,function gl(v,g,C){return Ro.apply(this,arguments)}(T._delegate,C,b))})()}fetchProvidersForEmail(C){return this.fetchSignInMethodsForEmail(C)}fetchSignInMethodsForEmail(C){return function vd(v,g){return l6.apply(this,arguments)}(this._delegate,C)}isSignInWithEmailLink(C){return function R2(v,g){const C=rs.parseLink(g);return"EMAIL_SIGNIN"===(null==C?void 0:C.operation)}(0,C)}getRedirectResult(){var C=this;return(0,o.Z)(function*(){Qo(a4(),C._delegate,"operation-not-supported-in-this-environment");const b=yield function $0(v,g){return Wo.apply(this,arguments)}(C._delegate,vs);return b?O1(C._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(C){!function o8(v,g){Zn(v)._logFramework(g)}(this._delegate,C)}onAuthStateChanged(C,b,T){const{next:I,error:G,complete:ie}=Rd(C,b,T);return this._delegate.onAuthStateChanged(I,G,ie)}onIdTokenChanged(C,b,T){const{next:I,error:G,complete:ie}=Rd(C,b,T);return this._delegate.onIdTokenChanged(I,G,ie)}sendSignInLinkToEmail(C,b){return function Ea(v,g,C){return Fn.apply(this,arguments)}(this._delegate,C,b)}sendPasswordResetEmail(C,b){return function wa(v,g,C){return as.apply(this,arguments)}(this._delegate,C,b||void 0)}setPersistence(C){var b=this;return(0,o.Z)(function*(){let T;switch(function f8(v,g){l4(Object.values(j2).includes(g),v,"invalid-persistence-type"),(0,P.b$)()?l4(g!==j2.SESSION,v,"unsupported-persistence-type"):(0,P.UG)()?l4(g===j2.NONE,v,"unsupported-persistence-type"):A6()?l4(g===j2.NONE||g===j2.LOCAL&&(0,P.hl)(),v,"unsupported-persistence-type"):l4(g===j2.NONE||Fl(),v,"unsupported-persistence-type")}(b._delegate,C),C){case j2.SESSION:T=tn;break;case j2.LOCAL:T=(yield Cn(ki)._isAvailable())?ki:Uo;break;case j2.NONE:T=Vn;break;default:return vn("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(C){return this.signInWithCredential(C)}signInAnonymously(){return O1(this._delegate,function Ma(v){return No.apply(this,arguments)}(this._delegate))}signInWithCredential(C){return O1(this._delegate,R3(this._delegate,C))}signInWithCustomToken(C){return O1(this._delegate,function g2(v,g){return z3.apply(this,arguments)}(this._delegate,C))}signInWithEmailAndPassword(C,b){return O1(this._delegate,function o6(v,g,C){return R3((0,P.m9)(v),ss.credential(g,C))}(this._delegate,C,b))}signInWithEmailLink(C,b){return O1(this._delegate,function Qn(v,g,C){return Ta.apply(this,arguments)}(this._delegate,C,b))}signInWithPhoneNumber(C,b){return e3(this._delegate,function Pr(v,g,C){return k1.apply(this,arguments)}(this._delegate,C,b))}signInWithPopup(C){var b=this;return(0,o.Z)(function*(){return Qo(a4(),b._delegate,"operation-not-supported-in-this-environment"),O1(b._delegate,function Xt(v,g,C){return Nt.apply(this,arguments)}(b._delegate,C,vs))})()}signInWithRedirect(C){var b=this;return(0,o.Z)(function*(){return Qo(a4(),b._delegate,"operation-not-supported-in-this-environment"),yield Bl(b._delegate),function C6(v,g,C){return function m6(v,g,C){return wl.apply(this,arguments)}(v,g,C)}(b._delegate,C,vs)})()}updateCurrentUser(C){return this._delegate.updateCurrentUser(C)}verifyPasswordResetCode(C){return function B3(v,g){return La.apply(this,arguments)}(this._delegate,C)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=j2,v})();function Rd(v,g,C){let b=v;"function"!=typeof v&&({next:b,error:g,complete:C}=v);const T=b;return{next:G=>T(G&&or.getOrCreate(G)),error:g,complete:C}}function c4(v,g){const C=function Gr(v,g){const C=Vd();if(!C)return[];const b=Ji(kd,v,g);switch(C.getItem(b)){case j2.NONE:return[Vn];case j2.LOCAL:return[ki,tn];case j2.SESSION:return[tn];default:return[]}}(v,g);if("undefined"!=typeof self&&!C.includes(ki)&&C.push(ki),"undefined"!=typeof window)for(const b of[Uo,tn])C.includes(b)||C.push(b);return C.includes(Vn)||C.push(Vn),C}class Gl{constructor(){this.providerId="phone",this._delegate=new E(Hd(X.Z.auth()))}static credential(g,C){return E.credential(g,C)}verifyPhoneNumber(g,C){return this._delegate.verifyPhoneNumber(g,C)}unwrap(){return this._delegate}}Gl.PHONE_SIGN_IN_METHOD=E.PHONE_SIGN_IN_METHOD,Gl.PROVIDER_ID=E.PROVIDER_ID;const Od=Ae;class Z9{constructor(g,C,b=X.Z.app()){var T;Od(null===(T=b.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Z3(g,C,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Y9(v){v.INTERNAL.registerComponent(new he.wA("auth-compat",g=>{const C=g.getProvider("app-compat").getImmediate(),b=g.getProvider("auth");return new H6(C,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ss,FacebookAuthProvider:ya,GithubAuthProvider:qn,GoogleAuthProvider:Io,OAuthProvider:Kn,SAMLAuthProvider:tr,PhoneAuthProvider:Gl,PhoneMultiFactorGenerator:Ld,RecaptchaVerifier:Z9,TwitterAuthProvider:D1,Auth:H6,AuthCredential:Zs,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.11")}(X.Z)},8306:(pt,xe,O)=>{O.d(xe,{y:()=>$});var o=O(930),X=O(727),P=O(8822),le=O(4671);var J=O(2416),ue=O(576),ge=O(2806);let $=(()=>{class Ee{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const Fe=new Ee;return Fe.source=this,Fe.operator=Ue,Fe}subscribe(Ue,Fe,te){const De=function Ze(Ee){return Ee&&Ee instanceof o.Lv||function re(Ee){return Ee&&(0,ue.m)(Ee.next)&&(0,ue.m)(Ee.error)&&(0,ue.m)(Ee.complete)}(Ee)&&(0,X.Nn)(Ee)}(Ue)?Ue:new o.Hp(Ue,Fe,te);return(0,ge.x)(()=>{const{operator:Be,source:Re}=this;De.add(Be?Be.call(De,Re):Re?this._subscribe(De):this._trySubscribe(De))}),De}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(Fe){Ue.error(Fe)}}forEach(Ue,Fe){return new(Fe=W(Fe))((te,De)=>{let Be;Be=this.subscribe(Re=>{try{Ue(Re)}catch(ot){De(ot),null==Be||Be.unsubscribe()}},De,te)})}_subscribe(Ue){var Fe;return null===(Fe=this.source)||void 0===Fe?void 0:Fe.subscribe(Ue)}[P.L](){return this}pipe(...Ue){return function ye(Ee){return 0===Ee.length?le.y:1===Ee.length?Ee[0]:function(Ue){return Ee.reduce((Fe,te)=>te(Fe),Ue)}}(Ue)(this)}toPromise(Ue){return new(Ue=W(Ue))((Fe,te)=>{let De;this.subscribe(Be=>De=Be,Be=>te(Be),()=>Fe(De))})}}return Ee.create=Ye=>new Ee(Ye),Ee})();function W(Ee){var Ye;return null!==(Ye=null!=Ee?Ee:J.v.Promise)&&void 0!==Ye?Ye:Promise}},7579:(pt,xe,O)=>{O.d(xe,{x:()=>J});var o=O(8306),X=O(727);const le=(0,O(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=O(8737),ye=O(2806);let J=(()=>{class ge extends o.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const re=new ue(this,this);return re.operator=W,re}_throwIfClosed(){if(this.closed)throw new le}next(W){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const re=this.observers.slice();for(const Ze of re)Ze.next(W)}})}error(W){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:re}=this;for(;re.length;)re.shift().error(W)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:re,isStopped:Ze,observers:Ee}=this;return re||Ze?X.Lc:(Ee.push(W),new X.w0(()=>(0,se.P)(Ee,W)))}_checkFinalizedStatuses(W){const{hasError:re,thrownError:Ze,isStopped:Ee}=this;re?W.error(Ze):Ee&&W.complete()}asObservable(){const W=new o.y;return W.source=this,W}}return ge.create=($,W)=>new ue($,W),ge})();class ue extends J{constructor($,W){super(),this.destination=$,this.source=W}next($){var W,re;null===(re=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===re||re.call(W,$)}error($){var W,re;null===(re=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===re||re.call(W,$)}complete(){var $,W;null===(W=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===W||W.call($)}_subscribe($){var W,re;return null!==(re=null===(W=this.source)||void 0===W?void 0:W.subscribe($))&&void 0!==re?re:X.Lc}}},930:(pt,xe,O)=>{O.d(xe,{Hp:()=>Ze,Lv:()=>re});var o=O(576),X=O(727),P=O(2416),le=O(7849),se=O(5032);const ye=ge("C",void 0,void 0);function ge(te,De,Be){return{kind:te,value:De,error:Be}}var $=O(3410),W=O(2806);class re extends X.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,X.Nn)(De)&&De.add(this)):this.destination=Fe}static create(De,Be,Re){return new Ze(De,Be,Re)}next(De){this.isStopped?Ue(function ue(te){return ge("N",te,void 0)}(De),this):this._next(De)}error(De){this.isStopped?Ue(function J(te){return ge("E",void 0,te)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?Ue(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ze extends re{constructor(De,Be,Re){let ot;if(super(),(0,o.m)(De))ot=De;else if(De){let Ve;({next:ot,error:Be,complete:Re}=De),this&&P.v.useDeprecatedNextContext?(Ve=Object.create(De),Ve.unsubscribe=()=>this.unsubscribe()):Ve=De,ot=null==ot?void 0:ot.bind(Ve),Be=null==Be?void 0:Be.bind(Ve),Re=null==Re?void 0:Re.bind(Ve)}this.destination={next:ot?Ee(ot):se.Z,error:Ee(null!=Be?Be:Ye),complete:Re?Ee(Re):se.Z}}}function Ee(te,De){return(...Be)=>{try{te(...Be)}catch(Re){P.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Re):(0,le.h)(Re)}}}function Ye(te){throw te}function Ue(te,De){const{onStoppedNotification:Be}=P.v;Be&&$.z.setTimeout(()=>Be(te,De))}const Fe={closed:!0,next:se.Z,error:Ye,complete:se.Z}},727:(pt,xe,O)=>{O.d(xe,{Lc:()=>ye,w0:()=>se,Nn:()=>J});var o=O(576);const P=(0,O(3888).d)(ge=>function(W){ge(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((re,Ze)=>`${Ze+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var le=O(8737);class se{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Ee of W)Ee.remove(this);else W.remove(this);const{initialTeardown:re}=this;if((0,o.m)(re))try{re()}catch(Ee){$=Ee instanceof P?Ee.errors:[Ee]}const{_teardowns:Ze}=this;if(Ze){this._teardowns=null;for(const Ee of Ze)try{ue(Ee)}catch(Ye){$=null!=$?$:[],Ye instanceof P?$=[...$,...Ye.errors]:$.push(Ye)}}if($)throw new P($)}}add($){var W;if($&&$!==this)if(this.closed)ue($);else{if($ instanceof se){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._teardowns=null!==(W=this._teardowns)&&void 0!==W?W:[]).push($)}}_hasParent($){const{_parentage:W}=this;return W===$||Array.isArray(W)&&W.includes($)}_addParent($){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push($),W):W?[W,$]:$}_removeParent($){const{_parentage:W}=this;W===$?this._parentage=null:Array.isArray(W)&&(0,le.P)(W,$)}remove($){const{_teardowns:W}=this;W&&(0,le.P)(W,$),$ instanceof se&&$._removeParent(this)}}se.EMPTY=(()=>{const ge=new se;return ge.closed=!0,ge})();const ye=se.EMPTY;function J(ge){return ge instanceof se||ge&&"closed"in ge&&(0,o.m)(ge.remove)&&(0,o.m)(ge.add)&&(0,o.m)(ge.unsubscribe)}function ue(ge){(0,o.m)(ge)?ge():ge.unsubscribe()}},2416:(pt,xe,O)=>{O.d(xe,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(pt,xe,O)=>{O.d(xe,{E:()=>X});const X=new(O(8306).y)(se=>se.complete())},8996:(pt,xe,O)=>{O.d(xe,{D:()=>ot});var o=O(8421),X=O(5363),P=O(9468),ye=O(8306),ue=O(2202),ge=O(576),$=O(9672);function re(Ve,Ke){if(!Ve)throw new Error("Iterable cannot be null");return new ye.y(Je=>{(0,$.f)(Je,Ke,()=>{const _t=Ve[Symbol.asyncIterator]();(0,$.f)(Je,Ke,()=>{_t.next().then(ne=>{ne.done?Je.complete():Je.next(ne.value)})},0,!0)})})}var Ze=O(3670),Ee=O(8239),Ye=O(1144),Ue=O(6495),Fe=O(2206),te=O(4532),De=O(3260);function ot(Ve,Ke){return Ke?function Re(Ve,Ke){if(null!=Ve){if((0,Ze.c)(Ve))return function le(Ve,Ke){return(0,o.Xf)(Ve).pipe((0,P.R)(Ke),(0,X.Q)(Ke))}(Ve,Ke);if((0,Ye.z)(Ve))return function J(Ve,Ke){return new ye.y(Je=>{let _t=0;return Ke.schedule(function(){_t===Ve.length?Je.complete():(Je.next(Ve[_t++]),Je.closed||this.schedule())})})}(Ve,Ke);if((0,Ee.t)(Ve))return function se(Ve,Ke){return(0,o.Xf)(Ve).pipe((0,P.R)(Ke),(0,X.Q)(Ke))}(Ve,Ke);if((0,Fe.D)(Ve))return re(Ve,Ke);if((0,Ue.T)(Ve))return function W(Ve,Ke){return new ye.y(Je=>{let _t;return(0,$.f)(Je,Ke,()=>{_t=Ve[ue.h](),(0,$.f)(Je,Ke,()=>{let ne,fe;try{({value:ne,done:fe}=_t.next())}catch(ve){return void Je.error(ve)}fe?Je.complete():Je.next(ne)},0,!0)}),()=>(0,ge.m)(null==_t?void 0:_t.return)&&_t.return()})}(Ve,Ke);if((0,De.L)(Ve))return function Be(Ve,Ke){return re((0,De.Q)(Ve),Ke)}(Ve,Ke)}throw(0,te.z)(Ve)}(Ve,Ke):(0,o.Xf)(Ve)}},8421:(pt,xe,O)=>{O.d(xe,{Xf:()=>Ze});var o=O(5987),X=O(1144),P=O(8239),le=O(8306),se=O(3670),ye=O(2206),J=O(4532),ue=O(6495),ge=O(3260),$=O(576),W=O(7849),re=O(8822);function Ze(Re){if(Re instanceof le.y)return Re;if(null!=Re){if((0,se.c)(Re))return function Ee(Re){return new le.y(ot=>{const Ve=Re[re.L]();if((0,$.m)(Ve.subscribe))return Ve.subscribe(ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,X.z)(Re))return function Ye(Re){return new le.y(ot=>{for(let Ve=0;Ve<Re.length&&!ot.closed;Ve++)ot.next(Re[Ve]);ot.complete()})}(Re);if((0,P.t)(Re))return function Ue(Re){return new le.y(ot=>{Re.then(Ve=>{ot.closed||(ot.next(Ve),ot.complete())},Ve=>ot.error(Ve)).then(null,W.h)})}(Re);if((0,ye.D)(Re))return te(Re);if((0,ue.T)(Re))return function Fe(Re){return new le.y(ot=>{for(const Ve of Re)if(ot.next(Ve),ot.closed)return;ot.complete()})}(Re);if((0,ge.L)(Re))return function De(Re){return te((0,ge.Q)(Re))}(Re)}throw(0,J.z)(Re)}function te(Re){return new le.y(ot=>{(function Be(Re,ot){var Ve,Ke,Je,_t;return(0,o.mG)(this,void 0,void 0,function*(){try{for(Ve=(0,o.KL)(Re);!(Ke=yield Ve.next()).done;)if(ot.next(Ke.value),ot.closed)return}catch(ne){Je={error:ne}}finally{try{Ke&&!Ke.done&&(_t=Ve.return)&&(yield _t.call(Ve))}finally{if(Je)throw Je.error}}ot.complete()})})(Re,ot).catch(Ve=>ot.error(Ve))})}},6451:(pt,xe,O)=>{O.d(xe,{T:()=>ye});var o=O(8189),X=O(8421),P=O(515),le=O(3269),se=O(8996);function ye(...J){const ue=(0,le.yG)(J),ge=(0,le._6)(J,1/0),$=J;return $.length?1===$.length?(0,X.Xf)($[0]):(0,o.J)(ge)((0,se.D)($,ue)):P.E}},5403:(pt,xe,O)=>{O.d(xe,{Q:()=>X});var o=O(930);class X extends o.Lv{constructor(le,se,ye,J,ue){super(le),this.onFinalize=ue,this._next=se?function(ge){try{se(ge)}catch($){le.error($)}}:super._next,this._error=J?function(ge){try{J(ge)}catch($){le.error($)}finally{this.unsubscribe()}}:super._error,this._complete=ye?function(){try{ye()}catch(ge){le.error(ge)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;const{closed:se}=this;super.unsubscribe(),!se&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}},4004:(pt,xe,O)=>{O.d(xe,{U:()=>P});var o=O(4482),X=O(5403);function P(le,se){return(0,o.e)((ye,J)=>{let ue=0;ye.subscribe(new X.Q(J,ge=>{J.next(le.call(se,ge,ue++))}))})}},8189:(pt,xe,O)=>{O.d(xe,{J:()=>P});var o=O(5577),X=O(4671);function P(le=1/0){return(0,o.z)(X.y,le)}},5577:(pt,xe,O)=>{O.d(xe,{z:()=>ue});var o=O(4004),X=O(8421),P=O(4482),le=O(9672),se=O(5403),J=O(576);function ue(ge,$,W=1/0){return(0,J.m)($)?ue((re,Ze)=>(0,o.U)((Ee,Ye)=>$(re,Ee,Ze,Ye))((0,X.Xf)(ge(re,Ze))),W):("number"==typeof $&&(W=$),(0,P.e)((re,Ze)=>function ye(ge,$,W,re,Ze,Ee,Ye,Ue){const Fe=[];let te=0,De=0,Be=!1;const Re=()=>{Be&&!Fe.length&&!te&&$.complete()},ot=Ke=>te<re?Ve(Ke):Fe.push(Ke),Ve=Ke=>{Ee&&$.next(Ke),te++;let Je=!1;(0,X.Xf)(W(Ke,De++)).subscribe(new se.Q($,_t=>{null==Ze||Ze(_t),Ee?ot(_t):$.next(_t)},()=>{Je=!0},void 0,()=>{if(Je)try{for(te--;Fe.length&&te<re;){const _t=Fe.shift();Ye?(0,le.f)($,Ye,()=>Ve(_t)):Ve(_t)}Re()}catch(_t){$.error(_t)}}))};return ge.subscribe(new se.Q($,ot,()=>{Be=!0,Re()})),()=>{null==Ue||Ue()}}(re,Ze,ge,W)))}},5363:(pt,xe,O)=>{O.d(xe,{Q:()=>le});var o=O(9672),X=O(4482),P=O(5403);function le(se,ye=0){return(0,X.e)((J,ue)=>{J.subscribe(new P.Q(ue,ge=>(0,o.f)(ue,se,()=>ue.next(ge),ye),()=>(0,o.f)(ue,se,()=>ue.complete(),ye),ge=>(0,o.f)(ue,se,()=>ue.error(ge),ye)))})}},3099:(pt,xe,O)=>{O.d(xe,{B:()=>ye});var o=O(8996),X=O(5698),P=O(7579),le=O(930),se=O(4482);function ye(ue={}){const{connector:ge=(()=>new P.x),resetOnError:$=!0,resetOnComplete:W=!0,resetOnRefCountZero:re=!0}=ue;return Ze=>{let Ee=null,Ye=null,Ue=null,Fe=0,te=!1,De=!1;const Be=()=>{null==Ye||Ye.unsubscribe(),Ye=null},Re=()=>{Be(),Ee=Ue=null,te=De=!1},ot=()=>{const Ve=Ee;Re(),null==Ve||Ve.unsubscribe()};return(0,se.e)((Ve,Ke)=>{Fe++,!De&&!te&&Be();const Je=Ue=null!=Ue?Ue:ge();Ke.add(()=>{Fe--,0===Fe&&!De&&!te&&(Ye=J(ot,re))}),Je.subscribe(Ke),Ee||(Ee=new le.Hp({next:_t=>Je.next(_t),error:_t=>{De=!0,Be(),Ye=J(Re,$,_t),Je.error(_t)},complete:()=>{te=!0,Be(),Ye=J(Re,W),Je.complete()}}),(0,o.D)(Ve).subscribe(Ee))})(Ze)}}function J(ue,ge,...$){return!0===ge?(ue(),null):!1===ge?null:ge(...$).pipe((0,X.q)(1)).subscribe(()=>ue())}},9468:(pt,xe,O)=>{O.d(xe,{R:()=>X});var o=O(4482);function X(P,le=0){return(0,o.e)((se,ye)=>{ye.add(P.schedule(()=>se.subscribe(ye),le))})}},5698:(pt,xe,O)=>{O.d(xe,{q:()=>le});var o=O(515),X=O(4482),P=O(5403);function le(se){return se<=0?()=>o.E:(0,X.e)((ye,J)=>{let ue=0;ye.subscribe(new P.Q(J,ge=>{++ue<=se&&(J.next(ge),se<=ue&&J.complete())}))})}},8505:(pt,xe,O)=>{O.d(xe,{b:()=>se});var o=O(576),X=O(4482),P=O(5403),le=O(4671);function se(ye,J,ue){const ge=(0,o.m)(ye)||J||ue?{next:ye,error:J,complete:ue}:ye;return ge?(0,X.e)(($,W)=>{var re;null===(re=ge.subscribe)||void 0===re||re.call(ge);let Ze=!0;$.subscribe(new P.Q(W,Ee=>{var Ye;null===(Ye=ge.next)||void 0===Ye||Ye.call(ge,Ee),W.next(Ee)},()=>{var Ee;Ze=!1,null===(Ee=ge.complete)||void 0===Ee||Ee.call(ge),W.complete()},Ee=>{var Ye;Ze=!1,null===(Ye=ge.error)||void 0===Ye||Ye.call(ge,Ee),W.error(Ee)},()=>{var Ee,Ye;Ze&&(null===(Ee=ge.unsubscribe)||void 0===Ee||Ee.call(ge)),null===(Ye=ge.finalize)||void 0===Ye||Ye.call(ge)}))}):le.y}},4408:(pt,xe,O)=>{O.d(xe,{o:()=>se});var o=O(727);class X extends o.w0{constructor(J,ue){super()}schedule(J,ue=0){return this}}const P={setInterval(...ye){const{delegate:J}=P;return((null==J?void 0:J.setInterval)||setInterval)(...ye)},clearInterval(ye){const{delegate:J}=P;return((null==J?void 0:J.clearInterval)||clearInterval)(ye)},delegate:void 0};var le=O(8737);class se extends X{constructor(J,ue){super(J,ue),this.scheduler=J,this.work=ue,this.pending=!1}schedule(J,ue=0){if(this.closed)return this;this.state=J;const ge=this.id,$=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId($,ge,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId($,this.id,ue),this}requestAsyncId(J,ue,ge=0){return P.setInterval(J.flush.bind(J,this),ge)}recycleAsyncId(J,ue,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return ue;P.clearInterval(ue)}execute(J,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(J,ue);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(J,ue){let $,ge=!1;try{this.work(J)}catch(W){ge=!0,$=W||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:J,scheduler:ue}=this,{actions:ge}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(ge,this),null!=J&&(this.id=this.recycleAsyncId(ue,J,null)),this.delay=null,super.unsubscribe()}}}},7565:(pt,xe,O)=>{O.d(xe,{v:()=>P});var o=O(6063);class X{constructor(se,ye=X.now){this.schedulerActionCtor=se,this.now=ye}schedule(se,ye=0,J){return new this.schedulerActionCtor(this,se).schedule(J,ye)}}X.now=o.l.now;class P extends X{constructor(se,ye=X.now){super(se,ye),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:ye}=this;if(this._active)return void ye.push(se);let J;this._active=!0;do{if(J=se.execute(se.state,se.delay))break}while(se=ye.shift());if(this._active=!1,J){for(;se=ye.shift();)se.unsubscribe();throw J}}}},4986:(pt,xe,O)=>{O.d(xe,{P:()=>le,z:()=>P});var o=O(4408);const P=new(O(7565).v)(o.o),le=P},6063:(pt,xe,O)=>{O.d(xe,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},3410:(pt,xe,O)=>{O.d(xe,{z:()=>o});const o={setTimeout(...X){const{delegate:P}=o;return((null==P?void 0:P.setTimeout)||setTimeout)(...X)},clearTimeout(X){const{delegate:P}=o;return((null==P?void 0:P.clearTimeout)||clearTimeout)(X)},delegate:void 0}},2202:(pt,xe,O)=>{O.d(xe,{h:()=>X});const X=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(pt,xe,O)=>{O.d(xe,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(pt,xe,O)=>{O.d(xe,{_6:()=>ye,jO:()=>le,yG:()=>se});var o=O(576),X=O(3532);function P(J){return J[J.length-1]}function le(J){return(0,o.m)(P(J))?J.pop():void 0}function se(J){return(0,X.K)(P(J))?J.pop():void 0}function ye(J,ue){return"number"==typeof P(J)?J.pop():ue}},8737:(pt,xe,O)=>{function o(X,P){if(X){const le=X.indexOf(P);0<=le&&X.splice(le,1)}}O.d(xe,{P:()=>o})},3888:(pt,xe,O)=>{function o(X){const le=X(se=>{Error.call(se),se.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}O.d(xe,{d:()=>o})},2806:(pt,xe,O)=>{O.d(xe,{O:()=>le,x:()=>P});var o=O(2416);let X=null;function P(se){if(o.v.useDeprecatedSynchronousErrorHandling){const ye=!X;if(ye&&(X={errorThrown:!1,error:null}),se(),ye){const{errorThrown:J,error:ue}=X;if(X=null,J)throw ue}}else se()}function le(se){o.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=se)}},9672:(pt,xe,O)=>{function o(X,P,le,se=0,ye=!1){const J=P.schedule(function(){le(),ye?X.add(this.schedule(null,se)):this.unsubscribe()},se);if(X.add(J),!ye)return J}O.d(xe,{f:()=>o})},4671:(pt,xe,O)=>{function o(X){return X}O.d(xe,{y:()=>o})},1144:(pt,xe,O)=>{O.d(xe,{z:()=>o});const o=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(pt,xe,O)=>{O.d(xe,{D:()=>X});var o=O(576);function X(P){return Symbol.asyncIterator&&(0,o.m)(null==P?void 0:P[Symbol.asyncIterator])}},576:(pt,xe,O)=>{function o(X){return"function"==typeof X}O.d(xe,{m:()=>o})},3670:(pt,xe,O)=>{O.d(xe,{c:()=>P});var o=O(8822),X=O(576);function P(le){return(0,X.m)(le[o.L])}},6495:(pt,xe,O)=>{O.d(xe,{T:()=>P});var o=O(2202),X=O(576);function P(le){return(0,X.m)(null==le?void 0:le[o.h])}},8239:(pt,xe,O)=>{O.d(xe,{t:()=>X});var o=O(576);function X(P){return(0,o.m)(null==P?void 0:P.then)}},3260:(pt,xe,O)=>{O.d(xe,{L:()=>le,Q:()=>P});var o=O(5987),X=O(576);function P(se){return(0,o.FC)(this,arguments,function*(){const J=se.getReader();try{for(;;){const{value:ue,done:ge}=yield(0,o.qq)(J.read());if(ge)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(ue)}}finally{J.releaseLock()}})}function le(se){return(0,X.m)(null==se?void 0:se.getReader)}},3532:(pt,xe,O)=>{O.d(xe,{K:()=>X});var o=O(576);function X(P){return P&&(0,o.m)(P.schedule)}},4482:(pt,xe,O)=>{O.d(xe,{A:()=>X,e:()=>P});var o=O(576);function X(le){return(0,o.m)(null==le?void 0:le.lift)}function P(le){return se=>{if(X(se))return se.lift(function(ye){try{return le(ye,this)}catch(J){this.error(J)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(pt,xe,O)=>{function o(){}O.d(xe,{Z:()=>o})},7849:(pt,xe,O)=>{O.d(xe,{h:()=>P});var o=O(2416),X=O(3410);function P(le){X.z.setTimeout(()=>{const{onUnhandledError:se}=o.v;if(!se)throw le;se(le)})}},4532:(pt,xe,O)=>{function o(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(xe,{z:()=>o})},5987:(pt,xe,O)=>{function ue(ne,fe,ve,be){return new(ve||(ve=Promise))(function(he,Ft){function gn(Ot){try{Pt(be.next(Ot))}catch(St){Ft(St)}}function _i(Ot){try{Pt(be.throw(Ot))}catch(St){Ft(St)}}function Pt(Ot){Ot.done?he(Ot.value):function Oe(he){return he instanceof ve?he:new ve(function(Ft){Ft(he)})}(Ot.value).then(gn,_i)}Pt((be=be.apply(ne,fe||[])).next())})}function Fe(ne){return this instanceof Fe?(this.v=ne,this):new Fe(ne)}function te(ne,fe,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,be=ve.apply(ne,fe||[]),he=[];return Oe={},Ft("next"),Ft("throw"),Ft("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe;function Ft(Nn){be[Nn]&&(Oe[Nn]=function(k2){return new Promise(function(m1,kn){he.push([Nn,k2,m1,kn])>1||gn(Nn,k2)})})}function gn(Nn,k2){try{!function _i(Nn){Nn.value instanceof Fe?Promise.resolve(Nn.value.v).then(Pt,Ot):St(he[0][2],Nn)}(be[Nn](k2))}catch(m1){St(he[0][3],m1)}}function Pt(Nn){gn("next",Nn)}function Ot(Nn){gn("throw",Nn)}function St(Nn,k2){Nn(k2),he.shift(),he.length&&gn(he[0][0],he[0][1])}}function Be(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,fe=ne[Symbol.asyncIterator];return fe?fe.call(ne):(ne=function re(ne){var fe="function"==typeof Symbol&&Symbol.iterator,ve=fe&&ne[fe],be=0;if(ve)return ve.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&be>=ne.length&&(ne=void 0),{value:ne&&ne[be++],done:!ne}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ne),ve={},be("next"),be("throw"),be("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function be(he){ve[he]=ne[he]&&function(Ft){return new Promise(function(gn,_i){!function Oe(he,Ft,gn,_i){Promise.resolve(_i).then(function(Pt){he({value:Pt,done:gn})},Ft)}(gn,_i,(Ft=ne[he](Ft)).done,Ft.value)})}}}O.d(xe,{FC:()=>te,KL:()=>Be,mG:()=>ue,qq:()=>Fe})},5e3:(pt,xe,O)=>{O.d(xe,{$8M:()=>Ha,$Z:()=>Ab,AFp:()=>xf,AaK:()=>ue,CHM:()=>Ir,CRH:()=>VC,CZH:()=>N5,CqO:()=>Rb,EJc:()=>vw,EiD:()=>M6,EpF:()=>Vb,F$t:()=>cg,F4k:()=>Hb,FYo:()=>dC,FiY:()=>H1,G48:()=>QN,Gf:()=>kC,GfV:()=>b5,Gpc:()=>W,Hsn:()=>ug,Ikx:()=>G7,JOm:()=>jr,JVY:()=>Y0,L6k:()=>K0,LAX:()=>El,LFG:()=>Me,LSH:()=>w6,Lbi:()=>Cw,MAs:()=>M7,MGl:()=>X6,NdJ:()=>sg,OlP:()=>Ln,Oqu:()=>z8,PXZ:()=>jN,Q6J:()=>tg,QGY:()=>H8,Qsj:()=>DM,QtT:()=>ef,R0b:()=>Zr,RDi:()=>hl,Rgc:()=>pc,SBq:()=>y5,SDv:()=>cc,Sil:()=>jC,Suo:()=>ii,TTD:()=>ns,TgZ:()=>ng,Tol:()=>Gb,Udp:()=>vg,VKq:()=>lf,VLi:()=>BN,W1O:()=>V4,WFA:()=>og,WLB:()=>cf,X6Q:()=>KN,XFs:()=>yt,Xpm:()=>q,Y36:()=>J6,YKP:()=>CC,YNc:()=>I8,Yjl:()=>vi,Yz7:()=>kn,ZZ4:()=>Af,_Bn:()=>cC,_UZ:()=>Ib,_Vd:()=>dc,_c5:()=>Uw,_uU:()=>n5,aQg:()=>If,c2e:()=>_w,cJS:()=>si,cg1:()=>h1,d8E:()=>j7,dDg:()=>ww,deG:()=>bd,dqk:()=>Tt,eBb:()=>Wa,eFA:()=>Lw,ekj:()=>yg,f3M:()=>It,g9A:()=>gw,h0i:()=>fc,hGG:()=>Ww,hij:()=>uo,iGM:()=>ru,ifc:()=>nt,ip1:()=>UC,kEZ:()=>yC,kL8:()=>Pg,lG2:()=>Bi,mCW:()=>Yo,n5z:()=>yl,n_E:()=>iu,oAB:()=>Ge,oJD:()=>t8,oxw:()=>Fb,pB0:()=>j9,pQV:()=>X7,q3G:()=>hi,q4F:()=>hC,qLn:()=>oo,qOj:()=>kp,qZA:()=>ig,qzn:()=>$a,s9C:()=>o3,sBO:()=>JN,sIi:()=>D8,s_b:()=>ff,soG:()=>Sf,tBr:()=>sr,tb:()=>mw,tp0:()=>R1,uIk:()=>nc,vHH:()=>Ye,vpe:()=>w2,wAp:()=>xt,xp6:()=>rp,yhl:()=>Ll,z2F:()=>cu,z3N:()=>Br,zSh:()=>d7,zs3:()=>xs});var o=O(7579),X=O(727),P=O(8306),le=O(6451),se=O(3099);function ye(a){for(let l in a)if(a[l]===ye)return l;throw Error("Could not find renamed property on target object.")}function J(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function ue(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(ue).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function ge(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const $=ye({__forward_ref__:ye});function W(a){return a.__forward_ref__=W,a.toString=function(){return ue(this())},a}function re(a){return Ze(a)?a():a}function Ze(a){return"function"==typeof a&&a.hasOwnProperty($)&&a.__forward_ref__===W}class Ye extends Error{constructor(l,u){super(function Fe(a,l){return`${a?`NG0${a}: `:""}${l}`}(l,u)),this.code=l}}function te(a){return"string"==typeof a?a:null==a?"":String(a)}function De(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():te(a)}function Ve(a,l){const u=l?` in ${l}`:"";throw new Ye("201",`No provider for ${De(a)} found${u}`)}function St(a,l,u,f){throw new Error(`ASSERTION ERROR: ${a}`+(null==f?"":` [Expected=> ${u} ${f} ${l} <=Actual]`))}function kn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function si(a){return{providers:a.providers||[],imports:a.imports||[]}}function Ai(a){return vn(a,Yi)||vn(a,Fi)}function vn(a,l){return a.hasOwnProperty(l)?a[l]:null}function l2(a){return a&&(a.hasOwnProperty(Ae)||a.hasOwnProperty(oi))?a[Ae]:null}const Yi=ye({\u0275prov:ye}),Ae=ye({\u0275inj:ye}),Fi=ye({ngInjectableDef:ye}),oi=ye({ngInjectorDef:ye});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let Cn;function Ii(a){const l=Cn;return Cn=a,l}function U1(a,l,u){const f=Ai(a);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:u&yt.Optional?null:void 0!==l?l:void Ve(ue(a),"Injector")}function Ki(a){return{toString:a}.toString()}var ai=(()=>((ai=ai||{})[ai.OnPush=0]="OnPush",ai[ai.Default=1]="Default",ai))(),nt=(()=>{return(a=nt||(nt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",nt;var a})();const Lt="undefined"!=typeof globalThis&&globalThis,wr="undefined"!=typeof window&&window,K2="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Tt=Lt||"undefined"!=typeof global&&global||wr||K2,_n={},Dt=[],Wt=ye({\u0275cmp:ye}),Xe=ye({\u0275dir:ye}),Se=ye({\u0275pipe:ye}),ut=ye({\u0275mod:ye}),mt=ye({\u0275fac:ye}),Zt=ye({__NG_ELEMENT_ID__:ye});let yn=0;function q(a){return Ki(()=>{const u={},f={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===ai.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||Dt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||nt.Emulated,id:"c",styles:a.styles||Dt,_:null,setInput:null,schemas:a.schemas||null,tView:null},p=a.directives,m=a.features,y=a.pipes;return f.id+=yn++,f.inputs=dn(a.inputs,u),f.outputs=dn(a.outputs),m&&m.forEach(w=>w(f)),f.directiveDefs=p?()=>("function"==typeof p?p():p).map(Z):null,f.pipeDefs=y?()=>("function"==typeof y?y():y).map(pe):null,f})}function Z(a){return on(a)||function zt(a){return a[Xe]||null}(a)}function pe(a){return function li(a){return a[Se]||null}(a)}const ee={};function Ge(a){return Ki(()=>{const l={type:a.type,bootstrap:a.bootstrap||Dt,declarations:a.declarations||Dt,imports:a.imports||Dt,exports:a.exports||Dt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(ee[a.id]=a.type),l})}function dn(a,l){if(null==a)return _n;const u={};for(const f in a)if(a.hasOwnProperty(f)){let p=a[f],m=p;Array.isArray(p)&&(m=p[1],p=p[0]),u[p]=f,l&&(l[p]=m)}return u}const Bi=q;function vi(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function on(a){return a[Wt]||null}function ci(a,l){const u=a[ut]||null;if(!u&&!0===l)throw new Error(`Type ${ue(a)} does not have '\u0275mod' property.`);return u}function V2(a){return Array.isArray(a)&&"object"==typeof a[1]}function H2(a){return Array.isArray(a)&&!0===a[1]}function Zn(a){return 0!=(8&a.flags)}function Eo(a){return 2==(2&a.flags)}function ma(a){return 1==(1&a.flags)}function _1(a){return null!==a.template}function To(a){return 0!=(512&a[2])}function X2(a,l){return a.hasOwnProperty(mt)?a[mt]:null}class va{constructor(l,u,f){this.previousValue=l,this.currentValue=u,this.firstChange=f}isFirstChange(){return this.firstChange}}function ns(){return Ys}function Ys(a){return a.type.prototype.ngOnChanges&&(a.setInput=bi),Er}function Er(){const a=Mi(this),l=null==a?void 0:a.current;if(l){const u=a.previous;if(u===_n)a.previous=l;else for(let f in l)u[f]=l[f];a.current=null,this.ngOnChanges(l)}}function bi(a,l,u,f){const p=Mi(a)||function r6(a,l){return a[Tr]=l}(a,{previous:_n,current:null}),m=p.current||(p.current={}),y=p.previous,w=this.declaredInputs[u],S=y[w];m[w]=new va(S&&S.currentValue,l,y===_n),a[f]=l}ns.ngInherit=!0;const Tr="__ngSimpleChanges__";function Mi(a){return a[Tr]||null}let fl;function hl(a){fl=a}function Ao(){return void 0!==fl?fl:"undefined"!=typeof document?document:void 0}function zn(a){return!!a.listen}const I3={createRenderer:(a,l)=>Ao()};function ti(a){for(;Array.isArray(a);)a=a[0];return a}function er(a,l){return ti(l[a])}function Kn(a,l){return ti(l[a.index])}function Io(a,l){return a.data[l]}function T1(a,l){const u=l[a];return V2(u)?u:u[0]}function h2(a){return 4==(4&a[2])}function N3(a){return 128==(128&a[2])}function D1(a,l){return null==l?null:a[l]}function Ks(a){a[18]=0}function Ar(a,l){a[5]+=l;let u=a,f=a[3];for(;null!==f&&(1===l&&1===u[5]||-1===l&&0===u[5]);)f[5]+=l,u=f,f=f[3]}const it={lFrame:B3(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Qs(){return it.bindingsEnabled}function Le(){return it.lFrame.lView}function Yt(){return it.lFrame.tView}function Ir(a){return it.lFrame.contextLView=a,a[8]}function Pn(){let a=H3();for(;null!==a&&64===a.type;)a=a.parent;return a}function H3(){return it.lFrame.currentTNode}function p2(){const a=it.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}function y1(a,l){const u=it.lFrame;u.currentTNode=a,u.isParent=l}function Vo(){return it.lFrame.isParent}function Js(){it.lFrame.isParent=!1}function Ho(){return it.isInCheckNoChangesMode}function Nr(a){it.isInCheckNoChangesMode=a}function e1(){const a=it.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function nr(){return it.lFrame.bindingIndex++}function g2(a){const l=it.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function os(a){it.lFrame.inI18n=a}function F3(a,l){const u=it.lFrame;u.bindingIndex=u.bindingRootIndex=a,wa(l)}function wa(a){it.lFrame.currentDirectiveIndex=a}function as(a){const l=it.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function pl(){return it.lFrame.currentQueryIndex}function ir(a){it.lFrame.currentQueryIndex=a}function B0(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function xa(a,l,u){if(u&yt.SkipSelf){let p=l,m=a;for(;!(p=p.parent,null!==p||u&yt.Host||(p=B0(m),null===p||(m=m[15],10&p.type))););if(null===p)return!1;l=p,a=m}const f=it.lFrame=Sa();return f.currentTNode=l,f.lView=a,!0}function eo(a){const l=Sa(),u=a[1];it.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function Sa(){const a=it.lFrame,l=null===a?null:a.child;return null===l?B3(a):l}function B3(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function La(){const a=it.lFrame;return it.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const gl=La;function Ro(){const a=La();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Fn(){return it.lFrame.selectedIndex}function R2(a){it.lFrame.selectedIndex=a}function Qn(){const a=it.lFrame;return Io(a.tView,a.selectedIndex)}function Oo(a,l){for(let u=l.directiveStart,f=l.directiveEnd;u<f;u++){const m=a.data[u].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:S,ngAfterViewChecked:A,ngOnDestroy:k}=m;y&&(a.contentHooks||(a.contentHooks=[])).push(-u,y),w&&((a.contentHooks||(a.contentHooks=[])).push(u,w),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,w)),S&&(a.viewHooks||(a.viewHooks=[])).push(-u,S),A&&((a.viewHooks||(a.viewHooks=[])).push(u,A),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,A)),null!=k&&(a.destroyHooks||(a.destroyHooks=[])).push(u,k)}}function Ia(a,l,u){Na(a,l,3,u)}function Po(a,l,u,f){(3&a[2])===u&&Na(a,l,u,f)}function Cl(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function Na(a,l,u,f){const m=null!=f?f:-1,y=l.length-1;let w=0;for(let S=void 0!==f?65535&a[18]:0;S<y;S++)if("number"==typeof l[S+1]){if(w=l[S],null!=f&&w>=f)break}else l[S]<0&&(a[18]+=65536),(w<m||-1==m)&&(Ui(a,u,l,S),a[18]=(4294901760&a[18])+S+2),S++}function Ui(a,l,u,f){const p=u[f]<0,m=u[f+1],w=a[p?-u[f]:u[f]];if(p){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{m.call(w)}finally{}}}else try{m.call(w)}finally{}}class ka{constructor(l,u,f){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=f}}function xn(a,l,u){const f=zn(a);let p=0;for(;p<u.length;){const m=u[p];if("number"==typeof m){if(0!==m)break;p++;const y=u[p++],w=u[p++],S=u[p++];f?a.setAttribute(l,w,S,y):l.setAttributeNS(y,w,S)}else{const y=m,w=u[++p];P2(y)?f&&a.setProperty(l,y,w):f?a.setAttribute(l,y,w):l.setAttribute(y,w),p++}}return p}function ni(a){return 3===a||4===a||6===a}function P2(a){return 64===a.charCodeAt(0)}function Sn(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let f=0;f<l.length;f++){const p=l[f];"number"==typeof p?u=p:0===u||lt(a,u,p,null,-1===u||2===u?l[++f]:null)}}return a}function lt(a,l,u,f,p){let m=0,y=a.length;if(-1===l)y=-1;else for(;m<a.length;){const w=a[m++];if("number"==typeof w){if(w===l){y=-1;break}if(w>l){y=m-1;break}}}for(;m<a.length;){const w=a[m];if("number"==typeof w)break;if(w===u){if(null===f)return void(null!==p&&(a[m+1]=p));if(f===a[m+1])return void(a[m+2]=p)}m++,null!==f&&m++,null!==p&&m++}-1!==y&&(a.splice(y,0,l),m=y+1),a.splice(m++,0,u),null!==f&&a.splice(m++,0,f),null!==p&&a.splice(m++,0,p)}function Ct(a){return-1!==a}function u1(a){return 32767&a}function ls(a,l){let u=function Gi(a){return a>>16}(a),f=l;for(;u>0;)f=f[15],u--;return f}let C2=!0;function je(a){const l=C2;return C2=a,l}let d6=0;function zo(a,l){const u=no(a,l);if(-1!==u)return u;const f=l[1];f.firstCreatePass&&(a.injectorIndex=l.length,Bn(f.data,a),Bn(l,null),Bn(f.blueprint,null));const p=io(a,l),m=a.injectorIndex;if(Ct(p)){const y=u1(p),w=ls(p,l),S=w[1].data;for(let A=0;A<8;A++)l[m+A]=w[y+A]|S[y+A]}return l[m+8]=p,m}function Bn(a,l){a.push(0,0,0,0,0,0,0,0,l)}function no(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function io(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,f=null,p=l;for(;null!==p;){const m=p[1],y=m.type;if(f=2===y?m.declTNode:1===y?p[6]:null,null===f)return-1;if(u++,p=p[15],-1!==f.injectorIndex)return f.injectorIndex|u<<16}return-1}function us(a,l,u){!function f6(a,l,u){let f;"string"==typeof u?f=u.charCodeAt(0)||0:u.hasOwnProperty(Zt)&&(f=u[Zt]),null==f&&(f=u[Zt]=d6++);const p=255&f;l.data[a+(p>>5)]|=1<<p}(a,l,u)}function Vr(a,l,u){if(u&yt.Optional)return a;Ve(l,"NodeInjector")}function U3(a,l,u,f){if(u&yt.Optional&&void 0===f&&(f=null),0==(u&(yt.Self|yt.Host))){const p=a[9],m=Ii(void 0);try{return p?p.get(l,f,u&yt.Optional):U1(l,f,u&yt.Optional)}finally{Ii(m)}}return Vr(f,l,u)}function Fo(a,l,u,f=yt.Default,p){if(null!==a){const m=function h6(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Zt)?a[Zt]:void 0;return"number"==typeof l?l>=0?255&l:Uo:l}(u);if("function"==typeof m){if(!xa(l,a,f))return f&yt.Host?Vr(p,u,f):U3(l,u,f,p);try{const y=m(f);if(null!=y||f&yt.Optional)return y;Ve(u)}finally{gl()}}else if("number"==typeof m){let y=null,w=no(a,l),S=-1,A=f&yt.Host?l[16][6]:null;for((-1===w||f&yt.SkipSelf)&&(S=-1===w?io(a,l):l[w+8],-1!==S&&vl(f,!1)?(y=l[1],w=u1(S),l=ls(S,l)):w=-1);-1!==w;){const k=l[1];if(Hn(m,w,k.data)){const z=Go(w,l,u,y,f,A);if(z!==Bo)return z}S=l[w+8],-1!==S&&vl(f,l[1].data[w+8]===A)&&Hn(m,w,l)?(y=k,w=u1(S),l=ls(S,l)):w=-1}}}return U3(l,u,f,p)}const Bo={};function Uo(){return new Rn(Pn(),Le())}function Go(a,l,u,f,p,m){const y=l[1],w=y.data[a+8],k=tn(w,y,u,null==f?Eo(w)&&C2:f!=y&&0!=(3&w.type),p&yt.Host&&m===w);return null!==k?jo(l,y,k,w):Bo}function tn(a,l,u,f,p){const m=a.providerIndexes,y=l.data,w=1048575&m,S=a.directiveStart,k=m>>20,j=p?w+k:a.directiveEnd;for(let Q=f?w:w+k;Q<j;Q++){const me=y[Q];if(Q<S&&u===me||Q>=S&&me.type===u)return Q}if(p){const Q=y[S];if(Q&&_1(Q)&&Q.type===u)return S}return null}function jo(a,l,u,f){let p=a[u];const m=l.data;if(function U0(a){return a instanceof ka}(p)){const y=p;y.resolving&&function Be(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Ye("200",`Circular dependency in DI detected for ${a}${u}`)}(De(m[u]));const w=je(y.canSeeViewProviders);y.resolving=!0;const S=y.injectImpl?Ii(y.injectImpl):null;xa(a,f,yt.Default);try{p=a[u]=y.factory(void 0,m,a,f),l.firstCreatePass&&u>=f.directiveStart&&function Aa(a,l,u){const{ngOnChanges:f,ngOnInit:p,ngDoCheck:m}=l.type.prototype;if(f){const y=Ys(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,y)}p&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,p),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,m))}(u,m[u],l)}finally{null!==S&&Ii(S),je(w),y.resolving=!1,gl()}}return p}function Hn(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function vl(a,l){return!(a&yt.Self||a&yt.Host&&l)}class Rn{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,f){return Fo(this._tNode,this._lView,l,f,u)}}function yl(a){return Ki(()=>{const l=a.prototype.constructor,u=l[mt]||ds(l),f=Object.prototype;let p=Object.getPrototypeOf(a.prototype).constructor;for(;p&&p!==f;){const m=p[mt]||ds(p);if(m&&m!==u)return m;p=Object.getPrototypeOf(p)}return m=>new m})}function ds(a){return Ze(a)?()=>{const l=ds(re(a));return l&&l()}:X2(a)}function Ha(a){return function z2(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const f=u.length;let p=0;for(;p<f;){const m=u[p];if(ni(m))break;if(0===m)p+=2;else if("number"==typeof m)for(p++;p<f&&"string"==typeof u[p];)p++;else{if(m===l)return u[p+1];p+=2}}}return null}(Pn(),a)}const m2="__parameters__";function Hr(a,l,u){return Ki(()=>{const f=function fs(a){return function(...u){if(a){const f=a(...u);for(const p in f)this[p]=f[p]}}}(l);function p(...m){if(this instanceof p)return f.apply(this,m),this;const y=new p(...m);return w.annotation=y,w;function w(S,A,k){const z=S.hasOwnProperty(m2)?S[m2]:Object.defineProperty(S,m2,{value:[]})[m2];for(;z.length<=k;)z.push(null);return(z[k]=z[k]||[]).push(y),S}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=a,p.annotationCls=p,p})}class Ln{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=kn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const bd=new Ln("AnalyzeForEntryComponents");function jt(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let f=a[u];Array.isArray(f)?(l===a&&(l=a.slice(0,u)),jt(f,l)):l!==a&&l.push(f)}return l}function I1(a,l){a.forEach(u=>Array.isArray(u)?I1(u,l):l(u))}function Pa(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function hs(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function ro(a,l){const u=[];for(let f=0;f<a;f++)u.push(l);return u}function d1(a,l,u){let f=qo(a,l);return f>=0?a[1|f]=u:(f=~f,function Fa(a,l,u,f){let p=a.length;if(p==l)a.push(u,f);else if(1===p)a.push(f,a[0]),a[0]=u;else{for(p--,a.push(a[p-1],a[p]);p>l;)a[p]=a[p-2],p--;a[l]=u,a[l+1]=f}}(a,f,l,u)),f}function W3(a,l){const u=qo(a,l);if(u>=0)return a[1|u]}function qo(a,l){return function Ml(a,l,u){let f=0,p=a.length>>u;for(;p!==f;){const m=f+(p-f>>1),y=a[m<<u];if(l===y)return m<<u;y>l?p=m:f=m+1}return~(p<<u)}(a,l,1)}const $o={},gs="__NG_DI_FLAG__",zr="ngTempTokenPath",g6=/\n/gm,E="__source",V=ye({provide:String,useValue:ye});let F;function K(a){const l=F;return F=a,l}function oe(a,l=yt.Default){if(void 0===F)throw new Error("inject() must be called from an injection context");return null===F?U1(a,void 0,l):F.get(a,l&yt.Optional?null:void 0,l)}function Me(a,l=yt.Default){return(function Y2(){return Cn}()||oe)(re(a),l)}const It=Me;function wt(a){const l=[];for(let u=0;u<a.length;u++){const f=re(a[u]);if(Array.isArray(f)){if(0===f.length)throw new Error("Arguments array must have arguments.");let p,m=yt.Default;for(let y=0;y<f.length;y++){const w=f[y],S=Nt(w);"number"==typeof S?-1===S?p=w.token:m|=S:p=w}l.push(Me(p,m))}else l.push(Me(f))}return l}function Xt(a,l){return a[gs]=l,a.prototype[gs]=l,a}function Nt(a){return a[gs]}const sr=Xt(Hr("Inject",a=>({token:a})),-1),H1=Xt(Hr("Optional"),8),R1=Xt(Hr("SkipSelf"),4);let Q3,Cs;function Wo(a){var l;return(null===(l=function $0(){if(void 0===Q3&&(Q3=null,Tt.trustedTypes))try{Q3=Tt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Q3}())||void 0===l?void 0:l.createHTML(a))||a}function v6(a){var l;return(null===(l=function ja(){if(void 0===Cs&&(Cs=null,Tt.trustedTypes))try{Cs=Tt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Cs}())||void 0===l?void 0:l.createHTML(a))||a}class Zo{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class W0 extends Zo{getTypeName(){return"HTML"}}class Sl extends Zo{getTypeName(){return"Style"}}class wd extends Zo{getTypeName(){return"Script"}}class Z0 extends Zo{getTypeName(){return"URL"}}class xd extends Zo{getTypeName(){return"ResourceURL"}}function Br(a){return a instanceof Zo?a.changingThisBreaksApplicationSecurity:a}function $a(a,l){const u=Ll(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function Ll(a){return a instanceof Zo&&a.getTypeName()||null}function Y0(a){return new W0(a)}function K0(a){return new Sl(a)}function Wa(a){return new wd(a)}function El(a){return new Z0(a)}function j9(a){return new xd(a)}function Za(a){const l=new Ya(a);return function e4(){try{return!!(new window.DOMParser).parseFromString(Wo(""),"text/html")}catch(a){return!1}}()?new Tl(l):l}class Tl{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Wo(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class Ya{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const f=this.inertDocument.createElement("body");u.appendChild(f)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Wo(l),u;const f=this.inertDocument.createElement("body");return f.innerHTML=Wo(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(l){const u=l.attributes;for(let p=u.length-1;0<p;p--){const y=u.item(p).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&l.removeAttribute(y)}let f=l.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const Sd=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Dl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Yo(a){return(a=String(a)).match(Sd)||a.match(Dl)?a:"unsafe:"+a}function y6(a){return(a=String(a)).split(",").map(l=>Yo(l.trim())).join(", ")}function G2(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function Ko(...a){const l={};for(const u of a)for(const f in u)u.hasOwnProperty(f)&&(l[f]=!0);return l}const Jn=G2("area,br,col,hr,img,wbr"),$1=G2("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),t4=G2("rp,rt"),Ka=Ko(Jn,Ko($1,G2("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ko(t4,G2("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ko(t4,$1)),J0=G2("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Nl=G2("srcset"),X0=Ko(J0,Nl,G2("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),G2("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),kl=G2("script,style,template");class Ld{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,f=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?f=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,f&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let p=this.checkClobberedElement(u,u.nextSibling);if(p){u=p;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Ka.hasOwnProperty(u))return this.sanitizedSomething=!0,!kl.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const f=l.attributes;for(let p=0;p<f.length;p++){const m=f.item(p),y=m.name,w=y.toLowerCase();if(!X0.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let S=m.value;J0[w]&&(S=Yo(S)),Nl[w]&&(S=y6(S)),this.buf.push(" ",y,'="',ms(S),'"')}return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Ka.hasOwnProperty(u)&&!Jn.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(ms(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const b6=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Vl=/([^\#-~ |!])/g;function ms(a){return a.replace(/&/g,"&amp;").replace(b6,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Vl,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Hl;function M6(a,l){let u=null;try{Hl=Hl||Za(a);let f=l?String(l):"";u=Hl.getInertBodyElement(f);let p=5,m=f;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,f=m,m=u.innerHTML,u=Hl.getInertBodyElement(f)}while(f!==m);return Wo((new Ld).sanitizeChildren(e8(u)||u))}finally{if(u){const f=e8(u)||u;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function e8(a){return"content"in a&&function Qa(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var hi=(()=>((hi=hi||{})[hi.NONE=0]="NONE",hi[hi.HTML=1]="HTML",hi[hi.STYLE=2]="STYLE",hi[hi.SCRIPT=3]="SCRIPT",hi[hi.URL=4]="URL",hi[hi.RESOURCE_URL=5]="RESOURCE_URL",hi))();function t8(a){const l=r4();return l?v6(l.sanitize(hi.HTML,a)||""):$a(a,"HTML")?v6(Br(a)):M6(Ao(),te(a))}function w6(a){const l=r4();return l?l.sanitize(hi.URL,a)||"":$a(a,"URL")?Br(a):Yo(te(a))}function r4(){const a=Le();return a&&a[12]}const _s="__ngContext__";function r1(a,l){a[_s]=l}function L6(a){const l=function Ja(a){return a[_s]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function zl(a){return a.ngOriginalError}function Id(a,...l){a.error(...l)}class oo{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l),f=function l8(a){return a&&a.ngErrorLogger||Id}(l);f(this._console,"ERROR",l),u&&f(this._console,"ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&zl(l);for(;u&&zl(u);)u=zl(u);return u||null}}const Fl=/^>|^->|<!--|-->|--!>|<!-$/g,A6=/(<|>)/;const l4=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Tt))();function Gr(a){return a instanceof Function?a():a}var jr=(()=>((jr=jr||{})[jr.Important=1]="Important",jr[jr.DashCase=2]="DashCase",jr))();let k6;function V6(a,l){return k6(a,l)}function e3(a){const l=a[3];return H2(l)?l[3]:l}function or(a){return H6(a[13])}function Qo(a){return H6(a[4])}function H6(a){for(;null!==a&&!H2(a);)a=a[4];return a}function c4(a,l,u,f,p){if(null!=f){let m,y=!1;H2(f)?m=f:V2(f)&&(y=!0,f=f[0]);const w=ti(f);0===a&&null!==u?null==p?ys(l,u,w):Xn(l,u,w,p||null,!0):1===a&&null!==u?Xn(l,u,w,p||null,!0):2===a?K9(l,w,y):3===a&&l.destroyNode(w),null!=m&&function Ey(a,l,u,f,p){const m=u[7];m!==ti(u)&&c4(l,a,f,m,p);for(let w=10;w<u.length;w++){const S=u[w];z6(S[1],S,a,l,f,m)}}(l,a,m,u,p)}}function Gl(a,l){return zn(a)?a.createText(l):a.createTextNode(l)}function Od(a,l,u){zn(a)?a.setValue(l,u):l.textContent=u}function Z9(a,l){return a.createComment(function I6(a){return a.replace(Fl,l=>l.replace(A6,"\u200b$1\u200b"))}(l))}function g8(a,l,u){return zn(a)?a.createElement(l,u):null===u?a.createElement(l):a.createElementNS(u,l)}function I(a,l){const u=a[9],f=u.indexOf(l),p=l[3];1024&l[2]&&(l[2]&=-1025,Ar(p,-1)),u.splice(f,1)}function G(a,l){if(a.length<=10)return;const u=10+l,f=a[u];if(f){const p=f[17];null!==p&&p!==a&&I(p,f),l>0&&(a[u-1][4]=f[4]);const m=hs(a,10+l);!function Y9(a,l){z6(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(f[1],f);const y=m[19];null!==y&&y.detachView(m[1]),f[3]=null,f[4]=null,f[2]&=-129}return f}function ie(a,l){if(!(256&l[2])){const u=l[11];zn(u)&&u.destroyNode&&z6(a,l,u,3,null,null),function C(a){let l=a[13];if(!l)return He(a[1],a);for(;l;){let u=null;if(V2(l))u=l[13];else{const f=l[10];f&&(u=f)}if(!u){for(;l&&!l[4]&&l!==a;)V2(l)&&He(l[1],l),l=l[3];null===l&&(l=a),V2(l)&&He(l[1],l),u=l&&l[4]}l=u}}(l)}}function He(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function at(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let f=0;f<u.length;f+=2){const p=l[u[f]];if(!(p instanceof ka)){const m=u[f+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const w=p[m[y]],S=m[y+1];try{S.call(w)}finally{}}else try{m.call(p)}finally{}}}}(a,l),function Ne(a,l){const u=a.cleanup,f=l[7];let p=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const y=u[m+1],w="function"==typeof y?y(l):ti(l[y]),S=f[p=u[m+2]],A=u[m+3];"boolean"==typeof A?w.removeEventListener(u[m],S,A):A>=0?f[p=A]():f[p=-A].unsubscribe(),m+=2}else{const y=f[p=u[m+1]];u[m].call(y)}if(null!==f){for(let m=p+1;m<f.length;m++)f[m]();l[7]=null}}(a,l),1===l[1].type&&zn(l[11])&&l[11].destroy();const u=l[17];if(null!==u&&H2(l[3])){u!==l[3]&&I(u,l);const f=l[19];null!==f&&f.detachView(a)}}}function dt(a,l,u){return sn(a,l.parent,u)}function sn(a,l,u){let f=l;for(;null!==f&&40&f.type;)f=(l=f).parent;if(null===f)return u[0];if(2&f.flags){const p=a.data[f.directiveStart].encapsulation;if(p===nt.None||p===nt.Emulated)return null}return Kn(f,u)}function Xn(a,l,u,f,p){zn(a)?a.insertBefore(l,u,f,p):l.insertBefore(u,f,p)}function ys(a,l,u){zn(a)?a.appendChild(l,u):l.appendChild(u)}function jl(a,l,u,f,p){null!==f?Xn(a,l,u,f,p):ys(a,l,u)}function u4(a,l){return zn(a)?a.parentNode(l):l.parentNode}function ql(a,l,u){return m8(a,l,u)}function O6(a,l,u){return 40&a.type?Kn(a,u):null}let d4,m8=O6;function P6(a,l){m8=a,d4=l}function $l(a,l,u,f){const p=dt(a,f,l),m=l[11],w=ql(f.parent||l[6],f,l);if(null!=p)if(Array.isArray(u))for(let S=0;S<u.length;S++)jl(m,p,u[S],w,!1);else jl(m,p,u,w,!1);void 0!==d4&&d4(m,f,l,u,p)}function t3(a,l){if(null!==l){const u=l.type;if(3&u)return Kn(l,a);if(4&u)return Pd(-1,a[l.index]);if(8&u){const f=l.child;if(null!==f)return t3(a,f);{const p=a[l.index];return H2(p)?Pd(-1,p):ti(p)}}if(32&u)return V6(l,a)()||ti(a[l.index]);{const f=_8(a,l);return null!==f?Array.isArray(f)?f[0]:t3(e3(a[16]),f):t3(a,l.next)}}return null}function _8(a,l){return null!==l?a[16][6].projection[l.projection]:null}function Pd(a,l){const u=10+a+1;if(u<l.length){const f=l[u],p=f[1].firstChild;if(null!==p)return t3(f,p)}return l[7]}function K9(a,l,u){const f=u4(a,l);f&&function R6(a,l,u,f){zn(a)?a.removeChild(l,u,f):l.removeChild(u)}(a,f,l,u)}function zd(a,l,u,f,p,m,y){for(;null!=u;){const w=f[u.index],S=u.type;if(y&&0===l&&(w&&r1(ti(w),f),u.flags|=4),64!=(64&u.flags))if(8&S)zd(a,l,u.child,f,p,m,!1),c4(l,a,p,w,m);else if(32&S){const A=V6(u,f);let k;for(;k=A();)c4(l,a,p,k,m);c4(l,a,p,w,m)}else 16&S?Q9(a,l,f,u,p,m):c4(l,a,p,w,m);u=y?u.projectionNext:u.next}}function z6(a,l,u,f,p,m){zd(u,f,a.firstChild,l,p,m,!1)}function Q9(a,l,u,f,p,m){const y=u[16],S=y[6].projection[f.projection];if(Array.isArray(S))for(let A=0;A<S.length;A++)c4(l,a,p,S[A],m);else zd(a,l,S,y[3],p,m,!0)}function J9(a,l,u){zn(a)?a.setAttribute(l,"style",u):l.style.cssText=u}function Fd(a,l,u){zn(a)?""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u):l.className=u}function X9(a,l,u){let f=a.length;for(;;){const p=a.indexOf(l,u);if(-1===p)return p;if(0===p||a.charCodeAt(p-1)<=32){const m=l.length;if(p+m===f||a.charCodeAt(p+m)<=32)return p}u=p+1}}const ep="ng-template";function Dy(a,l,u){let f=0;for(;f<a.length;){let p=a[f++];if(u&&"class"===p){if(p=a[f],-1!==X9(p.toLowerCase(),l,0))return!0}else if(1===p){for(;f<a.length&&"string"==typeof(p=a[f++]);)if(p.toLowerCase()===l)return!0;return!1}}return!1}function tp(a){return 4===a.type&&a.value!==ep}function Ay(a,l,u){return l===(4!==a.type||u?a.value:ep)}function Iy(a,l,u){let f=4;const p=a.attrs||[],m=function Vy(a){for(let l=0;l<a.length;l++)if(ni(a[l]))return l;return a.length}(p);let y=!1;for(let w=0;w<l.length;w++){const S=l[w];if("number"!=typeof S){if(!y)if(4&f){if(f=2|1&f,""!==S&&!Ay(a,S,u)||""===S&&1===l.length){if(ar(f))return!1;y=!0}}else{const A=8&f?S:l[++w];if(8&f&&null!==a.attrs){if(!Dy(a.attrs,A,u)){if(ar(f))return!1;y=!0}continue}const z=Ny(8&f?"class":S,p,tp(a),u);if(-1===z){if(ar(f))return!1;y=!0;continue}if(""!==A){let j;j=z>m?"":p[z+1].toLowerCase();const Q=8&f?j:null;if(Q&&-1!==X9(Q,A,0)||2&f&&A!==j){if(ar(f))return!1;y=!0}}}}else{if(!y&&!ar(f)&&!ar(S))return!1;if(y&&ar(S))continue;y=!1,f=S|1&f}}return ar(f)||y}function ar(a){return 0==(1&a)}function Ny(a,l,u,f){if(null===l)return-1;let p=0;if(f||!u){let m=!1;for(;p<l.length;){const y=l[p];if(y===a)return p;if(3===y||6===y)m=!0;else{if(1===y||2===y){let w=l[++p];for(;"string"==typeof w;)w=l[++p];continue}if(4===y)break;if(0===y){p+=4;continue}}p+=m?1:2}return-1}return function Hy(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const f=a[u];if("number"==typeof f)return-1;if(f===l)return u;u++}return-1}(l,a)}function np(a,l,u=!1){for(let f=0;f<l.length;f++)if(Iy(a,l[f],u))return!0;return!1}function Ry(a,l){e:for(let u=0;u<l.length;u++){const f=l[u];if(a.length===f.length){for(let p=0;p<a.length;p++)if(a[p]!==f[p])continue e;return!0}}return!1}function ip(a,l){return a?":not("+l.trim()+")":l}function Oy(a){let l=a[0],u=1,f=2,p="",m=!1;for(;u<a.length;){let y=a[u];if("string"==typeof y)if(2&f){const w=a[++u];p+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&f?p+="."+y:4&f&&(p+=" "+y);else""!==p&&!ar(y)&&(l+=ip(m,p),p=""),f=y,m=m||!ar(f);u++}return""!==p&&(l+=ip(m,p)),l}const Gt={};function rp(a){Fy(Yt(),Le(),Fn()+a,Ho())}function Fy(a,l,u,f){if(!f)if(3==(3&l[2])){const m=a.preOrderCheckHooks;null!==m&&Ia(l,m,u)}else{const m=a.preOrderHooks;null!==m&&Po(l,m,0,u)}R2(u)}function Bd(a,l){return a<<17|l<<2}function bs(a){return a>>17&32767}function sp(a){return 2|a}function n3(a){return(131068&a)>>2}function op(a,l){return-131069&a|l<<2}function Ud(a){return 1|a}function Zd(a,l){const u=a.contentQueries;if(null!==u)for(let f=0;f<u.length;f+=2){const p=u[f],m=u[f+1];if(-1!==m){const y=a.data[m];ir(p),y.contentQueries(2,l[m],m)}}}function Zl(a,l,u,f,p,m,y,w,S,A){const k=l.blueprint.slice();return k[0]=p,k[2]=140|f,Ks(k),k[3]=k[15]=a,k[8]=u,k[10]=y||a&&a[10],k[11]=w||a&&a[11],k[12]=S||a&&a[12]||null,k[9]=A||a&&a[9]||null,k[6]=m,k[16]=2==l.type?a[16]:k,k}function h4(a,l,u,f,p){let m=a.data[l];if(null===m)m=gp(a,l,u,f,p),function z3(){return it.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=f,m.attrs=p;const y=p2();m.injectorIndex=null===y?-1:y.injectorIndex}return y1(m,!0),m}function gp(a,l,u,f,p){const m=H3(),y=Vo(),S=a.data[l]=function x8(a,l,u,f,p,m){return{type:u,index:f,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,u,l,f,p);return null===a.firstChild&&(a.firstChild=S),null!==m&&(y?null==m.child&&null!==S.parent&&(m.child=S):null===m.next&&(m.next=S)),S}function p4(a,l,u,f){if(0===u)return-1;const p=l.length;for(let m=0;m<u;m++)l.push(f),a.blueprint.push(f),a.data.push(null);return p}function M8(a,l,u){eo(l);try{const f=a.viewQuery;null!==f&&yp(1,f,u);const p=a.template;null!==p&&Kd(a,l,p,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Zd(a,l),a.staticViewQueries&&yp(2,a.viewQuery,u);const m=a.components;null!==m&&function Yd(a,l){for(let u=0;u<l.length;u++)AI(a,l[u])}(l,m)}catch(f){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),f}finally{l[2]&=-5,Ro()}}function U6(a,l,u,f){const p=l[2];if(256==(256&p))return;eo(l);const m=Ho();try{Ks(l),function P3(a){return it.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&Kd(a,l,u,2,f);const y=3==(3&p);if(!m)if(y){const A=a.preOrderCheckHooks;null!==A&&Ia(l,A,null)}else{const A=a.preOrderHooks;null!==A&&Po(l,A,0,null),Cl(l,0)}if(function TI(a){for(let l=or(a);null!==l;l=Qo(l)){if(!l[2])continue;const u=l[9];for(let f=0;f<u.length;f++){const p=u[f],m=p[3];0==(1024&p[2])&&Ar(m,1),p[2]|=1024}}}(l),function ob(a){for(let l=or(a);null!==l;l=Qo(l))for(let u=10;u<l.length;u++){const f=l[u],p=f[1];N3(f)&&U6(p,f,p.template,f[8])}}(l),null!==a.contentQueries&&Zd(a,l),!m)if(y){const A=a.contentCheckHooks;null!==A&&Ia(l,A)}else{const A=a.contentHooks;null!==A&&Po(l,A,1),Cl(l,1)}!function Wd(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let f=0;f<u.length;f++){const p=u[f];if(p<0)R2(~p);else{const m=p,y=u[++f],w=u[++f];F3(y,m),w(2,l[m])}}}finally{R2(-1)}}(a,l);const w=a.components;null!==w&&function pp(a,l){for(let u=0;u<l.length;u++)DI(a,l[u])}(l,w);const S=a.viewQuery;if(null!==S&&yp(2,S,f),!m)if(y){const A=a.viewCheckHooks;null!==A&&Ia(l,A)}else{const A=a.viewHooks;null!==A&&Po(l,A,2),Cl(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),m||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,Ar(l[3],-1))}finally{Ro()}}function mI(a,l,u,f){const p=l[10],m=!Ho(),y=h2(l);try{m&&!y&&p.begin&&p.begin(),y&&M8(a,l,f),U6(a,l,u,f)}finally{m&&!y&&p.end&&p.end()}}function Kd(a,l,u,f,p){const m=Fn(),y=2&f;try{R2(-1),y&&l.length>20&&Fy(a,l,20,Ho()),u(f,p)}finally{R2(m)}}function Qd(a,l,u){!Qs()||(function bI(a,l,u,f){const p=u.directiveStart,m=u.directiveEnd;a.firstCreatePass||zo(u,l),r1(f,l);const y=u.initialInputs;for(let w=p;w<m;w++){const S=a.data[w],A=_1(S);A&&SI(l,u,S);const k=jo(l,a,w,u);r1(k,l),null!==y&&LI(0,w-p,k,S,0,y),A&&(T1(u.index,l)[8]=k)}}(a,l,u,Kn(u,l)),128==(128&u.flags)&&function eb(a,l,u){const f=u.directiveStart,p=u.directiveEnd,y=u.index,w=function Xs(){return it.lFrame.currentDirectiveIndex}();try{R2(y);for(let S=f;S<p;S++){const A=a.data[S],k=l[S];wa(S),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&tb(A,k)}}finally{R2(-1),wa(w)}}(a,l,u))}function Jd(a,l,u=Kn){const f=l.localNames;if(null!==f){let p=l.index+1;for(let m=0;m<f.length;m+=2){const y=f[m+1],w=-1===y?u(l,a):a[y];a[p++]=w}}}function Xd(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=e7(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function e7(a,l,u,f,p,m,y,w,S,A){const k=20+f,z=k+p,j=function _I(a,l){const u=[];for(let f=0;f<l;f++)u.push(f<a?null:Gt);return u}(k,z),Q="function"==typeof A?A():A;return j[1]={type:a,blueprint:j,template:u,queries:null,viewQuery:w,declTNode:l,data:j.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:S,consts:Q,incompleteFirstPass:!1}}function Yl(a,l,u,f){const p=lb(l);null===u?p.push(f):(p.push(u),a.firstCreatePass&&G6(a).push(f,p.length-1))}function Cp(a,l,u){for(let f in a)if(a.hasOwnProperty(f)){const p=a[f];(u=null===u?{}:u).hasOwnProperty(f)?u[f].push(l,p):u[f]=[l,p]}return u}function lr(a,l,u,f,p,m,y,w){const S=Kn(l,u);let k,A=l.inputs;!w&&null!=A&&(k=A[f])?(Mp(a,u,k,f,p),Eo(l)&&function mp(a,l){const u=T1(l,a);16&u[2]||(u[2]|=64)}(u,l.index)):3&l.type&&(f=function Jy(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(f),p=null!=y?y(p,l.value||"",f):p,zn(m)?m.setProperty(S,f,p):P2(f)||(S.setProperty?S.setProperty(f,p):S[f]=p))}function S8(a,l,u,f){let p=!1;if(Qs()){const m=function MI(a,l,u){const f=a.directiveRegistry;let p=null;if(f)for(let m=0;m<f.length;m++){const y=f[m];np(u,y.selectors,!1)&&(p||(p=[]),us(zo(u,l),a,y.type),_1(y)?(nb(a,u),p.unshift(y)):p.push(y))}return p}(a,l,u),y=null===f?null:{"":-1};if(null!==m){p=!0,ib(u,a.data.length,m.length);for(let k=0;k<m.length;k++){const z=m[k];z.providersResolver&&z.providersResolver(z)}let w=!1,S=!1,A=p4(a,l,m.length,null);for(let k=0;k<m.length;k++){const z=m[k];u.mergedAttrs=Sn(u.mergedAttrs,z.hostAttrs),rb(a,u,l,A,z),xI(A,z,y),null!==z.contentQueries&&(u.flags|=8),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(u.flags|=128);const j=z.type.prototype;!w&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),w=!0),!S&&(j.ngOnChanges||j.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),S=!0),A++}!function Qy(a,l){const f=l.directiveEnd,p=a.data,m=l.attrs,y=[];let w=null,S=null;for(let A=l.directiveStart;A<f;A++){const k=p[A],z=k.inputs,j=null===m||tp(l)?null:EI(z,m);y.push(j),w=Cp(z,A,w),S=Cp(k.outputs,A,S)}null!==w&&(w.hasOwnProperty("class")&&(l.flags|=16),w.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=y,l.inputs=w,l.outputs=S}(a,u)}y&&function wI(a,l,u){if(l){const f=a.localNames=[];for(let p=0;p<l.length;p+=2){const m=u[l[p+1]];if(null==m)throw new Ye("301",`Export of name '${l[p+1]}' not found!`);f.push(l[p],m)}}}(u,f,y)}return u.mergedAttrs=Sn(u.mergedAttrs,u.attrs),p}function ws(a,l,u,f,p,m){const y=m.hostBindings;if(y){let w=a.hostBindingOpCodes;null===w&&(w=a.hostBindingOpCodes=[]);const S=~l.index;(function yI(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(w)!=S&&w.push(S),w.push(f,p,y)}}function tb(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function nb(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function xI(a,l,u){if(u){if(l.exportAs)for(let f=0;f<l.exportAs.length;f++)u[l.exportAs[f]]=a;_1(l)&&(u[""]=a)}}function ib(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function rb(a,l,u,f,p){a.data[f]=p;const m=p.factory||(p.factory=X2(p.type)),y=new ka(m,_1(p),null);a.blueprint[f]=y,u[f]=y,ws(a,l,0,f,p4(a,u,p.hostVars,Gt),p)}function SI(a,l,u){const f=Kn(l,a),p=Xd(u),m=a[10],y=o7(a,Zl(a,p,null,u.onPush?64:16,f,l,m,m.createRenderer(f,u),null,null));a[l.index]=y}function r7(a,l,u,f,p,m,y){if(null==m)zn(a)?a.removeAttribute(l,p,u):l.removeAttribute(p);else{const w=null==y?te(m):y(m,f||"",p);zn(a)?a.setAttribute(l,p,w,u):u?l.setAttributeNS(u,p,w):l.setAttribute(p,w)}}function LI(a,l,u,f,p,m){const y=m[l];if(null!==y){const w=f.setInput;for(let S=0;S<y.length;){const A=y[S++],k=y[S++],z=y[S++];null!==w?f.setInput(u,z,A,k):u[k]=z}}}function EI(a,l){let u=null,f=0;for(;f<l.length;){const p=l[f];if(0!==p)if(5!==p){if("number"==typeof p)break;a.hasOwnProperty(p)&&(null===u&&(u=[]),u.push(p,a[p],l[f+1])),f+=2}else f+=2;else f+=4}return u}function sb(a,l,u,f){return new Array(a,!0,!1,l,null,0,f,u,null,null)}function DI(a,l){const u=T1(l,a);if(N3(u)){const f=u[1];80&u[2]?U6(f,u,f.template,u[8]):u[5]>0&&s7(u)}}function s7(a){for(let f=or(a);null!==f;f=Qo(f))for(let p=10;p<f.length;p++){const m=f[p];if(1024&m[2]){const y=m[1];U6(y,m,y.template,m[8])}else m[5]>0&&s7(m)}const u=a[1].components;if(null!==u)for(let f=0;f<u.length;f++){const p=T1(u[f],a);N3(p)&&p[5]>0&&s7(p)}}function AI(a,l){const u=T1(l,a),f=u[1];(function II(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(f,u),M8(f,u,u[8])}function o7(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function _p(a){for(;a;){a[2]|=64;const l=e3(a);if(To(a)&&!l)return a;a=l}return null}function vp(a,l,u){const f=l[10];f.begin&&f.begin();try{U6(a,l,a.template,u)}catch(p){throw bp(l,p),p}finally{f.end&&f.end()}}function ab(a){!function a7(a){for(let l=0;l<a.components.length;l++){const u=a.components[l],f=L6(u),p=f[1];mI(p,f,p.template,u)}}(a[8])}function yp(a,l,u){ir(0),l(a,u)}const VI=(()=>Promise.resolve(null))();function lb(a){return a[7]||(a[7]=[])}function G6(a){return a.cleanup||(a.cleanup=[])}function l7(a,l,u){return(null===a||_1(a))&&(u=function ss(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(u[l.index])),u[11]}function bp(a,l){const u=a[9],f=u?u.get(oo,null):null;f&&f.handleError(l)}function Mp(a,l,u,f,p){for(let m=0;m<u.length;){const y=u[m++],w=u[m++],S=l[y],A=a.data[y];null!==A.setInput?A.setInput(S,p,f,w):S[w]=p}}function j6(a,l,u){let f=u?a.styles:null,p=u?a.classes:null,m=0;if(null!==l)for(let y=0;y<l.length;y++){const w=l[y];"number"==typeof w?m=w:1==m?p=ge(p,w):2==m&&(f=ge(f,w+": "+l[++y]+";"))}u?a.styles=f:a.stylesWithoutHost=f,u?a.classes=p:a.classesWithoutHost=p}const c7=new Ln("INJECTOR",-1);class u7{get(l,u=$o){if(u===$o){const f=new Error(`NullInjectorError: No provider for ${ue(l)}!`);throw f.name="NullInjectorError",f}return u}}const d7=new Ln("Set Injector scope."),L8={},RI={};let xp;function Sp(){return void 0===xp&&(xp=new u7),xp}function ub(a,l=null,u=null,f){const p=db(a,l,u,f);return p._resolveInjectorDefTypes(),p}function db(a,l=null,u=null,f){return new OI(a,u,l||Sp(),f)}class OI{constructor(l,u,f,p=null){this.parent=f,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];u&&I1(u,w=>this.processProvider(w,l,u)),I1([l],w=>this.processInjectorType(w,[],m)),this.records.set(c7,q6(void 0,this));const y=this.records.get(d7);this.scope=null!=y?y.value:null,this.source=p||("object"==typeof l?null:ue(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,u=$o,f=yt.Default){this.assertNotDestroyed();const p=K(this),m=Ii(void 0);try{if(!(f&yt.SkipSelf)){let w=this.records.get(l);if(void 0===w){const S=function jI(a){return"function"==typeof a||"object"==typeof a&&a instanceof Ln}(l)&&Ai(l);w=S&&this.injectableDefInScope(S)?q6(Lp(l),L8):null,this.records.set(l,w)}if(null!=w)return this.hydrate(l,w)}return(f&yt.Self?Sp():this.parent).get(l,u=f&yt.Optional&&u===$o?null:u)}catch(y){if("NullInjectorError"===y.name){if((y[zr]=y[zr]||[]).unshift(ue(l)),p)throw y;return function V1(a,l,u,f){const p=a[zr];throw l[E]&&p.unshift(l[E]),a.message=function fi(a,l,u,f=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let p=ue(l);if(Array.isArray(l))p=l.map(ue).join(" -> ");else if("object"==typeof l){let m=[];for(let y in l)if(l.hasOwnProperty(y)){let w=l[y];m.push(y+":"+("string"==typeof w?JSON.stringify(w):ue(w)))}p=`{${m.join(", ")}}`}return`${u}${f?"("+f+")":""}[${p}]: ${a.replace(g6,"\n  ")}`}("\n"+a.message,p,u,f),a.ngTokenPath=p,a[zr]=null,a}(y,l,"R3InjectorError",this.source)}throw y}finally{Ii(m),K(p)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((f,p)=>l.push(ue(p))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(l,u,f){if(!(l=re(l)))return!1;let p=l2(l);const m=null==p&&l.ngModule||void 0,y=void 0===m?l:m,w=-1!==f.indexOf(y);if(void 0!==m&&(p=l2(m)),null==p)return!1;if(null!=p.imports&&!w){let k;f.push(y);try{I1(p.imports,z=>{this.processInjectorType(z,u,f)&&(void 0===k&&(k=[]),k.push(z))})}finally{}if(void 0!==k)for(let z=0;z<k.length;z++){const{ngModule:j,providers:Q}=k[z];I1(Q,me=>this.processProvider(me,j,Q||Dt))}}this.injectorDefTypes.add(y);const S=X2(y)||(()=>new y);this.records.set(y,q6(S,L8));const A=p.providers;if(null!=A&&!w){const k=l;I1(A,z=>this.processProvider(z,k,A))}return void 0!==m&&void 0!==l.providers}processProvider(l,u,f){let p=$6(l=re(l))?l:re(l&&l.provide);const m=function zI(a,l,u){return hb(a)?q6(void 0,a.useValue):q6(fb(a),L8)}(l);if($6(l)||!0!==l.multi)this.records.get(p);else{let y=this.records.get(p);y||(y=q6(void 0,L8,!0),y.factory=()=>wt(y.multi),this.records.set(p,y)),p=l,y.multi.push(l)}this.records.set(p,m)}hydrate(l,u){return u.value===L8&&(u.value=RI,u.value=u.factory()),"object"==typeof u.value&&u.value&&function pb(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=re(l.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Lp(a){const l=Ai(a),u=null!==l?l.factory:X2(a);if(null!==u)return u;if(a instanceof Ln)throw new Error(`Token ${ue(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function PI(a){const l=a.length;if(l>0){const f=ro(l,"?");throw new Error(`Can't resolve all parameters for ${ue(a)}: (${f.join(", ")}).`)}const u=function Wn(a){const l=a&&(a[Yi]||a[Fi]);if(l){const u=function Gs(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Error("unreachable")}function fb(a,l,u){let f;if($6(a)){const p=re(a);return X2(p)||Lp(p)}if(hb(a))f=()=>re(a.useValue);else if(function BI(a){return!(!a||!a.useFactory)}(a))f=()=>a.useFactory(...wt(a.deps||[]));else if(function FI(a){return!(!a||!a.useExisting)}(a))f=()=>Me(re(a.useExisting));else{const p=re(a&&(a.useClass||a.provide));if(!function GI(a){return!!a.deps}(a))return X2(p)||Lp(p);f=()=>new p(...wt(a.deps))}return f}function q6(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function hb(a){return null!==a&&"object"==typeof a&&V in a}function $6(a){return"function"==typeof a}let xs=(()=>{class a{static create(u,f){var p;if(Array.isArray(u))return ub({name:""},f,u,"");{const m=null!==(p=u.name)&&void 0!==p?p:"";return ub({name:m},u.parent,u.providers,m)}}}return a.THROW_IF_NOT_FOUND=$o,a.NULL=new u7,a.\u0275prov=kn({token:a,providedIn:"any",factory:()=>Me(c7)}),a.__NG_ELEMENT_ID__=-1,a})();function T8(a,l){Oo(L6(a)[1],Pn())}function kp(a){let l=function m7(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const f=[a];for(;l;){let p;if(_1(a))p=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Error("Directives cannot inherit Components");p=l.\u0275dir}if(p){if(u){f.push(p);const y=a;y.inputs=Vp(a.inputs),y.declaredInputs=Vp(a.declaredInputs),y.outputs=Vp(a.outputs);const w=p.hostBindings;w&&KI(a,w);const S=p.viewQuery,A=p.contentQueries;if(S&&ZI(a,S),A&&YI(a,A),J(a.inputs,p.inputs),J(a.declaredInputs,p.declaredInputs),J(a.outputs,p.outputs),_1(p)&&p.data.animation){const k=a.data;k.animation=(k.animation||[]).concat(p.data.animation)}}const m=p.features;if(m)for(let y=0;y<m.length;y++){const w=m[y];w&&w.ngInherit&&w(a),w===kp&&(u=!1)}}l=Object.getPrototypeOf(l)}!function WI(a){let l=0,u=null;for(let f=a.length-1;f>=0;f--){const p=a[f];p.hostVars=l+=p.hostVars,p.hostAttrs=Sn(p.hostAttrs,u=Sn(u,p.hostAttrs))}}(f)}function Vp(a){return a===_n?{}:a===Dt?[]:a}function ZI(a,l){const u=a.viewQuery;a.viewQuery=u?(f,p)=>{l(f,p),u(f,p)}:l}function YI(a,l){const u=a.contentQueries;a.contentQueries=u?(f,p,m)=>{l(f,p,m),u(f,p,m)}:l}function KI(a,l){const u=a.hostBindings;a.hostBindings=u?(f,p)=>{l(f,p),u(f,p)}:l}let _7=null;function Y6(){if(!_7){const a=Tt.Symbol;if(a&&a.iterator)_7=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const f=l[u];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(_7=f)}}}return _7}function D8(a){return!!A8(a)&&(Array.isArray(a)||!(a instanceof Map)&&Y6()in a)}function A8(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function lo(a,l,u){return a[l]=u}function P1(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function s3(a,l,u,f){const p=P1(a,l,u);return P1(a,l+1,f)||p}function nc(a,l,u,f){const p=Le();return P1(p,nr(),l)&&(Yt(),function ao(a,l,u,f,p,m){const y=Kn(a,l);r7(l[11],y,m,a.value,u,f,p)}(Qn(),p,a,l,u,f)),nc}function m4(a,l,u,f){return P1(a,nr(),u)?l+te(u)+f:Gt}function I8(a,l,u,f,p,m,y,w){const S=Le(),A=Yt(),k=a+20,z=A.firstCreatePass?function Up(a,l,u,f,p,m,y,w,S){const A=l.consts,k=h4(l,a,4,y||null,D1(A,w));S8(l,u,k,D1(A,S)),Oo(l,k);const z=k.tViews=e7(2,k,f,p,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,A);return null!==l.queries&&(l.queries.template(l,k),z.queries=l.queries.embeddedTView(k)),k}(k,A,S,l,u,f,p,m,y):A.data[k];y1(z,!1);const j=S[11].createComment("");$l(A,S,j,z),r1(j,S),o7(S,S[k]=sb(j,S,j,z)),ma(z)&&Qd(A,S,z),null!=y&&Jd(S,z,w)}function M7(a){return function qn(a,l){return a[l]}(function O3(){return it.lFrame.contextLView}(),20+a)}function J6(a,l=yt.Default){const u=Le();return null===u?Me(a,l):Fo(Pn(),u,re(a),l)}function Ab(){throw new Error("invalid")}function tg(a,l,u){const f=Le();return P1(f,nr(),l)&&lr(Yt(),Qn(),f,a,l,f[11],u,!1),tg}function V8(a,l,u,f,p){const y=p?"class":"style";Mp(a,u,l.inputs[y],y,f)}function ng(a,l,u,f){const p=Le(),m=Yt(),y=20+a,w=p[11],S=p[y]=g8(w,l,function l6(){return it.lFrame.currentNamespace}()),A=m.firstCreatePass?function dN(a,l,u,f,p,m,y){const w=l.consts,A=h4(l,a,2,p,D1(w,m));return S8(l,u,A,D1(w,y)),null!==A.attrs&&j6(A,A.attrs,!1),null!==A.mergedAttrs&&j6(A,A.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,A),A}(y,m,p,0,l,u,f):m.data[y];y1(A,!0);const k=A.mergedAttrs;null!==k&&xn(w,S,k);const z=A.classes;null!==z&&Fd(w,S,z);const j=A.styles;null!==j&&J9(w,S,j),64!=(64&A.flags)&&$l(m,p,S,A),0===function Ma(){return it.lFrame.elementDepthCount}()&&r1(S,p),function No(){it.lFrame.elementDepthCount++}(),ma(A)&&(Qd(m,p,A),function w8(a,l,u){if(Zn(l)){const p=l.directiveEnd;for(let m=l.directiveStart;m<p;m++){const y=a.data[m];y.contentQueries&&y.contentQueries(1,u[m],m)}}}(m,A,p)),null!==f&&Jd(p,A)}function ig(){let a=Pn();Vo()?Js():(a=a.parent,y1(a,!1));const l=a;!function ko(){it.lFrame.elementDepthCount--}();const u=Yt();u.firstCreatePass&&(Oo(u,a),Zn(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function j1(a){return 0!=(16&a.flags)}(l)&&V8(u,l,Le(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function _l(a){return 0!=(32&a.flags)}(l)&&V8(u,l,Le(),l.stylesWithoutHost,!1)}function Ib(a,l,u,f){ng(a,l,u,f),ig()}function Vb(){return Le()}function H8(a){return!!a&&"function"==typeof a.then}function Hb(a){return!!a&&"function"==typeof a.subscribe}const Rb=Hb;function sg(a,l,u,f){const p=Le(),m=Yt(),y=Pn();return Pb(m,p,p[11],y,a,l,!!u,f),sg}function og(a,l){const u=Pn(),f=Le(),p=Yt();return Pb(p,f,l7(as(p.data),u,f),u,a,l,!1),og}function Pb(a,l,u,f,p,m,y,w){const S=ma(f),k=a.firstCreatePass&&G6(a),z=l[8],j=lb(l);let Q=!0;if(3&f.type||w){const qe=Kn(f,l),rt=w?w(qe):qe,we=j.length,bt=w?fn=>w(ti(fn[f.index])):f.index;if(zn(u)){let fn=null;if(!w&&S&&(fn=function Ob(a,l,u,f){const p=a.cleanup;if(null!=p)for(let m=0;m<p.length-1;m+=2){const y=p[m];if(y===u&&p[m+1]===f){const w=l[7],S=p[m+2];return w.length>S?w[S]:null}"string"==typeof y&&(m+=2)}return null}(a,l,p,f.index)),null!==fn)(fn.__ngLastListenerFn__||fn).__ngNextListenerFn__=m,fn.__ngLastListenerFn__=m,Q=!1;else{m=ag(f,l,z,m,!1);const An=u.listen(rt,p,m);j.push(m,An),k&&k.push(p,bt,we,we+1)}}else m=ag(f,l,z,m,!0),rt.addEventListener(p,m,y),j.push(m),k&&k.push(p,bt,we,y)}else m=ag(f,l,z,m,!1);const me=f.outputs;let Pe;if(Q&&null!==me&&(Pe=me[p])){const qe=Pe.length;if(qe)for(let rt=0;rt<qe;rt+=2){const dr=l[Pe[rt]][Pe[rt+1]].subscribe(m),S2=j.length;j.push(m,dr),k&&k.push(p,f.index,S2,-(S2+1))}}}function zb(a,l,u,f){try{return!1!==u(f)}catch(p){return bp(a,p),!1}}function ag(a,l,u,f,p){return function m(y){if(y===Function)return f;const w=2&a.flags?T1(a.index,l):l;0==(32&l[2])&&_p(w);let S=zb(l,0,f,y),A=m.__ngNextListenerFn__;for(;A;)S=zb(l,0,A,y)&&S,A=A.__ngNextListenerFn__;return p&&!1===S&&(y.preventDefault(),y.returnValue=!1),S}}function Fb(a=1){return function o6(a){return(it.lFrame.contextLView=function Ea(a,l){for(;a>0;)l=l[15],a--;return l}(a,it.lFrame.contextLView))[8]}(a)}function lg(a,l){let u=null;const f=function ky(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let p=0;p<l.length;p++){const m=l[p];if("*"!==m){if(null===f?np(a,m,!0):Ry(f,m))return p}else u=p}return u}function cg(a){const l=Le()[16][6];if(!l.projection){const f=l.projection=ro(a?a.length:1,null),p=f.slice();let m=l.child;for(;null!==m;){const y=a?lg(m,a):0;null!==y&&(p[y]?p[y].projectionNext=m:f[y]=m,p[y]=m),m=m.next}}}function ug(a,l=0,u){const f=Le(),p=Yt(),m=h4(p,20+a,16,null,u||null);null===m.projection&&(m.projection=l),Js(),64!=(64&m.flags)&&function Ly(a,l,u){Q9(l[11],0,l,u,dt(a,u,l),ql(u.parent||l[6],u,l))}(p,f,m)}function o3(a,l,u){return X6(a,"",l,"",u),o3}function X6(a,l,u,f,p){const m=Le(),y=m4(m,l,u,f);return y!==Gt&&lr(Yt(),Qn(),m,a,y,m[11],p,!1),X6}function gg(a,l,u,f,p){const m=a[u+1],y=null===l;let w=f?bs(m):n3(m),S=!1;for(;0!==w&&(!1===S||y);){const k=a[w+1];Cg(a[w],l)&&(S=!0,a[w+1]=f?Ud(k):sp(k)),w=f?bs(k):n3(k)}S&&(a[u+1]=f?sp(m):Ud(m))}function Cg(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&qo(a,l)>=0}const s1={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function A7(a){return a.substring(s1.key,s1.keyEnd)}function ji(a,l){const u=s1.textEnd;return u===l?-1:(l=s1.keyEnd=function N7(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,s1.key=l,u),v4(a,l,u))}function v4(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function vg(a,l,u){return Ts(a,l,u,!1),vg}function yg(a,l){return Ts(a,l,null,!0),yg}function Gb(a){!function Ds(a,l,u,f){const p=Yt(),m=g2(2);p.firstUpdatePass&&O8(p,null,m,f);const y=Le();if(u!==Gt&&P1(y,m,u)){const w=p.data[Fn()];if(wg(w,f)&&!V7(p,m)){let S=f?w.classesWithoutHost:w.stylesWithoutHost;null!==S&&(u=ge(S,u||"")),V8(p,w,y,u,f)}else!function qb(a,l,u,f,p,m,y,w){p===Gt&&(p=Dt);let S=0,A=0,k=0<p.length?p[0]:null,z=0<m.length?m[0]:null;for(;null!==k||null!==z;){const j=S<p.length?p[S+1]:void 0,Q=A<m.length?m[A+1]:void 0;let Pe,me=null;k===z?(S+=2,A+=2,j!==Q&&(me=z,Pe=Q)):null===z||null!==k&&k<z?(S+=2,me=k):(A+=2,me=z,Pe=Q),null!==me&&$b(a,l,u,f,me,Pe,y,w),k=S<p.length?p[S]:null,z=A<m.length?m[A]:null}}(p,w,y,y[11],y[m+1],y[m+1]=function gN(a,l,u){if(null==u||""===u)return Dt;const f=[],p=Br(u);if(Array.isArray(p))for(let m=0;m<p.length;m++)a(f,p[m],!0);else if("object"==typeof p)for(const m in p)p.hasOwnProperty(m)&&a(f,m,p[m]);else"string"==typeof p&&l(f,p);return f}(a,l,u),f,m)}}(d1,ta,a,!0)}function ta(a,l){for(let u=function e5(a){return function t5(a){s1.key=0,s1.keyEnd=0,s1.value=0,s1.valueEnd=0,s1.textEnd=a.length}(a),ji(a,v4(a,0,s1.textEnd))}(l);u>=0;u=ji(l,u))d1(a,A7(l),!0)}function Ts(a,l,u,f){const p=Le(),m=Yt(),y=g2(2);m.firstUpdatePass&&O8(m,a,y,f),l!==Gt&&P1(p,y,l)&&$b(m,m.data[Fn()],p,p[11],a,p[y+1]=function cr(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=ue(Br(a)))),a}(l,u),f,y)}function V7(a,l){return l>=a.expandoStartIndex}function O8(a,l,u,f){const p=a.data;if(null===p[u+1]){const m=p[Fn()],y=V7(a,u);wg(m,f)&&null===l&&!y&&(l=!1),l=function H7(a,l,u,f){const p=as(a);let m=f?l.residualClasses:l.residualStyles;if(null===p)0===(f?l.classBindings:l.styleBindings)&&(u=P8(u=O7(null,a,l,u,f),l.attrs,f),m=null);else{const y=l.directiveStylingLast;if(-1===y||a[y]!==p)if(u=O7(p,a,l,u,f),null===m){let S=function bg(a,l,u){const f=u?l.classBindings:l.styleBindings;if(0!==n3(f))return a[bs(f)]}(a,l,f);void 0!==S&&Array.isArray(S)&&(S=O7(null,a,l,S[1],f),S=P8(S,l.attrs,f),function jb(a,l,u,f){a[bs(u?l.classBindings:l.styleBindings)]=f}(a,l,f,S))}else m=function R7(a,l,u){let f;const p=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<p;m++)f=P8(f,a[m].hostAttrs,u);return P8(f,l.attrs,u)}(a,l,f)}return void 0!==m&&(f?l.residualClasses=m:l.residualStyles=m),u}(p,m,l,f),function hN(a,l,u,f,p,m){let y=m?l.classBindings:l.styleBindings,w=bs(y),S=n3(y);a[f]=u;let k,A=!1;if(Array.isArray(u)){const z=u;k=z[1],(null===k||qo(z,k)>0)&&(A=!0)}else k=u;if(p)if(0!==S){const j=bs(a[w+1]);a[f+1]=Bd(j,w),0!==j&&(a[j+1]=op(a[j+1],f)),a[w+1]=function lI(a,l){return 131071&a|l<<17}(a[w+1],f)}else a[f+1]=Bd(w,0),0!==w&&(a[w+1]=op(a[w+1],f)),w=f;else a[f+1]=Bd(S,0),0===w?w=f:a[S+1]=op(a[S+1],f),S=f;A&&(a[f+1]=sp(a[f+1])),gg(a,k,f,!0),gg(a,k,f,!1),function Bb(a,l,u,f,p){const m=p?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof l&&qo(m,l)>=0&&(u[f+1]=Ud(u[f+1]))}(l,k,a,f,m),y=Bd(w,S),m?l.classBindings=y:l.styleBindings=y}(p,m,l,u,y,f)}}function O7(a,l,u,f,p){let m=null;const y=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<y&&(m=l[w],f=P8(f,m.hostAttrs,p),m!==a);)w++;return null!==a&&(u.directiveStylingLast=w),f}function P8(a,l,u){const f=u?1:2;let p=-1;if(null!==l)for(let m=0;m<l.length;m++){const y=l[m];"number"==typeof y?p=y:p===f&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),d1(a,y,!!u||l[++m]))}return void 0===a?null:a}function $b(a,l,u,f,p,m,y,w){if(!(3&l.type))return;const S=a.data,A=S[w+1];As(function Gy(a){return 1==(1&a)}(A)?Wb(S,l,u,p,n3(A),y):void 0)||(As(m)||function Uy(a){return 2==(2&a)}(A)&&(m=Wb(S,null,u,p,w,y)),function Ty(a,l,u,f,p){const m=zn(a);if(l)p?m?a.addClass(u,f):u.classList.add(f):m?a.removeClass(u,f):u.classList.remove(f);else{let y=-1===f.indexOf("-")?void 0:jr.DashCase;if(null==p)m?a.removeStyle(u,f,y):u.style.removeProperty(f);else{const w="string"==typeof p&&p.endsWith("!important");w&&(p=p.slice(0,-10),y|=jr.Important),m?a.setStyle(u,f,p,y):u.style.setProperty(f,p,w?"important":"")}}}(f,y,er(Fn(),u),p,m))}function Wb(a,l,u,f,p,m){const y=null===l;let w;for(;p>0;){const S=a[p],A=Array.isArray(S),k=A?S[1]:S,z=null===k;let j=u[p+1];j===Gt&&(j=z?Dt:void 0);let Q=z?W3(j,f):k===f?j:void 0;if(A&&!As(Q)&&(Q=W3(S,f)),As(Q)&&(w=Q,y))return w;const me=a[p+1];p=y?bs(me):n3(me)}if(null!==l){let S=m?l.residualClasses:l.residualStyles;null!=S&&(w=W3(S,f))}return w}function As(a){return void 0!==a}function wg(a,l){return 0!=(a.flags&(l?16:32))}function n5(a,l=""){const u=Le(),f=Yt(),p=a+20,m=f.firstCreatePass?h4(f,p,1,l,null):f.data[p],y=u[p]=Gl(u[11],l);$l(f,u,y,m),y1(m,!1)}function z8(a){return uo("",a,""),z8}function uo(a,l,u){const f=Le(),p=m4(f,a,l,u);return p!==Gt&&function Xo(a,l,u){const f=er(l,a);Od(a[11],f,u)}(f,Fn(),p),uo}function G7(a,l,u){const f=Le();return P1(f,nr(),l)&&lr(Yt(),Qn(),f,a,l,f[11],u,!0),G7}function j7(a,l,u){const f=Le();if(P1(f,nr(),l)){const m=Yt(),y=Qn();lr(m,y,f,a,l,l7(as(m.data),y,f),u,!0)}return j7}const Z1=void 0;var Og=["en",[["a","p"],["AM","PM"],Z1],[["AM","PM"],Z1,Z1],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Z1,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Z1,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Z1,"{1} 'at' {0}",Z1],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Rg(a){const u=Math.floor(Math.abs(a)),f=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===f?1:5}];let w4={};function h1(a){const l=function rM(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=zg(l);if(u)return u;const f=l.split("-")[0];if(u=zg(f),u)return u;if("en"===f)return Og;throw new Error(`Missing locale data for the locale "${a}".`)}function Pg(a){return h1(a)[xt.PluralCase]}function zg(a){return a in w4||(w4[a]=Tt.ng&&Tt.ng.common&&Tt.ng.common.locales&&Tt.ng.common.locales[a]),w4[a]}var xt=(()=>((xt=xt||{})[xt.LocaleId=0]="LocaleId",xt[xt.DayPeriodsFormat=1]="DayPeriodsFormat",xt[xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",xt[xt.DaysFormat=3]="DaysFormat",xt[xt.DaysStandalone=4]="DaysStandalone",xt[xt.MonthsFormat=5]="MonthsFormat",xt[xt.MonthsStandalone=6]="MonthsStandalone",xt[xt.Eras=7]="Eras",xt[xt.FirstDayOfWeek=8]="FirstDayOfWeek",xt[xt.WeekendRange=9]="WeekendRange",xt[xt.DateFormat=10]="DateFormat",xt[xt.TimeFormat=11]="TimeFormat",xt[xt.DateTimeFormat=12]="DateTimeFormat",xt[xt.NumberSymbols=13]="NumberSymbols",xt[xt.NumberFormats=14]="NumberFormats",xt[xt.CurrencyCode=15]="CurrencyCode",xt[xt.CurrencySymbol=16]="CurrencySymbol",xt[xt.CurrencyName=17]="CurrencyName",xt[xt.Currencies=18]="Currencies",xt[xt.Directionality=19]="Directionality",xt[xt.PluralCase=20]="PluralCase",xt[xt.ExtraData=21]="ExtraData",xt))();const Fg=["zero","one","two","few","many"],s5="en-US",x4={marker:"element"},fo={marker:"ICU"};var vt=(()=>((vt=vt||{})[vt.SHIFT=2]="SHIFT",vt[vt.APPEND_EAGERLY=1]="APPEND_EAGERLY",vt[vt.COMMENT=2]="COMMENT",vt))();let Ug=s5;function q7(a,l,u){const f=l.insertBeforeIndex,p=Array.isArray(f)?f[0]:f;return null===p?O6(a,0,u):ti(u[p])}function $7(a,l,u,f,p){const m=l.insertBeforeIndex;if(Array.isArray(m)){let y=f,w=null;if(3&l.type||(w=y,y=p),null!==y&&0==(2&l.flags))for(let S=1;S<m.length;S++)Xn(a,y,u[m[S]],w,!1)}}function Gg(a,l){if(a.push(l),a.length>1)for(let u=a.length-2;u>=0;u--){const f=a[u];o5(f)||a5(f,l)&&null===jg(f)&&G8(f,l.index)}}function o5(a){return!(64&a.type)}function a5(a,l){return o5(l)||a.index>l.index}function jg(a){const l=a.insertBeforeIndex;return Array.isArray(l)?l[0]:l}function G8(a,l){const u=a.insertBeforeIndex;Array.isArray(u)?u[0]=l:(P6(q7,$7),a.insertBeforeIndex=l)}function l5(a,l){const u=a.data[l];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function qg(a,l,u){const f=gp(a,u,64,null,null);return Gg(l,f),f}function c5(a,l){const u=l[a.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function $g(a){return a>>>17}function Wg(a){return(131070&a)>>>1}let u5=0,d5=0;function Z7(a,l,u,f){const p=u[11];let y,m=null;for(let w=0;w<l.length;w++){const S=l[w];if("string"==typeof S){const A=l[++w];null===u[A]&&(u[A]=Gl(p,S))}else if("number"==typeof S)switch(1&S){case 0:const A=$g(S);let k,z;if(null===m&&(m=A,y=u4(p,f)),A===m?(k=f,z=y):(k=null,z=ti(u[A])),null!==z){const Pe=Wg(S);Xn(p,z,u[Pe],k,!1);const rt=l5(a,Pe);if(null!==rt&&"object"==typeof rt){const we=c5(rt,u);null!==we&&Z7(a,rt.create[we],u,u[rt.anchorIdx])}}break;case 1:const Q=l[++w],me=l[++w];r7(p,er(S>>>1,u),null,null,Q,me,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${S}"`)}else switch(S){case fo:const A=l[++w],k=l[++w];null===u[k]&&r1(u[k]=Z9(p,A),u);break;case x4:const z=l[++w],j=l[++w];null===u[j]&&r1(u[j]=g8(p,z,null),u)}}}function $8(a,l,u,f,p){for(let m=0;m<u.length;m++){const y=u[m],w=u[++m];if(y&p){let S="";for(let A=m+1;A<=m+w;A++){const k=u[A];if("string"==typeof k)S+=k;else if("number"==typeof k)if(k<0)S+=te(l[f-k]);else{const z=k>>>2;switch(3&k){case 1:const j=u[++A],Q=u[++A],me=a.data[z];"string"==typeof me?r7(l[11],l[z],null,me,j,S,Q):lr(a,me,l,j,S,l[11],Q,!1);break;case 0:const Pe=l[z];null!==Pe&&Od(l[11],Pe,S);break;case 2:ra(a,l5(a,z),l,S);break;case 3:W8(a,l5(a,z),f,l)}}}}else{const S=u[m+1];if(S>0&&3==(3&S)){const k=l5(a,S>>>2);l[k.currentCaseLViewIndex]<0&&W8(a,k,f,l)}}m+=w}}function W8(a,l,u,f){let p=f[l.currentCaseLViewIndex];if(null!==p){let m=u5;p<0&&(p=f[l.currentCaseLViewIndex]=~p,m=-1),$8(a,f,l.update[p],u,m)}}function ra(a,l,u,f){const p=function Yg(a,l){let u=a.cases.indexOf(l);if(-1===u)switch(a.type){case 1:{const f=function sM(a,l){const u=Pg(l)(parseInt(a,10)),f=Fg[u];return void 0!==f?f:"other"}(l,function oM(){return Ug}());u=a.cases.indexOf(f),-1===u&&"other"!==f&&(u=a.cases.indexOf("other"));break}case 0:u=a.cases.indexOf("other")}return-1===u?null:u}(l,f);if(c5(l,u)!==p&&(L4(a,l,u),u[l.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const y=u[l.anchorIdx];y&&Z7(a,l.create[p],u,y)}}function L4(a,l,u){let f=c5(l,u);if(null!==f){const p=l.remove[f];for(let m=0;m<p.length;m++){const y=p[m];if(y>0){const w=er(y,u);null!==w&&K9(u[11],w)}else L4(a,l5(a,~y),u)}}}function Kg(){const a=[];let u,f,l=-1;function m(w,S){l=0;const A=c5(w,S);f=null!==A?w.remove[A]:Dt}function y(){if(l<f.length){const w=f[l++];return w>0?u[w]:(a.push(l,f),m(u[1].data[~w],u),y())}return 0===a.length?null:(f=a.pop(),l=a.pop(),y())}return function p(w,S){for(u=S;a.length;)a.pop();return m(w.value,S),y}}const h5=/\ufffd(\d+):?\d*\ufffd/gi,Qg=/\ufffd(\d+)\ufffd/,Z8=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,dM=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,p5=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,fM=/\uE500/g;function g5(a,l,u,f,p,m,y){const w=p4(a,f,1,null);let S=w<<vt.SHIFT,A=p2();l===A&&(A=null),null===A&&(S|=vt.APPEND_EAGERLY),y&&(S|=vt.COMMENT,function h8(a){void 0===k6&&(k6=a())}(Kg)),p.push(S,null===m?"":m);const k=gp(a,w,y?32:1,null===m?"":m,null);Gg(u,k);const z=k.index;return y1(k,!1),null!==A&&l!==A&&function j8(a,l){let u=a.insertBeforeIndex;null===u?(P6(q7,$7),u=a.insertBeforeIndex=[null,l]):(function fe(a,l,u){a!=l&&St(u,a,l,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(l))}(A,z),k}function C5(a,l,u,f,p,m,y){const w=y.match(h5),S=g5(a,l,u,m,f,w?null:y,!1);w&&T4(p,y,S.index,null,0,null)}function T4(a,l,u,f,p,m){const y=a.length,w=y+1;a.push(null,null);const S=y+2,A=l.split(h5);let k=0;for(let z=0;z<A.length;z++){const j=A[z];if(1&z){const Q=p+parseInt(j,10);a.push(-1-Q),k|=Xg(Q)}else""!==j&&a.push(j)}return a.push(u<<2|(f?1:0)),f&&a.push(f,m),a[y]=k,a[w]=a.length-S,k}function Xg(a){return 1<<Math.min(a,31)}function eC(a){let l,m,u="",f=0,p=!1;for(;null!==(l=dM.exec(a));)p?l[0]===`\ufffd/*${m}\ufffd`&&(f=l.index,p=!1):(u+=a.substring(f,l.index+l[0].length),m=l[1],p=!0);return u+=a.substr(f),u}function tC(a,l,u,f,p,m){let y=0;const w={type:p.type,currentCaseLViewIndex:p4(a,l,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function sC(a,l,u){a.push(Xg(l.mainBinding),2,-1-l.mainBinding,u<<2|2)})(u,p,m),function W7(a,l,u){const f=a.data[l];null===f?a.data[l]=u:f.value=u}(a,m,w);const S=p.values;for(let A=0;A<S.length;A++){const k=S[A],z=[];for(let j=0;j<k.length;j++){const Q=k[j];if("string"!=typeof Q){const me=z.push(Q)-1;k[j]=`\x3c!--\ufffd${me}\ufffd--\x3e`}}y=CM(a,w,l,u,f,p.cases[A],k.join(""),z)|y}y&&function mM(a,l,u){a.push(l,1,u<<2|3)}(u,y,m)}function nC(a){const l=[],u=[];let f=1,p=0;const m=ac(a=a.replace(Z8,function(y,w,S){return f="select"===S?0:1,p=parseInt(w.substr(1),10),""}));for(let y=0;y<m.length;){let w=m[y++].trim();1===f&&(w=w.replace(/\s*(?:=)?(\w+)\s*/,"$1")),w.length&&l.push(w);const S=ac(m[y++]);l.length>u.length&&u.push(S)}return{type:f,mainBinding:p,cases:l,values:u}}function ac(a){if(!a)return[];let l=0;const u=[],f=[],p=/[{}]/g;let m;for(p.lastIndex=0;m=p.exec(a);){const w=m.index;if("}"==m[0]){if(u.pop(),0==u.length){const S=a.substring(l,w);Z8.test(S)?f.push(nC(S)):f.push(S),l=w+1}}else{if(0==u.length){const S=a.substring(l,w);f.push(S),l=w+1}u.push("{")}}const y=a.substring(l);return f.push(y),f}function CM(a,l,u,f,p,m,y,w){const S=[],A=[],k=[];l.cases.push(m),l.create.push(S),l.remove.push(A),l.update.push(k);const j=Za(Ao()).getInertBodyElement(y),Q=e8(j)||j;return Q?Y8(a,l,u,f,S,A,k,Q,p,w,0):0}function Y8(a,l,u,f,p,m,y,w,S,A,k){let z=0,j=w.firstChild;for(;j;){const Q=p4(a,u,1,null);switch(j.nodeType){case Node.ELEMENT_NODE:const me=j,Pe=me.tagName.toLowerCase();if(Ka.hasOwnProperty(Pe)){J7(p,x4,Pe,S,Q),a.data[Q]=Pe;const bt=me.attributes;for(let fn=0;fn<bt.length;fn++){const An=bt.item(fn),dr=An.name.toLowerCase();An.value.match(h5)?X0.hasOwnProperty(dr)&&T4(y,An.value,Q,An.name,0,J0[dr]?Yo:Nl[dr]?y6:null):_M(p,Q,An)}z=Y8(a,l,u,f,p,m,y,j,Q,A,k+1)|z,iC(m,Q,k)}break;case Node.TEXT_NODE:const qe=j.textContent||"",rt=qe.match(h5);J7(p,null,rt?"":qe,S,Q),iC(m,Q,k),rt&&(z=T4(y,qe,Q,null,0,null)|z);break;case Node.COMMENT_NODE:const we=Qg.exec(j.textContent||"");if(we){const fn=A[parseInt(we[1],10)];J7(p,fo,"",S,Q),tC(a,u,f,S,fn,Q),rC(m,Q,k)}}j=j.nextSibling}return z}function iC(a,l,u){0===u&&a.push(l)}function rC(a,l,u){0===u&&(a.push(~l),a.push(l))}function J7(a,l,u,f,p){null!==l&&a.push(l),a.push(u,p,function q8(a,l,u){return a|l<<17|u<<1}(0,f,p))}function _M(a,l,u){a.push(l<<1|1,u.name,u.value)}function lc(a,l,u=-1){const f=Yt(),p=Le(),m=20+a,y=D1(f.consts,l),w=p2();f.firstCreatePass&&function pM(a,l,u,f,p,m){const y=p2(),w=[],S=[],A=[[]];p=function gM(a,l){if(function Q7(a){return-1===a}(l))return eC(a);{const u=a.indexOf(`:${l}\ufffd`)+2+l.toString().length,f=a.search(new RegExp(`\ufffd\\/\\*\\d+:${l}\ufffd`));return eC(a.substring(u,f))}}(p,m);const k=function hM(a){return a.replace(fM," ")}(p).split(p5);for(let z=0;z<k.length;z++){let j=k[z];if(0==(1&z)){const Q=ac(j);for(let me=0;me<Q.length;me++){let Pe=Q[me];if(0==(1&me)){const qe=Pe;""!==qe&&C5(a,y,A[0],w,S,u,qe)}else{const qe=Pe;if("object"!=typeof qe)throw new Error(`Unable to parse ICU expression in "${p}" message.`);tC(a,u,S,l,qe,g5(a,y,A[0],u,w,"",!0).index)}}}else{const Q=47===j.charCodeAt(0),Pe=(j.charCodeAt(Q?1:0),20+Number.parseInt(j.substring(Q?2:1)));if(Q)A.shift(),y1(p2(),!1);else{const qe=qg(a,A[0],Pe);A.unshift([]),y1(qe,!0)}}}a.data[f]={create:w,update:S}}(f,null===w?0:w.index,p,m,y,u);const S=f.data[m],k=sn(f,w===p[6]?null:w,p);(function cM(a,l,u,f){const p=a[11];for(let m=0;m<l.length;m++){const y=l[m++],w=l[m],S=(y&vt.COMMENT)===vt.COMMENT,A=(y&vt.APPEND_EAGERLY)===vt.APPEND_EAGERLY,k=y>>>vt.SHIFT;let z=a[k];null===z&&(z=a[k]=S?p.createComment(w):Gl(p,w)),A&&null!==u&&Xn(p,u,z,f,!1)}})(p,S.create,k,w&&8&w.type?p[w.index]:null),os(!0)}function cc(a,l,u){lc(a,l,u),function oC(){os(!1)}()}function X7(a){return function aM(a){a&&(u5|=1<<Math.min(d5,31)),d5++}(P1(Le(),nr(),a)),X7}function ef(a){!function lM(a,l,u){if(d5>0){const f=a.data[u];$8(a,l,Array.isArray(f)?f:f.update,function A1(){return it.lFrame.bindingIndex}()-d5-1,u5)}u5=0,d5=0}(Yt(),Le(),a+20)}function tf(a,l,u,f,p){if(a=re(a),Array.isArray(a))for(let m=0;m<a.length;m++)tf(a[m],l,u,f,p);else{const m=Yt(),y=Le();let w=$6(a)?a:re(a.provide),S=fb(a);const A=Pn(),k=1048575&A.providerIndexes,z=A.directiveStart,j=A.providerIndexes>>20;if($6(a)||!a.multi){const Q=new ka(S,p,J6),me=Q8(w,l,p?k:k+j,z);-1===me?(us(zo(A,y),m,w),_5(m,a,l.length),l.push(w),A.directiveStart++,A.directiveEnd++,p&&(A.providerIndexes+=1048576),u.push(Q),y.push(Q)):(u[me]=Q,y[me]=Q)}else{const Q=Q8(w,l,k+j,z),me=Q8(w,l,k,k+j),Pe=Q>=0&&u[Q],qe=me>=0&&u[me];if(p&&!qe||!p&&!Pe){us(zo(A,y),m,w);const rt=function SM(a,l,u,f,p){const m=new ka(a,u,J6);return m.multi=[],m.index=l,m.componentProviders=0,ur(m,p,f&&!u),m}(p?J8:lC,u.length,p,f,S);!p&&qe&&(u[me].providerFactory=rt),_5(m,a,l.length,0),l.push(w),A.directiveStart++,A.directiveEnd++,p&&(A.providerIndexes+=1048576),u.push(rt),y.push(rt)}else _5(m,a,Q>-1?Q:me,ur(u[p?me:Q],S,!p&&f));!p&&f&&qe&&u[me].componentProviders++}}}function _5(a,l,u,f){const p=$6(l),m=function UI(a){return!!a.useClass}(l);if(p||m){const S=(m?re(l.useClass):l).prototype.ngOnDestroy;if(S){const A=a.destroyHooks||(a.destroyHooks=[]);if(!p&&l.multi){const k=A.indexOf(u);-1===k?A.push(u,[f,S]):A[k+1].push(f,S)}else A.push(u,S)}}}function ur(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function Q8(a,l,u,f){for(let p=u;p<f;p++)if(l[p]===a)return p;return-1}function lC(a,l,u,f){return uc(this.multi,[])}function J8(a,l,u,f){const p=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=jo(u,u[1],this.providerFactory.index,f);m=w.slice(0,y),uc(p,m);for(let S=y;S<w.length;S++)m.push(w[S])}else m=[],uc(p,m);return m}function uc(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function cC(a,l=[]){return u=>{u.providersResolver=(f,p)=>function xM(a,l,u){const f=Yt();if(f.firstCreatePass){const p=_1(a);tf(u,f.data,f.blueprint,p,!0),tf(l,f.data,f.blueprint,p,!1)}}(f,p?p(a):a,l)}}class uC{}class v5{resolveComponentFactory(l){throw function X8(a){const l=Error(`No component factory found for ${ue(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let dc=(()=>{class a{}return a.NULL=new v5,a})();function eu(){return A4(Pn(),Le())}function A4(a,l){return new y5(Kn(a,l))}let y5=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=eu,a})();function TM(a){return a instanceof y5?a.nativeElement:a}class dC{}let DM=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function AM(){const a=Le(),u=T1(Pn().index,a);return function rf(a){return a[11]}(V2(u)?u:a)}(),a})(),fC=(()=>{class a{}return a.\u0275prov=kn({token:a,providedIn:"root",factory:()=>null}),a})();class b5{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const hC=new b5("13.1.1"),sf={};function I4(a,l,u,f,p=!1){for(;null!==u;){const m=l[u.index];if(null!==m&&f.push(ti(m)),H2(m))for(let w=10;w<m.length;w++){const S=m[w],A=S[1].firstChild;null!==A&&I4(S[1],S,A,f)}const y=u.type;if(8&y)I4(a,l,u.child,f);else if(32&y){const w=V6(u,l);let S;for(;S=w();)f.push(S)}else if(16&y){const w=_8(l,u);if(Array.isArray(w))f.push(...w);else{const S=e3(l[16]);I4(S[1],S,w,f,!0)}}u=p?u.projectionNext:u.next}return f}class M5{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return I4(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(H2(l)){const u=l[8],f=u?u.indexOf(this):-1;f>-1&&(G(l,f),hs(u,f))}this._attachedToViewContainer=!1}ie(this._lView[1],this._lView)}onDestroy(l){Yl(this._lView[1],this._lView,null,l)}markForCheck(){_p(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){vp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function kI(a,l,u){Nr(!0);try{vp(a,l,u)}finally{Nr(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function g(a,l){z6(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=l}}class w5 extends M5{constructor(l){super(l),this._view=l}detectChanges(){ab(this._view)}checkNoChanges(){!function f1(a){Nr(!0);try{ab(a)}finally{Nr(!1)}}(this._view)}get context(){return null}}class pC extends dc{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=on(l);return new af(u,this.ngModule)}}function gC(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}const IM=new Ln("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>l4});class af extends uC{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function Py(a){return a.map(Oy).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return gC(this.componentDef.inputs)}get outputs(){return gC(this.componentDef.outputs)}create(l,u,f,p){const m=(p=p||this.ngModule)?function NM(a,l){return{get:(u,f,p)=>{const m=a.get(u,sf,p);return m!==sf||f===sf?m:l.get(u,f,p)}}}(l,p.injector):l,y=m.get(dC,I3),w=m.get(fC,null),S=y.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",k=f?function n7(a,l,u){if(zn(a))return a.selectRootElement(l,u===nt.ShadowDom);let f="string"==typeof l?a.querySelector(l):l;return f.textContent="",f}(S,f,this.componentDef.encapsulation):g8(y.createRenderer(null,this.componentDef),A,function x5(a){const l=a.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(A)),z=this.componentDef.onPush?576:528,j=function C7(a,l){return{components:[],scheduler:a||l4,clean:VI,playerHandler:l||null,flags:0}}(),Q=e7(0,null,null,1,0,null,null,null,null,null),me=Zl(null,Q,j,z,null,null,y,S,w,m);let Pe,qe;eo(me);try{const rt=function Xl(a,l,u,f,p,m){const y=u[1];u[20]=a;const S=h4(y,20,2,"#host",null),A=S.mergedAttrs=l.hostAttrs;null!==A&&(j6(S,A,!0),null!==a&&(xn(p,a,A),null!==S.classes&&Fd(p,a,S.classes),null!==S.styles&&J9(p,a,S.styles)));const k=f.createRenderer(a,l),z=Zl(u,Xd(l),null,l.onPush?64:16,u[20],S,f,k,m||null,null);return y.firstCreatePass&&(us(zo(S,u),y,l.type),nb(y,S),ib(S,u.length,1)),o7(u,z),u[20]=z}(k,this.componentDef,me,y,S);if(k)if(f)xn(S,k,["ng-version",hC.full]);else{const{attrs:we,classes:bt}=function zy(a){const l=[],u=[];let f=1,p=2;for(;f<a.length;){let m=a[f];if("string"==typeof m)2===p?""!==m&&l.push(m,a[++f]):8===p&&u.push(m);else{if(!ar(p))break;p=m}f++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);we&&xn(S,k,we),bt&&bt.length>0&&Fd(S,k,bt.join(" "))}if(qe=Io(Q,20),void 0!==u){const we=qe.projection=[];for(let bt=0;bt<this.ngContentSelectors.length;bt++){const fn=u[bt];we.push(null!=fn?Array.from(fn):null)}}Pe=function Z6(a,l,u,f,p){const m=u[1],y=function vI(a,l,u){const f=Pn();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),rb(a,f,l,p4(a,l,1,null),u));const p=jo(l,a,f.directiveStart,f);r1(p,l);const m=Kn(f,l);return m&&r1(m,l),p}(m,u,l);if(f.components.push(y),a[8]=y,p&&p.forEach(S=>S(y,l)),l.contentQueries){const S=Pn();l.contentQueries(1,y,S.directiveStart)}const w=Pn();return!m.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(R2(w.index),ws(u[1],w,0,w.directiveStart,w.directiveEnd,l),tb(l,y)),y}(rt,this.componentDef,me,j,[T8]),M8(Q,me,null)}finally{Ro()}return new VM(this.componentType,Pe,A4(qe,me),me,qe)}}class VM extends class LM{}{constructor(l,u,f,p,m){super(),this.location=f,this._rootLView=p,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new w5(p),this.componentType=l}get injector(){return new Rn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class fc{}class CC{}const N4=new Map;class PM extends fc{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new pC(this);const f=ci(l);this._bootstrapComponents=Gr(f.bootstrap),this._r3Injector=db(l,u,[{provide:fc,useValue:this},{provide:dc,useValue:this.componentFactoryResolver}],ue(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,u=xs.THROW_IF_NOT_FOUND,f=yt.Default){return l===xs||l===fc||l===c7?this:this._r3Injector.get(l,u,f)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class tu extends CC{constructor(l){super(),this.moduleType=l,null!==ci(l)&&function RM(a){const l=new Set;!function u(f){const p=ci(f,!0),m=p.id;null!==m&&(function mC(a,l,u){if(l&&l!==u)throw new Error(`Duplicate module registered for ${a} - ${ue(l)} vs ${ue(l.name)}`)}(m,N4.get(m),f),N4.set(m,f));const y=Gr(p.imports);for(const w of y)l.has(w)||(l.add(w),u(w))}(a)}(l)}create(l){return new PM(this.moduleType,l)}}function lf(a,l,u,f){return function bC(a,l,u,f,p,m){const y=l+u;return P1(a,y,p)?lo(a,y+1,m?f.call(m,p):f(p)):S5(a,y+1)}(Le(),e1(),a,l,u,f)}function cf(a,l,u,f,p){return function nu(a,l,u,f,p,m,y){const w=l+u;return s3(a,w,p,m)?lo(a,w+2,y?f.call(y,p,m):f(p,m)):S5(a,w+2)}(Le(),e1(),a,l,u,f,p)}function yC(a,l,u,f,p,m){return function df(a,l,u,f,p,m,y,w){const S=l+u;return function C4(a,l,u,f,p){const m=s3(a,l,u,f);return P1(a,l+2,p)||m}(a,S,p,m,y)?lo(a,S+3,w?f.call(w,p,m,y):f(p,m,y)):S5(a,S+3)}(Le(),e1(),a,l,u,f,p,m)}function S5(a,l){const u=a[l];return u===Gt?void 0:u}function hc(a){return l=>{setTimeout(a,void 0,l)}}const w2=class Ns extends o.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,f){var p,m,y;let w=l,S=u||(()=>null),A=f;if(l&&"object"==typeof l){const z=l;w=null===(p=z.next)||void 0===p?void 0:p.bind(z),S=null===(m=z.error)||void 0===m?void 0:m.bind(z),A=null===(y=z.complete)||void 0===y?void 0:y.bind(z)}this.__isAsync&&(S=hc(S),w&&(w=hc(w)),A&&(A=hc(A)));const k=super.subscribe({next:w,error:S,complete:A});return l instanceof X.w0&&l.add(k),k}};function L5(){return this._results[Y6()]()}class iu{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Y6(),f=iu.prototype;f[u]||(f[u]=L5)}get changes(){return this._changes||(this._changes=new w2)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const f=this;f.dirty=!1;const p=jt(l);(this._changesDetected=!function wi(a,l,u){if(a.length!==l.length)return!1;for(let f=0;f<a.length;f++){let p=a[f],m=l[f];if(u&&(p=u(p),m=u(m)),m!==p)return!1}return!0}(f._results,p,u))&&(f._results=p,f.length=p.length,f.last=p[this.length-1],f.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let pc=(()=>{class a{}return a.__NG_ELEMENT_ID__=LC,a})();const YM=pc,SC=class extends YM{constructor(l,u,f){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=f}createEmbeddedView(l){const u=this._declarationTContainer.tViews,f=Zl(this._declarationLView,u,l,16,null,u.declTNode,null,null,null,null);f[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(f[19]=m.createEmbeddedView(u)),M8(u,f,l),new M5(f)}};function LC(){return gc(Pn(),Le())}function gc(a,l){return 4&a.type?new SC(l,a,A4(a,l)):null}let ff=(()=>{class a{}return a.__NG_ELEMENT_ID__=k4,a})();function k4(){return AC(Pn(),Le())}const EC=ff,TC=class extends EC{constructor(l,u,f){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=f}get element(){return A4(this._hostTNode,this._hostLView)}get injector(){return new Rn(this._hostTNode,this._hostLView)}get parentInjector(){const l=io(this._hostTNode,this._hostLView);if(Ct(l)){const u=ls(l,this._hostLView),f=u1(l);return new Rn(u[1].data[f+8],u)}return new Rn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=DC(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,f){const p=l.createEmbeddedView(u||{});return this.insert(p,f),p}createComponent(l,u,f,p,m){const y=l&&!function _2(a){return"function"==typeof a}(l);let w;if(y)w=u;else{const z=u||{};w=z.index,f=z.injector,p=z.projectableNodes,m=z.ngModuleRef}const S=y?l:new af(on(l)),A=f||this.parentInjector;if(!m&&null==S.ngModule&&A){const z=A.get(fc,null);z&&(m=z)}const k=S.create(A,p,void 0,m);return this.insert(k.hostView,w),k}insert(l,u){const f=l._lView,p=f[1];if(function tr(a){return H2(a[3])}(f)){const k=this.indexOf(l);if(-1!==k)this.detach(k);else{const z=f[3],j=new TC(z,z[6],z[3]);j.detach(j.indexOf(l))}}const m=this._adjustIndex(u),y=this._lContainer;!function b(a,l,u,f){const p=10+f,m=u.length;f>0&&(u[p-1][4]=l),f<m-10?(l[4]=u[p],Pa(u,10+f,l)):(u.push(l),l[4]=null),l[3]=u;const y=l[17];null!==y&&u!==y&&function T(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(y,l);const w=l[19];null!==w&&w.insertView(a),l[2]|=128}(p,f,y,m);const w=Pd(m,y),S=f[11],A=u4(S,y[7]);return null!==A&&function v(a,l,u,f,p,m){f[0]=p,f[6]=l,z6(a,f,u,1,p,m)}(p,y[6],S,f,A,w),l.attachToViewContainerRef(),Pa(E5(y),m,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=DC(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),f=G(this._lContainer,u);f&&(hs(E5(this._lContainer),u),ie(f[1],f))}detach(l){const u=this._adjustIndex(l,-1),f=G(this._lContainer,u);return f&&null!=hs(E5(this._lContainer),u)?new M5(f):null}_adjustIndex(l,u=0){return null==l?this.length+u:l}};function DC(a){return a[8]}function E5(a){return a[8]||(a[8]=[])}function AC(a,l){let u;const f=l[a.index];if(H2(f))u=f;else{let p;if(8&a.type)p=ti(f);else{const m=l[11];p=m.createComment("");const y=Kn(a,l);Xn(m,u4(m,y),p,function C8(a,l){return zn(a)?a.nextSibling(l):l.nextSibling}(m,y),!1)}l[a.index]=u=sb(f,l,p,a),o7(l,u)}return new TC(u,a,l)}class hf{constructor(l){this.queryList=l,this.matches=null}clone(){return new hf(this.queryList)}setDirty(){this.queryList.setDirty()}}class pf{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const f=null!==l.contentQueries?l.contentQueries[0]:u.length,p=[];for(let m=0;m<f;m++){const y=u.getByIndex(m);p.push(this.queries[y.indexInDeclarationView].clone())}return new pf(p)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==nw(l,u).matches&&this.queries[u].setDirty()}}class IC{constructor(l,u,f=null){this.predicate=l,this.flags=u,this.read=f}}class T5{constructor(l=[]){this.queries=l}elementStart(l,u){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let f=0;f<this.length;f++){const p=null!==u?u.length:0,m=this.getByIndex(f).embeddedTView(l,p);m&&(m.indexInDeclarationView=f,null!==u?u.push(m):u=[m])}return null!==u?new T5(u):null}template(l,u){for(let f=0;f<this.queries.length;f++)this.queries[f].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class gf{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new gf(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let f=l.parent;for(;null!==f&&8&f.type&&f.index!==u;)f=f.parent;return u===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const f=this.metadata.predicate;if(Array.isArray(f))for(let p=0;p<f.length;p++){const m=f[p];this.matchTNodeWithReadOption(l,u,XM(u,m)),this.matchTNodeWithReadOption(l,u,tn(u,l,m,!1,!1))}else f===pc?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,tn(u,l,f,!1,!1))}matchTNodeWithReadOption(l,u,f){if(null!==f){const p=this.metadata.read;if(null!==p)if(p===y5||p===ff||p===pc&&4&u.type)this.addMatch(u.index,-2);else{const m=tn(u,l,p,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,f)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function XM(a,l){const u=a.localNames;if(null!==u)for(let f=0;f<u.length;f+=2)if(u[f]===l)return u[f+1];return null}function ew(a,l,u,f){return-1===u?function NC(a,l){return 11&a.type?A4(a,l):4&a.type?gc(a,l):null}(l,a):-2===u?function MN(a,l,u){return u===y5?A4(l,a):u===pc?gc(l,a):u===ff?AC(l,a):void 0}(a,l,f):jo(a,a[1],u,l)}function x2(a,l,u,f){const p=l[19].queries[f];if(null===p.matches){const m=a.data,y=u.matches,w=[];for(let S=0;S<y.length;S+=2){const A=y[S];w.push(A<0?null:ew(l,m[A],y[S+1],u.metadata.read))}p.matches=w}return p.matches}function b1(a,l,u,f){const p=a.queries.getByIndex(u),m=p.matches;if(null!==m){const y=x2(a,l,p,u);for(let w=0;w<m.length;w+=2){const S=m[w];if(S>0)f.push(y[w/2]);else{const A=m[w+1],k=l[-S];for(let z=10;z<k.length;z++){const j=k[z];j[17]===j[3]&&b1(j[1],j,A,f)}if(null!==k[9]){const z=k[9];for(let j=0;j<z.length;j++){const Q=z[j];b1(Q[1],Q,A,f)}}}}}return f}function ru(a){const l=Le(),u=Yt(),f=pl();ir(f+1);const p=nw(u,f);if(a.dirty&&h2(l)===(2==(2&p.metadata.flags))){if(null===p.matches)a.reset([]);else{const m=p.crossesNgTemplate?b1(u,l,f,[]):x2(u,l,p,f);a.reset(m,TM),a.notifyOnChanges()}return!0}return!1}function kC(a,l,u){const f=Yt();f.firstCreatePass&&(RC(f,new IC(a,l,u),-1),2==(2&l)&&(f.staticViewQueries=!0)),HC(f,Le(),l)}function ii(a,l,u,f){const p=Yt();if(p.firstCreatePass){const m=Pn();RC(p,new IC(l,u,f),m.index),function D5(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(p,a),2==(2&u)&&(p.staticContentQueries=!0)}HC(p,Le(),u)}function VC(){return function tw(a,l){return a[19].queries[l].queryList}(Le(),pl())}function HC(a,l,u){const f=new iu(4==(4&u));Yl(a,l,f,f.destroy),null===l[19]&&(l[19]=new pf),l[19].queries.push(new hf(f))}function RC(a,l,u){null===a.queries&&(a.queries=new T5),a.queries.track(new gf(l,u))}function nw(a,l){return a.queries.getByIndex(l)}function V4(a,l){return gc(a,l)}function wf(...a){}const UC=new Ln("Application Initializer");let N5=(()=>{class a{constructor(u){this.appInits=u,this.resolve=wf,this.reject=wf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,p)=>{this.resolve=f,this.reject=p})}runInitializers(){if(this.initialized)return;const u=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const m=this.appInits[p]();if(H8(m))u.push(m);else if(Rb(m)){const y=new Promise((w,S)=>{m.subscribe({complete:w,error:S})});u.push(y)}}Promise.all(u).then(()=>{f()}).catch(p=>{this.reject(p)}),0===u.length&&f(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(Me(UC,8))},a.\u0275prov=kn({token:a,factory:a.\u0275fac}),a})();const xf=new Ln("AppId"),NN={provide:xf,useFactory:function IN(){return`${GC()}${GC()}${GC()}`},deps:[]};function GC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gw=new Ln("Platform Initializer"),Cw=new Ln("Platform ID"),mw=new Ln("appBootstrapListener");let _w=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=kn({token:a,factory:a.\u0275fac}),a})();const Sf=new Ln("LocaleId"),vw=new Ln("DefaultCurrencyCode");class kN{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let jC=(()=>{class a{compileModuleSync(u){return new tu(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const f=this.compileModuleSync(u),m=Gr(ci(u).declarations).reduce((y,w)=>{const S=on(w);return S&&y.push(new af(S)),y},[]);return new kN(f,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=kn({token:a,factory:a.\u0275fac}),a})();const HN=(()=>Promise.resolve(0))();function qC(a){"undefined"==typeof Zone?HN.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Zr{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new w2(!1),this.onMicrotaskEmpty=new w2(!1),this.onStable=new w2(!1),this.onError=new w2(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!f&&u,p.shouldCoalesceRunChangeDetection=f,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function RN(){let a=Tt.requestAnimationFrame,l=Tt.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function yw(a){const l=()=>{!function PN(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Tt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Lf(a),a.isCheckStableRunning=!0,$C(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Lf(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,f,p,m,y,w)=>{try{return bw(a),u.invokeTask(p,m,y,w)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&l(),Mw(a)}},onInvoke:(u,f,p,m,y,w,S)=>{try{return bw(a),u.invoke(p,m,y,w,S)}finally{a.shouldCoalesceRunChangeDetection&&l(),Mw(a)}},onHasTask:(u,f,p,m)=>{u.hasTask(p,m),f===p&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,Lf(a),$C(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,f,p,m)=>(u.handleError(p,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(p)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Zr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,u,f){return this._inner.run(l,u,f)}runTask(l,u,f,p){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+p,l,ON,wf,wf);try{return m.runTask(y,u,f)}finally{m.cancelTask(y)}}runGuarded(l,u,f){return this._inner.runGuarded(l,u,f)}runOutsideAngular(l){return this._outer.run(l)}}const ON={};function $C(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Lf(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function bw(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Mw(a){a._nesting--,$C(a)}class zN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new w2,this.onMicrotaskEmpty=new w2,this.onStable=new w2,this.onError=new w2}run(l,u,f){return l.apply(u,f)}runGuarded(l,u,f){return l.apply(u,f)}runOutsideAngular(l){return l()}runTask(l,u,f,p){return l.apply(u,f)}}let ww=(()=>{class a{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zr.assertNotInAngularZone(),qC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())qC(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(u)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,f,p){let m=-1;f&&f>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),u(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:p})}whenStable(u,f,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,f,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,f,p){return[]}}return a.\u0275fac=function(u){return new(u||a)(Me(Zr))},a.\u0275prov=kn({token:a,factory:a.\u0275fac}),a})(),xw=(()=>{class a{constructor(){this._applications=new Map,WC.addToWindow(this)}registerApplication(u,f){this._applications.set(u,f)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,f=!0){return WC.findTestabilityInTree(this,u,f)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=kn({token:a,factory:a.\u0275fac}),a})();class FN{addToWindow(l){}findTestabilityInTree(l,u,f){return null}}function BN(a){WC=a}let ho,WC=new FN;const Sw=new Ln("AllowMultipleToken");class jN{constructor(l,u){this.name=l,this.token=u}}function Lw(a,l,u=[]){const f=`Platform: ${l}`,p=new Ln(f);return(m=[])=>{let y=Ew();if(!y||y.injector.get(Sw,!1))if(a)a(u.concat(m).concat({provide:p,useValue:!0}));else{const w=u.concat(m).concat({provide:p,useValue:!0},{provide:d7,useValue:"platform"});!function qN(a){if(ho&&!ho.destroyed&&!ho.injector.get(Sw,!1))throw new Ye("400","");ho=a.get(Tw);const l=a.get(gw,null);l&&l.forEach(u=>u())}(xs.create({providers:w,name:f}))}return function $N(a){const l=Ew();if(!l)throw new Ye("401","");return l}()}}function Ew(){return ho&&!ho.destroyed?ho:null}let Tw=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,f){const w=function WN(a,l){let u;return u="noop"===a?new zN:("zone.js"===a?void 0:a)||new Zr({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),u}(f?f.ngZone:void 0,{ngZoneEventCoalescing:f&&f.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:f&&f.ngZoneRunCoalescing||!1}),S=[{provide:Zr,useValue:w}];return w.run(()=>{const A=xs.create({providers:S,parent:this.injector,name:u.moduleType.name}),k=u.create(A),z=k.injector.get(oo,null);if(!z)throw new Ye("402","");return w.runOutsideAngular(()=>{const j=w.onError.subscribe({next:Q=>{z.handleError(Q)}});k.onDestroy(()=>{ZC(this._modules,k),j.unsubscribe()})}),function ZN(a,l,u){try{const f=u();return H8(f)?f.catch(p=>{throw l.runOutsideAngular(()=>a.handleError(p)),p}):f}catch(f){throw l.runOutsideAngular(()=>a.handleError(f)),f}}(z,w,()=>{const j=k.injector.get(N5);return j.runInitializers(),j.donePromise.then(()=>(function S4(a){(function Ot(a,l){null==a&&St(l,a,null,"!=")})(a,"Expected localeId to be defined"),"string"==typeof a&&(Ug=a.toLowerCase().replace(/_/g,"-"))}(k.injector.get(Sf,s5)||s5),this._moduleDoBootstrap(k),k))})})}bootstrapModule(u,f=[]){const p=Dw({},f);return function UN(a,l,u){const f=new tu(u);return Promise.resolve(f)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,p))}_moduleDoBootstrap(u){const f=u.injector.get(cu);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>f.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new Ye("403","");u.instance.ngDoBootstrap(f)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ye("404","");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(Me(xs))},a.\u0275prov=kn({token:a,factory:a.\u0275fac}),a})();function Dw(a,l){return Array.isArray(l)?l.reduce(Dw,a):Object.assign(Object.assign({},a),l)}let cu=(()=>{class a{constructor(u,f,p,m,y){this._zone=u,this._injector=f,this._exceptionHandler=p,this._componentFactoryResolver=m,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new P.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),S=new P.y(A=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{Zr.assertNotInAngularZone(),qC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const z=this._zone.onUnstable.subscribe(()=>{Zr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{k.unsubscribe(),z.unsubscribe()}});this.isStable=(0,le.T)(w,S.pipe((0,se.B)()))}bootstrap(u,f){if(!this._initStatus.done)throw new Ye("405","");let p;p=u instanceof uC?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(p.componentType);const m=function GN(a){return a.isBoundToModule}(p)?void 0:this._injector.get(fc),w=p.create(xs.NULL,[],f||p.selector,m),S=w.location.nativeElement,A=w.injector.get(ww,null),k=A&&w.injector.get(xw);return A&&k&&k.registerApplication(S,A),w.onDestroy(()=>{this.detachView(w.hostView),ZC(this.components,w),k&&k.unregisterApplication(S)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Ye("101","");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const f=u;this._views.push(f),f.attachToAppRef(this)}detachView(u){const f=u;ZC(this._views,f),f.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(mw,[]).concat(this._bootstrapListeners).forEach(p=>p(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(u){return new(u||a)(Me(Zr),Me(xs),Me(oo),Me(dc),Me(N5))},a.\u0275prov=kn({token:a,factory:a.\u0275fac}),a})();function ZC(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}let Iw=!0,Nw=!1;function KN(){return Nw=!0,Iw}function QN(){if(Nw)throw new Error("Cannot enable prod mode after platform setup.");Iw=!1}let JN=(()=>{class a{}return a.__NG_ELEMENT_ID__=XN,a})();function XN(a){return function ek(a,l,u){if(Eo(a)&&!u){const f=T1(a.index,l);return new M5(f,f)}return 47&a.type?new M5(l[16],l):null}(Pn(),Le(),16==(16&a))}class Df{constructor(){}supports(l){return D8(l)}create(l){return new ak(l)}}const ok=(a,l)=>l;class ak{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||ok}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,f=this._removalsHead,p=0,m=null;for(;u||f;){const y=!f||u&&u.currentIndex<Pw(f,p,m)?u:f,w=Pw(y,p,m),S=y.currentIndex;if(y===f)p--,f=f._nextRemoved;else if(u=u._next,null==y.previousIndex)p++;else{m||(m=[]);const A=w-p,k=S-p;if(A!=k){for(let j=0;j<A;j++){const Q=j<m.length?m[j]:m[j]=0,me=Q+j;k<=me&&me<A&&(m[j]=Q+1)}m[y.previousIndex]=k-A}}w!==S&&l(y,w,S)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!D8(l))throw new Error(`Error trying to diff '${ue(l)}'. Only arrays and iterables are allowed`);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let p,m,y,u=this._itHead,f=!1;if(Array.isArray(l)){this.length=l.length;for(let w=0;w<this.length;w++)m=l[w],y=this._trackByFn(w,m),null!==u&&Object.is(u.trackById,y)?(f&&(u=this._verifyReinsertion(u,m,y,w)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,y,w),f=!0),u=u._next}else p=0,function nN(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[Y6()]();let f;for(;!(f=u.next()).done;)l(f.value)}}(l,w=>{y=this._trackByFn(p,w),null!==u&&Object.is(u.trackById,y)?(f&&(u=this._verifyReinsertion(u,w,y,p)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,y,p),f=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,f,p){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,m,p)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(f,p))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,m,p)):l=this._addAfter(new JC(u,f),m,p),l}_verifyReinsertion(l,u,f,p){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==m?l=this._reinsertAfter(m,l._prev,p):l.currentIndex!=p&&(l.currentIndex=p,this._addToMoves(l,p)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const p=l._prevRemoved,m=l._nextRemoved;return null===p?this._removalsHead=m:p._nextRemoved=m,null===m?this._removalsTail=p:m._prevRemoved=p,this._insertAfter(l,u,f),this._addToMoves(l,f),l}_moveAfter(l,u,f){return this._unlink(l),this._insertAfter(l,u,f),this._addToMoves(l,f),l}_addAfter(l,u,f){return this._insertAfter(l,u,f),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,f){const p=null===u?this._itHead:u._next;return l._next=p,l._prev=u,null===p?this._itTail=l:p._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new XC),this._linkedRecords.put(l),l.currentIndex=f,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,f=l._next;return null===u?this._itHead=f:u._next=f,null===f?this._itTail=u:f._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new XC),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class JC{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lk{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===u||u<=f.currentIndex)&&Object.is(f.trackById,l))return f;return null}remove(l){const u=l._prevDup,f=l._nextDup;return null===u?this._head=f:u._nextDup=f,null===f?this._tail=u:f._prevDup=u,null===this._head}}class XC{constructor(){this.map=new Map}put(l){const u=l.trackById;let f=this.map.get(u);f||(f=new lk,this.map.set(u,f)),f.add(l)}get(l,u){const p=this.map.get(l);return p?p.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Pw(a,l,u){const f=a.previousIndex;if(null===f)return f;let p=0;return u&&f<u.length&&(p=u[f]),f+l+p}class em{constructor(){}supports(l){return l instanceof Map||A8(l)}create(){return new ck}}class ck{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||A8(l)))throw new Error(`Error trying to diff '${ue(l)}'. Only maps and objects are allowed`)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(f,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,f),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(p,f);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let f=u;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const f=l._prev;return u._next=l,u._prev=f,l._prev=u,f&&(f._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const p=this._records.get(l);this._maybeAddToChanges(p,u);const m=p._prev,y=p._next;return m&&(m._next=y),y&&(y._prev=m),p._next=null,p._prev=null,p}const f=new uk(l);return this._records.set(l,f),f.currentValue=u,this._addToAdditions(f),f}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(f=>u(l[f],f))}}class uk{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zw(){return new Af([new Df])}let Af=(()=>{class a{constructor(u){this.factories=u}static create(u,f){if(null!=f){const p=f.factories.slice();u=u.concat(p)}return new a(u)}static extend(u){return{provide:a,useFactory:f=>a.create(u,f||zw()),deps:[[a,new R1,new H1]]}}find(u){const f=this.factories.find(p=>p.supports(u));if(null!=f)return f;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function dk(a){return a.name||typeof a}(u)}'`)}}return a.\u0275prov=kn({token:a,providedIn:"root",factory:zw}),a})();function tm(){return new If([new em])}let If=(()=>{class a{constructor(u){this.factories=u}static create(u,f){if(f){const p=f.factories.slice();u=u.concat(p)}return new a(u)}static extend(u){return{provide:a,useFactory:f=>a.create(u,f||tm()),deps:[[a,new R1,new H1]]}}find(u){const f=this.factories.find(p=>p.supports(u));if(f)return f;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return a.\u0275prov=kn({token:a,providedIn:"root",factory:tm}),a})();const Fw=[new em],nm=new Af([new Df]),Bw=new If(Fw),Uw=Lw(null,"core",[{provide:Cw,useValue:"unknown"},{provide:Tw,deps:[xs]},{provide:xw,deps:[]},{provide:_w,deps:[]}]),im=[{provide:cu,useClass:cu,deps:[Zr,xs,oo,dc,N5]},{provide:IM,deps:[Zr],useFactory:function rm(a){let l=[];return a.onStable.subscribe(()=>{for(;l.length;)l.pop()()}),function(u){l.push(u)}}},{provide:N5,useClass:N5,deps:[[new H1,UC]]},{provide:jC,useClass:jC,deps:[]},NN,{provide:Af,useFactory:function Gw(){return nm},deps:[]},{provide:If,useFactory:function jw(){return Bw},deps:[]},{provide:Sf,useFactory:function qw(a){return a||function $w(){return"undefined"!=typeof $localize&&$localize.locale||s5}()},deps:[[new sr(Sf),new H1,new R1]]},{provide:vw,useValue:"USD"}];let Ww=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(Me(cu))},a.\u0275mod=Ge({type:a}),a.\u0275inj=si({providers:im}),a})()},3942:(pt,xe,O)=>{O.d(xe,{Z:()=>Ye});var o=O(2090),X=O(4859),P=O(9681),le=O(1877);class se{constructor(Fe,te){this._delegate=Fe,this.firebase=te,(0,P._addComponent)(Fe,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=Fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this._delegate.automaticDataCollectionEnabled=Fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Fe=>{this._delegate.checkDestroyed(),Fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(Fe,te=P._DEFAULT_ENTRY_NAME){var De;this._delegate.checkDestroyed();const Be=this._delegate.container.getProvider(Fe);return!Be.isInitialized()&&"EXPLICIT"===(null===(De=Be.getComponent())||void 0===De?void 0:De.instantiationMode)&&Be.initialize(),Be.getImmediate({identifier:te})}_removeServiceInstance(Fe,te=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Fe).clearInstance(te)}_addComponent(Fe){(0,P._addComponent)(this._delegate,Fe)}_addOrOverwriteComponent(Fe){(0,P._addOrOverwriteComponent)(this._delegate,Fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const J=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ge(){const Ue=function ue(Ue){const Fe={},te={__esModule:!0,initializeApp:function Re(Je,_t={}){const ne=P.initializeApp(Je,_t);if((0,o.r3)(Fe,ne.name))return Fe[ne.name];const fe=new Ue(ne,te);return Fe[ne.name]=fe,fe},app:Be,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Ve(Je){const _t=Je.name,ne=_t.replace("-compat","");if(P._registerComponent(Je)&&"PUBLIC"===Je.type){const fe=(ve=Be())=>{if("function"!=typeof ve[ne])throw J.create("invalid-app-argument",{appName:_t});return ve[ne]()};void 0!==Je.serviceProps&&(0,o.ZB)(fe,Je.serviceProps),te[ne]=fe,Ue.prototype[ne]=function(...ve){return this._getService.bind(this,_t).apply(this,Je.multipleInstances?ve:[])}}return"PUBLIC"===Je.type?te[ne]:null},removeApp:function De(Je){delete Fe[Je]},useAsService:function Ke(Je,_t){return"serverAuth"===_t?null:_t},modularAPIs:P}};function Be(Je){if(!(0,o.r3)(Fe,Je=Je||P._DEFAULT_ENTRY_NAME))throw J.create("no-app",{appName:Je});return Fe[Je]}return te.default=te,Object.defineProperty(te,"apps",{get:function ot(){return Object.keys(Fe).map(Je=>Fe[Je])}}),Be.App=Ue,te}(se);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function Fe(te){(0,o.ZB)(Ue,te)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),Ue}(),W=new le.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ye=$;!function Ee(Ue){(0,P.registerVersion)("@firebase/app-compat","0.1.21",Ue)}()},9681:(pt,xe,O)=>{O.r(xe),O.d(xe,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Gs,_DEFAULT_ENTRY_NAME:()=>_i,_addComponent:()=>Nn,_addOrOverwriteComponent:()=>k2,_apps:()=>Ot,_clearComponents:()=>si,_components:()=>St,_getProvider:()=>kn,_registerComponent:()=>m1,_removeServiceInstance:()=>Jr,deleteApp:()=>Fi,getApp:()=>Yi,getApps:()=>Ae,initializeApp:()=>l2,onLog:()=>Cn,registerVersion:()=>yt,setLogLevel:()=>Y2});var o=O(5861),X=O(4859),P=O(1877),le=O(2090);class se{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(ut=>{if(function ye(Xe){const Se=Xe.getComponent();return"VERSION"===(null==Se?void 0:Se.type)}(ut)){const mt=ut.getImmediate();return`${mt.library}/${mt.version}`}return null}).filter(ut=>ut).join(" ")}}const J="@firebase/app",ge=new P.Yd("@firebase/app"),_i="[DEFAULT]",Pt={[J]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ot=new Map,St=new Map;function Nn(Xe,Se){try{Xe.container.addComponent(Se)}catch(ut){ge.debug(`Component ${Se.name} failed to register with FirebaseApp ${Xe.name}`,ut)}}function k2(Xe,Se){Xe.container.addOrOverwriteComponent(Se)}function m1(Xe){const Se=Xe.name;if(St.has(Se))return ge.debug(`There were multiple attempts to register component ${Se}.`),!1;St.set(Se,Xe);for(const ut of Ot.values())Nn(ut,Xe);return!0}function kn(Xe,Se){const ut=Xe.container.getProvider("heartbeat").getImmediate({optional:!0});return ut&&ut.triggerHeartbeat(),Xe.container.getProvider(Se)}function Jr(Xe,Se,ut=_i){kn(Xe,Se).clearInstance(ut)}function si(){St.clear()}const vn=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Wn{constructor(Se,ut,mt){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},ut),this._name=ut.name,this._automaticDataCollectionEnabled=ut.automaticDataCollectionEnabled,this._container=mt,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw vn.create("app-deleted",{appName:this._name})}}const Gs="9.6.10";function l2(Xe,Se={}){"object"!=typeof Se&&(Se={name:Se});const ut=Object.assign({name:_i,automaticDataCollectionEnabled:!1},Se),mt=ut.name;if("string"!=typeof mt||!mt)throw vn.create("bad-app-name",{appName:String(mt)});const Zt=Ot.get(mt);if(Zt){if((0,le.vZ)(Xe,Zt.options)&&(0,le.vZ)(ut,Zt.config))return Zt;throw vn.create("duplicate-app",{appName:mt})}const yn=new X.H0(mt);for(const B of St.values())yn.addComponent(B);const q=new Wn(Xe,ut,yn);return Ot.set(mt,q),q}function Yi(Xe=_i){const Se=Ot.get(Xe);if(!Se)throw vn.create("no-app",{appName:Xe});return Se}function Ae(){return Array.from(Ot.values())}function Fi(Xe){return oi.apply(this,arguments)}function oi(){return(oi=(0,o.Z)(function*(Xe){const Se=Xe.name;Ot.has(Se)&&(Ot.delete(Se),yield Promise.all(Xe.container.getProviders().map(ut=>ut.delete())),Xe.isDeleted=!0)})).apply(this,arguments)}function yt(Xe,Se,ut){var mt;let Zt=null!==(mt=Pt[Xe])&&void 0!==mt?mt:Xe;ut&&(Zt+=`-${ut}`);const yn=Zt.match(/\s|\//),q=Se.match(/\s|\//);if(yn||q){const B=[`Unable to register library "${Zt}" with version "${Se}":`];return yn&&B.push(`library name "${Zt}" contains illegal characters (whitespace or "/")`),yn&&q&&B.push("and"),q&&B.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void ge.warn(B.join(" "))}m1(new X.wA(`${Zt}-version`,()=>({library:Zt,version:Se}),"VERSION"))}function Cn(Xe,Se){if(null!==Xe&&"function"!=typeof Xe)throw vn.create("invalid-log-argument");(0,P.Am)(Xe,Se)}function Y2(Xe){(0,P.Ub)(Xe)}const c1="firebase-heartbeat-store";let Ki=null;function ai(){return Ki||(Ki=(0,le.X3)("firebase-heartbeat-database",1,(Xe,Se)=>{0===Se&&Xe.createObjectStore(c1)}).catch(Xe=>{throw vn.create("storage-open",{originalErrorMessage:Xe.message})})),Ki}function wn(){return(wn=(0,o.Z)(function*(Xe){try{return(yield ai()).transaction(c1).objectStore(c1).get(wr(Xe))}catch(Se){throw vn.create("storage-get",{originalErrorMessage:Se.message})}})).apply(this,arguments)}function nt(Xe,Se){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,o.Z)(function*(Xe,Se){try{const mt=(yield ai()).transaction(c1,"readwrite");return yield mt.objectStore(c1).put(Se,wr(Xe)),mt.complete}catch(ut){throw vn.create("storage-set",{originalErrorMessage:ut.message})}})).apply(this,arguments)}function wr(Xe){return`${Xe.name}!${Xe.options.appId}`}class Tt{constructor(Se){this.container=Se,this._heartbeatsCache=null;const ut=this.container.getProvider("app").getImmediate();this._storage=new _n(ut),this._heartbeatsCachePromise=this._storage.read().then(mt=>(this._heartbeatsCache=mt,mt))}triggerHeartbeat(){var Se=this;return(0,o.Z)(function*(){const mt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Zt=Qi();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==Zt&&!Se._heartbeatsCache.heartbeats.some(yn=>yn.date===Zt))return Se._heartbeatsCache.heartbeats.push({date:Zt,agent:mt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(yn=>{const q=new Date(yn.date).valueOf();return Date.now()-q<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,o.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const ut=Qi(),{heartbeatsToSend:mt,unsentEntries:Zt}=function Xr(Xe,Se=1024){const ut=[];let mt=Xe.slice();for(const Zt of Xe){const yn=ut.find(q=>q.agent===Zt.agent);if(yn){if(yn.dates.push(Zt.date),Dt(ut)>Se){yn.dates.pop();break}}else if(ut.push({agent:Zt.agent,dates:[Zt.date]}),Dt(ut)>Se){ut.pop();break}mt=mt.slice(1)}return{heartbeatsToSend:ut,unsentEntries:mt}}(Se._heartbeatsCache.heartbeats),yn=(0,le.L)(JSON.stringify({version:2,heartbeats:mt}));return Se._heartbeatsCache.lastSentHeartbeatDate=ut,Zt.length>0?(Se._heartbeatsCache.heartbeats=Zt,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),yn})()}}function Qi(){return(new Date).toISOString().substring(0,10)}class _n{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,o.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function Ca(Xe){return wn.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var ut=this;return(0,o.Z)(function*(){var mt;if(yield ut._canUseIndexedDBPromise){const yn=yield ut.read();return nt(ut.app,{lastSentHeartbeatDate:null!==(mt=Se.lastSentHeartbeatDate)&&void 0!==mt?mt:yn.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var ut=this;return(0,o.Z)(function*(){var mt;if(yield ut._canUseIndexedDBPromise){const yn=yield ut.read();return nt(ut.app,{lastSentHeartbeatDate:null!==(mt=Se.lastSentHeartbeatDate)&&void 0!==mt?mt:yn.lastSentHeartbeatDate,heartbeats:[...yn.heartbeats,...Se.heartbeats]})}})()}}function Dt(Xe){return(0,le.L)(JSON.stringify({version:2,heartbeats:Xe})).length}!function Wt(Xe){m1(new X.wA("platform-logger",Se=>new se(Se),"PRIVATE")),m1(new X.wA("heartbeat",Se=>new Tt(Se),"PRIVATE")),yt(J,"0.7.20",Xe),yt(J,"0.7.20","esm2017"),yt("fire-js","")}("")},4859:(pt,xe,O)=>{O.d(xe,{H0:()=>ue,wA:()=>P,zt:()=>se});var o=O(5861),X=O(2090);class P{constructor($,W,re){this.name=$,this.instanceFactory=W,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const le="[DEFAULT]";class se{constructor($,W){this.name=$,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const W=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(W)){const re=new X.BH;if(this.instancesDeferred.set(W,re),this.isInitialized(W)||this.shouldAutoInitialize())try{const Ze=this.getOrInitializeService({instanceIdentifier:W});Ze&&re.resolve(Ze)}catch(Ze){}}return this.instancesDeferred.get(W).promise}getImmediate($){var W;const re=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),Ze=null!==(W=null==$?void 0:$.optional)&&void 0!==W&&W;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(Ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(Ee){if(Ze)return null;throw Ee}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function J(ge){return"EAGER"===ge.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:le})}catch(W){}for(const[W,re]of this.instancesDeferred.entries()){const Ze=this.normalizeInstanceIdentifier(W);try{const Ee=this.getOrInitializeService({instanceIdentifier:Ze});re.resolve(Ee)}catch(Ee){}}}}clearInstance($=le){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,o.Z)(function*(){const W=Array.from($.instances.values());yield Promise.all([...W.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...W.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=le){return this.instances.has($)}getOptions($=le){return this.instancesOptions.get($)||{}}initialize($={}){const{options:W={}}=$,re=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ze=this.getOrInitializeService({instanceIdentifier:re,options:W});for(const[Ee,Ye]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(Ee)&&Ye.resolve(Ze);return Ze}onInit($,W){var re;const Ze=this.normalizeInstanceIdentifier(W),Ee=null!==(re=this.onInitCallbacks.get(Ze))&&void 0!==re?re:new Set;Ee.add($),this.onInitCallbacks.set(Ze,Ee);const Ye=this.instances.get(Ze);return Ye&&$(Ye,Ze),()=>{Ee.delete($)}}invokeOnInitCallbacks($,W){const re=this.onInitCallbacks.get(W);if(re)for(const Ze of re)try{Ze($,W)}catch(Ee){}}getOrInitializeService({instanceIdentifier:$,options:W={}}){let re=this.instances.get($);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=$,ge===le?void 0:ge),options:W}),this.instances.set($,re),this.instancesOptions.set($,W),this.invokeOnInitCallbacks(re,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,re)}catch(Ze){}var ge;return re||null}normalizeInstanceIdentifier($=le){return this.component?this.component.multipleInstances?$:le:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor($){this.name=$,this.providers=new Map}addComponent($){const W=this.getProvider($.name);if(W.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);W.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const W=new se($,this);return this.providers.set($,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(pt,xe,O)=>{O.d(xe,{Am:()=>ge,Ub:()=>ue,Yd:()=>J,in:()=>X});const o=[];var X=(()=>{return($=X||(X={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",X;var $})();const P={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},le=X.INFO,se={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ye=($,W,...re)=>{if(W<$.logLevel)return;const Ze=(new Date).toISOString(),Ee=se[W];if(!Ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Ee](`[${Ze}]  ${$.name}:`,...re)};class J{constructor(W){this.name=W,this._logLevel=le,this._logHandler=ye,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in X))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?P[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...W),this._logHandler(this,X.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...W),this._logHandler(this,X.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,X.INFO,...W),this._logHandler(this,X.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,X.WARN,...W),this._logHandler(this,X.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...W),this._logHandler(this,X.ERROR,...W)}}function ue($){o.forEach(W=>{W.setLogLevel($)})}function ge($,W){for(const re of o){let Ze=null;W&&W.level&&(Ze=P[W.level]),re.userLogHandler=null===$?null:(Ee,Ye,...Ue)=>{const Fe=Ue.map(te=>{if(null==te)return null;if("string"==typeof te)return te;if("number"==typeof te||"boolean"==typeof te)return te.toString();if(te instanceof Error)return te.message;try{return JSON.stringify(te)}catch(De){return null}}).filter(te=>te).join(" ");Ye>=(null!=Ze?Ze:Ee.logLevel)&&$({level:X[Ye].toLowerCase(),message:Fe,args:Ue,type:Ee.name})}}}},5861:(pt,xe,O)=>{function o(P,le,se,ye,J,ue,ge){try{var $=P[ue](ge),W=$.value}catch(re){return void se(re)}$.done?le(W):Promise.resolve(W).then(ye,J)}function X(P){return function(){var le=this,se=arguments;return new Promise(function(ye,J){var ue=P.apply(le,se);function ge(W){o(ue,ye,J,ge,$,"next",W)}function $(W){o(ue,ye,J,ge,$,"throw",W)}ge(void 0)})}}O.d(xe,{Z:()=>X})}},pt=>{pt(pt.s=5746)}]);