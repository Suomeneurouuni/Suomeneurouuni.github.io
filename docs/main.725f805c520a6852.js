"use strict";(self.webpackChunkEurouuni=self.webpackChunkEurouuni||[]).push([[179],{2011:(ht,xe,O)=>{O.d(xe,{hO:()=>We,xv:()=>ge,Dh:()=>ue,GT:()=>ye,cc:()=>Le,on:()=>q,pX:()=>se});var o=O(5e3),X=O(127),P=O(5813);ht=O.hmd(ht);const le=["ngOnDestroy"],se=(ne,De,Be,He={})=>new Proxy(ne,{get:(ot,Ve)=>Be.runOutsideAngular(()=>{var Ke;if(ne[Ve])return(null===(Ke=null==He?void 0:He.spy)||void 0===Ke?void 0:Ke.get)&&He.spy.get(Ve,ne[Ve]),ne[Ve];if(le.indexOf(Ve)>-1)return()=>{};const Xe=De.toPromise().then(vt=>{const ie=vt&&vt[Ve];return"function"==typeof ie?ie.bind(vt):ie&&ie.then?ie.then(fe=>Be.run(()=>fe)):Be.run(()=>ie)});return new Proxy(()=>{},{get:(vt,ie)=>Xe[ie],apply:(vt,ie,fe)=>Xe.then(ve=>{var be;const Re=ve&&ve(...fe);return(null===(be=null==He?void 0:He.spy)||void 0===be?void 0:be.apply)&&He.spy.apply(Ve,fe,Re),Re})})})}),ye=(ne,De)=>{De.forEach(Be=>{Object.getOwnPropertyNames(Be.prototype||Be).forEach(He=>{Object.defineProperty(ne.prototype,He,Object.getOwnPropertyDescriptor(Be.prototype||Be,He))})})};class J{constructor(De){return De}}const ue=new o.OlP("angularfire2.app.options"),ge=new o.OlP("angularfire2.app.name");function q(ne,De,Be){const ot="object"==typeof Be&&Be||{};ot.name=ot.name||"string"==typeof Be&&Be||"[DEFAULT]";const Ke=X.Z.apps.filter(Xe=>Xe&&Xe.name===ot.name)[0]||De.runOutsideAngular(()=>X.Z.initializeApp(ne,ot));try{JSON.stringify(ne)!==JSON.stringify(Ke.options)&&W("error",`${Ke.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Xe){}return new J(Ke)}const W=(ne,...De)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[ne](...De)},re={provide:J,useFactory:q,deps:[ue,o.R0b,[new o.FiY,ge]]};let We=(()=>{class ne{constructor(Be){X.Z.registerVersion("angularfire",P.q4.full,"core"),X.Z.registerVersion("angularfire",P.q4.full,"app-compat"),X.Z.registerVersion("angular",o.q4F.full,Be.toString())}static initializeApp(Be,He){return{ngModule:ne,providers:[{provide:ue,useValue:Be},{provide:ge,useValue:He}]}}}return ne.\u0275fac=function(Be){return new(Be||ne)(o.LFG(o.Lbi))},ne.\u0275mod=o.oAB({type:ne}),ne.\u0275inj=o.cJS({providers:[re]}),ne})();function Le(ne,De,Be,He,ot){const[,Ve,Ke]=globalThis.\u0275AngularfireInstanceCache.find(Xe=>Xe[0]===ne)||[];if(Ve)return function(ne,De){try{return ne.toString()===De.toString()}catch(Be){return ne===De}}(ot,Ke)||(Fe("error",`${De} was already initialized on the ${Be} Firebase App with different settings.${Ue?" You may need to reload as Firebase is not HMR aware.":""}`),Fe("warn",{is:ot,was:Ke})),Ve;{const Xe=He();return globalThis.\u0275AngularfireInstanceCache.push([ne,Xe,ot]),Xe}}const Ue=!!ht.hot,Fe=(ne,...De)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[ne](...De)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ht,xe,O)=>{O.d(xe,{q4:()=>ds,iC:()=>na,fc:()=>p6,HU:()=>Pr,vb:()=>G2,JM:()=>Ml});var o=O(5e3),X=O(5867),P=O(5861),le=O(9681),se=O(2090),ye=O(4859),J=O(1877);const ue="@firebase/installations",W="w:0.5.7",re="FIS_v2",ne=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function De(E){return E instanceof se.ZR&&E.code.includes("request-failed")}function Be({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function He(E){return{token:E.token,requestStatus:2,expiresIn:fe(E.expiresIn),creationTime:Date.now()}}function ot(E,L){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,P.Z)(function*(E,L){const F=(yield L.json()).error;return ne.create("request-failed",{requestName:E,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function Ke({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function Xe(E,{refreshToken:L}){const V=Ke(E);return V.append("Authorization",function(E){return`${re} ${E}`}(L)),V}function vt(E){return ie.apply(this,arguments)}function ie(){return(ie=(0,P.Z)(function*(E){const L=yield E();return L.status>=500&&L.status<600?E():L})).apply(this,arguments)}function fe(E){return Number(E.replace("s","000"))}function be(E,L){return Re.apply(this,arguments)}function Re(){return(Re=(0,P.Z)(function*({appConfig:E,heartbeatServiceProvider:L},{fid:V}){const F=Be(E),K=Ke(E),oe=L.getImmediate({optional:!0});if(oe){const Mt=yield oe.getHeartbeatsHeader();Mt&&K.append("x-firebase-client",Mt)}const nt={method:"POST",headers:K,body:JSON.stringify({fid:V,authVersion:re,appId:E.appId,sdkVersion:W})},Dt=yield vt(()=>fetch(F,nt));if(Dt.ok){const Mt=yield Dt.json();return{fid:Mt.fid||V,registrationStatus:2,refreshToken:Mt.refreshToken,authToken:He(Mt.authToken)}}throw yield ot("Create Installation",Dt)})).apply(this,arguments)}function he(E){return new Promise(L=>{setTimeout(L,E)})}const Tn=/^[cdef][\w-]{21}$/;function Ot(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const V=function(E){return function(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Tn.test(V)?V:""}catch(E){return""}}function yt(E){return`${E.appName}!${E.appId}`}const Nn=new Map;function p2(E,L){const V=yt(E);Q2(V,L),function(E,L){const V=(!Yi&&"BroadcastChannel"in self&&(Yi=new BroadcastChannel("[Firebase] FID Change"),Yi.onmessage=E=>{Q2(E.data.key,E.data.fid)}),Yi);V&&V.postMessage({key:E,fid:L}),0===Nn.size&&Yi&&(Yi.close(),Yi=null)}(V,L)}function Q2(E,L){const V=Nn.get(E);if(V)for(const F of V)F(L)}let Yi=null;const bi="firebase-installations-store";let j1=null;function Ae(){return j1||(j1=(0,se.X3)("firebase-installations-database",1,(E,L)=>{0===L&&E.createObjectStore(bi)})),j1}function Mi(E,L){return ct.apply(this,arguments)}function ct(){return(ct=(0,P.Z)(function*(E,L){const V=yt(E),K=(yield Ae()).transaction(bi,"readwrite"),oe=K.objectStore(bi),Me=yield oe.get(V);return yield oe.put(L,V),yield K.complete,(!Me||Me.fid!==L.fid)&&p2(E,L.fid),L})).apply(this,arguments)}function fi(E){return ni.apply(this,arguments)}function ni(){return(ni=(0,P.Z)(function*(E){const L=yt(E),F=(yield Ae()).transaction(bi,"readwrite");yield F.objectStore(bi).delete(L),yield F.complete})).apply(this,arguments)}function Ni(E,L){return xr.apply(this,arguments)}function xr(){return(xr=(0,P.Z)(function*(E,L){const V=yt(E),K=(yield Ae()).transaction(bi,"readwrite"),oe=K.objectStore(bi),Me=yield oe.get(V),nt=L(Me);return void 0===nt?yield oe.delete(V):yield oe.put(nt,V),yield K.complete,nt&&(!Me||Me.fid!==nt.fid)&&p2(E,nt.fid),nt})).apply(this,arguments)}function Pi(E){return zi.apply(this,arguments)}function zi(){return(zi=(0,P.Z)(function*(E){let L;const V=yield Ni(E.appConfig,F=>{const K=ii(F),oe=Ta(E,K);return L=oe.registrationPromise,oe.installationEntry});return""===V.fid?{installationEntry:yield L}:{installationEntry:V,registrationPromise:L}})).apply(this,arguments)}function ii(E){return N1(E||{fid:Ot(),registrationStatus:0})}function Ta(E,L){if(0===L.registrationStatus){if(!navigator.onLine)return{installationEntry:L,registrationPromise:Promise.reject(ne.create("app-offline"))};const V={fid:L.fid,registrationStatus:1,registrationTime:Date.now()},F=function(E,L){return et.apply(this,arguments)}(E,V);return{installationEntry:V,registrationPromise:F}}return 1===L.registrationStatus?{installationEntry:L,registrationPromise:wt(E)}:{installationEntry:L}}function et(){return(et=(0,P.Z)(function*(E,L){try{const V=yield be(E,L);return Mi(E.appConfig,V)}catch(V){throw De(V)&&409===V.customData.serverCode?yield fi(E.appConfig):yield Mi(E.appConfig,{fid:L.fid,registrationStatus:0}),V}})).apply(this,arguments)}function wt(E){return J2.apply(this,arguments)}function J2(){return(J2=(0,P.Z)(function*(E){let L=yield X2(E.appConfig);for(;1===L.registrationStatus;)yield he(100),L=yield X2(E.appConfig);if(0===L.registrationStatus){const{installationEntry:V,registrationPromise:F}=yield Pi(E);return F||V}return L})).apply(this,arguments)}function X2(E){return Ni(E,L=>{if(!L)throw ne.create("installation-not-found");return N1(L)})}function N1(E){return function(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function fn(E,L){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,P.Z)(function*({appConfig:E,heartbeatServiceProvider:L},V){const F=pn(E,V),K=Xe(E,V),oe=L.getImmediate({optional:!0});if(oe){const Mt=yield oe.getHeartbeatsHeader();Mt&&K.append("x-firebase-client",Mt)}const nt={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:W,appId:E.appId}})},Dt=yield vt(()=>fetch(F,nt));if(Dt.ok)return He(yield Dt.json());throw yield ot("Generate Auth Token",Dt)})).apply(this,arguments)}function pn(E,{fid:L}){return`${Be(E)}/${L}/authTokens:generate`}function Ut(E){return kt.apply(this,arguments)}function kt(){return(kt=(0,P.Z)(function*(E,L=!1){let V;const F=yield Ni(E.appConfig,oe=>{if(!hn(oe))throw ne.create("not-registered");const Me=oe.authToken;if(!L&&$(Me))return oe;if(1===Me.requestStatus)return V=Qe(E,L),oe;{if(!navigator.onLine)throw ne.create("app-offline");const nt=Z(oe);return V=gt(E,nt),nt}});return V?yield V:F.authToken})).apply(this,arguments)}function Qe(E,L){return Se.apply(this,arguments)}function Se(){return(Se=(0,P.Z)(function*(E,L){let V=yield pt(E.appConfig);for(;1===V.authToken.requestStatus;)yield he(100),V=yield pt(E.appConfig);const F=V.authToken;return 0===F.requestStatus?Ut(E,L):F})).apply(this,arguments)}function pt(E){return Ni(E,L=>{if(!hn(L))throw ne.create("not-registered");return function(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(L.authToken)?Object.assign(Object.assign({},L),{authToken:{requestStatus:0}}):L})}function gt(E,L){return tn.apply(this,arguments)}function tn(){return(tn=(0,P.Z)(function*(E,L){try{const V=yield fn(E,L),F=Object.assign(Object.assign({},L),{authToken:V});return yield Mi(E.appConfig,F),V}catch(V){if(!De(V)||401!==V.customData.serverCode&&404!==V.customData.serverCode){const F=Object.assign(Object.assign({},L),{authToken:{requestStatus:0}});yield Mi(E.appConfig,F)}else yield fi(E.appConfig);throw V}})).apply(this,arguments)}function hn(E){return void 0!==E&&2===E.registrationStatus}function $(E){return 2===E.requestStatus&&!function(E){const L=Date.now();return L<E.creationTime||E.creationTime+E.expiresIn<L+36e5}(E)}function Z(E){const L={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:L})}function Ge(){return(Ge=(0,P.Z)(function*(E){const L=E,{installationEntry:V,registrationPromise:F}=yield Pi(L);return F?F.catch(console.error):Ut(L).catch(console.error),V.fid})).apply(this,arguments)}function ln(){return(ln=(0,P.Z)(function*(E,L=!1){const V=E;return yield Qi(V),(yield Ut(V,L)).token})).apply(this,arguments)}function Qi(E){return qn.apply(this,arguments)}function qn(){return(qn=(0,P.Z)(function*(E){const{registrationPromise:L}=yield Pi(E);L&&(yield L)})).apply(this,arguments)}function er(E){return ne.create("missing-app-config-values",{valueName:E})}const ri="installations";(0,le._registerComponent)(new ye.wA(ri,E=>{const L=E.getProvider("app").getImmediate(),V=function(E){if(!E||!E.options)throw er("App Configuration");if(!E.name)throw er("App Name");const L=["projectId","apiKey","appId"];for(const V of L)if(!E.options[V])throw er(V);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(L);return{app:L,appConfig:V,heartbeatServiceProvider:(0,le._getProvider)(L,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,le._registerComponent)(new ye.wA("installations-internal",E=>{const L=E.getProvider("app").getImmediate(),V=(0,le._getProvider)(L,ri).getImmediate();return{getId:()=>function(E){return Ge.apply(this,arguments)}(V),getToken:K=>function(E){return ln.apply(this,arguments)}(V,K)}},"PRIVATE")),(0,le.registerVersion)(ue,"0.5.7"),(0,le.registerVersion)(ue,"0.5.7","esm2017");const gn="@firebase/remote-config",Ft=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class V1{constructor(L,V,F,K){this.client=L,this.storage=V,this.storageCache=F,this.logger=K}isCachedDataFresh(L,V){if(!V)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-V,K=F<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${K}.`),K}fetch(L){var V=this;return(0,P.Z)(function*(){const[F,K]=yield Promise.all([V.storage.getLastSuccessfulFetchTimestampMillis(),V.storage.getLastSuccessfulFetchResponse()]);if(K&&V.isCachedDataFresh(L.cacheMaxAgeMillis,F))return K;L.eTag=K&&K.eTag;const oe=yield V.client.fetch(L),Me=[V.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===oe.status&&Me.push(V.storage.setLastSuccessfulFetchResponse(oe)),yield Promise.all(Me),oe})()}}function Us(E=navigator){return E.languages&&E.languages[0]||E.language}class md{constructor(L,V,F,K,oe,Me){this.firebaseInstallations=L,this.sdkVersion=V,this.namespace=F,this.projectId=K,this.apiKey=oe,this.appId=Me}fetch(L){var V=this;return(0,P.Z)(function*(){const[F,K]=yield Promise.all([V.firebaseInstallations.getId(),V.firebaseInstallations.getToken()]),Me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${V.projectId}/namespaces/${V.namespace}:fetch?key=${V.apiKey}`,nt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},Dt={sdk_version:V.sdkVersion,app_instance_id:F,app_instance_id_token:K,app_id:V.appId,language_code:Us()},Mt={method:"POST",headers:nt,body:JSON.stringify(Dt)},Xt=fetch(Me,Mt),Vt=new Promise((g1,gs)=>{L.signal.addEventListener(()=>{const Cs=new Error("The operation was aborted.");Cs.name="AbortError",gs(Cs)})});let p1;try{yield Promise.race([Xt,Vt]),p1=yield Xt}catch(g1){let gs="fetch-client-network";throw"AbortError"===g1.name&&(gs="fetch-timeout"),Ft.create(gs,{originalErrorMessage:g1.message})}let ki=p1.status;const v2=p1.headers.get("ETag")||void 0;let y2,b2;if(200===p1.status){let g1;try{g1=yield p1.json()}catch(gs){throw Ft.create("fetch-client-parse",{originalErrorMessage:gs.message})}y2=g1.entries,b2=g1.state}if("INSTANCE_STATE_UNSPECIFIED"===b2?ki=500:"NO_CHANGE"===b2?ki=304:("NO_TEMPLATE"===b2||"EMPTY_CONFIG"===b2)&&(y2={}),304!==ki&&200!==ki)throw Ft.create("fetch-status",{httpStatus:ki});return{status:ki,eTag:v2,config:y2}})()}}class Po{constructor(L,V){this.client=L,this.storage=V}fetch(L){var V=this;return(0,P.Z)(function*(){const F=(yield V.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return V.attemptFetch(L,F)})()}attemptFetch(L,{throttleEndTimeMillis:V,backoffCount:F}){var K=this;return(0,P.Z)(function*(){yield function(E,L){return new Promise((V,F)=>{const K=Math.max(L-Date.now(),0),oe=setTimeout(V,K);E.addEventListener(()=>{clearTimeout(oe),F(Ft.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,V);try{const oe=yield K.client.fetch(L);return yield K.storage.deleteThrottleMetadata(),oe}catch(oe){if(!function(E){if(!(E instanceof se.ZR&&E.customData))return!1;const L=Number(E.customData.httpStatus);return 429===L||500===L||503===L||504===L}(oe))throw oe;const Me={throttleEndTimeMillis:Date.now()+(0,se.$s)(F),backoffCount:F+1};return yield K.storage.setThrottleMetadata(Me),K.attemptFetch(L,Me)}})()}}class s6{constructor(L,V,F,K,oe){this.app=L,this._client=V,this._storageCache=F,this._storage=K,this._logger=oe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function zo(E,L){const V=E.target.error||void 0;return Ft.create(L,{originalErrorMessage:V&&V.message})}const Gs="app_namespace_store";class R3{constructor(L,V,F,K=function(){return new Promise((E,L)=>{try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=F=>{L(zo(F,"storage-open"))},V.onsuccess=F=>{E(F.target.result)},V.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(Gs,{keyPath:"compositeKey"})}}catch(V){L(Ft.create("storage-open",{originalErrorMessage:V}))}})}()){this.appId=L,this.appName=V,this.namespace=F,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var V=this;return(0,P.Z)(function*(){const F=yield V.openDbPromise;return new Promise((K,oe)=>{const nt=F.transaction([Gs],"readonly").objectStore(Gs),Dt=V.createCompositeKey(L);try{const Mt=nt.get(Dt);Mt.onerror=Xt=>{oe(zo(Xt,"storage-get"))},Mt.onsuccess=Xt=>{const Vt=Xt.target.result;K(Vt?Vt.value:void 0)}}catch(Mt){oe(Ft.create("storage-get",{originalErrorMessage:Mt&&Mt.message}))}})})()}set(L,V){var F=this;return(0,P.Z)(function*(){const K=yield F.openDbPromise;return new Promise((oe,Me)=>{const Dt=K.transaction([Gs],"readwrite").objectStore(Gs),Mt=F.createCompositeKey(L);try{const Xt=Dt.put({compositeKey:Mt,value:V});Xt.onerror=Vt=>{Me(zo(Vt,"storage-set"))},Xt.onsuccess=()=>{oe()}}catch(Xt){Me(Ft.create("storage-set",{originalErrorMessage:Xt&&Xt.message}))}})})()}delete(L){var V=this;return(0,P.Z)(function*(){const F=yield V.openDbPromise;return new Promise((K,oe)=>{const nt=F.transaction([Gs],"readwrite").objectStore(Gs),Dt=V.createCompositeKey(L);try{const Mt=nt.delete(Dt);Mt.onerror=Xt=>{oe(zo(Xt,"storage-delete"))},Mt.onsuccess=()=>{K()}}catch(Mt){oe(Ft.create("storage-delete",{originalErrorMessage:Mt&&Mt.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class ll{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,P.Z)(function*(){const V=L.storage.getLastFetchStatus(),F=L.storage.getLastSuccessfulFetchTimestampMillis(),K=L.storage.getActiveConfig(),oe=yield V;oe&&(L.lastFetchStatus=oe);const Me=yield F;Me&&(L.lastSuccessfulFetchTimestampMillis=Me);const nt=yield K;nt&&(L.activeConfig=nt)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function Da(){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,P.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(E){return!1}})).apply(this,arguments)}(0,le._registerComponent)(new ye.wA("remote-config",function(L,{instanceIdentifier:V}){const F=L.getProvider("app").getImmediate(),K=L.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ft.create("registration-window");if(!(0,se.hl)())throw Ft.create("indexed-db-unavailable");const{projectId:oe,apiKey:Me,appId:nt}=F.options;if(!oe)throw Ft.create("registration-project-id");if(!Me)throw Ft.create("registration-api-key");if(!nt)throw Ft.create("registration-app-id");const Dt=new R3(nt,F.name,V=V||"firebase"),Mt=new ll(Dt),Xt=new J.Yd(gn);Xt.logLevel=J.in.ERROR;const Vt=new md(K,le.SDK_VERSION,V,oe,Me,nt),p1=new Po(Vt,Dt),ki=new V1(p1,Dt,Mt,Xt),v2=new s6(F,ki,Mt,Dt,Xt);return function(E){const L=(0,se.m9)(E);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(v2),v2},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(gn,"0.3.6"),(0,le.registerVersion)(gn,"0.3.6","esm2017");const O3="/firebase-messaging-sw.js",P0="/firebase-cloud-messaging-push-scope",P3="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",js="google.c.a.c_id",Bo="google.c.a.c_l",Aa="google.c.a.ts",Ia="google.c.a.e";var O2=(()=>{return(E=O2||(O2={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",O2;var E})();function P2(E){const L=new Uint8Array(E);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function z2(E){const V=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(V),K=new Uint8Array(F.length);for(let oe=0;oe<F.length;++oe)K[oe]=F.charCodeAt(oe);return K}const Uo="fcm_token_details_db",gi="fcm_token_object_Store";function z3(E){return F3.apply(this,arguments)}function F3(){return F3=(0,P.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(oe=>oe.name).includes(Uo))return null;let L=null;return(yield(0,se.X3)(Uo,5,function(){var F=(0,P.Z)(function*(K,oe,Me,nt){var Dt;if(oe<2||!K.objectStoreNames.contains(gi))return;const Mt=nt.objectStore(gi),Xt=yield Mt.index("fcmSenderId").get(E);if(yield Mt.clear(),Xt)if(2===oe){const Vt=Xt;if(!Vt.auth||!Vt.p256dh||!Vt.endpoint)return;L={token:Vt.fcmToken,createTime:null!==(Dt=Vt.createTime)&&void 0!==Dt?Dt:Date.now(),subscriptionOptions:{auth:Vt.auth,p256dh:Vt.p256dh,endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:"string"==typeof Vt.vapidKey?Vt.vapidKey:P2(Vt.vapidKey)}}}else if(3===oe){const Vt=Xt;L={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:P2(Vt.auth),p256dh:P2(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:P2(Vt.vapidKey)}}}else if(4===oe){const Vt=Xt;L={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:P2(Vt.auth),p256dh:P2(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:P2(Vt.vapidKey)}}}});return function(K,oe,Me,nt){return F.apply(this,arguments)}}())).close(),yield(0,se.Lj)(Uo),yield(0,se.Lj)("fcm_vapid_details_db"),yield(0,se.Lj)("undefined"),Na(L)?L:null}),F3.apply(this,arguments)}function Na(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:L}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}const ir="firebase-messaging-store";let Cn=null;function U3(){return Cn||(Cn=(0,se.X3)("firebase-messaging-database",1,(E,L)=>{0===L&&E.createObjectStore(ir)})),Cn}function G3(E){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,P.Z)(function*(E){const L=Tr(E),F=yield(yield U3()).transaction(ir).objectStore(ir).get(L);if(F)return F;{const K=yield z3(E.appConfig.senderId);if(K)return yield ka(E,K),K}})).apply(this,arguments)}function ka(E,L){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,P.Z)(function*(E,L){const V=Tr(E),K=(yield U3()).transaction(ir,"readwrite");return yield K.objectStore(ir).put(L,V),yield K.complete,L})).apply(this,arguments)}function W1(E){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,P.Z)(function*(E){const L=Tr(E),F=(yield U3()).transaction(ir,"readwrite");yield F.objectStore(ir).delete(L),yield F.complete})).apply(this,arguments)}function Tr({appConfig:E}){return E.appId}const Gn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function w1(E,L){return qs.apply(this,arguments)}function qs(){return(qs=(0,P.Z)(function*(E,L){const V=yield _t(E),F=jo(L),K={method:"POST",headers:V,body:JSON.stringify(F)};let oe;try{oe=yield(yield fetch(ts(E.appConfig),K)).json()}catch(Me){throw Gn.create("token-subscribe-failed",{errorInfo:Me})}if(oe.error)throw Gn.create("token-subscribe-failed",{errorInfo:oe.error.message});if(!oe.token)throw Gn.create("token-subscribe-no-token");return oe.token})).apply(this,arguments)}function Dr(E,L){return $s.apply(this,arguments)}function $s(){return($s=(0,P.Z)(function*(E,L){const V=yield _t(E),F=jo(L.subscriptionOptions),K={method:"PATCH",headers:V,body:JSON.stringify(F)};let oe;try{oe=yield(yield fetch(`${ts(E.appConfig)}/${L.token}`,K)).json()}catch(Me){throw Gn.create("token-update-failed",{errorInfo:Me})}if(oe.error)throw Gn.create("token-update-failed",{errorInfo:oe.error.message});if(!oe.token)throw Gn.create("token-update-no-token");return oe.token})).apply(this,arguments)}function d1(E,L){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,P.Z)(function*(E,L){const F={method:"DELETE",headers:yield _t(E)};try{const oe=yield(yield fetch(`${ts(E.appConfig)}/${L}`,F)).json();if(oe.error)throw Gn.create("token-unsubscribe-failed",{errorInfo:oe.error.message})}catch(K){throw Gn.create("token-unsubscribe-failed",{errorInfo:K})}})).apply(this,arguments)}function ts({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function _t(E){return x1.apply(this,arguments)}function x1(){return(x1=(0,P.Z)(function*({appConfig:E,installations:L}){const V=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${V}`})})).apply(this,arguments)}function jo({p256dh:E,auth:L,endpoint:V,vapidKey:F}){const K={web:{endpoint:V,auth:L,p256dh:E}};return F!==P3&&(K.web.applicationPubKey=F),K}const j3=6048e5;function Va(E){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,P.Z)(function*(E){const L=yield Ra(E.swRegistration,E.vapidKey),V={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:L.endpoint,auth:P2(L.getKey("auth")),p256dh:P2(L.getKey("p256dh"))},F=yield G3(E.firebaseDependencies);if(F){if(H1(F.subscriptionOptions,V))return Date.now()>=F.createTime+j3?Ee(E,{token:F.token,createTime:Date.now(),subscriptionOptions:V}):F.token;try{yield d1(E.firebaseDependencies,F.token)}catch(K){console.warn(K)}return Ir(E.firebaseDependencies,V)}return Ir(E.firebaseDependencies,V)})).apply(this,arguments)}function q3(E){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,P.Z)(function*(E){const L=yield G3(E.firebaseDependencies);L&&(yield d1(E.firebaseDependencies,L.token),yield W1(E.firebaseDependencies));const V=yield E.swRegistration.pushManager.getSubscription();return!V||V.unsubscribe()})).apply(this,arguments)}function Ee(E,L){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,P.Z)(function*(E,L){try{const V=yield Dr(E.firebaseDependencies,L),F=Object.assign(Object.assign({},L),{token:V,createTime:Date.now()});return yield ka(E.firebaseDependencies,F),V}catch(V){throw yield q3(E),V}})).apply(this,arguments)}function Ir(E,L){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,P.Z)(function*(E,L){const F={token:yield w1(E,L),createTime:Date.now(),subscriptionOptions:L};return yield ka(E,F),F.token})).apply(this,arguments)}function Ra(E,L){return Z1.apply(this,arguments)}function Z1(){return(Z1=(0,P.Z)(function*(E,L){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:z2(L)})})).apply(this,arguments)}function H1(E,L){return L.vapidKey===E.vapidKey&&L.endpoint===E.endpoint&&L.auth===E.auth&&L.p256dh===E.p256dh}function Zs(E){const L={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function(E,L){if(!L.notification)return;E.notification={};const V=L.notification.title;V&&(E.notification.title=V);const F=L.notification.body;F&&(E.notification.body=F);const K=L.notification.image;K&&(E.notification.image=K)}(L,E),function(E,L){!L.data||(E.data=L.data)}(L,E),function(E,L){if(!L.fcmOptions)return;E.fcmOptions={};const V=L.fcmOptions.link;V&&(E.fcmOptions.link=V);const F=L.fcmOptions.analytics_label;F&&(E.fcmOptions.analyticsLabel=F)}(L,E),L}function Ys(E){return"object"==typeof E&&!!E&&js in E}function ns(E,L){const V=[];for(let F=0;F<E.length;F++)V.push(E.charAt(F)),F<L.length&&V.push(L.charAt(F));return V.join("")}function Y1(E){return Gn.create("missing-app-config-values",{valueName:E})}ns("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ns("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class $o{constructor(L,V,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function(E){if(!E||!E.options)throw Y1("App Configuration Object");if(!E.name)throw Y1("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:V}=E;for(const F of L)if(!V[F])throw Y1(F);return{appName:E.name,projectId:V.projectId,apiKey:V.apiKey,appId:V.appId,senderId:V.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:K,installations:V,analyticsProvider:F}}_delete(){return Promise.resolve()}}function is(E){return R1.apply(this,arguments)}function R1(){return(R1=(0,P.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(O3,{scope:P0}),E.swRegistration.update().catch(()=>{})}catch(L){throw Gn.create("failed-service-worker-registration",{browserErrorMessage:L.message})}})).apply(this,arguments)}function a6(E,L){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,P.Z)(function*(E,L){if(!L&&!E.swRegistration&&(yield is(E)),L||!E.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw Gn.create("invalid-sw-registration");E.swRegistration=L}})).apply(this,arguments)}function Pa(E,L){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,P.Z)(function*(E,L){L?E.vapidKey=L:E.vapidKey||(E.vapidKey=P3)})).apply(this,arguments)}function Zo(){return(Zo=(0,P.Z)(function*(E,L){if(!navigator)throw Gn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gn.create("permission-blocked");return yield Pa(E,null==L?void 0:L.vapidKey),yield a6(E,null==L?void 0:L.serviceWorkerRegistration),Va(E)})).apply(this,arguments)}function za(E,L,V){return ss.apply(this,arguments)}function ss(){return(ss=(0,P.Z)(function*(E,L,V){const F=fl(L);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:V[js],message_name:V[Bo],message_time:V[Aa],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function fl(E){switch(E){case O2.NOTIFICATION_CLICKED:return"notification_open";case O2.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function os(){return(os=(0,P.Z)(function*(E,L){const V=L.data;if(!V.isFirebaseMessaging)return;E.onMessageHandler&&V.messageType===O2.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Zs(V)):E.onMessageHandler.next(Zs(V)));const F=V.data;Ys(F)&&"1"===F[Ia]&&(yield za(E,V.messageType,F))})).apply(this,arguments)}const $3="@firebase/messaging";function Z3(){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,P.Z)(function*(){try{yield(0,se.eu)()}catch(E){return!1}return"undefined"!=typeof window&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,le._registerComponent)(new ye.wA("messaging",E=>{const L=new $o(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",V=>function(E,L){return os.apply(this,arguments)}(L,V)),L},"PUBLIC")),(0,le._registerComponent)(new ye.wA("messaging-internal",E=>{const L=E.getProvider("messaging").getImmediate();return{getToken:F=>function(E,L){return Zo.apply(this,arguments)}(L,F)}},"PRIVATE")),(0,le.registerVersion)($3,"0.9.11"),(0,le.registerVersion)($3,"0.9.11","esm2017");const Qs="analytics",K3="firebase_id",Ua="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ml="https://www.googletagmanager.com/gtag/js",wi=new J.Yd("@firebase/analytics");function Nr(E){return Promise.all(E.map(L=>L.catch(V=>V)))}function Xs(E,L){const V=document.createElement("script");V.src=`${ml}?l=${E}&id=${L}`,V.async=!0,document.head.appendChild(V)}function F0(E,L,V,F,K,oe){return as.apply(this,arguments)}function as(){return(as=(0,P.Z)(function*(E,L,V,F,K,oe){const Me=F[K];try{if(Me)yield L[Me];else{const Dt=(yield Nr(V)).find(Mt=>Mt.measurementId===K);Dt&&(yield L[Dt.appId])}}catch(nt){wi.error(nt)}E("config",K,oe)})).apply(this,arguments)}function Ga(E,L,V,F,K){return ls.apply(this,arguments)}function ls(){return(ls=(0,P.Z)(function*(E,L,V,F,K){try{let oe=[];if(K&&K.send_to){let Me=K.send_to;Array.isArray(Me)||(Me=[Me]);const nt=yield Nr(V);for(const Dt of Me){const Mt=nt.find(Vt=>Vt.measurementId===Dt),Xt=Mt&&L[Mt.appId];if(!Xt){oe=[];break}oe.push(Xt)}}0===oe.length&&(oe=Object.values(L)),yield Promise.all(oe),E("event",F,K||{})}catch(oe){wi.error(oe)}})).apply(this,arguments)}function vd(){const E=window.document.getElementsByTagName("script");for(const L of Object.values(E))if(L.src&&L.src.includes(ml))return L;return null}const li=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),mt=new class{constructor(L={},V=1e3){this.throttleMetadata=L,this.intervalMillis=V}getThrottleMetadata(L){return this.throttleMetadata[L]}setThrottleMetadata(L,V){this.throttleMetadata[L]=V}deleteThrottleMetadata(L){delete this.throttleMetadata[L]}};function f1(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Bi(E){return cs.apply(this,arguments)}function cs(){return(cs=(0,P.Z)(function*(E){var L;const{appId:V,apiKey:F}=E,K={method:"GET",headers:f1(F)},oe=Ua.replace("{app-id}",V),Me=yield fetch(oe,K);if(200!==Me.status&&304!==Me.status){let nt="";try{const Dt=yield Me.json();(null===(L=Dt.error)||void 0===L?void 0:L.message)&&(nt=Dt.error.message)}catch(Dt){}throw li.create("config-fetch-failed",{httpStatus:Me.status,responseMessage:nt})}return Me.json()})).apply(this,arguments)}function m2(E){return qe.apply(this,arguments)}function qe(){return(qe=(0,P.Z)(function*(E,L=mt,V){const{appId:F,apiKey:K,measurementId:oe}=E.options;if(!F)throw li.create("no-app-id");if(!K){if(oe)return{measurementId:oe,appId:F};throw li.create("no-api-key")}const Me=L.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nt=new u6;return setTimeout((0,P.Z)(function*(){nt.abort()}),void 0!==V?V:6e4),J3({appId:F,apiKey:K,measurementId:oe},Me,nt,L)})).apply(this,arguments)}function J3(E,L,V){return U2.apply(this,arguments)}function U2(){return(U2=(0,P.Z)(function*(E,{throttleEndTimeMillis:L,backoffCount:V},F,K=mt){const{appId:oe,measurementId:Me}=E;try{yield to(F,L)}catch(nt){if(Me)return wi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${nt.message}]`),{appId:oe,measurementId:Me};throw nt}try{const nt=yield Bi(E);return K.deleteThrottleMetadata(oe),nt}catch(nt){if(!c6(nt)){if(K.deleteThrottleMetadata(oe),Me)return wi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${nt.message}]`),{appId:oe,measurementId:Me};throw nt}const Dt=503===Number(nt.customData.httpStatus)?(0,se.$s)(V,K.intervalMillis,30):(0,se.$s)(V,K.intervalMillis),Mt={throttleEndTimeMillis:Date.now()+Dt,backoffCount:V+1};return K.setThrottleMetadata(oe,Mt),wi.debug(`Calling attemptFetch again in ${Dt} millis`),J3(E,Mt,F,K)}})).apply(this,arguments)}function to(E,L){return new Promise((V,F)=>{const K=Math.max(L-Date.now(),0),oe=setTimeout(V,K);E.addEventListener(()=>{clearTimeout(oe),F(li.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}function c6(E){if(!(E instanceof se.ZR&&E.customData))return!1;const L=Number(E.customData.httpStatus);return 429===L||500===L||503===L||504===L}class u6{constructor(){this.listeners=[]}addEventListener(L){this.listeners.push(L)}abort(){this.listeners.forEach(L=>L())}}function Ko(){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,P.Z)(function*(){if(!(0,se.hl)())return wi.warn(li.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(E){return wi.warn(li.create("indexeddb-unavailable",{errorInfo:E}).message),!1}return!0})).apply(this,arguments)}function kr(){return(kr=(0,P.Z)(function*(E,L,V,F,K,oe,Me){var nt;const Dt=m2(E);Dt.then(ki=>{V[ki.measurementId]=ki.appId,E.options.measurementId&&ki.measurementId!==E.options.measurementId&&wi.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${ki.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ki=>wi.error(ki)),L.push(Dt);const Mt=Ko().then(ki=>{if(ki)return F.getId()}),[Xt,Vt]=yield Promise.all([Dt,Mt]);vd()||Xs(oe,Xt.measurementId),K("js",new Date);const p1=null!==(nt=null==Me?void 0:Me.config)&&void 0!==nt?nt:{};return p1.origin="firebase",p1.update=!0,null!=Vt&&(p1[K3]=Vt),K("config",Xt.measurementId,p1),Xt.measurementId})).apply(this,arguments)}class ja{constructor(L){this.app=L}_delete(){return delete Q1[this.app.options.appId],Promise.resolve()}}let Q1={},rr=[];const X3={};let d6,sr,Qo="dataLayer",Mn=!1;function Qn(E,L,V){!function(){const E=[];if((0,se.ru)()&&E.push("This is a browser extension environment."),(0,se.zI)()||E.push("Cookies are not available."),E.length>0){const L=E.map((F,K)=>`(${K+1}) ${F}`).join(" "),V=li.create("invalid-analytics-context",{errorInfo:L});wi.warn(V.message)}}();const F=E.options.appId;if(!F)throw li.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw li.create("no-api-key");wi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Q1[F])throw li.create("already-exists",{id:F});if(!Mn){!function(E){let L=[];Array.isArray(window[E])?L=window[E]:window[E]=L}(Qo);const{wrappedGtag:oe,gtagCore:Me}=function(E,L,V,F,K){let oe=function(...Me){window[F].push(arguments)};return window[K]&&"function"==typeof window[K]&&(oe=window[K]),window[K]=function(E,L,V,F){function oe(){return(oe=(0,P.Z)(function*(Me,nt,Dt){try{"event"===Me?yield Ga(E,L,V,nt,Dt):"config"===Me?yield F0(E,L,V,F,nt,Dt):E("set",nt)}catch(Mt){wi.error(Mt)}})).apply(this,arguments)}return function(Me,nt,Dt){return oe.apply(this,arguments)}}(oe,E,L,V),{gtagCore:oe,wrappedGtag:window[K]}}(Q1,rr,X3,Qo,"gtag");sr=oe,d6=Me,Mn=!0}return Q1[F]=function(E,L,V,F,K,oe,Me){return kr.apply(this,arguments)}(E,rr,X3,L,d6,Qo,V),new ja(E)}function Vr(){return(Vr=(0,P.Z)(function*(E,L,V,F,K){if(K&&K.global)E("event",V,F);else{const oe=yield L;E("event",V,Object.assign(Object.assign({},F),{send_to:oe}))}})).apply(this,arguments)}function ea(){return vn.apply(this,arguments)}function vn(){return(vn=(0,P.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(E){return!1}})).apply(this,arguments)}const h6="@firebase/analytics";(0,le._registerComponent)(new ye.wA(Qs,(L,{options:V})=>Qn(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),V),"PUBLIC")),(0,le._registerComponent)(new ye.wA("analytics-internal",function(L){try{const V=L.getProvider(Qs).getImmediate();return{logEvent:(F,K,oe)=>function(E,L,V,F){E=(0,se.m9)(E),function(E,L,V,F,K){return Vr.apply(this,arguments)}(sr,Q1[E.app.options.appId],L,V,F).catch(K=>wi.error(K))}(V,F,K,oe)}}catch(V){throw li.create("interop-component-reg-failed",{reason:V})}},"PRIVATE")),(0,le.registerVersion)(h6,"0.7.7"),(0,le.registerVersion)(h6,"0.7.7","esm2017");var Sn=O(4408),X1=O(7565);const U0=new class extends X1.v{}(class extends Sn.o{constructor(L,V){super(L,V),this.scheduler=L,this.work=V}schedule(L,V=0){return V>0?super.schedule(L,V):(this.delay=V,this.state=L,this.scheduler.flush(this),this)}execute(L,V){return V>0||this.closed?super.execute(L,V):this._execute(L,V)}requestAsyncId(L,V,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(L,V,F):L.flush(this)}});var Jt=O(4986),h1=O(8505),e4=O(5363),us=O(9468);const ds=new o.GfV("7.3.0"),Wa="__angularfire_symbol__analyticsIsSupportedValue",Za="__angularfire_symbol__analyticsIsSupported",fs="__angularfire_symbol__remoteConfigIsSupportedValue",t4="__angularfire_symbol__remoteConfigIsSupported",Or="__angularfire_symbol__messagingIsSupportedValue",e1="__angularfire_symbol__messagingIsSupported";function Ml(E,L,V){if(L){if(1===L.length)return L[0];const oe=L.filter(Me=>Me.app===V);if(1===oe.length)return oe[0]}return V.container.getProvider(E).getImmediate({optional:!0})}globalThis[Za]||(globalThis[Za]=ea().then(E=>globalThis[Wa]=E).catch(()=>globalThis[Wa]=!1)),globalThis[e1]||(globalThis[e1]=Z3().then(E=>globalThis[Or]=E).catch(()=>globalThis[Or]=!1)),globalThis[t4]||(globalThis[t4]=Da().then(E=>globalThis[fs]=E).catch(()=>globalThis[fs]=!1));const G2=(E,L)=>{const V=L?[L]:(0,X.C6)(),F=[];return V.forEach(K=>{K.container.getProvider(E).instances.forEach(Me=>{F.includes(Me)||F.push(Me)})}),F};function S1(){}class i4{constructor(L,V=U0){this.zone=L,this.delegate=V}now(){return this.delegate.now()}schedule(L,V,F){const K=this.zone;return this.delegate.schedule(function(Me){K.runGuarded(()=>{L.apply(this,[Me])})},V,F)}}class t1{constructor(L){this.zone=L,this.task=null}call(L,V){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",S1,{},S1,S1)),V.pipe((0,h1.b)({next:F,complete:F,error:F})).subscribe(L).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Pr=(()=>{class E{constructor(V){this.ngZone=V,this.outsideAngular=V.runOutsideAngular(()=>new i4(Zone.current)),this.insideAngular=V.run(()=>new i4(Zone.current,Jt.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(V){return new(V||E)(o.LFG(o.R0b))},E.\u0275prov=o.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function j2(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function p6(E){return E.pipe((0,e4.Q)(j2().outsideAngular))}function na(E){return j2(),function(E){return function(V){return(V=V.lift(new t1(E.ngZone))).pipe((0,us.R)(E.outsideAngular),(0,e4.Q)(E.insideAngular))}}(j2())(E)}},2090:(ht,xe,O)=>{O.d(xe,{BH:()=>Le,LL:()=>Nt,ZR:()=>he,gQ:()=>Ae,zI:()=>ve,hu:()=>P,g5:()=>le,US:()=>J,tV:()=>q,h$:()=>ue,L:()=>ge,$s:()=>Et,r3:()=>Q2,Sg:()=>Ze,ne:()=>Mi,p$:()=>W,vZ:()=>Un,ZB:()=>re,Lj:()=>tn,gK:()=>Pi,pd:()=>j1,m9:()=>pn,z$:()=>Ue,GJ:()=>kn,jU:()=>De,ru:()=>Be,d:()=>ot,xb:()=>Yi,w1:()=>Ve,hl:()=>ie,uI:()=>Fe,UG:()=>ne,Yr:()=>Xe,b$:()=>He,G6:()=>vt,Mn:()=>Ke,w9:()=>M1,cI:()=>Ot,UI:()=>Ki,X3:()=>gt,xO:()=>Kr,zd:()=>bi,DV:()=>Ii,ug:()=>et,dS:()=>On,Pz:()=>Qt,Dv:()=>xr,Wj:()=>ii,lb:()=>Ta,eu:()=>fe});var o=O(5861);const P=function($,B){if(!$)throw le(B)},le=function($){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+$)},se=function($){const B=[];let Z=0;for(let pe=0;pe<$.length;pe++){let ee=$.charCodeAt(pe);ee<128?B[Z++]=ee:ee<2048?(B[Z++]=ee>>6|192,B[Z++]=63&ee|128):55296==(64512&ee)&&pe+1<$.length&&56320==(64512&$.charCodeAt(pe+1))?(ee=65536+((1023&ee)<<10)+(1023&$.charCodeAt(++pe)),B[Z++]=ee>>18|240,B[Z++]=ee>>12&63|128,B[Z++]=ee>>6&63|128,B[Z++]=63&ee|128):(B[Z++]=ee>>12|224,B[Z++]=ee>>6&63|128,B[Z++]=63&ee|128)}return B},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,B){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,pe=[];for(let ee=0;ee<$.length;ee+=3){const Ge=$[ee],Lt=ee+1<$.length,ln=Lt?$[ee+1]:0,Qi=ee+2<$.length,qn=Qi?$[ee+2]:0;let $n=(15&ln)<<2|qn>>6,hi=63&qn;Qi||(hi=64,Lt||($n=64)),pe.push(Z[Ge>>2],Z[(3&Ge)<<4|ln>>4],Z[$n],Z[hi])}return pe.join("")},encodeString($,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa($):this.encodeByteArray(se($),B)},decodeString($,B){return this.HAS_NATIVE_SUPPORT&&!B?atob($):function($){const B=[];let Z=0,pe=0;for(;Z<$.length;){const ee=$[Z++];if(ee<128)B[pe++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const Ge=$[Z++];B[pe++]=String.fromCharCode((31&ee)<<6|63&Ge)}else if(ee>239&&ee<365){const Qi=((7&ee)<<18|(63&$[Z++])<<12|(63&$[Z++])<<6|63&$[Z++])-65536;B[pe++]=String.fromCharCode(55296+(Qi>>10)),B[pe++]=String.fromCharCode(56320+(1023&Qi))}else{const Ge=$[Z++],Lt=$[Z++];B[pe++]=String.fromCharCode((15&ee)<<12|(63&Ge)<<6|63&Lt)}}return B.join("")}(this.decodeStringToByteArray($,B))},decodeStringToByteArray($,B){this.init_();const Z=B?this.charToByteMapWebSafe_:this.charToByteMap_,pe=[];for(let ee=0;ee<$.length;){const Ge=Z[$.charAt(ee++)],ln=ee<$.length?Z[$.charAt(ee)]:0;++ee;const qn=ee<$.length?Z[$.charAt(ee)]:64;++ee;const xt=ee<$.length?Z[$.charAt(ee)]:64;if(++ee,null==Ge||null==ln||null==qn||null==xt)throw Error();pe.push(Ge<<2|ln>>4),64!==qn&&(pe.push(ln<<4&240|qn>>2),64!==xt&&pe.push(qn<<6&192|xt))}return pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},ue=function($){const B=se($);return J.encodeByteArray(B,!0)},ge=function($){return ue($).replace(/\./g,"")},q=function($){try{return J.decodeString($,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function W($){return re(void 0,$)}function re($,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return B}for(const Z in B)!B.hasOwnProperty(Z)||!We(Z)||($[Z]=re($[Z],B[Z]));return $}function We($){return"__proto__"!==$}class Le{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,Z)=>{this.resolve=B,this.reject=Z})}wrapCallback(B){return(Z,pe)=>{Z?this.reject(Z):this.resolve(pe),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(Z):B(Z,pe))}}}function Ze($,B){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const pe=B||"demo-project",ee=$.iat||0,Ge=$.sub||$.user_id;if(!Ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Lt=Object.assign({iss:`https://securetoken.google.com/${pe}`,aud:pe,iat:ee,exp:ee+3600,auth_time:ee,sub:Ge,user_id:Ge,firebase:{sign_in_provider:"custom",identities:{}}},$);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(Lt)),""].join(".")}function Ue(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function ne(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($){return!1}}function De(){return"object"==typeof self&&self.self===self}function Be(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function He(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ot(){return Ue().indexOf("Electron/")>=0}function Ve(){const $=Ue();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Ke(){return Ue().indexOf("MSAppHost/")>=0}function Xe(){return!1}function vt(){return!ne()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ie(){return"object"==typeof indexedDB}function fe(){return new Promise(($,B)=>{try{let Z=!0;const pe="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(pe);ee.onsuccess=()=>{ee.result.close(),Z||self.indexedDB.deleteDatabase(pe),$(!0)},ee.onupgradeneeded=()=>{Z=!1},ee.onerror=()=>{var Ge;B((null===(Ge=ee.error)||void 0===Ge?void 0:Ge.message)||"")}}catch(Z){B(Z)}})}function ve(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class he extends Error{constructor(B,Z,pe){super(Z),this.code=B,this.customData=pe,this.name="FirebaseError",Object.setPrototypeOf(this,he.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nt.prototype.create)}}class Nt{constructor(B,Z,pe){this.service=B,this.serviceName=Z,this.errors=pe}create(B,...Z){const pe=Z[0]||{},ee=`${this.service}/${B}`,Ge=this.errors[B],Lt=Ge?function($,B){return $.replace(Rn,(Z,pe)=>{const ee=B[pe];return null!=ee?String(ee):`<${pe}?>`})}(Ge,pe):"Error";return new he(ee,`${this.serviceName}: ${Lt} (${ee}).`,pe)}}const Rn=/\{\$([^}]+)}/g;function Ot($){return JSON.parse($)}function Qt($){return JSON.stringify($)}const yt=function($){let B={},Z={},pe={},ee="";try{const Ge=$.split(".");B=Ot(q(Ge[0])||""),Z=Ot(q(Ge[1])||""),ee=Ge[2],pe=Z.d||{},delete Z.d}catch(Ge){}return{header:B,claims:Z,data:pe,signature:ee}},M1=function($){const Z=yt($).claims;return!!Z&&"object"==typeof Z&&Z.hasOwnProperty("iat")},kn=function($){const B=yt($).claims;return"object"==typeof B&&!0===B.admin};function Q2($,B){return Object.prototype.hasOwnProperty.call($,B)}function Ii($,B){if(Object.prototype.hasOwnProperty.call($,B))return $[B]}function Yi($){for(const B in $)if(Object.prototype.hasOwnProperty.call($,B))return!1;return!0}function Ki($,B,Z){const pe={};for(const ee in $)Object.prototype.hasOwnProperty.call($,ee)&&(pe[ee]=B.call(Z,$[ee],ee,$));return pe}function Un($,B){if($===B)return!0;const Z=Object.keys($),pe=Object.keys(B);for(const ee of Z){if(!pe.includes(ee))return!1;const Ge=$[ee],Lt=B[ee];if(ti(Ge)&&ti(Lt)){if(!Un(Ge,Lt))return!1}else if(Ge!==Lt)return!1}for(const ee of pe)if(!Z.includes(ee))return!1;return!0}function ti($){return null!==$&&"object"==typeof $}function Kr($){const B=[];for(const[Z,pe]of Object.entries($))Array.isArray(pe)?pe.forEach(ee=>{B.push(encodeURIComponent(Z)+"="+encodeURIComponent(ee))}):B.push(encodeURIComponent(Z)+"="+encodeURIComponent(pe));return B.length?"&"+B.join("&"):""}function bi($){const B={};return $.replace(/^\?/,"").split("&").forEach(pe=>{if(pe){const[ee,Ge]=pe.split("=");B[decodeURIComponent(ee)]=decodeURIComponent(Ge)}}),B}function j1($){const B=$.indexOf("?");if(!B)return"";const Z=$.indexOf("#",B);return $.substring(B,Z>0?Z:void 0)}class Ae{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let B=1;B<this.blockSize;++B)this.pad_[B]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(B,Z){Z||(Z=0);const pe=this.W_;if("string"==typeof B)for(let xt=0;xt<16;xt++)pe[xt]=B.charCodeAt(Z)<<24|B.charCodeAt(Z+1)<<16|B.charCodeAt(Z+2)<<8|B.charCodeAt(Z+3),Z+=4;else for(let xt=0;xt<16;xt++)pe[xt]=B[Z]<<24|B[Z+1]<<16|B[Z+2]<<8|B[Z+3],Z+=4;for(let xt=16;xt<80;xt++){const $n=pe[xt-3]^pe[xt-8]^pe[xt-14]^pe[xt-16];pe[xt]=4294967295&($n<<1|$n>>>31)}let qn,Vn,ee=this.chain_[0],Ge=this.chain_[1],Lt=this.chain_[2],ln=this.chain_[3],Qi=this.chain_[4];for(let xt=0;xt<80;xt++){xt<40?xt<20?(qn=ln^Ge&(Lt^ln),Vn=1518500249):(qn=Ge^Lt^ln,Vn=1859775393):xt<60?(qn=Ge&Lt|ln&(Ge|Lt),Vn=2400959708):(qn=Ge^Lt^ln,Vn=3395469782);const $n=(ee<<5|ee>>>27)+qn+Qi+Vn+pe[xt]&4294967295;Qi=ln,ln=Lt,Lt=4294967295&(Ge<<30|Ge>>>2),Ge=ee,ee=$n}this.chain_[0]=this.chain_[0]+ee&4294967295,this.chain_[1]=this.chain_[1]+Ge&4294967295,this.chain_[2]=this.chain_[2]+Lt&4294967295,this.chain_[3]=this.chain_[3]+ln&4294967295,this.chain_[4]=this.chain_[4]+Qi&4294967295}update(B,Z){if(null==B)return;void 0===Z&&(Z=B.length);const pe=Z-this.blockSize;let ee=0;const Ge=this.buf_;let Lt=this.inbuf_;for(;ee<Z;){if(0===Lt)for(;ee<=pe;)this.compress_(B,ee),ee+=this.blockSize;if("string"==typeof B){for(;ee<Z;)if(Ge[Lt]=B.charCodeAt(ee),++Lt,++ee,Lt===this.blockSize){this.compress_(Ge),Lt=0;break}}else for(;ee<Z;)if(Ge[Lt]=B[ee],++Lt,++ee,Lt===this.blockSize){this.compress_(Ge),Lt=0;break}}this.inbuf_=Lt,this.total_+=Z}digest(){const B=[];let Z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ee=this.blockSize-1;ee>=56;ee--)this.buf_[ee]=255&Z,Z/=256;this.compress_(this.buf_);let pe=0;for(let ee=0;ee<5;ee++)for(let Ge=24;Ge>=0;Ge-=8)B[pe]=this.chain_[ee]>>Ge&255,++pe;return B}}function Mi($,B){const Z=new ct($,B);return Z.subscribe.bind(Z)}class ct{constructor(B,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{B(this)}).catch(pe=>{this.error(pe)})}next(B){this.forEachObserver(Z=>{Z.next(B)})}error(B){this.forEachObserver(Z=>{Z.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,Z,pe){let ee;if(void 0===B&&void 0===Z&&void 0===pe)throw new Error("Missing Observer.");ee=function($,B){if("object"!=typeof $||null===$)return!1;for(const Z of["next","error","complete"])if(Z in $&&"function"==typeof $[Z])return!0;return!1}(B)?B:{next:B,error:Z,complete:pe},void 0===ee.next&&(ee.next=Ni),void 0===ee.error&&(ee.error=Ni),void 0===ee.complete&&(ee.complete=Ni);const Ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch(Lt){}}),this.observers.push(ee),Ge}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,B)}sendOne(B,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{Z(this.observers[B])}catch(pe){"undefined"!=typeof console&&console.error&&console.error(pe)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ni(){}const xr=function($,B,Z,pe){let ee;if(pe<B?ee="at least "+B:pe>Z&&(ee=0===Z?"none":"no more than "+Z),ee)throw new Error($+" failed: Was called with "+pe+(1===pe?" argument.":" arguments.")+" Expects "+ee+".")};function Pi($,B){return`${$} failed: ${B} argument `}function ii($,B,Z,pe){if((!pe||Z)&&"function"!=typeof Z)throw new Error(Pi($,B)+"must be a valid function.")}function Ta($,B,Z,pe){if((!pe||Z)&&("object"!=typeof Z||null===Z))throw new Error(Pi($,B)+"must be a valid context object.")}const On=function($){const B=[];let Z=0;for(let pe=0;pe<$.length;pe++){let ee=$.charCodeAt(pe);if(ee>=55296&&ee<=56319){const Ge=ee-55296;pe++,P(pe<$.length,"Surrogate pair missing trail surrogate."),ee=65536+(Ge<<10)+($.charCodeAt(pe)-56320)}ee<128?B[Z++]=ee:ee<2048?(B[Z++]=ee>>6|192,B[Z++]=63&ee|128):ee<65536?(B[Z++]=ee>>12|224,B[Z++]=ee>>6&63|128,B[Z++]=63&ee|128):(B[Z++]=ee>>18|240,B[Z++]=ee>>12&63|128,B[Z++]=ee>>6&63|128,B[Z++]=63&ee|128)}return B},et=function($){let B=0;for(let Z=0;Z<$.length;Z++){const pe=$.charCodeAt(Z);pe<128?B++:pe<2048?B+=2:pe>=55296&&pe<=56319?(B+=4,Z++):B+=3}return B};function Et($,B=1e3,Z=2){const pe=B*Math.pow(Z,$),ee=Math.round(.5*pe*(Math.random()-.5)*2);return Math.min(144e5,pe+ee)}function pn($){return $&&$._delegate?$._delegate:$}function Ut($,B){return new Promise((Z,pe)=>{$.onsuccess=ee=>{Z(ee.target.result)},$.onerror=ee=>{var Ge;pe(`${B}: ${null===(Ge=ee.target.error)||void 0===Ge?void 0:Ge.message}`)}})}class kt{constructor(B){this._db=B,this.objectStoreNames=this._db.objectStoreNames}transaction(B,Z){return new Qe(this._db.transaction.call(this._db,B,Z))}createObjectStore(B,Z){return new Se(this._db.createObjectStore(B,Z))}close(){this._db.close()}}class Qe{constructor(B){this._transaction=B,this.complete=new Promise((Z,pe)=>{this._transaction.oncomplete=function(){Z()},this._transaction.onerror=()=>{pe(this._transaction.error)},this._transaction.onabort=()=>{pe(this._transaction.error)}})}objectStore(B){return new Se(this._transaction.objectStore(B))}}class Se{constructor(B){this._store=B}index(B){return new pt(this._store.index(B))}createIndex(B,Z,pe){return new pt(this._store.createIndex(B,Z,pe))}get(B){return Ut(this._store.get(B),"Error reading from IndexedDB")}put(B,Z){return Ut(this._store.put(B,Z),"Error writing to IndexedDB")}delete(B){return Ut(this._store.delete(B),"Error deleting from IndexedDB")}clear(){return Ut(this._store.clear(),"Error clearing IndexedDB object store")}}class pt{constructor(B){this._index=B}get(B){return Ut(this._index.get(B),"Error reading from IndexedDB")}}function gt($,B,Z){return new Promise((pe,ee)=>{try{const Ge=indexedDB.open($,B);Ge.onsuccess=Lt=>{pe(new kt(Lt.target.result))},Ge.onerror=Lt=>{var ln;ee(`Error opening indexedDB: ${null===(ln=Lt.target.error)||void 0===ln?void 0:ln.message}`)},Ge.onupgradeneeded=Lt=>{Z(new kt(Ge.result),Lt.oldVersion,Lt.newVersion,new Qe(Ge.transaction))}}catch(Ge){ee(`Error opening indexedDB: ${Ge.message}`)}})}function tn($){return hn.apply(this,arguments)}function hn(){return(hn=(0,o.Z)(function*($){return new Promise((B,Z)=>{try{const pe=indexedDB.deleteDatabase($);pe.onsuccess=()=>{B()},pe.onerror=ee=>{var Ge;Z(`Error deleting indexedDB database "${$}": ${null===(Ge=ee.target.error)||void 0===Ge?void 0:Ge.message}`)}}catch(pe){Z(`Error deleting indexedDB database "${$}": ${pe.message}`)}})})).apply(this,arguments)}},5746:(ht,xe,O)=>{var o=O(5e3);let X=null;function P(){return X}const J=new o.OlP("DocumentToken");let ue=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.LFG)(W)},providedIn:"platform"}),n})();const q=new o.OlP("Location Initialized");let W=(()=>{class n extends ue{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){re()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){re()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:function(){return new W((0,o.LFG)(J))},providedIn:"platform"}),n})();function re(){return!!window.history.pushState}function Le(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ze(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ue(n){return n&&"?"!==n[0]?"?"+n:n}let Fe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function(n){const t=(0,o.LFG)(J).location;return new Be((0,o.LFG)(ue),t&&t.origin||"")}()},providedIn:"root"}),n})();const De=new o.OlP("appBaseHref");let Be=(()=>{class n extends Fe{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Le(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ue(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const c=this.prepareExternalUrl(r+Ue(s));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){const c=this.prepareExternalUrl(r+Ue(s));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ue),o.LFG(De,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),He=(()=>{class n extends Fe{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Le(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let c=this.prepareExternalUrl(r+Ue(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){let c=this.prepareExternalUrl(r+Ue(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ue),o.LFG(De,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),ot=(()=>{class n{constructor(e,i){this._subject=new o.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Ze(Xe(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ue(i))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Xe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ue(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ue(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Ue,n.joinWithSlash=Le,n.stripTrailingSlash=Ze,n.\u0275fac=function(e){return new(e||n)(o.LFG(Fe),o.LFG(ue))},n.\u0275prov=o.Yz7({token:n,factory:function(){return new ot((0,o.LFG)(Fe),(0,o.LFG)(ue))},providedIn:"root"}),n})();function Xe(n){return n.replace(/\/index.html$/,"")}var fe=(()=>((fe=fe||{})[fe.Zero=0]="Zero",fe[fe.One=1]="One",fe[fe.Two=2]="Two",fe[fe.Few=3]="Few",fe[fe.Many=4]="Many",fe[fe.Other=5]="Other",fe))();const bi=o.kL8;class u1{}let R2=(()=>{class n extends u1{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(bi(i||this.locale)(e)){case fe.Zero:return"zero";case fe.One:return"one";case fe.Two:return"two";case fe.Few:return"few";case fe.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.soG))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Rt(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}class Bs{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let oi=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Bs(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,c),Ji(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Ji(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ji(n,t){n.context.$implicit=t.item}let zt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new g2,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){mn("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){mn("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class g2{constructor(){this.$implicit=null,this.ngIf=null}}function mn(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(t)}'.`)}let Hn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:u1,useClass:R2}]}),n})();const O2="browser";function F2(n){return n===O2}function gi(n){return"server"===n}let ul=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new B3((0,o.LFG)(J),window)}),n})();class B3{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ir(this.window.history)||ir(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function ir(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class G3{}class ka extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new ka,X||(X=n)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Lr=Lr||document.querySelector("base"),Lr?Lr.getAttribute("href"):null);return null==e?null:function(n){Wn=Wn||document.createElement("a"),Wn.setAttribute("href",n);const t=Wn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Lr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Rt(document.cookie,t)}}let Wn,Lr=null;const Go=new o.OlP("TRANSITION_ID"),w1=[{provide:o.ip1,useFactory:function(n,t,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const i=P(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Go,J,o.zs3],multi:!0}];class qs{static init(){(0,o.VLi)(new qs)}addToWindow(t){o.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const d=function(h){c=c||h,s--,0==s&&i(c)};r.forEach(function(h){h.whenStable(d)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Dr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const $s=new o.OlP("EventManagerPlugins");let d1=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG($s),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Ws{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=P().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let ts=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),_t=(()=>{class n extends ts{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(x1),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(x1))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function x1(n){P().remove(n)}const jo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},j3=/%COMP%/g;function Ir(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Ir(n,r,e):(r=r.replace(j3,n),e.push(r))}return e}function Pn(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Z1=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new H1(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case o.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new dl(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case o.ifc.ShadowDom:return new Oa(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ir(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(d1),o.LFG(_t),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class H1{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(jo[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=jo[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=jo[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(o.JOm.DashCase|o.JOm.Important)?t.style.setProperty(e,i,r&o.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&o.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Pn(i)):this.eventManager.addEventListener(t,e,Pn(i))}}class dl extends H1{constructor(t,e,i,r){super(t),this.component=i;const s=Ir(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(j3,r+"-"+i.id),this.hostAttr="_nghost-%COMP%".replace(j3,r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Oa extends H1{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Ir(r.id,r.styles,[]);for(let c=0;c<s.length;c++){const d=document.createElement("style");d.textContent=s[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Ys=(()=>{class n extends Ws{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const ns=["alt","control","meta","shift"],Y1={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$o={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},is={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let R1=(()=>{class n extends Ws{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,s.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="";if(ns.forEach(h=>{const _=i.indexOf(h);_>-1&&(i.splice(_,1),c+=h+".")}),c+=s,0!=i.length||0===s.length)return null;const d={};return d.domEventName=r,d.fullKey=c,d}static getEventFullKey(e){let i="",r=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&$o.hasOwnProperty(t)&&(t=$o[t]))}return Y1[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),ns.forEach(s=>{s!=r&&is[s](e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Zo=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:O2},{provide:o.g9A,useValue:function(){ka.makeCurrent(),qs.init()},multi:!0},{provide:J,useFactory:function(){return(0,o.RDi)(document),document},deps:[]}]),za=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function(){return new o.qLn},deps:[]},{provide:$s,useClass:Ys,multi:!0,deps:[J,o.R0b,o.Lbi]},{provide:$s,useClass:R1,multi:!0,deps:[J]},{provide:Z1,useClass:Z1,deps:[d1,_t,o.AFp]},{provide:o.FYo,useExisting:Z1},{provide:ts,useExisting:_t},{provide:_t,useClass:_t,deps:[J]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:d1,useClass:d1,deps:[$s,o.R0b]},{provide:G3,useClass:Dr,deps:[]}];let ss=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId},{provide:Go,useExisting:o.AFp},w1]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(n,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:za,imports:[Hn,o.hGG]}),n})();"undefined"!=typeof window&&window;let ls=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):o.LFG(_l),i},providedIn:"root"}),n})(),_l=(()=>{class n extends ls{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.yhl)(i),(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function(n){return new _l(n.get(J))}(o.LFG(o.zs3)),i},providedIn:"root"}),n})();var bn=O(8306),li=O(515),B2=O(3269),_n=O(8996);function at(...n){const t=(0,B2.yG)(n);return(0,_n.D)(n,t)}var mt=O(7579),f1=O(8421),Bi=O(5577),cs=O(1144),m2=O(576),qe=O(4004);const{isArray:J3}=Array;function to(n){return(0,qe.U)(t=>function(n,t){return J3(t)?n(...t):n(t)}(n,t))}const c6=["addListener","removeListener"],u6=["addEventListener","removeEventListener"],Ko=["on","off"];function Kn(n,t,e,i){if((0,m2.m)(e)&&(i=e,e=void 0),i)return Kn(n,t,e).pipe(to(i));const[r,s]=function(n){return(0,m2.m)(n.addEventListener)&&(0,m2.m)(n.removeEventListener)}(n)?u6.map(c=>d=>n[c](t,d,e)):function(n){return(0,m2.m)(n.addListener)&&(0,m2.m)(n.removeListener)}(n)?c6.map(no(n,t)):function(n){return(0,m2.m)(n.on)&&(0,m2.m)(n.off)}(n)?Ko.map(no(n,t)):[];if(!r&&(0,cs.z)(n))return(0,Bi.z)(c=>Kn(c,t,e))((0,f1.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new bn.y(c=>{const d=(...h)=>c.next(1<h.length?h:h[0]);return r(d),()=>s(d)})}function no(n,t){return e=>i=>n[e](t,i)}var rr=O(4986),X3=O(3532);function io(n=0,t,e=rr.P){let i=-1;return null!=t&&((0,X3.K)(t)?e=t:i=t),new bn.y(r=>{let s=function(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}const{isArray:d6}=Array;function sr(n){return 1===n.length&&d6(n[0])?n[0]:n}var Mn=O(5403);class Qn extends mt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:ro}=Array,{getPrototypeOf:Vr,prototype:Ci,keys:Jo}=Object;function so(n){if(1===n.length){const t=n[0];if(ro(t))return{args:t,keys:null};if(function(n){return n&&"object"==typeof n&&Vr(n)===Ci}(t)){const e=Jo(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var O1=O(4671);function or(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var vl=O(9672);function qa(n,t,e){n?(0,vl.f)(e,n,t):t()}var ea=O(5032);function bl(...n){const t=(0,B2.jO)(n),e=sr(n);return e.length?new bn.y(i=>{let r=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{r=s=null});for(let c=0;!i.closed&&c<e.length;c++)(0,f1.Xf)(e[c]).subscribe(new Mn.Q(i,d=>{if(r[c].push(d),r.every(h=>h.length)){const h=r.map(_=>_.shift());i.next(t?t(...h):h),r.some((_,M)=>!_.length&&s[M])&&i.complete()}},()=>{s[c]=!0,!r[c].length&&i.complete()}));return()=>{r=s=null}}):li.E}new bn.y(ea.Z);var $a=O(8189);function oo(...n){return(0,$a.J)(1)((0,_n.D)(n,(0,B2.yG)(n)))}var ci=O(4482);function Tt(n){return(0,ci.e)((t,e)=>{(0,f1.Xf)(n).subscribe(new Mn.Q(e,()=>e.complete(),ea.Z)),!e.closed&&t.subscribe(e)})}function Sn(n,t){return(0,ci.e)((e,i)=>{let r=0;e.subscribe(new Mn.Q(i,s=>n.call(t,s,r++)&&i.next(s)))})}var Yt=O(5698);function X1(...n){const t=(0,B2.yG)(n);return(0,ci.e)((e,i)=>{(t?oo(n,e,t):oo(n,e)).subscribe(i)})}function Xi(n,t=O1.y){return n=null!=n?n:U0,(0,ci.e)((e,i)=>{let r,s=!0;e.subscribe(new Mn.Q(i,c=>{const d=t(c);(s||!n(r,d))&&(s=!1,r=d,i.next(c))}))})}function U0(n,t){return n===t}function xi(n,t){return(0,ci.e)((e,i)=>{let r=null,s=0,c=!1;const d=()=>c&&!r&&i.complete();e.subscribe(new Mn.Q(i,h=>{null==r||r.unsubscribe();let _=0;const M=s++;(0,f1.Xf)(n(h,M)).subscribe(r=new Mn.Q(i,x=>i.next(t?t(h,x,M,_++):x),()=>{r=null,d()}))},()=>{c=!0,d()}))})}var Jt=O(8505);function h1(...n){const t=(0,B2.jO)(n);return(0,ci.e)((e,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),d=!1;for(let h=0;h<r;h++)(0,f1.Xf)(n[h]).subscribe(new Mn.Q(i,_=>{s[h]=_,!d&&!c[h]&&(c[h]=!0,(d=c.every(O1.y))&&(c=null))},ea.Z));e.subscribe(new Mn.Q(i,h=>{if(d){const _=[h,...s];i.next(t?t(..._):_)}}))})}function us(n){return(0,qe.U)(()=>n)}function fs(...n){const t=(0,B2.jO)(n),{args:e,keys:i}=so(n),r=new bn.y(s=>{const{length:c}=e;if(!c)return void s.complete();const d=new Array(c);let h=c,_=c;for(let M=0;M<c;M++){let x=!1;(0,f1.Xf)(e[M]).subscribe(new Mn.Q(s,D=>{x||(x=!0,_--),d[M]=D},()=>h--,void 0,()=>{(!h||!x)&&(_||s.next(i?or(i,d):d),s.complete())}))}});return t?r.pipe(to(t)):r}let t4=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),Or=(()=>{class n extends t4{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const e1=new o.OlP("NgValueAccessor"),ta={provide:e1,useExisting:(0,o.Gpc)(()=>G2),multi:!0},Ml=new o.OlP("CompositionEventMode");let G2=(()=>{class n extends t4{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(Ml,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([ta]),o.qOj]}),n})();function S1(n){return null==n||0===n.length}function i4(n){return null!=n&&"number"==typeof n.length}const t1=new o.OlP("NgValidators"),Pr=new o.OlP("NgAsyncValidators"),j2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _2{static min(t){return n=t,t=>{if(S1(t.value)||S1(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null};var n}static max(t){return n=t,t=>{if(S1(t.value)||S1(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null};var n}static required(t){return hs(t)}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return ps(t)}static minLength(t){return ia(t)}static maxLength(t){return n=t,t=>i4(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null;var n}static pattern(t){return function(n){if(!n)return L;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(S1(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Dt(t)}static composeAsync(t){return Xt(t)}}function hs(n){return S1(n.value)?{required:!0}:null}function ps(n){return S1(n.value)||j2.test(n.value)?null:{email:!0}}function ia(n){return t=>S1(t.value)||!i4(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function L(n){return null}function V(n){return null!=n}function F(n){const t=(0,o.QGY)(n)?(0,_n.D)(n):n;return(0,o.CqO)(t),t}function K(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function oe(n,t){return t.map(e=>e(n))}function nt(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function Dt(n){if(!n)return null;const t=n.filter(V);return 0==t.length?null:function(e){return K(oe(e,t))}}function Mt(n){return null!=n?Dt(nt(n)):null}function Xt(n){if(!n)return null;const t=n.filter(V);return 0==t.length?null:function(e){return fs(oe(e,t).map(F)).pipe((0,qe.U)(K))}}function Vt(n){return null!=n?Xt(nt(n)):null}function p1(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function ki(n){return n._rawValidators}function v2(n){return n._rawAsyncValidators}function y2(n){return n?Array.isArray(n)?n:[n]:[]}function b2(n,t){return Array.isArray(n)?n.includes(t):n===t}function g1(n,t){const e=y2(t);return y2(n).forEach(r=>{b2(e,r)||e.push(r)}),e}function gs(n,t){return y2(t).filter(e=>!b2(n,e))}class Cs{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Mt(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Vt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class zr extends Cs{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class n1 extends Cs{get formDirective(){return null}get path(){return null}}class s4{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let M2=(()=>{class n extends s4{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(zr,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[o.qOj]}),n})(),w2=(()=>{class n extends s4{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(n1,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[o.qOj]}),n})();function ra(n,t){return[...t.path,n]}function Ya(n,t){l4(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&_6(n,t)})}(n,t),function(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&_6(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function ao(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Ka(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function lo(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function l4(n,t){const e=ki(n);null!==t.validator?n.setValidators(p1(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=v2(n);null!==t.asyncValidator?n.setAsyncValidators(p1(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();lo(t._rawValidators,r),lo(t._rawAsyncValidators,r)}function Ka(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=ki(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=v2(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return lo(t._rawValidators,i),lo(t._rawAsyncValidators,i),e}function _6(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Z0(n,t){l4(n,t)}function Sl(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function y6(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function b6(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===G2?e=s:function(n){return Object.getPrototypeOf(n.constructor)===Or}(s)?i=s:r=s}),r||i||e||null}function sa(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Qa="VALID",El="INVALID",Ja="PENDING",c4="DISABLED";function Y0(n){return(q2(n)?n.validators:n)||null}function K0(n){return Array.isArray(n)?Mt(n):n||null}function ms(n,t){return(q2(t)?t.asyncValidators:n)||null}function M6(n){return Array.isArray(n)?Vt(n):n||null}function q2(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class oa{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=K0(this._rawValidators),this._composedAsyncValidatorFn=M6(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Qa}get invalid(){return this.status===El}get pending(){return this.status==Ja}get disabled(){return this.status===c4}get enabled(){return this.status!==c4}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=K0(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=M6(t)}addValidators(t){this.setValidators(g1(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(g1(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(gs(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(gs(t,this._rawAsyncValidators))}hasValidator(t){return b2(this._rawValidators,t)}hasAsyncValidator(t){return b2(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ja,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=c4,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Qa,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qa||this.status===Ja)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?c4:Qa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ja,this._hasOwnPendingAsyncValidator=!0;const e=F(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=i instanceof x2?i.controls.hasOwnProperty(r)?i.controls[r]:null:i instanceof Xa&&i.at(r)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?c4:this.errors?El:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ja)?Ja:this._anyControlsHaveStatus(El)?El:Qa}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){q2(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Jn extends oa{constructor(t=null,e,i){super(Y0(e),ms(i,e)),this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){sa(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){sa(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class x2 extends oa{constructor(t,e,i){super(Y0(e),ms(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof Jn?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class Xa extends oa{constructor(t,e,i){super(Y0(e),ms(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,r)=>{this._throwIfControlMissing(r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Jn?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const K9={provide:n1,useExisting:(0,o.Gpc)(()=>Tl)},Ll=(()=>Promise.resolve(null))();let Tl=(()=>{class n extends n1{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new o.vpe,this.form=new x2({},Mt(e),Vt(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ll.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Ya(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ll.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),sa(this._directives,e)})}addFormGroup(e){Ll.then(()=>{const i=this._findContainer(e.path),r=new x2({});Z0(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ll.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Ll.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,y6(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(t1,10),o.Y36(Pr,10))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([K9]),o.qOj]}),n})(),Dl=(()=>{class n extends n1{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ra(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const x6={provide:zr,useExisting:(0,o.Gpc)(()=>Il)},X0=(()=>Promise.resolve(null))();let Il=(()=>{class n extends zr{constructor(e,i,r,s){super(),this.control=new Jn,this._registered=!1,this.update=new o.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=b6(0,s)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),Sl(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?ra(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ya(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){X0.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;X0.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(n1,9),o.Y36(t1,10),o.Y36(Pr,10),o.Y36(e1,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([x6]),o.qOj,o.TTD]}),n})(),Fr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),An=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const d4=new o.OlP("NgModelWithFormControlWarning"),Ed={provide:zr,useExisting:(0,o.Gpc)(()=>T6)};let T6=(()=>{class n extends zr{constructor(e,i,r,s){super(),this._ngModelWarningConfig=s,this.update=new o.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=b6(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&ao(i,this,!1),Ya(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}Sl(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ao(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(o.Y36(t1,10),o.Y36(Pr,10),o.Y36(e1,10),o.Y36(d4,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[o._Bn([Ed]),o.qOj,o.TTD]}),n})();const D6={provide:n1,useExisting:(0,o.Gpc)(()=>ho)};let ho=(()=>{class n extends n1{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ka(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Ya(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){ao(e.control||null,e,!1),sa(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,y6(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(ao(i||null,e),r instanceof Jn&&(Ya(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);Z0(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return Ka(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){l4(this.form,this),this._oldForm&&Ka(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(t1,10),o.Y36(Pr,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([D6]),o.qOj,o.TTD]}),n})();const Q9={provide:n1,useExisting:(0,o.Gpc)(()=>f4)};let f4=(()=>{class n extends Dl{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){kl(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(n1,13),o.Y36(t1,10),o.Y36(Pr,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[o._Bn([Q9]),o.qOj]}),n})();const h4={provide:n1,useExisting:(0,o.Gpc)(()=>r1)};let r1=(()=>{class n extends n1{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ra(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){kl(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(n1,13),o.Y36(t1,10),o.Y36(Pr,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[o._Bn([h4]),o.qOj]}),n})();function kl(n){return!(n instanceof f4||n instanceof ho||n instanceof r1)}const n8={provide:zr,useExisting:(0,o.Gpc)(()=>po)};let po=(()=>{class n extends zr{constructor(e,i,r,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=b6(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Sl(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return ra(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(o.Y36(n1,13),o.Y36(t1,10),o.Y36(Pr,10),o.Y36(e1,10),o.Y36(d4,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([n8]),o.qOj,o.TTD]}),n})();let e3=(()=>{class n{constructor(){this._validator=L}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._validator=this.enabled()?this.createValidator(i):L,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(){return null!=this[this.inputName]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();const Dd={provide:t1,useExisting:(0,o.Gpc)(()=>Co),multi:!0};let Co=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?hs(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("required",i.required?"":null)},inputs:{required:"required"},features:[o._Bn([Dd])]}),n})();const Ad={provide:t1,useExisting:(0,o.Gpc)(()=>H6),multi:!0};let H6=(()=>{class n{constructor(){this._enabled=!1}set email(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}validate(e){return this._enabled?ps(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[o._Bn([Ad])]}),n})();const c8={provide:t1,useExisting:(0,o.Gpc)(()=>p4),multi:!0};let p4=(()=>{class n extends e3{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>function(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>ia(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("minlength",i.enabled()?i.minlength:null)},inputs:{minlength:"minlength"},features:[o._Bn([c8]),o.qOj]}),n})(),O6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[An]]}),n})(),u8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[O6]}),n})(),Br=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:d4,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[O6]}),n})(),ep=(()=>{class n{group(e,i=null){const r=this._reduceControls(e);let d,s=null,c=null;return null!=i&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(s=null!=i.validators?i.validators:null,c=null!=i.asyncValidators?i.asyncValidators:null,d=null!=i.updateOn?i.updateOn:void 0):(s=null!=i.validator?i.validator:null,c=null!=i.asyncValidator?i.asyncValidator:null)),new x2(r,{asyncValidators:c,updateOn:d,validators:s})}control(e,i,r){return new Jn(e,i,r)}array(e,i,r){const s=e.map(c=>this._createControl(c));return new Xa(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof Jn||e instanceof x2||e instanceof Xa?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:Br}),n})();const zl=["*"],Gl=["dialog"];function Wl(n){return null!=n}function $6(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const _8={animation:!0,transitionTimerDelayMs:5},qy=()=>{},{transitionTimerDelayMs:bp}=_8,C4=new Map,e2=(n,t,e,i)=>{let r=i.context||{};const s=C4.get(t);if(s)switch(i.runningTransition){case"continue":return li.E;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),C4.delete(t)}const c=e(t,i.animation,r)||qy;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>c()),at(void 0).pipe(function(n){return t=>new bn.y(e=>t.subscribe({next:c=>n.run(()=>e.next(c)),error:c=>n.run(()=>e.error(c)),complete:()=>n.run(()=>e.complete())}))}(n));const d=new mt.x,h=new mt.x,_=d.pipe(function(...n){return t=>oo(t,at(...n))}(!0));C4.set(t,{transition$:d,complete:()=>{h.next(),h.complete()},context:r});const M=function(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const x=Kn(t,"transitionend").pipe(Tt(_),Sn(({target:N})=>N===t));(function(...n){return 1===(n=sr(n)).length?(0,f1.Xf)(n[0]):new bn.y(function(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push((0,f1.Xf)(n[i]).subscribe(new Mn.Q(t,r=>{if(e){for(let s=0;s<e.length;s++)s!==i&&e[s].unsubscribe();e=null}t.next(r)})))}}(n))})(io(M+bp).pipe(Tt(_)),x,h).pipe(Tt(_)).subscribe(()=>{C4.delete(t),n.run(()=>{c(),d.next(),d.complete()})})}),d.asObservable()};let W6=(()=>{class n{constructor(){this.animation=_8.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Hn]]}),n})(),$d=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Hn]]}),n})(),Kd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),Jd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Hn]]}),n})(),w8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();var _1=(()=>{return(n=_1||(_1={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",_1;var n})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const K6=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Ip(n){const t=Array.from(n.querySelectorAll(K6)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i=t.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const s=this.offsetParent(t);i=this.offset(t,!1),s!==document.documentElement&&(r=this.offset(s,!1)),r.top+=s.clientTop,r.left+=s.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(t,e=!0){const i=t.getBoundingClientRect(),r_top=window.scrollY-document.documentElement.clientTop,r_left=window.scrollX-document.documentElement.clientLeft;let s={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(t,e,i,r){const[s="top",c="center"]=i.split("-"),d=r?this.offset(t,!1):this.position(t,!1),h=this.getAllStyles(e),_=parseFloat(h.marginTop),M=parseFloat(h.marginBottom),x=parseFloat(h.marginLeft),D=parseFloat(h.marginRight);let N=0,H=0;switch(s){case"top":N=d.top-(e.offsetHeight+_+M);break;case"bottom":N=d.top+d.height;break;case"left":H=d.left-(e.offsetWidth+x+D);break;case"right":H=d.left+d.width}switch(c){case"top":N=d.top;break;case"bottom":N=d.top+d.height-e.offsetHeight;break;case"left":H=d.left;break;case"right":H=d.left+d.width-e.offsetWidth;break;case"center":"top"===s||"bottom"===s?H=d.left+d.width/2-e.offsetWidth/2:N=d.top+d.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(H)}px, ${Math.round(N)}px)`;const U=e.getBoundingClientRect(),Y=document.documentElement,ae=window.innerHeight||Y.clientHeight,ce=window.innerWidth||Y.clientWidth;return U.left>=0&&U.top>=0&&U.right<=ce&&U.bottom<=ae}},new Date(1882,10,12),new Date(2174,10,25);let T8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Hn,u8]]}),n})(),b4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();class Gr{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let ic=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Yt.q)(1)).subscribe(()=>{e2(this._zone,this._el.nativeElement,(e,i)=>{i&&$6(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return e2(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,i){2&e&&(o.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),o.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class M4{close(t){}dismiss(t){}}class rc{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new mt.x,this._dismissed=new mt.x,this._hidden=new mt.x,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,c)=>{this._resolve=s,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Tt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Tt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();(n=e)&&n.then?e.then(i=>{!1!==i&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t);var n}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():at(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),bl(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var yo=(()=>{return(n=yo||(yo={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",yo;var n})();let sc=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new mt.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new o.vpe,this.shown=new mt.x,this.hidden=new mt.x}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Yt.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},c=bl(e2(this._zone,e,()=>e.classList.remove("show"),i),e2(this._zone,this._dialogEl.nativeElement,()=>{},i));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const e={animation:this.animation,runningTransition:"continue"};bl(e2(this._zone,this._elRef.nativeElement,(s,c)=>{c&&$6(s),s.classList.add("show")},e),e2(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Kn(e,"keydown").pipe(Tt(this._closed$),Sn(r=>r.which===_1.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(yo.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Kn(this._dialogEl.nativeElement,"mousedown").pipe(Tt(this._closed$),(0,Jt.b)(()=>i=!1),xi(()=>Kn(e,"mouseup").pipe(Tt(this._closed$),(0,Yt.q)(1))),Sn(({target:r})=>e===r)).subscribe(()=>{i=!0}),Kn(e,"click").pipe(Tt(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(yo.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=Ip(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&e2(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(J),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&o.Gf(Gl,7),2&e){let r;o.iGM(r=o.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),o.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),o.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:zl,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.TgZ(2,"div",2),o.Hsn(3),o.qZA(),o.qZA()),2&e&&o.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})();const Gp=()=>{};let jp=(()=>{class n{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):Gp}_adjustBody(e){const i=this._document.body,r=i.style.paddingRight,s=parseFloat(window.getComputedStyle(i)["padding-right"]);return i.style["padding-right"]=`${s+e}px`,()=>i.style["padding-right"]=r}_isPresent(e){const i=this._document.body.getBoundingClientRect();return window.innerWidth-(i.left+i.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const i=this._document.body;i.appendChild(e);const r=e.getBoundingClientRect().width-e.clientWidth;return i.removeChild(e),r}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qp=(()=>{class n{constructor(e,i,r,s,c,d){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=s,this._rendererFactory=c,this._ngZone=d,this._activeWindowCmptHasChanged=new mt.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new o.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const h=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=Kn(t,"focusin").pipe(Tt(e),(0,qe.U)(s=>s.target));Kn(t,"keydown").pipe(Tt(e),Sn(s=>s.which===_1.Tab),h1(r)).subscribe(([s,c])=>{const[d,h]=Ip(t);(c===d||c===t)&&s.shiftKey&&(h.focus(),s.preventDefault()),c===h&&!s.shiftKey&&(d.focus(),s.preventDefault())}),i&&Kn(t,"click").pipe(Tt(e),h1(r),(0,qe.U)(s=>s[1])).subscribe(s=>s.focus())})})(0,h.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(h.location.nativeElement)}})}open(e,i,r,s){const c=s.container instanceof HTMLElement?s.container:Wl(s.container)?this._document.querySelector(s.container):this._document.body,d=this._rendererFactory.createRenderer(null,null),h=this._scrollBar.compensate(),_=()=>{this._modalRefs.length||(d.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!c)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);const M=new M4,x=this._getContentRef(e,s.injector||i,r,M,s);let D=!1!==s.backdrop?this._attachBackdrop(e,c):void 0,N=this._attachWindowComponent(e,c,x),H=new rc(N,x,D,s.beforeDismiss);return this._registerModalRef(H),this._registerWindowCmpt(N),H.result.then(h,h),H.result.then(_,_),M.close=U=>{H.close(U)},M.dismiss=U=>{H.dismiss(U)},this._applyWindowOptions(N.instance,s),1===this._modalRefs.length&&d.addClass(this._document.body,"modal-open"),D&&D.instance&&(this._applyBackdropOptions(D.instance,s),D.changeDetectorRef.detectChanges()),N.changeDetectorRef.detectChanges(),H}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let s=e.resolveComponentFactory(ic).create(this._injector);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_attachWindowComponent(e,i,r){let c=e.resolveComponentFactory(sc).create(this._injector,r.nodes);return this._applicationRef.attachView(c.hostView),i.appendChild(c.location.nativeElement),c}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{Wl(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{Wl(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,s,c){return r?r instanceof o.Rgc?this._createFromTemplateRef(r,s):function(n){return"string"==typeof n}(r)?this._createFromString(r):this._createFromComponent(e,i,r,s,c):new Gr([])}_createFromTemplateRef(e,i){const s=e.createEmbeddedView({$implicit:i,close(c){i.close(c)},dismiss(c){i.dismiss(c)}});return this._applicationRef.attachView(s),new Gr([s.rootNodes],s)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Gr([[i]])}_createFromComponent(e,i,r,s,c){const d=e.resolveComponentFactory(r),h=o.zs3.create({providers:[{provide:M4,useValue:s}],parent:i}),_=d.create(h),M=_.location.nativeElement;return c.scrollable&&M.classList.add("component-host-scrollable"),this._applicationRef.attachView(_.hostView),new Gr([[M]],_.hostView,_)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.z2F),o.LFG(o.zs3),o.LFG(J),o.LFG(jp),o.LFG(o.FYo),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$p=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(W6))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wp=(()=>{class n{constructor(e,i,r,s){this._moduleCFR=e,this._injector=i,this._modalStack=r,this._config=s}open(e,i={}){const r=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o._Vd),o.LFG(o.zs3),o.LFG(qp),o.LFG($p))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),p7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Wp]}),n})(),v7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Hn]]}),n})(),ng=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Hn]]}),n})(),og=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Hn]]}),n})(),ag=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Hn]]}),n})(),lg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Hn]]}),n})(),N8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Hn]]}),n})(),hg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Hn]]}),n})(),k8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();new o.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let mg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Hn]]}),n})();const _g=[_4,$d,Kd,Jd,w8,T8,b4,p7,v7,ng,og,ag,lg,N8,hg,k8,mg];let vg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[_g,_4,$d,Kd,Jd,w8,T8,b4,p7,v7,ng,og,ag,lg,N8,hg,k8,mg]}),n})();function l3(n,t){return(0,m2.m)(t)?(0,Bi.z)(n,t,1):(0,Bi.z)(n,1)}class o5{}class M7{}class xs{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof xs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new xs;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof xs?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let c=this.headers.get(e);if(!c)return;c=c.filter(d=>-1===s.indexOf(d)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class yg{encodeKey(t){return w7(t)}encodeValue(t){return w7(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Mg=/%(\d[a-f0-9])/gi,wg={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function w7(n){return encodeURIComponent(n).replace(Mg,(t,e)=>{var i;return null!==(i=wg[e])&&void 0!==i?i:t})}function x7(n){return`${n}`}class c3{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new yg,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,d]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],h=e.get(c)||[];h.push(d),e.set(c,h)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new c3({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(x7(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(x7(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Ob{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Sg(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function s1(n){return"undefined"!=typeof Blob&&n instanceof Blob}function S7(n){return"undefined"!=typeof FormData&&n instanceof FormData}class a5{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new xs),this.context||(this.context=new Ob),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+c}}else this.params=new c3,this.urlWithParams=e}serializeBody(){return null===this.body?null:Sg(this.body)||s1(this.body)||S7(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof c3?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||S7(this.body)?null:s1(this.body)?this.body.type||null:Sg(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof c3?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,s=t.responseType||this.responseType,c=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let _=t.headers||this.headers,M=t.params||this.params;const x=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(_=Object.keys(t.setHeaders).reduce((D,N)=>D.set(N,t.setHeaders[N]),_)),t.setParams&&(M=Object.keys(t.setParams).reduce((D,N)=>D.set(N,t.setParams[N]),M)),new a5(i,r,c,{params:M,headers:_,context:x,reportProgress:h,responseType:s,withCredentials:d})}}var ji=(()=>((ji=ji||{})[ji.Sent=0]="Sent",ji[ji.UploadProgress=1]="UploadProgress",ji[ji.ResponseHeader=2]="ResponseHeader",ji[ji.DownloadProgress=3]="DownloadProgress",ji[ji.Response=4]="Response",ji[ji.User=5]="User",ji))();class E7{constructor(t,e=200,i="OK"){this.headers=t.headers||new xs,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class V8 extends E7{constructor(t={}){super(t),this.type=ji.ResponseHeader}clone(t={}){return new V8({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class l5 extends E7{constructor(t={}){super(t),this.type=ji.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new l5({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class w4 extends E7{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function L7(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let x4=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof a5)s=e;else{let h,_;h=r.headers instanceof xs?r.headers:new xs(r.headers),r.params&&(_=r.params instanceof c3?r.params:new c3({fromObject:r.params})),s=new a5(e,i,void 0!==r.body?r.body:null,{headers:h,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=at(s).pipe(l3(h=>this.handler.handle(h)));if(e instanceof a5||"events"===r.observe)return c;const d=c.pipe(Sn(h=>h instanceof l5));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,qe.U)(h=>{if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return d.pipe((0,qe.U)(h=>{if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return d.pipe((0,qe.U)(h=>{if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return d.pipe((0,qe.U)(h=>h.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new c3).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,L7(r,i))}post(e,i,r={}){return this.request("POST",e,L7(r,i))}put(e,i,r={}){return this.request("PUT",e,L7(r,i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o5))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class T7{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Eg=new o.OlP("HTTP_INTERCEPTORS");let Lg=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Ss=/^\)\]\}',?\n/;let D7=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new bn.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((N,H)=>r.setRequestHeader(N,H.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const N=e.detectContentTypeHeader();null!==N&&r.setRequestHeader("Content-Type",N)}if(e.responseType){const N=e.responseType.toLowerCase();r.responseType="json"!==N?N:"text"}const s=e.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const N=1223===r.status?204:r.status,H=r.statusText||"OK",U=new xs(r.getAllResponseHeaders()),Y=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return c=new V8({headers:U,status:N,statusText:H,url:Y}),c},h=()=>{let{headers:N,status:H,statusText:U,url:Y}=d(),ae=null;204!==H&&(ae=void 0===r.response?r.responseText:r.response),0===H&&(H=ae?200:0);let ce=H>=200&&H<300;if("json"===e.responseType&&"string"==typeof ae){const ke=ae;ae=ae.replace(Ss,"");try{ae=""!==ae?JSON.parse(ae):null}catch(Te){ae=ke,ce&&(ce=!1,ae={error:Te,text:ae})}}ce?(i.next(new l5({body:ae,headers:N,status:H,statusText:U,url:Y||void 0})),i.complete()):i.error(new w4({error:ae,headers:N,status:H,statusText:U,url:Y||void 0}))},_=N=>{const{url:H}=d(),U=new w4({error:N,status:r.status||0,statusText:r.statusText||"Unknown Error",url:H||void 0});i.error(U)};let M=!1;const x=N=>{M||(i.next(d()),M=!0);let H={type:ji.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(H.total=N.total),"text"===e.responseType&&!!r.responseText&&(H.partialText=r.responseText),i.next(H)},D=N=>{let H={type:ji.UploadProgress,loaded:N.loaded};N.lengthComputable&&(H.total=N.total),i.next(H)};return r.addEventListener("load",h),r.addEventListener("error",_),r.addEventListener("timeout",_),r.addEventListener("abort",_),e.reportProgress&&(r.addEventListener("progress",x),null!==s&&r.upload&&r.upload.addEventListener("progress",D)),r.send(s),i.next({type:ji.Sent}),()=>{r.removeEventListener("error",_),r.removeEventListener("abort",_),r.removeEventListener("load",h),r.removeEventListener("timeout",_),e.reportProgress&&(r.removeEventListener("progress",x),null!==s&&r.upload&&r.upload.removeEventListener("progress",D)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(G3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const H8=new o.OlP("XSRF_COOKIE_NAME"),A7=new o.OlP("XSRF_HEADER_NAME");class Ag{}let Fb=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Rt(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(J),o.LFG(o.Lbi),o.LFG(H8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),I7=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ag),o.LFG(A7))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),N7=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(Eg,[]);this.chain=i.reduceRight((r,s)=>new T7(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(M7),o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Ig=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:I7,useClass:Lg}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:H8,useValue:e.cookieName}:[],e.headerName?{provide:A7,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[I7,{provide:Eg,useExisting:I7,multi:!0},{provide:Ag,useClass:Fb},{provide:H8,useValue:"XSRF-TOKEN"},{provide:A7,useValue:"X-XSRF-TOKEN"}]}),n})(),Bb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[x4,{provide:o5,useClass:N7},D7,{provide:M7,useExisting:D7}],imports:[[Ig.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),Ls=(()=>{class n{constructor(){this.tekstitChanged=new mt.x,this.tekstit=[]}setTekstit(e){this.tekstit=e,this.tekstitChanged.next(this.tekstit.slice())}getTekstit(){return this.tekstit.slice()}getTeksti(e){return this.tekstit[e]}addTeksti(e){this.tekstit.push(e),this.tekstitChanged.next(this.tekstit.slice())}updateTeksti(e,i){this.tekstit[e]=i,this.tekstitChanged.next(this.tekstit.slice())}deleteTeksti(e){this.tekstit.splice(e,1),this.tekstitChanged.next(this.tekstit.slice())}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),dr=(()=>{class n{constructor(e,i){this.http=e,this.tekstiService=i}storeTekstit(){const e=this.tekstiService.getTekstit();this.http.put("https://eurouuni-ced0b-default-rtdb.europe-west1.firebasedatabase.app/texts.json",e).subscribe(i=>{console.log(i)})}fetchTekstit(){return this.http.get("https://eurouuni-ced0b-default-rtdb.europe-west1.firebasedatabase.app/texts.json").pipe((0,qe.U)(e=>e.map(i=>Object.assign({},i))),(0,Jt.b)(e=>{this.tekstiService.setTekstit(e)}))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(x4),o.LFG(Ls))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ts(n){return(0,ci.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe(new Mn.Q(e,void 0,void 0,c=>{s=(0,f1.Xf)(n(c,Ts(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function O8(n,t){const e=(0,m2.m)(n)?n:()=>n,i=r=>r.error(e());return new bn.y(t?r=>t.schedule(i,0,r):i)}class k7{constructor(t,e,i,r){this.email=t,this.id=e,this._token=i,this._tokenExpirationDate=r}get token(){return!this._tokenExpirationDate||new Date>this._tokenExpirationDate?null:this._token}}const c5=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function V7(n){return new bn.y(t=>{(0,f1.Xf)(n()).subscribe(t)})}var u3=O(727);function H7(){return(0,ci.e)((n,t)=>{let e=null;n._refCount++;const i=new Mn.Q(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Ng extends bn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,ci.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new u3.w0;const e=this.getSubject();t.add(this.source.subscribe(new Mn.Q(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=u3.w0.EMPTY)}return t}refCount(){return H7()(this)}}function kg(n,t,e,i,r){return(s,c)=>{let d=e,h=t,_=0;s.subscribe(new Mn.Q(c,M=>{const x=_++;h=d?n(h,M,x):(d=!0,M),i&&c.next(h)},r&&(()=>{d&&c.next(h),c.complete()})))}}function d3(n,t){return(0,ci.e)(kg(n,t,arguments.length>=2,!0))}function z8(n){return n<=0?()=>li.E:(0,ci.e)((t,e)=>{let i=[];t.subscribe(new Mn.Q(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Vg(n=jb){return(0,ci.e)((t,e)=>{let i=!1;t.subscribe(new Mn.Q(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function jb(){return new c5}function Hg(n){return(0,ci.e)((t,e)=>{let i=!1;t.subscribe(new Mn.Q(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function S4(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Sn((r,s)=>n(r,s,i)):O1.y,(0,Yt.q)(1),e?Hg(t):Vg(()=>new c5))}function Rg(n){return(0,ci.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class ha{constructor(t,e){this.id=t,this.url=e}}class R7 extends ha{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class u5 extends ha{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Og extends ha{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $b extends ha{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wb extends ha{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zb extends ha{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yb extends ha{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Kb extends ha{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qb extends ha{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pg{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zg{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Fg{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bg{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ug{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gg{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class O7{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const nn="primary";class jg{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function E4(n){return new jg(n)}const P7="ngNavigationCancelingError";function d5(n){const t=Error("NavigationCancelingError: "+n);return t[P7]=!0,t}function L4(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],d=n[s];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function bo(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!T4(n[r],t[r]))return!1;return!0}function T4(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function Xb(n){return Array.prototype.concat.apply([],n)}function F8(n){return n.length>0?n[n.length-1]:null}function E1(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Ds(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,_n.D)(Promise.resolve(n)):at(n)}const St={exact:function f5(n,t,e){if(!f3(n.segments,t.segments)||!ui(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!f5(n.children[i],t.children[i],e))return!1;return!0},subset:h5},qg={exact:function(n,t){return bo(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>T4(n[e],t[e]))},ignored:()=>!0};function $g(n,t,e){return St[e.paths](n.root,t.root,e.matrixParams)&&qg[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function h5(n,t,e){return p5(n,t,t.segments,e)}function p5(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!f3(r,e)||t.hasChildren()||!ui(r,e,i))}if(n.segments.length===e.length){if(!f3(n.segments,e)||!ui(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!h5(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(f3(n.segments,r)&&ui(n.segments,r,i)&&n.children[nn])&&p5(n.children[nn],t,s,i)}}function ui(n,t,e){return t.every((i,r)=>qg[e](n[r].parameters,i.parameters))}class ac{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=E4(this.queryParams)),this._queryParamMap}toString(){return iM.serialize(this)}}class rn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,E1(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return B8(this)}}class g5{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=E4(this.parameters)),this._parameterMap}toString(){return j7(this)}}function f3(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class F7{}class B7{parse(t){const e=new Kg(t);return new ac(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${C5(t.root,!0)}`,i=function(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${U8(e)}=${U8(r)}`).join("&"):`${U8(e)}=${U8(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);var n;return`${e}${i}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const iM=new B7;function B8(n){return n.segments.map(t=>j7(t)).join("/")}function C5(n,t){if(!n.hasChildren())return B8(n);if(t){const e=n.children[nn]?C5(n.children[nn],!1):"",i=[];return E1(n.children,(r,s)=>{s!==nn&&i.push(`${s}:${C5(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(n,t){let e=[];return E1(n.children,(i,r)=>{r===nn&&(e=e.concat(t(i,r)))}),E1(n.children,(i,r)=>{r!==nn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===nn?[C5(n.children[nn],!1)]:[`${r}:${C5(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[nn]?`${B8(n)}/${e[0]}`:`${B8(n)}/(${e.join("//")})`}}function lc(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function U8(n){return lc(n).replace(/%3B/gi,";")}function U7(n){return lc(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function D4(n){return decodeURIComponent(n)}function G7(n){return D4(n.replace(/\+/g,"%20"))}function j7(n){return`${U7(n.path)}${function(n){return Object.keys(n).map(t=>`;${U7(t)}=${U7(n[t])}`).join("")}(n.parameters)}`}const m5=/^[^\/()?;=#]+/;function h3(n){const t=n.match(m5);return t?t[0]:""}const oM=/^[^=?&#]+/,lM=/^[^&#]+/;class Kg{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rn([],{}):new rn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[nn]=new rn(t,e)),i}parseSegment(){const t=h3(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new g5(D4(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=h3(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=h3(this.remaining);r&&(i=r,this.capture(i))}t[D4(e)]=D4(i)}parseQueryParam(t){const e=function(n){const t=n.match(oM);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function(n){const t=n.match(lM);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=G7(e),s=G7(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=h3(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=nn);const c=this.parseChildren();e[s]=1===Object.keys(c).length?c[nn]:new rn([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class q7{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=$7(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=$7(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=G8(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return G8(t,this._root).map(e=>e.value)}}function $7(n,t){if(n===t.value)return t;for(const e of t.children){const i=$7(n,e);if(i)return i}return null}function G8(n,t){if(n===t.value)return[t];for(const e of t.children){const i=G8(n,e);if(i.length)return i.unshift(t),i}return[]}class pa{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function cc(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class cM extends q7{constructor(t,e){super(t),this.snapshot=e,$8(this,t)}toString(){return this.snapshot.toString()}}function uM(n,t){const e=function(n,t){const c=new q8([],{},{},"",{},nn,t,null,n.root,-1,{});return new Qg("",new pa(c,[]))}(n,t),i=new Qn([new g5("",{})]),r=new Qn({}),s=new Qn({}),c=new Qn({}),d=new Qn(""),h=new Si(i,r,c,d,s,nn,t,e.root);return h.snapshot=e.root,new cM(new pa(h,[]),e)}class Si{constructor(t,e,i,r,s,c,d,h){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this._futureSnapshot=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,qe.U)(t=>E4(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,qe.U)(t=>E4(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function W7(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class q8{constructor(t,e,i,r,s,c,d,h,_,M,x){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.routeConfig=h,this._urlSegment=_,this._lastPathIndex=M,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=E4(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=E4(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qg extends q7{constructor(t,e){super(e),this.url=t,$8(this,e)}toString(){return uc(this._root)}}function $8(n,t){t.value._routerState=n,t.children.forEach(e=>$8(n,e))}function uc(n){const t=n.children.length>0?` { ${n.children.map(uc).join(", ")} } `:"";return`${n.value}${t}`}function Z7(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,bo(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),bo(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!bo(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),bo(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Y7(n,t){const e=bo(n.params,t.params)&&function(n,t){return f3(n,t)&&n.every((e,i)=>bo(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Y7(n.parent,t.parent))}function _5(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return _5(n,i,r);return _5(n,i)})}(n,t,e);return new pa(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(d=>_5(n,d)),c}}const i=function(n){return new Si(new Qn(n.url),new Qn(n.params),new Qn(n.queryParams),new Qn(n.fragment),new Qn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>_5(n,s));return new pa(i,r)}}function W8(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Mo(n){return"object"==typeof n&&null!=n&&n.outlets}function K7(n,t,e,i,r){let s={};return i&&E1(i,(c,d)=>{s[d]=Array.isArray(c)?c.map(h=>`${h}`):`${c}`}),new ac(e.root===n?t:Q7(e.root,n,t),s,r)}function Q7(n,t,e){const i={};return E1(n.children,(r,s)=>{i[s]=r===t?e:Q7(r,t,e)}),new rn(n.segments,i)}class Xg{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&W8(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Mo);if(r&&r!==F8(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class J7{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function nC(n,t,e){if(n||(n=new rn([],{})),0===n.segments.length&&n.hasChildren())return v5(n,t,e);const i=function(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const c=n.segments[r],d=e[i];if(Mo(d))break;const h=`${d}`,_=i<e.length-1?e[i+1]:null;if(r>0&&void 0===h)break;if(h&&_&&"object"==typeof _&&void 0===_.outlets){if(!Z8(h,_,c))return s;i+=2}else{if(!Z8(h,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new rn(n.segments.slice(0,i.pathIndex),{});return s.children[nn]=new rn(n.segments.slice(i.pathIndex),n.children),v5(s,0,r)}return i.match&&0===r.length?new rn(n.segments,{}):i.match&&!n.hasChildren()?ef(n,t,e):i.match?v5(n,0,r):ef(n,t,e)}function v5(n,t,e){if(0===e.length)return new rn(n.segments,{});{const i=function(n){return Mo(n[0])?n[0].outlets:{[nn]:n}}(e),r={};return E1(i,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[c]=nC(n.children[c],t,s))}),E1(n.children,(s,c)=>{void 0===i[c]&&(r[c]=s)}),new rn(n.segments,r)}}function ef(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(Mo(s)){const h=gM(s.outlets);return new rn(i,h)}if(0===r&&W8(e[0])){i.push(new g5(n.segments[t].path,rC(e[0]))),r++;continue}const c=Mo(s)?s.outlets[nn]:`${s}`,d=r<e.length-1?e[r+1]:null;c&&d&&W8(d)?(i.push(new g5(c,rC(d))),r+=2):(i.push(new g5(c,{})),r++)}return new rn(i,{})}function gM(n){const t={};return E1(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=ef(new rn([],{}),0,e))}),t}function rC(n){const t={};return E1(n,(e,i)=>t[i]=`${e}`),t}function Z8(n,t,e){return n==e.path&&bo(t,e.parameters)}class sC{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Z7(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=cc(e);t.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),E1(r,(s,c)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=cc(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=cc(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=cc(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Gg(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Bg(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(Z7(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),Z7(d.route.value),this.activateChildRoutes(t,null,c.children)}else{const d=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),h=d?d.module.componentFactoryResolver:null;c.attachRef=null,c.route=r,c.resolver=h,c.outlet&&c.outlet.activateWith(r,h),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class tf{constructor(t,e){this.routes=t,this.module=e}}function p3(n){return"function"==typeof n}function A4(n){return n instanceof ac}const dc=Symbol("INITIAL_VALUE");function fc(){return xi(n=>function(...n){const t=(0,B2.yG)(n),e=(0,B2.jO)(n),{args:i,keys:r}=so(n);if(0===i.length)return(0,_n.D)([],t);const s=new bn.y(function(n,t,e=O1.y){return i=>{qa(t,()=>{const{length:r}=n,s=new Array(r);let c=r,d=r;for(let h=0;h<r;h++)qa(t,()=>{const _=(0,_n.D)(n[h],t);let M=!1;_.subscribe(new Mn.Q(i,x=>{s[h]=x,M||(M=!0,d--),d||i.next(e(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>or(r,c):O1.y));return e?s.pipe(to(e)):s}(n.map(t=>t.pipe((0,Yt.q)(1),X1(dc)))).pipe(d3((t,e)=>{let i=!1;return e.reduce((r,s,c)=>r!==dc?r:(s===dc&&(i=!0),i||!1!==s&&c!==e.length-1&&!A4(s)?r:s),t)},dc),Sn(t=>t!==dc),(0,qe.U)(t=>A4(t)?t:!0===t),(0,Yt.q)(1)))}class MM{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new I4,this.attachRef=null}}class I4{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new MM,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let g3=(()=>{class n{constructor(e,i,r,s,c){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=s||nn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const c=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),d=this.parentContexts.getOrCreateContext(this.name).children,h=new wM(e,d,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,h),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(I4),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class wM{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Si?this.route:t===I4?this.childContexts:this.parent.get(t,e)}}let aC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},directives:[g3],encapsulation:2}),n})();function Y8(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];nf(i,lC(t,i))}}function nf(n,t){n.children&&Y8(n.children,t)}function lC(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function y5(n){const t=n.children&&n.children.map(y5),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==nn&&(e.component=aC),e}function jr(n){return n.outlet||nn}function cC(n,t){const e=n.filter(i=>jr(i)===t);return e.push(...n.filter(i=>jr(i)!==t)),e}const K8={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Q8(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},K8):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(t.matcher||L4)(e,n,t);if(!s)return Object.assign({},K8);const c={};E1(s.posParams,(h,_)=>{c[_]=h.path});const d=s.consumed.length>0?Object.assign(Object.assign({},c),s.consumed[s.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:d,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function b5(n,t,e,i,r="corrected"){if(e.length>0&&function(n,t,e){return e.some(i=>rf(n,t,i)&&jr(i)!==nn)}(n,e,i)){const c=new rn(t,function(n,t,e,i){const r={};r[nn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&jr(s)!==nn){const c=new rn([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,r[jr(s)]=c}return r}(n,t,i,new rn(e,n.children)));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(i=>rf(n,t,i))}(n,e,i)){const c=new rn(n.segments,function(n,t,e,i,r,s){const c={};for(const d of i)if(rf(n,e,d)&&!r[jr(d)]){const h=new rn([],{});h._sourceSegment=n,h._segmentIndexShift="legacy"===s?n.segments.length:t.length,c[jr(d)]=h}return Object.assign(Object.assign({},r),c)}(n,t,e,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}const s=new rn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function rf(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function fC(n,t,e,i){return!!(jr(n)===i||i!==nn&&rf(t,e,n))&&("**"===n.path||Q8(t,n,e).matched)}function hc(n,t,e){return 0===t.length&&!n.children[e]}class M5{constructor(t){this.segmentGroup=t||null}}class N4{constructor(t){this.urlTree=t}}function C3(n){return new bn.y(t=>t.error(new M5(n)))}function hC(n){return new bn.y(t=>t.error(new N4(n)))}function CN(n){return new bn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class LM{constructor(t,e,i,r,s){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(o.h0i)}apply(){const t=b5(this.urlTree.root,[],[],this.config).segmentGroup,e=new rn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,nn).pipe((0,qe.U)(s=>this.createUrlTree(sf(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ts(s=>{if(s instanceof N4)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof M5?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,nn).pipe((0,qe.U)(r=>this.createUrlTree(sf(r),t.queryParams,t.fragment))).pipe(Ts(r=>{throw r instanceof M5?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new rn([],{[nn]:t}):t;return new ac(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,qe.U)(s=>new rn([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,_n.D)(r).pipe(l3(s=>{const c=i.children[s],d=cC(e,s);return this.expandSegmentGroup(t,d,c,s).pipe((0,qe.U)(h=>({segment:h,outlet:s})))}),d3((s,c)=>(s[c.outlet]=c.segment,s),{}),function(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Sn((r,s)=>n(r,s,i)):O1.y,z8(1),e?Hg(t):Vg(()=>new c5))}())}expandSegment(t,e,i,r,s,c){return(0,_n.D)(i).pipe(l3(d=>this.expandSegmentAgainstRoute(t,e,i,d,r,s,c).pipe(Ts(_=>{if(_ instanceof M5)return at(null);throw _}))),S4(d=>!!d),Ts((d,h)=>{if(d instanceof c5||"EmptyError"===d.name){if(hc(e,r,s))return at(new rn([],{}));throw new M5(e)}throw d}))}expandSegmentAgainstRoute(t,e,i,r,s,c,d){return fC(r,e,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c):C3(e):C3(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?hC(s):this.lineralizeSegments(i,s).pipe((0,Bi.z)(c=>{const d=new rn(c,{});return this.expandSegment(t,d,e,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){const{matched:d,consumedSegments:h,lastChild:_,positionalParamSegments:M}=Q8(e,r,s);if(!d)return C3(e);const x=this.applyRedirectCommands(h,r.redirectTo,M);return r.redirectTo.startsWith("/")?hC(x):this.lineralizeSegments(r,x).pipe((0,Bi.z)(D=>this.expandSegment(t,e,i,D.concat(s.slice(_)),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?at(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,qe.U)(D=>(i._loadedConfig=D,new rn(r,{})))):at(new rn(r,{}));const{matched:c,consumedSegments:d,lastChild:h}=Q8(e,i,r);if(!c)return C3(e);const _=r.slice(h);return this.getChildConfig(t,i,r).pipe((0,Bi.z)(x=>{const D=x.module,N=x.routes,{segmentGroup:H,slicedSegments:U}=b5(e,d,_,N),Y=new rn(H.segments,H.children);if(0===U.length&&Y.hasChildren())return this.expandChildren(D,N,Y).pipe((0,qe.U)(Te=>new rn(d,Te)));if(0===N.length&&0===U.length)return at(new rn(d,{}));const ae=jr(i)===s;return this.expandSegment(D,Y,N,U,ae?nn:s,!0).pipe((0,qe.U)(ke=>new rn(d.concat(ke.segments),ke.children)))}))}getChildConfig(t,e,i){return e.children?at(new tf(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?at(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Bi.z)(r=>{return r?this.configLoader.load(t.injector,e).pipe((0,qe.U)(s=>(e._loadedConfig=s,s))):(n=e,new bn.y(t=>t.error(d5(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):at(new tf([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?at(r.map(c=>{const d=t.get(c);let h;if((n=d)&&p3(n.canLoad))h=d.canLoad(e,i);else{if(!p3(d))throw new Error("Invalid CanLoad guard");h=d(e,i)}var n;return Ds(h)})).pipe(fc(),(0,Jt.b)(c=>{if(!A4(c))return;const d=d5(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw d.url=c,d}),(0,qe.U)(c=>!0===c)):at(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return at(i);if(r.numberOfChildren>1||!r.children[nn])return CN(t.redirectTo);r=r.children[nn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new ac(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return E1(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=e[d]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let c={};return E1(e.children,(d,h)=>{c[h]=this.createSegmentGroup(t,d,i,r)}),new rn(s,c)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function sf(n){const t={};for(const i of Object.keys(n.children)){const s=sf(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function(n){if(1===n.numberOfChildren&&n.children[nn]){const t=n.children[nn];return new rn(n.segments.concat(t.segments),t.children)}return n}(new rn(n.segments,t))}class af{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class pc{constructor(t,e){this.component=t,this.route=e}}function J8(n,t,e){const i=n._root;return gc(i,t?t._root:null,e,[i.value])}function X8(n,t,e){const i=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function gc(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=cc(t);return n.children.forEach(c=>{(function(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const h=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!f3(n.url,t.url);case"pathParamsOrQueryParamsChange":return!f3(n.url,t.url)||!bo(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Y7(n,t)||!bo(n.queryParams,t.queryParams);default:return!Y7(n,t)}}(c,s,s.routeConfig.runGuardsAndResolvers);h?r.canActivateChecks.push(new af(i)):(s.data=c.data,s._resolvedData=c._resolvedData),gc(n,t,s.component?d?d.children:null:e,i,r),h&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new pc(d.outlet.component,c))}else c&&x5(t,d,r),r.canActivateChecks.push(new af(i)),gc(n,null,s.component?d?d.children:null:e,i,r)})(c,s[c.value.outlet],e,i.concat([c.value]),r),delete s[c.value.outlet]}),E1(s,(c,d)=>x5(c,e.getContext(d),r)),r}function x5(n,t,e){const i=cc(n),r=n.value;E1(i,(s,c)=>{x5(s,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new pc(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class _N{}function cf(n){return new bn.y(t=>t.error(n))}class vN{constructor(t,e,i,r,s,c){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=c}recognize(){const t=b5(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,nn);if(null===e)return null;const i=new q8([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},nn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new pa(i,e),s=new Qg(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,i=W7(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const s of Object.keys(e.children)){const c=e.children[s],d=cC(t,s),h=this.processSegmentGroup(d,c,s);if(null===h)return null;i.push(...h)}const r=eu(i);return r.sort((t,e)=>t.value.outlet===nn?-1:e.value.outlet===nn?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,i,r){for(const s of t){const c=this.processSegmentAgainstRoute(s,e,i,r);if(null!==c)return c}return hc(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!fC(t,e,i,r))return null;let s,c=[],d=[];if("**"===t.path){const N=i.length>0?F8(i).parameters:{};s=new q8(i,N,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ff(t),jr(t),t.component,t,uf(e),df(e)+i.length,yC(t))}else{const N=Q8(e,t,i);if(!N.matched)return null;c=N.consumedSegments,d=i.slice(N.lastChild),s=new q8(c,N.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ff(t),jr(t),t.component,t,uf(e),df(e)+c.length,yC(t))}const h=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:_,slicedSegments:M}=b5(e,c,d,h.filter(N=>void 0===N.redirectTo),this.relativeLinkResolution);var n;if(0===M.length&&_.hasChildren()){const N=this.processChildren(h,_);return null===N?null:[new pa(s,N)]}if(0===h.length&&0===M.length)return[new pa(s,[])];const x=jr(t)===r,D=this.processSegment(h,_,M,x?nn:r);return null===D?null:[new pa(s,D)]}}function vC(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function eu(n){const t=[],e=new Set;for(const i of n){if(!vC(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=eu(i.children);t.push(new pa(i.value,r))}return t.filter(i=>!e.has(i))}function uf(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function df(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function ff(n){return n.data||{}}function yC(n){return n.resolve||{}}function k4(n){return xi(t=>{const e=n(t);return e?(0,_n.D)(e).pipe((0,qe.U)(()=>t)):at(t)})}class wC extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const tu=new o.OlP("ROUTES");class hf{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,qe.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const c=s.create(t);return new tf(Xb(c.injector.get(tu,void 0,o.XFs.Self|o.XFs.Optional)).map(y5),c)}),Ts(s=>{throw e._loader$=void 0,s}));return e._loader$=new Ng(r,()=>new mt.x).pipe(H7()),e._loader$}loadModuleFactory(t){return Ds(t()).pipe((0,Bi.z)(e=>e instanceof o.YKP?at(e):(0,_n.D)(this.compiler.compileModuleAsync(e))))}}class BM{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function UM(n){throw n}function GM(n,t,e){return t.parse("/")}function xC(n,t){return at(null)}const jM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qt=(()=>{class n{constructor(e,i,r,s,c,d,h){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=h,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new mt.x,this.errorHandler=UM,this.malformedUriErrorHandler=GM,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:xC,afterPreactivation:xC},this.urlHandlingStrategy=new BM,this.routeReuseStrategy=new wC,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(o.h0i),this.console=c.get(o.c2e);const x=c.get(o.R0b);this.isNgZoneEnabled=x instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(h),this.currentUrlTree=new ac(new rn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new hf(c,d,D=>this.triggerEvent(new Pg(D)),D=>this.triggerEvent(new zg(D))),this.routerState=uM(this.currentUrlTree,this.rootComponentType),this.transitions=new Qn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Sn(r=>0!==r.id),(0,qe.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),xi(r=>{let s=!1,c=!1;return at(r).pipe((0,Jt.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.currentRawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),xi(d=>{const h=this.browserUrlTree.toString(),_=!this.navigated||d.extractedUrl.toString()!==h||h!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return _c(d.source)&&(this.browserUrlTree=d.extractedUrl),at(d).pipe(xi(x=>{const D=this.transitions.getValue();return i.next(new R7(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),D!==this.transitions.getValue()?li.E:Promise.resolve(x)}),function(n,t,e,i){return xi(r=>function(n,t,e,i,r){return new LM(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,qe.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Jt.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function(n,t,e,i,r){return(0,Bi.z)(s=>function(n,t,e,i,r="emptyOnly",s="legacy"){try{const c=new vN(n,t,e,i,r,s).recognize();return null===c?cf(new _N):at(c)}catch(c){return cf(c)}}(n,t,s.urlAfterRedirects,e(s.urlAfterRedirects),i,r).pipe((0,qe.U)(c=>Object.assign(Object.assign({},s),{targetSnapshot:c}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Jt.b)(x=>{if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const N=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(N,x)}this.browserUrlTree=x.urlAfterRedirects}const D=new Wb(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);i.next(D)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:D,extractedUrl:N,source:H,restoredState:U,extras:Y}=d,ae=new R7(D,this.serializeUrl(N),H,U);i.next(ae);const ce=uM(N,this.rootComponentType).snapshot;return at(Object.assign(Object.assign({},d),{targetSnapshot:ce,urlAfterRedirects:N,extras:Object.assign(Object.assign({},Y),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=d.rawUrl,d.resolve(null),li.E}),k4(d=>{const{targetSnapshot:h,id:_,extractedUrl:M,rawUrl:x,extras:{skipLocationChange:D,replaceUrl:N}}=d;return this.hooks.beforePreactivation(h,{navigationId:_,appliedUrlTree:M,rawUrlTree:x,skipLocationChange:!!D,replaceUrl:!!N})}),(0,Jt.b)(d=>{const h=new Zb(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(h)}),(0,qe.U)(d=>Object.assign(Object.assign({},d),{guards:J8(d.targetSnapshot,d.currentSnapshot,this.rootContexts)})),function(n,t){return(0,Bi.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=e;return 0===c.length&&0===s.length?at(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,i){return(0,_n.D)(n).pipe((0,Bi.z)(r=>function(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?at(s.map(d=>{const h=X8(d,t,r);let _;if(function(n){return n&&p3(n.canDeactivate)}(h))_=Ds(h.canDeactivate(n,t,e,i));else{if(!p3(h))throw new Error("Invalid CanDeactivate guard");_=Ds(h(n,t,e,i))}return _.pipe(S4())})).pipe(fc()):at(!0)}(r.component,r.route,e,t,i)),S4(r=>!0!==r,!0))}(c,i,r,n).pipe((0,Bi.z)(d=>d&&function(n){return"boolean"==typeof n}(d)?function(n,t,e,i){return(0,_n.D)(t).pipe(l3(r=>oo(function(n,t){return null!==n&&t&&t(new Fg(n)),at(!0)}(r.route.parent,i),function(n,t){return null!==n&&t&&t(new Ug(n)),at(!0)}(r.route,i),function(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(c=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>V7(()=>at(c.guards.map(h=>{const _=X8(h,c.node,e);let M;if(function(n){return n&&p3(n.canActivateChild)}(_))M=Ds(_.canActivateChild(i,n));else{if(!p3(_))throw new Error("Invalid CanActivateChild guard");M=Ds(_(i,n))}return M.pipe(S4())})).pipe(fc())));return at(s).pipe(fc())}(n,r.path,e),function(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return at(!0);const r=i.map(s=>V7(()=>{const c=X8(s,t,e);let d;if(function(n){return n&&p3(n.canActivate)}(c))d=Ds(c.canActivate(t,n));else{if(!p3(c))throw new Error("Invalid CanActivate guard");d=Ds(c(t,n))}return d.pipe(S4())}));return at(r).pipe(fc())}(n,r.route,e))),S4(r=>!0!==r,!0))}(i,s,n,t):at(d)),(0,qe.U)(d=>Object.assign(Object.assign({},e),{guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,Jt.b)(d=>{if(A4(d.guardsResult)){const _=d5(`Redirecting to "${this.serializeUrl(d.guardsResult)}"`);throw _.url=d.guardsResult,_}const h=new Yb(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(h)}),Sn(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,""),!1)),k4(d=>{if(d.guards.canActivateChecks.length)return at(d).pipe((0,Jt.b)(h=>{const _=new Kb(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(_)}),xi(h=>{let _=!1;return at(h).pipe(function(n,t){return(0,Bi.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return at(e);let s=0;return(0,_n.D)(r).pipe(l3(c=>function(n,t,e,i){return function(n,t,e,i){const r=Object.keys(n);if(0===r.length)return at({});const s={};return(0,_n.D)(r).pipe((0,Bi.z)(c=>function(n,t,e,i){const r=X8(n,t,i);return Ds(r.resolve?r.resolve(t,e):r(t,e))}(n[c],t,e,i).pipe((0,Jt.b)(d=>{s[c]=d}))),z8(1),(0,Bi.z)(()=>Object.keys(s).length===r.length?at(s):li.E))}(n._resolve,n,t,i).pipe((0,qe.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),W7(n,e).resolve),null)))}(c.route,i,n,t)),(0,Jt.b)(()=>s++),z8(1),(0,Bi.z)(c=>s===r.length?at(e):li.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Jt.b)({next:()=>_=!0,complete:()=>{_||(this.restoreHistory(h),this.cancelNavigationTransition(h,"At least one route resolver didn't emit any value."))}}))}),(0,Jt.b)(h=>{const _=new Qb(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(_)}))}),k4(d=>{const{targetSnapshot:h,id:_,extractedUrl:M,rawUrl:x,extras:{skipLocationChange:D,replaceUrl:N}}=d;return this.hooks.afterPreactivation(h,{navigationId:_,appliedUrlTree:M,rawUrlTree:x,skipLocationChange:!!D,replaceUrl:!!N})}),(0,qe.U)(d=>{const h=function(n,t,e){const i=_5(n,t._root,e?e._root:void 0);return new cM(i,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return Object.assign(Object.assign({},d),{targetRouterState:h})}),(0,Jt.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,qe.U)(i=>(new sC(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,Jt.b)({next(){s=!0},complete(){s=!0}}),Rg(()=>{var d;s||c||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(d=this.currentNavigation)||void 0===d?void 0:d.id)===r.id&&(this.currentNavigation=null)}),Ts(d=>{if(c=!0,function(n){return n&&n[P7]}(d)){const h=A4(d.url);h||(this.navigated=!0,this.restoreHistory(r,!0));const _=new Og(r.id,this.serializeUrl(r.extractedUrl),d.message);i.next(_),h?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),x={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_c(r.source)};this.scheduleNavigation(M,"imperative",null,x,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const h=new $b(r.id,this.serializeUrl(r.extractedUrl),d);i.next(h);try{r.resolve(this.errorHandler(d))}catch(_){r.reject(_)}}return li.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},c=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(c){const h=Object.assign({},c);delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(s.state=h)}const d=this.parseUrl(e.url);this.scheduleNavigation(d,i,c,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Y8(e),this.config=e.map(y5),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:d,preserveFragment:h}=i,_=r||this.routerState.root,M=h?this.currentUrlTree.fragment:c;let x=null;switch(d){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=s||null}return null!==x&&(x=this.removeEmptyProps(x)),function(n,t,e,i,r){if(0===e.length)return K7(t.root,t.root,t,i,r);const s=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Xg(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return E1(s.outlets,(h,_)=>{d[_]="string"==typeof h?h.split("/"):h}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((d,h)=>{0==h&&"."===d||(0==h&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new Xg(e,t,i)}(e);if(s.toRoot())return K7(t.root,new rn([],{}),t,i,r);const c=function(n,t,e){if(n.isAbsolute)return new J7(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new J7(s,s===t.root,0)}const i=W8(n.commands[0])?0:1;return function(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new J7(i,!1,r-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,t,n),d=c.processChildren?v5(c.segmentGroup,c.index,s.commands):nC(c.segmentGroup,c.index,s.commands);return K7(c.segmentGroup,d,t,i,r)}(_,this.currentUrlTree,e,x,null!=M?M:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=A4(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},jM):!1===i?Object.assign({},qM):i,A4(e))return $g(this.currentUrlTree,e,r);const s=this.parseUrl(e);return $g(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new u5(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,c){var d,h,_;if(this.disposed)return Promise.resolve(!1);const M=this.transitions.value,x=_c(i)&&M&&!_c(M.source),D=M.rawUrl.toString()===e.toString(),N=M.id===(null===(d=this.currentNavigation)||void 0===d?void 0:d.id);if(x&&D&&N)return Promise.resolve(!0);let U,Y,ae;c?(U=c.resolve,Y=c.reject,ae=c.promise):ae=new Promise((Te,tt)=>{U=Te,Y=tt});const ce=++this.navigationId;let ke;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),ke=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):ke=0,this.setTransition({id:ce,targetPageId:ke,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:U,reject:Y,promise:ae,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ae.catch(Te=>Promise.reject(Te))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===c?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===c&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new Og(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function _c(n){return"imperative"!==n}let o1=(()=>{class n{constructor(e,i,r,s,c){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=c,this.commands=null,this.onChanges=new mt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:ga(this.skipLocationChange),replaceUrl:ga(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ga(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qt),o.Y36(Si),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})(),nu=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new mt.x,this.subscription=e.events.subscribe(s=>{s instanceof u5&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,s,c){if(0!==e||i||r||s||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const d={skipLocationChange:ga(this.skipLocationChange),replaceUrl:ga(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,d),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ga(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qt),o.Y36(Si),o.Y36(Fe))},n.\u0275dir=o.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&o.uIk("target",i.target)("href",i.href,o.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})();function ga(n){return""===n||!!n}let Ca=(()=>{class n{constructor(e,i,r,s,c,d){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=c,this.linkWithHref=d,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new o.vpe,this.routerEventsSubscription=e.events.subscribe(h=>{h instanceof u5&&this.update()})}ngAfterContentInit(){at(this.links.changes,this.linksWithHrefs.changes,at(null)).pipe((0,$a.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,_n.D)(i).pipe((0,$a.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qt),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(o1,8),o.Y36(nu,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,o1,5),o.Suo(r,nu,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.links=s),o.iGM(s=o.CRH())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[o.TTD]}),n})();class SC{}class S5{preload(t,e){return at(null)}}let E5=(()=>{class n{constructor(e,i,r,s){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=new hf(r,i,h=>e.triggerEvent(new Pg(h)),h=>e.triggerEvent(new zg(h)))}setUpPreloading(){this.subscription=this.router.events.pipe(Sn(e=>e instanceof u5),l3(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(o.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const c=s._loadedConfig;r.push(this.processRoutes(c.module,c.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(e,s)):s.children&&r.push(this.processRoutes(e,s.children));return(0,_n.D)(r).pipe((0,$a.J)(),(0,qe.U)(s=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?at(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Bi.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(qt),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(SC))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),pf=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof R7?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof u5&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof O7&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new O7(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const m3=new o.OlP("ROUTER_CONFIGURATION"),gf=new o.OlP("ROUTER_FORROOT_GUARD"),Cf=[ot,{provide:F7,useClass:B7},{provide:qt,useFactory:function(n,t,e,i,r,s,c={},d,h){const _=new qt(null,n,t,e,i,r,Xb(s));return d&&(_.urlHandlingStrategy=d),h&&(_.routeReuseStrategy=h),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(c,_),c.enableTracing&&_.events.subscribe(M=>{var x,D;null===(x=console.group)||void 0===x||x.call(console,`Router Event: ${M.constructor.name}`),console.log(M.toString()),console.log(M),null===(D=console.groupEnd)||void 0===D||D.call(console)}),_},deps:[F7,I4,ot,o.zs3,o.Sil,tu,m3,[class{},new o.FiY],[class{},new o.FiY]]},I4,{provide:Si,useFactory:function(n){return n.routerState.root},deps:[qt]},E5,S5,class{preload(t,e){return e().pipe(Ts(()=>at(null)))}},{provide:m3,useValue:{enableTracing:!1}}];function EC(){return new o.PXZ("Router",qt)}let mf=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[Cf,iu(e),{provide:gf,useFactory:_f,deps:[[qt,new o.FiY,new o.tp0]]},{provide:m3,useValue:i||{}},{provide:Fe,useFactory:wN,deps:[ue,[new o.tBr(De),new o.FiY],m3]},{provide:pf,useFactory:YM,deps:[qt,ul,m3]},{provide:SC,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:S5},{provide:o.PXZ,multi:!0,useFactory:EC},[bf,{provide:o.ip1,multi:!0,useFactory:KM,deps:[bf]},{provide:TC,useFactory:QM,deps:[bf]},{provide:o.tb,multi:!0,useExisting:TC}]]}}static forChild(e){return{ngModule:n,providers:[iu(e)]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(gf,8),o.LFG(qt,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function YM(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new pf(n,t,e)}function wN(n,t,e={}){return e.useHash?new He(n,t):new Be(n,t)}function _f(n){return"guarded"}function iu(n){return[{provide:o.deG,multi:!0,useValue:n},{provide:tu,multi:!0,useValue:n}]}let bf=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new mt.x}appInitializer(){return this.injector.get(q,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(d=>i=d),s=this.injector.get(qt),c=this.injector.get(m3);return"disabled"===c.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?at(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(m3),r=this.injector.get(E5),s=this.injector.get(pf),c=this.injector.get(qt),d=this.injector.get(o.z2F);e===d.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&c.initialNavigation(),r.setUpPreloading(),s.init(),c.resetRootComponentType(d.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function KM(n){return n.appInitializer.bind(n)}function QM(n){return n.bootstrapListener.bind(n)}const TC=new o.OlP("Router Initializer");let Xn=(()=>{class n{constructor(e,i){this.http=e,this.router=i,this.user=new Qn(null)}login(e,i){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyC-O0-Lj0tjPToBSQpFqIcgGJaMt8Ia6YA",{email:e,password:i,returnSecureToken:!0}).pipe(Ts(this.handleError),(0,Jt.b)(r=>{this.handleAuthentication(r.email,r.localId,r.idToken,+r.expiresIn)}))}logout(){this.user.next(null),this.router.navigate([""])}handleAuthentication(e,i,r,s){const c=new Date((new Date).getTime()+1e3*s),d=new k7(e,i,r,c);this.user.next(d)}handleError(e){let i="An unknown error occurred!";if(!e.error||!e.error.error)return O8(i);switch(e.error.error.message){case"EMAIL_NOT_FOUND":i="This email does not exist.";break;case"INVALID_PASSWORD":i="This password is not correct."}return O8(i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(x4),o.LFG(qt))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),E2=(()=>{class n{constructor(){this.itemsChanged=new mt.x,this.tuotteetChanged=new mt.x,this.korjauksetChanged=new mt.x,this.palvelutChanged=new mt.x,this.remontitChanged=new mt.x,this.remontit=[],this.korjaukset=[],this.palvelut=[],this.items=[],this.tuotteet=[]}setItems(e){this.items=e,this.itemsChanged.next(this.items.slice())}getItems(){return this.items.slice()}getItem(e){return this.items[e]}addItem(e){this.items.push(e),this.itemsChanged.next(this.items.slice())}updateItem(e,i){this.items[e]=i,this.itemsChanged.next(this.items.slice())}deleteItem(e){this.items.splice(e,1),this.itemsChanged.next(this.items.slice())}getTuotteet(){return this.tuotteet.slice()}getTuote(e){return this.tuotteet[e]}setKorjaukset(e){this.korjaukset=e,this.korjauksetChanged.next(this.korjaukset.slice())}getKorjaukset(){return this.korjaukset.slice()}getKorjaus(e){return this.korjaukset[e]}addKorjaus(e){this.korjaukset.push(e),this.korjauksetChanged.next(this.korjaukset.slice())}updateKorjaus(e,i){this.korjaukset[e]=i,this.korjauksetChanged.next(this.korjaukset.slice())}deleteKorjaus(e){this.korjaukset.splice(e,1),this.korjauksetChanged.next(this.korjaukset.slice())}setPalvelut(e){this.palvelut=e,this.palvelutChanged.next(this.palvelut.slice())}getPalvelut(){return this.palvelut.slice()}getPalvelu(e){return this.palvelut[e]}addPalvelu(e){this.palvelut.push(e),this.palvelutChanged.next(this.palvelut.slice())}updatePalvelu(e,i){this.palvelut[e]=i,this.palvelutChanged.next(this.palvelut.slice())}deletePalvelu(e){this.palvelut.splice(e,1),this.palvelutChanged.next(this.palvelut.slice())}setRemontit(e){this.remontit=e,this.remontitChanged.next(this.remontit.slice())}getRemontit(){return this.remontit.slice()}getRemontti(e){return this.remontit[e]}addRemontti(e){this.remontit.push(e),this.remontitChanged.next(this.remontit.slice())}updateRemontti(e,i){this.remontit[e]=i,this.remontitChanged.next(this.remontit.slice())}deleteRemontti(e){this.remontit.splice(e,1),this.remontitChanged.next(this.remontit.slice())}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),F1=(()=>{class n{constructor(e,i){this.http=e,this.galleryService=i}storeItems(){const e=this.galleryService.getItems();this.http.put("https://eurouuni-ced0b-default-rtdb.europe-west1.firebasedatabase.app/gallery.json",e).subscribe(i=>{console.log(i)})}fetchItems(){return this.http.get("https://eurouuni-ced0b-default-rtdb.europe-west1.firebasedatabase.app/gallery.json").pipe((0,qe.U)(e=>e.map(i=>Object.assign(Object.assign({},i),{tuotteet:i.tuotteet?i.tuotteet:[]}))),(0,Jt.b)(e=>{this.galleryService.setItems(e)}))}storeKorjaukset(){const e=this.galleryService.getKorjaukset();this.http.put("https://eurouuni-ced0b-default-rtdb.europe-west1.firebasedatabase.app/korjaukset.json",e).subscribe(i=>{console.log(i)})}fetchKorjaukset(){return this.http.get("https://eurouuni-ced0b-default-rtdb.europe-west1.firebasedatabase.app/korjaukset.json").pipe((0,qe.U)(e=>e.map(i=>Object.assign({},i))),(0,Jt.b)(e=>{this.galleryService.setKorjaukset(e)}))}storePalvelut(){const e=this.galleryService.getPalvelut();this.http.put("https://eurouuni-ced0b-default-rtdb.europe-west1.firebasedatabase.app/palvelut.json",e).subscribe(i=>{console.log(i)})}fetchPalvelut(){return this.http.get("https://eurouuni-ced0b-default-rtdb.europe-west1.firebasedatabase.app/palvelut.json").pipe((0,qe.U)(e=>e.map(i=>Object.assign({},i))),(0,Jt.b)(e=>{this.galleryService.setPalvelut(e)}))}storeRemontit(){const e=this.galleryService.getRemontit();this.http.put("https://eurouuni-ced0b-default-rtdb.europe-west1.firebasedatabase.app/remontit.json",e).subscribe(i=>{console.log(i)})}fetchRemontit(){return this.http.get("https://eurouuni-ced0b-default-rtdb.europe-west1.firebasedatabase.app/remontit.json").pipe((0,qe.U)(e=>e.map(i=>Object.assign({},i))),(0,Jt.b)(e=>{this.galleryService.setRemontit(e)}))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(x4),o.LFG(E2))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IC=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,o.f3M)(J)}}),NC=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let _3,L5=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new o.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?NC.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(IC,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();try{_3="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){_3=!1}let H4,ru,R4,ou,qr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?F2(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!_3)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function D5(n){return function(){if(null==H4&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>H4=!0}))}finally{H4=H4||!1}return H4}()?n:!!n.capture}function su(){if(null==R4){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return R4=!1,R4;if("scrollBehavior"in document.documentElement.style)R4=!0;else{const n=Element.prototype.scrollTo;R4=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return R4}function yc(){if("object"!=typeof document||!document)return 0;if(null==ru){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),ru=0,0===n.scrollLeft&&(n.scrollLeft=1,ru=0===n.scrollLeft?1:2),n.remove()}return ru}function v3(n){return n.composedPath?n.composedPath()[0]:n.target}function xf(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function cu(n,t=rr.z){return(0,ci.e)((e,i)=>{let r=null,s=null,c=null;const d=()=>{if(r){r.unsubscribe(),r=null;const _=s;s=null,i.next(_)}};function h(){const _=c+n,M=t.now();if(M<_)return r=this.schedule(void 0,_-M),void i.add(r);d()}e.subscribe(new Mn.Q(i,_=>{s=_,c=t.now(),r||(r=t.schedule(h,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}function qi(n){return null!=n&&"false"!=`${n}`}function kw(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Vw(n){return Array.isArray(n)?n:[n]}function v1(n){return null==n?"":"string"==typeof n?n:`${n}px`}function N5(n){return n instanceof o.SBq?n.nativeElement:n}let XC=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function(n){try{return n.frameElement}catch(t){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===tm(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=tm(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||em(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(qr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function em(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function tm(n){if(!em(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class _k{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,Yt.q)(1)).subscribe(t)}}let vk=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new _k(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(XC),o.LFG(o.R0b),o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function a(n){return 0===n.offsetX&&0===n.offsetY}function l(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const u=new o.OlP("cdk-input-modality-detector-options"),f={ignoreKeys:[18,17,224,91,16]},m=D5({passive:!0,capture:!0});let y=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Qn(null),this._lastTouchMs=0,this._onKeydown=c=>{var d,h;(null===(h=null===(d=this._options)||void 0===d?void 0:d.ignoreKeys)||void 0===h?void 0:h.some(_=>_===c.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=v3(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(a(c)?"keyboard":"mouse"),this._mostRecentTarget=v3(c))},this._onTouchstart=c=>{l(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=v3(c))},this._options=Object.assign(Object.assign({},f),s),this.modalityDetected=this._modality.pipe(function(n){return Sn((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(Xi()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,m),r.addEventListener("mousedown",this._onMousedown,m),r.addEventListener("touchstart",this._onTouchstart,m)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,m),document.removeEventListener("mousedown",this._onMousedown,m),document.removeEventListener("touchstart",this._onTouchstart,m))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(qr),o.LFG(o.R0b),o.LFG(J),o.LFG(u,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const j=new o.OlP("cdk-focus-monitor-default-options"),Q=D5({passive:!0,capture:!0});let me=(()=>{class n{constructor(e,i,r,s,c){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new mt.x,this._rootNodeFocusAndBlurListener=d=>{const h=v3(d),_="focus"===d.type?this._onFocus:this._onBlur;for(let M=h;M;M=M.parentElement)_.call(this,d,M)},this._document=s,this._detectionMode=(null==c?void 0:c.detectionMode)||0}monitor(e,i=!1){const r=N5(e);if(!this._platform.isBrowser||1!==r.nodeType)return at(null);const s=function(n){if(function(){if(null==ou){const n="undefined"!=typeof document?document.head:null;ou=!(!n||!n.createShadowRoot&&!n.attachShadow)}return ou}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const d={checkChildren:i,subject:new mt.x,rootNode:s};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=N5(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=N5(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,h])=>this._originChanged(d,i,h)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=v3(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Q),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Q)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Tt(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Q),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Q),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(qr),o.LFG(y),o.LFG(J,8),o.LFG(j,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const je="cdk-high-contrast-black-on-white",rt="cdk-high-contrast-white-on-black",we="cdk-high-contrast-active";let bt=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(we),e.remove(je),e.remove(rt),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(we),e.add(je)):2===i&&(e.add(we),e.add(rt))}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(qr),o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class En{}const L2="*";function k5(n,t){return{type:7,name:n,definitions:t,options:{}}}function O4(n,t=null){return{type:4,styles:t,timings:n}}function uu(n,t=null){return{type:2,steps:n,options:t}}function As(n){return{type:6,styles:n,offset:null}}function Mc(n,t,e){return{type:0,name:n,styles:t,options:e}}function P4(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function bk(n){Promise.resolve(null).then(n)}class du{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){bk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Mk{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?bk(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function wk(){return"undefined"!=typeof window&&void 0!==window.document}function $w(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function wc(n){switch(n.length){case 0:return new du;case 1:return n[0];default:return new Mk(n)}}function xk(n,t,e,i,r={},s={}){const c=[],d=[];let h=-1,_=null;if(i.forEach(M=>{const x=M.offset,D=x==h,N=D&&_||{};Object.keys(M).forEach(H=>{let U=H,Y=M[H];if("offset"!==H)switch(U=t.normalizePropertyName(U,c),Y){case"!":Y=r[H];break;case L2:Y=s[H];break;default:Y=t.normalizeStyleValue(H,U,Y,c)}N[U]=Y}),D||d.push(N),_=N,h=x}),c.length){const M="\n - ";throw new Error(`Unable to animate due to the following errors:${M}${c.join(M)}`)}return d}function Ww(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Zw(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Zw(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Zw(e,"destroy",n)))}}function Zw(n,t,e){const i=e.totalTime,s=Yw(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),c=n._data;return null!=c&&(s._data=c),s}function Yw(n,t,e,i,r="",s=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function Is(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function Sk(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Kw=(n,t)=>!1,Ek=(n,t,e)=>[];($w()||"undefined"!=typeof Element)&&(Kw=wk()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),Ek=(n,t,e)=>{let i=[];if(e){const r=n.querySelectorAll(t);for(let s=0;s<r.length;s++)i.push(r[s])}else{const r=n.querySelector(t);r&&i.push(r)}return i});let V5=null,Lk=!1;function Qw(n){V5||(V5=("undefined"!=typeof document?document.body:null)||{},Lk=!!V5.style&&"WebkitAppearance"in V5.style);let t=!0;return V5.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in V5.style,!t&&Lk&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in V5.style)),t}const Jw=Kw,Xw=Ek;function Tk(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let Dk=(()=>{class n{validateStyleProperty(e){return Qw(e)}matchesElement(e,i){return!1}containsElement(e,i){return Jw(e,i)}query(e,i,r){return Xw(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,c,d=[],h){return new du(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),ex=(()=>{class n{}return n.NOOP=new Dk,n})();const tx="ng-enter",sm="ng-leave",om="ng-trigger",am=".ng-trigger",Ik="ng-animating",nx=".ng-animating";function H5(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:ix(parseFloat(t[1]),t[2])}function ix(n,t){return"s"===t?1e3*n:n}function lm(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let r,s=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};r=ix(parseFloat(d[1]),d[2]);const h=d[3];null!=h&&(s=ix(parseFloat(h),d[4]));const _=d[5];_&&(c=_)}else r=n;if(!e){let d=!1,h=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),d=!0),s<0&&(t.push("Delay values below 0 are not allowed for this animation step."),d=!0),d&&t.splice(h,0,`The provided timing value "${n}" is invalid.`)}return{duration:r,delay:s,easing:c}}(n,t,e)}function fu(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function xc(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else fu(n,e);return e}function kk(n,t,e){return e?t+":"+e+";":""}function Vk(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=kk(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=kk(0,xX(e),n.style[e]));n.setAttribute("style",t)}function y3(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=sx(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),$w()&&Vk(n))}function R5(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=sx(e);n.style[i]=""}),$w()&&Vk(n))}function Pf(n){return Array.isArray(n)?1==n.length?n[0]:uu(n):n}const rx=new RegExp("{{\\s*(.+?)\\s*}}","g");function Hk(n){let t=[];if("string"==typeof n){let e;for(;e=rx.exec(n);)t.push(e[1]);rx.lastIndex=0}return t}function cm(n,t,e){const i=n.toString(),r=i.replace(rx,(s,c)=>{let d=t[c];return t.hasOwnProperty(c)||(e.push(`Please provide a value for the animation param ${c}`),d=""),d.toString()});return r==i?n:r}function um(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const wX=/-+([a-z0-9])/g;function sx(n){return n.replace(wX,(...t)=>t[1].toUpperCase())}function xX(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Rk(n,t){return 0===n||0===t}function Ok(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let s=t[0],c=[];if(i.forEach(d=>{s.hasOwnProperty(d)||c.push(d),s[d]=e[d]}),c.length)for(var r=1;r<t.length;r++){let d=t[r];c.forEach(function(h){d[h]=ox(n,h)})}}return t}function Ns(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function ox(n,t){return window.getComputedStyle(n)[t]}function SX(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const h=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof h)return void t.push(h);n=h}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const r=i[1],s=i[2],c=i[3];t.push(Pk(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&t.push(Pk(c,r))}(i,e,t)):e.push(n),e}const fm=new Set(["true","1"]),hm=new Set(["false","0"]);function Pk(n,t){const e=fm.has(n)||hm.has(n),i=fm.has(t)||hm.has(t);return(r,s)=>{let c="*"==n||n==r,d="*"==t||t==s;return!c&&e&&"boolean"==typeof r&&(c=r?fm.has(n):hm.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?fm.has(t):hm.has(t)),c&&d}}const TX=new RegExp("s*:selfs*,?","g");function ax(n,t,e){return new DX(n).build(t,e)}class DX{constructor(t){this._driver=t}build(t,e){const i=new NX(e);return this._resetContextStyleTimingState(i),Ns(this,Pf(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const h=d,_=h.name;_.toString().split(/\s*,\s*/).forEach(M=>{h.name=M,s.push(this.visitState(h,e))}),h.name=_}else if(1==d.type){const h=this.visitTransition(d,e);i+=h.queryCount,r+=h.depCount,c.push(h)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};if(i.styles.forEach(d=>{if(pm(d)){const h=d;Object.keys(h).forEach(_=>{Hk(h[_]).forEach(M=>{c.hasOwnProperty(M)||s.add(M)})})}}),s.size){const d=um(s.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${d.join(", ")}`)}}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ns(this,Pf(t.animation),e);return{type:1,matchers:SX(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:O5(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ns(this,i,e)),options:O5(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(c=>{e.currentTime=i;const d=Ns(this,c,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:3,steps:s,options:O5(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return lx(lm(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=lx(0,0,"");return s.dynamic=!0,s.strValue=i,s}return e=e||lm(i,t),lx(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:As({});if(5==s.type)r=this.visitKeyframes(s,e);else{let c=t.styles,d=!1;if(!c){d=!0;const _={};i.easing&&(_.easing=i.easing),c=As(_)}e.currentTime+=i.duration+i.delay;const h=this.visitStyle(c,e);h.isEmptyStep=d,r=h}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(c=>{"string"==typeof c?c==L2?i.push(c):e.errors.push(`The provided style string value ${c} is not allowed.`):i.push(c)}):i.push(t.styles);let r=!1,s=null;return i.forEach(c=>{if(pm(c)){const d=c,h=d.easing;if(h&&(s=h,delete d.easing),!r)for(let _ in d)if(d[_].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(d=>{if(!this._driver.validateStyleProperty(d))return void e.errors.push(`The provided animation property "${d}" is not a supported CSS property for animations`);const h=e.collectedStyles[e.currentQuerySelector],_=h[d];let M=!0;_&&(s!=r&&s>=_.startTime&&r<=_.endTime&&(e.errors.push(`The CSS property "${d}" that exists between the times of "${_.startTime}ms" and "${_.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${r}ms"`),M=!1),s=_.startTime),M&&(h[d]={startTime:s,endTime:r}),e.options&&function(n,t,e){const i=t.params||{},r=Hk(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(c[d],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let s=0;const c=[];let d=!1,h=!1,_=0;const M=t.steps.map(ae=>{const ce=this._makeStyleAst(ae,e);let ke=null!=ce.offset?ce.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(pm(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(pm(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(ce.styles),Te=0;return null!=ke&&(s++,Te=ce.offset=ke),h=h||Te<0||Te>1,d=d||Te<_,_=Te,c.push(Te),ce});h&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),d&&e.errors.push("Please ensure that all keyframe offsets are in order");const x=t.steps.length;let D=0;s>0&&s<x?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(D=1/(x-1));const N=x-1,H=e.currentTime,U=e.currentAnimateTimings,Y=U.duration;return M.forEach((ae,ce)=>{const ke=D>0?ce==N?1:D*ce:c[ce],Te=ke*Y;e.currentTime=H+U.delay+Te,U.duration=Te,this._validateStyleAst(ae,e),ae.offset=ke,i.styles.push(ae)}),i}visitReference(t,e){return{type:8,animation:Ns(this,Pf(t.animation),e),options:O5(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:O5(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:O5(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,c]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(TX,"")),n=n.replace(/@\*/g,am).replace(/@\w+/g,e=>am+"-"+e.substr(1)).replace(/:animating/g,nx),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Is(e.collectedStyles,e.currentQuerySelector,{});const d=Ns(this,Pf(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:t.selector,options:O5(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:lm(t.timings,e.errors,!0);return{type:12,animation:Ns(this,Pf(t.animation),e),timings:i,options:null}}}class NX{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function pm(n){return!Array.isArray(n)&&"object"==typeof n}function O5(n){return n?(n=fu(n)).params&&(n.params=function(n){return n?fu(n):null}(n.params)):n={},n}function lx(n,t,e){return{duration:n,delay:t,easing:e}}function cx(n,t,e,i,r,s,c=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:d}}class gm{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const OX=new RegExp(":enter","g"),zX=new RegExp(":leave","g");function ux(n,t,e,i,r,s={},c={},d,h,_=[]){return(new FX).buildKeyframes(n,t,e,i,r,s,c,d,h,_)}class FX{buildKeyframes(t,e,i,r,s,c,d,h,_,M=[]){_=_||new gm;const x=new dx(t,e,_,r,s,M,[]);x.options=h,x.currentTimeline.setStyles([c],null,x.errors,h),Ns(this,i,x);const D=x.timelines.filter(N=>N.containsAnimation());if(D.length&&Object.keys(d).length){const N=D[D.length-1];N.allowOnlyTimelineStyles()||N.setStyles([d],null,x.errors,h)}return D.length?D.map(N=>N.buildKeyframes()):[cx(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const c=null!=i.duration?H5(i.duration):null,d=null!=i.delay?H5(i.delay):null;return 0!==c&&t.forEach(h=>{const _=e.appendInstructionToTimeline(h,c,d);s=Math.max(s,_.duration+_.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Ns(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Cm);const c=H5(s.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>Ns(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?H5(t.options.delay):0;t.steps.forEach(c=>{const d=e.createSubContext(t.options);s&&d.delayNextStep(s),Ns(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return lm(e.params?cm(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(h=>{d.forwardTime((h.offset||0)*s),d.setStyles(h.styles,h.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?H5(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Cm);let c=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let h=null;d.forEach((_,M)=>{e.currentQueryIndex=M;const x=e.createSubContext(t.options,_);s&&x.delayNextStep(s),_===e.element&&(h=x.currentTimeline),Ns(this,t.animation,x),x.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,x.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),h&&(e.currentTimeline.mergeTimelineCollectedStyles(h),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,c=Math.abs(s.duration),d=c*(e.currentQueryTotal-1);let h=c*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":h=d-h;break;case"full":h=i.currentStaggerTime}const M=e.currentTimeline;h&&M.delayNextStep(h);const x=M.currentTime;Ns(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-x+(r.startTime-i.currentTimeline.startTime)}}const Cm={};class dx{constructor(t,e,i,r,s,c,d,h){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Cm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new mm(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=H5(i.duration)),null!=i.delay&&(r.delay=H5(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(d=>{(!e||!c.hasOwnProperty(d))&&(c[d]=cm(s[d],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new dx(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Cm,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},s=new BX(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,c){let d=[];if(r&&d.push(this.element),t.length>0){t=(t=t.replace(OX,"."+this._enterClassName)).replace(zX,"."+this._leaveClassName);let _=this._driver.query(this.element,t,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),d.push(..._)}return!s&&0==d.length&&c.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),d}}class mm{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new mm(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||L2,this._currentKeyframe[e]=L2}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const s=r&&r.params||{},c=function(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(s=>{e[s]=L2})):xc(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(c).forEach(d=>{const h=cm(c[d],s,i);this._pendingStyles[d]=h,this._localTimelineStyles.hasOwnProperty(d)||(this._backFill[d]=this._globalTimelineStyles.hasOwnProperty(d)?this._globalTimelineStyles[d]:L2),this._updateStyle(d,h)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,h)=>{const _=xc(d,!0);Object.keys(_).forEach(M=>{const x=_[M];"!"==x?t.add(M):x==L2&&e.add(M)}),i||(_.offset=h/this.duration),r.push(_)});const s=t.size?um(t.values()):[],c=e.size?um(e.values()):[];if(i){const d=r[0],h=fu(d);d.offset=0,h.offset=1,r=[d,h]}return cx(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class BX extends mm{constructor(t,e,i,r,s,c,d=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],c=i+e,d=e/c,h=xc(t[0],!1);h.offset=0,s.push(h);const _=xc(t[0],!1);_.offset=Bk(d),s.push(_);const M=t.length-1;for(let x=1;x<=M;x++){let D=xc(t[x],!1);D.offset=Bk((e+D.offset*i)/c),s.push(D)}i=c,e=0,r="",t=s}return cx(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function Bk(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class fx{}class GX extends fx{normalizePropertyName(t,e){return sx(t)}normalizeStyleValue(t,e,i,r){let s="";const c=i.toString().trim();if(jX[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(`Please provide a CSS unit value for ${t}:${i}`)}return c+s}}const jX=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Uk(n,t,e,i,r,s,c,d,h,_,M,x,D){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:c,timelines:d,queriedElements:h,preStyleProps:_,postStyleProps:M,totalTime:x,errors:D}}const hx={};class Gk{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],s=this._stateStyles[t],c=r?r.buildStyles(e,i):{};return s?s.buildStyles(e,i):c}build(t,e,i,r,s,c,d,h,_,M){const x=[],D=this.ast.options&&this.ast.options.params||hx,H=this.buildStyles(i,d&&d.params||hx,x),U=h&&h.params||hx,Y=this.buildStyles(r,U,x),ae=new Set,ce=new Map,ke=new Map,Te="void"===r,tt={params:Object.assign(Object.assign({},D),U)},st=M?[]:ux(t,e,this.ast.animation,s,c,H,Y,tt,_,x);let an=0;if(st.forEach(ei=>{an=Math.max(ei.duration+ei.delay,an)}),x.length)return Uk(e,this._triggerName,i,r,Te,H,Y,[],[],ce,ke,an,x);st.forEach(ei=>{const jn=ei.element,yi=Is(ce,jn,{});ei.preStyleProps.forEach(V0=>yi[V0]=!0);const Vo=Is(ke,jn,{});ei.postStyleProps.forEach(V0=>Vo[V0]=!0),jn!==e&&ae.add(jn)});const Kt=um(ae.values());return Uk(e,this._triggerName,i,r,Te,H,Y,st,Kt,ce,ke,an)}}class WX{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=fu(this.defaultParams);return Object.keys(t).forEach(s=>{const c=t[s];null!=c&&(r[s]=c)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const c=s;Object.keys(c).forEach(d=>{let h=c[d];h.length>1&&(h=cm(h,r,e));const _=this.normalizer.normalizePropertyName(d,e);h=this.normalizer.normalizeStyleValue(d,_,h,e),i[_]=h})}}),i}}class YX{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new WX(r.style,r.options&&r.options.params||{},i)}),jk(this.states,"true","1"),jk(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Gk(t,r,this.states))}),this.fallbackTransition=function(n,t,e){return new Gk(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function jk(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const QX=new gm;class JX{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],r=ax(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,i){const r=t.element,s=xk(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations[t];let c;const d=new Map;if(s?(c=ux(this._driver,e,s,tx,sm,{},{},i,QX,r),c.forEach(M=>{const x=Is(d,M.element,{});M.postStyleProps.forEach(D=>x[D]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),c=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);d.forEach((M,x)=>{Object.keys(M).forEach(D=>{M[D]=this._driver.computeStyle(x,D,L2)})});const _=wc(c.map(M=>{const x=d.get(M.element);return this._buildPlayer(M,{},x)}));return this._playersById[t]=_,_.onDestroy(()=>this.destroy(t)),this.players.push(_),_}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,r){const s=Yw(e,"","","");return Ww(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const qk="ng-animate-queued",px="ng-animate-disabled",iee=[],$k={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ree={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xo="__ng_removed";class gx{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=null!=(n=i?t.value:t)?n:null,i){const s=fu(t);delete s.value,this.options=s}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const zf="void",Cx=new gx(zf);class see{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,So(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(n=i)&&"done"!=n)throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);var n;const s=Is(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};s.push(c);const d=Is(this._engine.statesByElement,t,{});return d.hasOwnProperty(e)||(So(t,om),So(t,om+"-"+e),d[e]=Cx),()=>{this._engine.afterFlush(()=>{const h=s.indexOf(c);h>=0&&s.splice(h,1),this._triggers[e]||delete d[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),c=new mx(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(So(t,om),So(t,om+"-"+e),this._engine.statesByElement.set(t,d={}));let h=d[e];const _=new gx(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&h&&_.absorbOptions(h.options),d[e]=_,h||(h=Cx),_.value!==zf&&h.value===_.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(h.params,_.params)){const U=[],Y=s.matchStyles(h.value,h.params,U),ae=s.matchStyles(_.value,_.params,U);U.length?this._engine.reportError(U):this._engine.afterFlush(()=>{R5(t,Y),y3(t,ae)})}return}const D=Is(this._engine.playersByElement,t,[]);D.forEach(U=>{U.namespaceId==this.id&&U.triggerName==e&&U.queued&&U.destroy()});let N=s.matchTransition(h.value,_.value,t,_.params),H=!1;if(!N){if(!r)return;N=s.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:N,fromState:h,toState:_,player:c,isFallbackTransition:H}),H||(So(t,qk),c.onStart(()=>{hu(t,qk)})),c.onDone(()=>{let U=this.players.indexOf(c);U>=0&&this.players.splice(U,1);const Y=this._engine.playersByElement.get(t);if(Y){let ae=Y.indexOf(c);ae>=0&&Y.splice(ae,1)}}),this.players.push(c),D.push(c),c}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,am,!0);i.forEach(r=>{if(r[xo])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t);if(s){const c=[];if(Object.keys(s).forEach(d=>{if(this._triggers[d]){const h=this.trigger(t,d,zf,r);h&&c.push(h)}}),c.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&wc(c).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const h=this._triggers[c].fallbackTransition,_=i[c]||Cx,M=new gx(zf),x=new mx(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:h,fromState:_,toState:M,player:x,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[xo];(!s||s===$k)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){So(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(d=>{if(d.name==i.triggerName){const h=Yw(s,i.triggerName,i.fromState.value,i.toState.value);h._data=t,Ww(i.player,d.phase,h,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class oee{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new see(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let s=i;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,e)){this._namespaceList.splice(s+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const c=i[r[s]].namespaceId;if(c){const d=this._fetchNamespace(c);d&&e.add(d)}}}return e}trigger(t,e,i,r){if(_m(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!_m(e))return;const s=e[xo];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),So(t,px)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),hu(t,px))}removeNode(t,e,i,r){if(_m(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r){this.collectedLeaveElements.push(e),e[xo]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,r,s){return _m(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,am,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,nx,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return wc(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[xo];if(i&&i.setForRemoval){if(t[xo]=$k,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(px))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)So(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?wc(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new gm,r=[],s=new Map,c=[],d=new Map,h=new Map,_=new Map,M=new Set;this.disabledNodes.forEach(Ct=>{M.add(Ct);const At=this.driver.query(Ct,".ng-animate-queued",!0);for(let Wt=0;Wt<At.length;Wt++)M.add(At[Wt])});const x=this.bodyNode,D=Array.from(this.statesByElement.keys()),N=Yk(D,this.collectedEnterElements),H=new Map;let U=0;N.forEach((Ct,At)=>{const Wt=tx+U++;H.set(At,Wt),Ct.forEach(Ln=>So(Ln,Wt))});const Y=[],ae=new Set,ce=new Set;for(let Ct=0;Ct<this.collectedLeaveElements.length;Ct++){const At=this.collectedLeaveElements[Ct],Wt=At[xo];Wt&&Wt.setForRemoval&&(Y.push(At),ae.add(At),Wt.hasAnimation?this.driver.query(At,".ng-star-inserted",!0).forEach(Ln=>ae.add(Ln)):ce.add(At))}const ke=new Map,Te=Yk(D,Array.from(ae));Te.forEach((Ct,At)=>{const Wt=sm+U++;ke.set(At,Wt),Ct.forEach(Ln=>So(Ln,Wt))}),t.push(()=>{N.forEach((Ct,At)=>{const Wt=H.get(At);Ct.forEach(Ln=>hu(Ln,Wt))}),Te.forEach((Ct,At)=>{const Wt=ke.get(At);Ct.forEach(Ln=>hu(Ln,Wt))}),Y.forEach(Ct=>{this.processLeaveNode(Ct)})});const tt=[],st=[];for(let Ct=this._namespaceList.length-1;Ct>=0;Ct--)this._namespaceList[Ct].drainQueuedTransitions(e).forEach(Wt=>{const Ln=Wt.player,h2=Wt.element;if(tt.push(Ln),this.collectedEnterElements.length){const Ho=h2[xo];if(Ho&&Ho.setForMove)return void Ln.destroy()}const k3=!x||!this.driver.containsElement(x,h2),zs=ke.get(h2),t6=H.get(h2),Zi=this._buildInstruction(Wt,i,t6,zs,k3);if(Zi.errors&&Zi.errors.length)return void st.push(Zi);if(k3)return Ln.onStart(()=>R5(h2,Zi.fromStyles)),Ln.onDestroy(()=>y3(h2,Zi.toStyles)),void r.push(Ln);if(Wt.isFallbackTransition)return Ln.onStart(()=>R5(h2,Zi.fromStyles)),Ln.onDestroy(()=>y3(h2,Zi.toStyles)),void r.push(Ln);const SJ=[];Zi.timelines.forEach(Ho=>{Ho.stretchStartingKeyframe=!0,this.disabledNodes.has(Ho.element)||SJ.push(Ho)}),Zi.timelines=SJ,i.append(h2,Zi.timelines),c.push({instruction:Zi,player:Ln,element:h2}),Zi.queriedElements.forEach(Ho=>Is(d,Ho,[]).push(Ln)),Zi.preStyleProps.forEach((Ho,q9)=>{const yy=Object.keys(Ho);if(yy.length){let H0=h.get(q9);H0||h.set(q9,H0=new Set),yy.forEach(iI=>H0.add(iI))}}),Zi.postStyleProps.forEach((Ho,q9)=>{const yy=Object.keys(Ho);let H0=_.get(q9);H0||_.set(q9,H0=new Set),yy.forEach(iI=>H0.add(iI))})});if(st.length){const Ct=[];st.forEach(At=>{Ct.push(`@${At.triggerName} has failed due to:\n`),At.errors.forEach(Wt=>Ct.push(`- ${Wt}\n`))}),tt.forEach(At=>At.destroy()),this.reportError(Ct)}const an=new Map,Kt=new Map;c.forEach(Ct=>{const At=Ct.element;i.has(At)&&(Kt.set(At,At),this._beforeAnimationBuild(Ct.player.namespaceId,Ct.instruction,an))}),r.forEach(Ct=>{const At=Ct.element;this._getPreviousPlayers(At,!1,Ct.namespaceId,Ct.triggerName,null).forEach(Ln=>{Is(an,At,[]).push(Ln),Ln.destroy()})});const ei=Y.filter(Ct=>Qk(Ct,h,_)),jn=new Map;Zk(jn,this.driver,ce,_,L2).forEach(Ct=>{Qk(Ct,h,_)&&ei.push(Ct)});const Vo=new Map;N.forEach((Ct,At)=>{Zk(Vo,this.driver,new Set(Ct),h,"!")}),ei.forEach(Ct=>{const At=jn.get(Ct),Wt=Vo.get(Ct);jn.set(Ct,Object.assign(Object.assign({},At),Wt))});const V0=[],wJ=[],xJ={};c.forEach(Ct=>{const{element:At,player:Wt,instruction:Ln}=Ct;if(i.has(At)){if(M.has(At))return Wt.onDestroy(()=>y3(At,Ln.toStyles)),Wt.disabled=!0,Wt.overrideTotalTime(Ln.totalTime),void r.push(Wt);let h2=xJ;if(Kt.size>1){let zs=At;const t6=[];for(;zs=zs.parentNode;){const Zi=Kt.get(zs);if(Zi){h2=Zi;break}t6.push(zs)}t6.forEach(Zi=>Kt.set(Zi,h2))}const k3=this._buildAnimation(Wt.namespaceId,Ln,an,s,Vo,jn);if(Wt.setRealPlayer(k3),h2===xJ)V0.push(Wt);else{const zs=this.playersByElement.get(h2);zs&&zs.length&&(Wt.parentPlayer=wc(zs)),r.push(Wt)}}else R5(At,Ln.fromStyles),Wt.onDestroy(()=>y3(At,Ln.toStyles)),wJ.push(Wt),M.has(At)&&r.push(Wt)}),wJ.forEach(Ct=>{const At=s.get(Ct.element);if(At&&At.length){const Wt=wc(At);Ct.setRealPlayer(Wt)}}),r.forEach(Ct=>{Ct.parentPlayer?Ct.syncPlayerEvents(Ct.parentPlayer):Ct.destroy()});for(let Ct=0;Ct<Y.length;Ct++){const At=Y[Ct],Wt=At[xo];if(hu(At,sm),Wt&&Wt.hasAnimation)continue;let Ln=[];if(d.size){let k3=d.get(At);k3&&k3.length&&Ln.push(...k3);let zs=this.driver.query(At,nx,!0);for(let t6=0;t6<zs.length;t6++){let Zi=d.get(zs[t6]);Zi&&Zi.length&&Ln.push(...Zi)}}const h2=Ln.filter(k3=>!k3.destroyed);h2.length?uee(this,At,h2):this.processLeaveNode(At)}return Y.length=0,V0.forEach(Ct=>{this.players.push(Ct),Ct.onDone(()=>{Ct.destroy();const At=this.players.indexOf(Ct);this.players.splice(At,1)}),Ct.play()}),V0}elementContainsData(t,e){let i=!1;const r=e[xo];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let c=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(c=d)}else{const d=this.playersByElement.get(t);if(d){const h=!s||s==zf;d.forEach(_=>{_.queued||!h&&_.triggerName!=r||c.push(_)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(t,e,i){const s=e.element,c=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const h of e.timelines){const _=h.element,M=_!==s,x=Is(i,_,[]);this._getPreviousPlayers(_,M,c,d,e.toState).forEach(N=>{const H=N.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),N.destroy(),x.push(N)})}R5(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,c){const d=e.triggerName,h=e.element,_=[],M=new Set,x=new Set,D=e.timelines.map(H=>{const U=H.element;M.add(U);const Y=U[xo];if(Y&&Y.removedBeforeQueried)return new du(H.duration,H.delay);const ae=U!==h,ce=function(n){const t=[];return Kk(n,t),t}((i.get(U)||iee).map(an=>an.getRealPlayer())).filter(an=>!!an.element&&an.element===U),ke=s.get(U),Te=c.get(U),tt=xk(0,this._normalizer,0,H.keyframes,ke,Te),st=this._buildPlayer(H,tt,ce);if(H.subTimeline&&r&&x.add(U),ae){const an=new mx(t,d,U);an.setRealPlayer(st),_.push(an)}return st});_.forEach(H=>{Is(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,H.element,H))}),M.forEach(H=>So(H,Ik));const N=wc(D);return N.onDestroy(()=>{M.forEach(H=>hu(H,Ik)),y3(h,e.toStyles)}),x.forEach(H=>{Is(r,H,[]).push(N)}),N}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new du(t.duration,t.delay)}}class mx{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new du,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>Ww(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Is(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function _m(n){return n&&1===n.nodeType}function Wk(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function Zk(n,t,e,i,r){const s=[];e.forEach(h=>s.push(Wk(h)));const c=[];i.forEach((h,_)=>{const M={};h.forEach(x=>{const D=M[x]=t.computeStyle(_,x,r);(!D||0==D.length)&&(_[xo]=ree,c.push(_))}),n.set(_,M)});let d=0;return e.forEach(h=>Wk(h,s[d++])),c}function Yk(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const r=new Set(t),s=new Map;function c(d){if(!d)return 1;let h=s.get(d);if(h)return h;const _=d.parentNode;return h=e.has(_)?_:r.has(_)?1:c(_),s.set(d,h),h}return t.forEach(d=>{const h=c(d);1!==h&&e.get(h).push(d)}),e}function So(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function hu(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function uee(n,t,e){wc(e).onDone(()=>n.processLeaveNode(t))}function Kk(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Mk?Kk(i.players,t):t.push(i)}}function Qk(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class vm{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new oee(t,e,i),this._timelineEngine=new JX(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const c=t+"-"+r;let d=this._triggerCache[c];if(!d){const h=[],_=ax(this._driver,s,h);if(h.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${h.join("\n - ")}`);d=function(n,t,e){return new YX(n,t,e)}(r,_,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,c]=Sk(i);this._timelineEngine.command(s,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[c,d]=Sk(i);return this._timelineEngine.listen(c,e,d,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Jk(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=_x(t[0]),t.length>1&&(i=_x(t[t.length-1]))):t&&(e=_x(t)),e||i?new hee(n,e,i):null}let hee=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&y3(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(y3(this._element,this._initialStyles),this._endStyles&&(y3(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(R5(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(R5(this._element,this._endStyles),this._endStyles=null),y3(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function _x(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];pee(r)&&(t=t||{},t[r]=n[r])}return t}function pee(n){return"display"===n||"position"===n}const Xk="animation",eV="animationend";class mee{constructor(t,e,i,r,s,c,d){this._element=t,this._name=e,this._duration=i,this._delay=r,this._easing=s,this._fillMode=c,this._onDoneFn=d,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=h=>this._handleCallback(h)}apply(){(function(n,t){const e=yx(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),ym(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),iV(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){tV(this._element,this._name,"paused")}resume(){tV(this._element,this._name,"running")}setPosition(t){const e=nV(this._element,this._name);this._position=t*this._duration,ym(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),iV(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=yx(n,"").split(","),r=vx(i,t);r>=0&&(i.splice(r,1),ym(n,"",i.join(",")))}(this._element,this._name))}}function tV(n,t,e){ym(n,"PlayState",e,nV(n,t))}function nV(n,t){const e=yx(n,"");return e.indexOf(",")>0?vx(e.split(","),t):vx([e],t)}function vx(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function iV(n,t,e){e?n.removeEventListener(eV,t):n.addEventListener(eV,t)}function ym(n,t,e,i){const r=Xk+t;if(null!=i){const s=n.style[r];if(s.length){const c=s.split(",");c[i]=e,e=c.join(",")}}n.style[r]=e}function yx(n,t){return n.style[Xk+t]||""}class rV{constructor(t,e,i,r,s,c,d,h){this.element=t,this.keyframes=e,this.animationName=i,this._duration=r,this._delay=s,this._finalStyles=d,this._specialStyles=h,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=c||"linear",this.totalTime=r+s,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new mee(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:ox(this.element,i))})}this.currentSnapshot=t}}class wee extends du{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Tk(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class oV{constructor(){this._count=0}validateStyleProperty(t){return Qw(t)}matchesElement(t,e){return!1}containsElement(t,e){return Jw(t,e)}query(t,e,i){return Xw(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(d=>Tk(d));let r=`@keyframes ${e} {\n`,s="";i.forEach(d=>{s=" ";const h=parseFloat(d.offset);r+=`${s}${100*h}% {\n`,s+=" ",Object.keys(d).forEach(_=>{const M=d[_];switch(_){case"offset":return;case"easing":return void(M&&(r+=`${s}animation-timing-function: ${M};\n`));default:return void(r+=`${s}${_}: ${M};\n`)}}),r+=`${s}}\n`}),r+="}\n";const c=document.createElement("style");return c.textContent=r,c}animate(t,e,i,r,s,c=[],d){const h=c.filter(Y=>Y instanceof rV),_={};Rk(i,r)&&h.forEach(Y=>{let ae=Y.currentSnapshot;Object.keys(ae).forEach(ce=>_[ce]=ae[ce])});const M=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(r=>{"offset"==r||"easing"==r||(t[r]=i[r])})}),t}(e=Ok(t,e,_));if(0==i)return new wee(t,M);const x="gen_css_kf_"+this._count++,D=this.buildKeyframeElement(t,x,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(D);const H=Jk(t,e),U=new rV(t,e,x,i,r,s,M,H);return U.onDestroy(()=>{var n;(n=D).parentNode.removeChild(n)}),U}}class lV{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:ox(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Tee{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(cV().toString()),this._cssKeyframesDriver=new oV}validateStyleProperty(t){return Qw(t)}matchesElement(t,e){return!1}containsElement(t,e){return Jw(t,e)}query(t,e,i){return Xw(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,r,s,c=[],d){if(!d&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,r,s,c);const M={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(M.easing=s);const x={},D=c.filter(H=>H instanceof lV);Rk(i,r)&&D.forEach(H=>{let U=H.currentSnapshot;Object.keys(U).forEach(Y=>x[Y]=U[Y])});const N=Jk(t,e=Ok(t,e=e.map(H=>xc(H,!1)),x));return new lV(t,e,M,N)}}function cV(){return wk()&&Element.prototype.animate||{}}let Aee=(()=>{class n extends En{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?uu(e):e;return uV(this._renderer,null,i,"register",[r]),new Iee(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Iee extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Nee(this._id,t,e||{},this._renderer)}}class Nee{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return uV(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function uV(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const dV="@.disabled";let kee=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const d=null==c?void 0:c.parentNode(s);d&&c.removeChild(d,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let M=this._rendererCache.get(s);return M||(M=new fV("",s,this.engine),this._rendererCache.set(s,M)),M}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const h=M=>{Array.isArray(M)?M.forEach(h):this.engine.registerTrigger(c,d,e,M.name,M)};return i.data.animation.forEach(h),new Vee(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,d]=s;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(vm),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class fV{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==dV?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Vee extends fV{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==dV?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),c="";return"@"!=s.charAt(0)&&([s,c]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let Oee=(()=>{class n extends vm{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(J),o.LFG(ex),o.LFG(fx))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const P5=new o.OlP("AnimationModuleType"),hV=[{provide:En,useClass:Aee},{provide:fx,useFactory:function(){return new GX}},{provide:vm,useClass:Oee},{provide:o.FYo,useFactory:function(n,t,e){return new kee(n,t,e)},deps:[Z1,vm,o.R0b]}],pV=[{provide:ex,useFactory:function(){return"function"==typeof cV()?new Tee:new oV}},{provide:P5,useValue:"BrowserAnimations"},...hV],Bee=[{provide:ex,useClass:Dk},{provide:P5,useValue:"NoopAnimations"},...hV];let Uee=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Bee:pV}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:pV,imports:[ss]}),n})();const jee=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let B1=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!xf()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(bt),o.LFG(jee,8),o.LFG(J))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[V4],V4]}),n})();function CV(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=qi(t)}}}function bx(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Ff(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=qi(t)}}}let mV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Bf(n,t,e){n.nativeElement.classList.toggle(t,e)}let vV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[B1],B1]}),n})();class $ee{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const yV={enterDuration:225,exitDuration:150},Mx=D5({passive:!0}),bV=["mousedown","touchstart"],MV=["mouseup","mouseleave","touchend","touchcancel"];class Zee{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=N5(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},yV),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const c=i.radius||function(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),d=t-r.left,h=e-r.top,_=s.enterDuration,M=document.createElement("div");M.classList.add("mat-ripple-element"),M.style.left=d-c+"px",M.style.top=h-c+"px",M.style.height=2*c+"px",M.style.width=2*c+"px",null!=i.color&&(M.style.backgroundColor=i.color),M.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(M),window.getComputedStyle(M).getPropertyValue("opacity"),M.style.transform="scale(1)";const x=new $ee(this,M,i);return x.state=0,this._activeRipples.add(x),i.persistent||(this._mostRecentTransientRipple=x),this._runTimeoutOutsideZone(()=>{const D=x===this._mostRecentTransientRipple;x.state=1,!i.persistent&&(!D||!this._isPointerDown)&&x.fadeOut()},_),x}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},yV),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=N5(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(bV))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(MV),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=a(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!l(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Mx)})})}_removeTriggerEvents(){this._triggerElement&&(bV.forEach(t=>{this._triggerElement.removeEventListener(t,this,Mx)}),this._pointerUpEventsRegistered&&MV.forEach(t=>{this._triggerElement.removeEventListener(t,this,Mx)}))}}const Qee=new o.OlP("mat-ripple-global-options");let Uf=(()=>{class n{constructor(e,i,r,s,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Zee(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(qr),o.Y36(Qee,8),o.Y36(P5,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),wx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[B1,Mf],B1]}),n})(),wV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[B1]]}),n})();const Xee=["*",[["mat-toolbar-row"]]],ete=["*","mat-toolbar-row"],tte=bx(class{constructor(n){this._elementRef=n}});let xV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),nte=(()=>{class n extends tte{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(qr),o.Y36(J))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,xV,5),2&e){let s;o.iGM(s=o.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[o.qOj],ngContentSelectors:ete,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t(Xee),o.Hsn(0),o.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),SV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[B1],B1]}),n})();const EV=["mat-button",""],LV=["*"],ste=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],ote=bx(CV(Ff(class{constructor(n){this._elementRef=n}})));let TV=(()=>{class n extends ote{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of ste)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(me),o.Y36(P5,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&o.Gf(Uf,5),2&e){let r;o.iGM(r=o.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:EV,ngContentSelectors:LV,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1),o._UZ(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Uf],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),ate=(()=>{class n extends TV{constructor(e,i,r){super(i,e,r)}_haltDisabledEvents(e){this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(me),o.Y36(o.SBq),o.Y36(P5,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._haltDisabledEvents(s)}),2&e&&(o.uIk("tabindex",i.disabled?-1:i.tabIndex||0)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString()),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[o.qOj],attrs:EV,ngContentSelectors:LV,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1),o._UZ(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Uf],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),lte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[wx,B1],B1]}),n})();var z5=O(6451);function DV(n){for(let t in n){let e=n[t]||"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":e=e||"row",n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}const xx="inline",Mm=["row","column","row-reverse","column-reverse"];function AV(n){let[t,e,i]=function(n){n=n?n.toLowerCase():"";let[t,e,i]=n.split(" ");return Mm.find(r=>r===t)||(t=Mm[0]),e===xx&&(e=i!==xx?i:"",i=xx),[t,cte(e),!!i]}(n);return function(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,i)}function cte(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}const fte={provide:o.tb,useFactory:function(n,t){return()=>{if(F2(t)){const e=Array.from(n.querySelectorAll(`[class*=${NV}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${NV}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[J,o.Lbi],multi:!0},NV="flex-layout-";let Sx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[fte]}),n})();class F5{constructor(t=!1,e="all",i="",r="",s=0){this.matches=t,this.mediaQuery=e,this.mqAlias=i,this.suffix=r,this.priority=s,this.property=""}clone(){return new F5(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let hte=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,r){const s=this.stylesheet.get(e);s?s.set(i,r):this.stylesheet.set(e,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const r=this.stylesheet.get(e);let s="";if(r){const c=r.get(i);("number"==typeof c||"string"==typeof c)&&(s=c+"")}return s}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ex={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},Sc=new o.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Ex}),pu=new o.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),Lx=new o.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function kV(n,t){return n=n?n.clone():new F5,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class a1{constructor(){this.shouldCache=!0}sideEffect(t,e,i){}}let Ei=(()=>{class n{constructor(e,i,r,s){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=s}applyStyleToElement(e,i,r=null){let s={};"string"==typeof i&&(s[i]=r,i=s),s=this.layoutConfig.disableVendorPrefixes?i:DV(i),this._applyMultiValueStyleToElement(s,e)}applyStyleToElements(e,i=[]){const r=this.layoutConfig.disableVendorPrefixes?e:DV(e);i.forEach(s=>{this._applyMultiValueStyleToElement(r,s)})}getFlowDirection(e){const i="flex-direction";let r=this.lookupStyle(e,i);return[r||"row",this.lookupInlineStyle(e,i)||gi(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){return e.getAttribute(i)||""}lookupInlineStyle(e,i){return F2(this._platformId)?e.style.getPropertyValue(i):this._getServerStyle(e,i)}lookupStyle(e,i,r=!1){let s="";return e&&((s=this.lookupInlineStyle(e,i))||(F2(this._platformId)?r||(s=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(e,i)))),s?s.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(r=>{const s=e[r],c=Array.isArray(s)?s:[s];c.sort();for(let d of c)d=d?d+"":"",F2(this._platformId)||!this._serverModuleLoaded?F2(this._platformId)?i.style.setProperty(r,d):this._setServerStyle(i,r,d):this._serverStylesheet.addStyleToElement(i,r,d)})}_setServerStyle(e,i,r){i=i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const s=this._readStyleAttribute(e);s[i]=r||"",this._writeStyleAttribute(e,s)}_getServerStyle(e,i){return this._readStyleAttribute(e)[i]||""}_readStyleAttribute(e){const i={},r=e.getAttribute("style");if(r){const s=r.split(/;+/g);for(let c=0;c<s.length;c++){const d=s[c].trim();if(d.length>0){const h=d.indexOf(":");if(-1===h)throw new Error(`Invalid CSS style: ${d}`);i[d.substr(0,h).trim()]=d.substr(h+1).trim()}}}return i}_writeStyleAttribute(e,i){let r="";for(const s in i)i[s]&&(r+=s+":"+i[s]+";");e.setAttribute("style",r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(hte),o.LFG(pu),o.LFG(o.Lbi),o.LFG(Sc))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jf(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function pte(n,t){return(n.priority||0)-(t.priority||0)}let Tx=(()=>{class n{constructor(e,i,r){this._zone=e,this._platformId=i,this._document=r,this.source=new Qn(new F5(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,r)=>{i.matches&&e.push(r)}),e}isActive(e){const i=this.registry.get(e);return i?i.matches:this.registerQuery(e).some(r=>r.matches)}observe(e,i=!1){if(e&&e.length){const r=this._observable$.pipe(Sn(c=>!i||e.indexOf(c.mediaQuery)>-1)),s=new bn.y(c=>{const d=this.registerQuery(e);if(d.length){const h=d.pop();d.forEach(_=>{c.next(_)}),this.source.next(h)}c.complete()});return(0,z5.T)(s,r)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],r=[];return function(n,t){const e=n.filter(i=>!VV[i]);if(e.length>0){const i=e.join(", ");try{const r=t.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),t.head.appendChild(r),e.forEach(s=>VV[s]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(s=>{const c=h=>{this._zone.run(()=>this.source.next(new F5(h.matches,s)))};let d=this.registry.get(s);d||(d=this.buildMQL(s),d.addListener(c),this.pendingRemoveListenerFns.push(()=>d.removeListener(c)),this.registry.set(s,d)),d.matches&&r.push(new F5(!0,s))}),r}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(e,F2(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(o.Lbi),o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VV={},mte=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],HV="(orientation: portrait) and (max-width: 599.98px)",RV="(orientation: landscape) and (max-width: 959.98px)",OV="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",PV="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",zV="(orientation: portrait) and (min-width: 840px)",FV="(orientation: landscape) and (min-width: 1280px)",F4={HANDSET:`${HV}, ${RV}`,TABLET:`${OV} , ${PV}`,WEB:`${zV}, ${FV} `,HANDSET_PORTRAIT:`${HV}`,TABLET_PORTRAIT:`${OV} `,WEB_PORTRAIT:`${zV}`,HANDSET_LANDSCAPE:`${RV}`,TABLET_LANDSCAPE:`${PV}`,WEB_LANDSCAPE:`${FV}`},_te=[{alias:"handset",priority:2e3,mediaQuery:F4.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:F4.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:F4.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:F4.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:F4.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:F4.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:F4.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:F4.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:F4.WEB_PORTRAIT,overlapping:!0}],vte=/(\.|-|_)/g;function yte(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const xte=new o.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,o.f3M)(Lx),t=(0,o.f3M)(Sc),e=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function(n,t=[]){const e={};return n.forEach(i=>{e[i.alias]=i}),t.forEach(i=>{e[i.alias]?function(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i])}(e[i.alias],i):e[i.alias]=i}),function(n){return n.forEach(t=>{t.suffix||(t.suffix=function(n){return n.replace(vte,"|").split("|").map(yte).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(i=>e[i]))}((t.disableDefaultBps?[]:mte).concat(t.addOrientationBps?_te:[]),e)}});let Dx=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(pte)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias==e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery==e)}get overlappings(){return this.items.filter(e=>1==e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e.suffix?e.suffix:"")}findWithPredicate(e,i){let r=this.findByMap.get(e);return r||(r=this.items.find(i)||null,this.findByMap.set(e,r)),r||null}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(xte))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gu="print",Ste={alias:gu,mediaQuery:gu,priority:1e3};let Ete=(()=>{class n{constructor(e,i,r){this.breakpoints=e,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new Lte,this.deactivations=[]}withPrintQuery(e){return[...e,gu]}isPrintEvent(e){return e.mediaQuery.startsWith(gu)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(jf)}updateEvent(e){let i=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(i=this.getEventBreakpoints(e)[0],e.mediaQuery=i?i.mediaQuery:""),kV(e,i)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new F5(!0,gu))),e.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(e){return this.registerBeforeAfterPrintHooks(e),i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(e){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(e.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const i=this.breakpoints.findByQuery(e.mediaQuery);i&&(this.deactivations.push(i),this.deactivations.sort(jf))}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Dx),o.LFG(Sc),o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Lte{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(Ste),t.sort(jf),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){var n;t&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=(n=t)&&n.mediaQuery.startsWith(gu)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let Vi=(()=>{class n{constructor(e,i,r){this.matchMedia=e,this.breakpoints=i,this.hook=r,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new mt.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);i&&((e=kV(e,i)).matches&&-1===this.activatedBreakpoints.indexOf(i)?(this.activatedBreakpoints.push(i),this.activatedBreakpoints.sort(jf),this.updateStyles()):!e.matches&&-1!==this.activatedBreakpoints.indexOf(i)&&(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(i),1),this.activatedBreakpoints.sort(jf),this.updateStyles()))}init(e,i,r,s,c=[]){BV(this.updateMap,e,i,r),BV(this.clearMap,e,i,s),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,c)}getValue(e,i,r){const s=this.elementMap.get(e);if(s){const c=void 0!==r?s.get(r):this.getActivatedValues(s,i);if(c)return c.get(i)}}hasValue(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);if(s)return void 0!==s.get(i)||!1}return!1}setValue(e,i,r,s){let c=this.elementMap.get(e);if(c){const h=(c.get(s)||new Map).set(i,r);c.set(s,h),this.elementMap.set(e,c)}else c=(new Map).set(s,(new Map).set(i,r)),this.elementMap.set(e,c);const d=this.getValue(e,i);void 0!==d&&this.updateElement(e,i,d)}trackValue(e,i){return this.subject.asObservable().pipe(Sn(r=>r.element===e&&r.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const r=new Set(this.elementKeyMap.get(i));let s=this.getActivatedValues(e);s&&s.forEach((c,d)=>{this.updateElement(i,d,c),r.delete(d)}),r.forEach(c=>{if(s=this.getActivatedValues(e,c),s){const d=s.get(c);this.updateElement(i,c,d)}else this.clearElement(i,c)})})}clearElement(e,i){const r=this.clearMap.get(e);if(r){const s=r.get(i);s&&(s(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,r){const s=this.updateMap.get(e);if(s){const c=s.get(i);c&&(c(r),this.subject.next({element:e,key:i,value:r}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(s=>s.unsubscribe()),this.watcherMap.delete(e));const r=this.elementMap.get(e);r&&(r.forEach((s,c)=>r.delete(c)),this.elementMap.delete(e))}triggerUpdate(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);s&&(i?this.updateElement(e,i,s.get(i)):s.forEach((c,d)=>this.updateElement(e,d,c)))}}buildElementKeyMap(e,i){let r=this.elementKeyMap.get(e);r||(r=new Set,this.elementKeyMap.set(e,r)),r.add(i)}watchExtraTriggers(e,i,r){if(r&&r.length){let s=this.watcherMap.get(e);if(s||(s=new Map,this.watcherMap.set(e,s)),!s.get(i)){const d=(0,z5.T)(...r).subscribe(()=>{const h=this.getValue(e,i);this.updateElement(e,i,h)});s.set(i,d)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let s=0;s<this.activatedBreakpoints.length;s++){const d=e.get(this.activatedBreakpoints[s].alias);if(d&&(void 0===i||d.has(i)&&null!=d.get(i)))return d}const r=e.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const i=this.breakpoints.items.map(r=>r.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(i)).pipe((0,Jt.b)(this.hook.interceptEvents(this)),Sn(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Tx),o.LFG(Dx),o.LFG(Ete))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BV(n,t,e,i){if(void 0!==i){let r=n.get(t);r||(r=new Map,n.set(t,r)),r.set(e,i)}}let $i=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.styleBuilder=i,this.styler=r,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new mt.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const r=this.styleBuilder,s=r.shouldCache;let c=this.styleCache.get(e);(!c||!s)&&(c=r.buildStyles(e,i),s&&this.styleCache.set(e,c)),this.mru=Object.assign({},c),this.applyStyleToElement(c),r.sideEffect(e,c,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[r,s]=this.styler.getFlowDirection(e);if(!s&&i){const c=AV(r);this.styler.applyStyleToElements(c,[e])}return r.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,r=this.nativeElement){this.styler.applyStyleToElement(r,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(a1),o.Y36(Ei),o.Y36(Vi))},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})(),zte=(()=>{class n extends a1{buildStyles(e,i){return{display:"true"===e?i.display||(i.isServer?"initial":""):"none"}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fte=(()=>{class n extends $i{constructor(e,i,r,s,c,d,h){super(e,i,r,s),this.layoutConfig=c,this.platformId=d,this.serverModuleLoaded=h,this.DIRECTIVE_KEY="show-hide",this.display="",this.hasLayout=!1,this.hasFlexChild=!1}ngAfterViewInit(){this.trackExtraTriggers();const e=Array.from(this.nativeElement.children);for(let r=0;r<e.length;r++)if(this.marshal.hasValue(e[r],"flex")){this.hasFlexChild=!0;break}Ax.has(this.nativeElement)?this.display=Ax.get(this.nativeElement):(this.display=this.getDisplayStyle(),Ax.set(this.nativeElement,this.display)),this.init();const i=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");void 0===i||""===i?this.setValue(!0,""):this.triggerUpdate()}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split("."),s=r.slice(1).join("."),c=e[i].currentValue;let d=""===c||0!==c&&qi(c);"fxHide"===r[0]&&(d=!d),this.setValue(d,s)}})}trackExtraTriggers(){this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach(e=>{this.marshal.trackValue(this.nativeElement,e).pipe(Tt(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))})}getDisplayStyle(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}updateWithValue(e=!0){if(""===e)return;const i=gi(this.platformId);this.addStyles(e?"true":"false",{display:this.display,isServer:i}),i&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap")}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(zte),o.Y36(Ei),o.Y36(Vi),o.Y36(Sc),o.Y36(o.Lbi),o.Y36(pu))},n.\u0275dir=o.lG2({type:n,features:[o.qOj,o.TTD]}),n})();const Ax=new WeakMap,Bte=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"];let jV=(()=>{class n extends Fte{constructor(){super(...arguments),this.inputs=Bte}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","fxShow",""],["","fxShow.print",""],["","fxShow.xs",""],["","fxShow.sm",""],["","fxShow.md",""],["","fxShow.lg",""],["","fxShow.xl",""],["","fxShow.lt-sm",""],["","fxShow.lt-md",""],["","fxShow.lt-lg",""],["","fxShow.lt-xl",""],["","fxShow.gt-xs",""],["","fxShow.gt-sm",""],["","fxShow.gt-md",""],["","fxShow.gt-lg",""],["","fxHide",""],["","fxHide.print",""],["","fxHide.xs",""],["","fxHide.sm",""],["","fxHide.md",""],["","fxHide.lg",""],["","fxHide.xl",""],["","fxHide.lt-sm",""],["","fxHide.lt-md",""],["","fxHide.lt-lg",""],["","fxHide.lt-xl",""],["","fxHide.gt-xs",""],["","fxHide.gt-sm",""],["","fxHide.gt-md",""],["","fxHide.gt-lg",""]],inputs:{fxShow:"fxShow","fxShow.print":"fxShow.print","fxShow.xs":"fxShow.xs","fxShow.sm":"fxShow.sm","fxShow.md":"fxShow.md","fxShow.lg":"fxShow.lg","fxShow.xl":"fxShow.xl","fxShow.lt-sm":"fxShow.lt-sm","fxShow.lt-md":"fxShow.lt-md","fxShow.lt-lg":"fxShow.lt-lg","fxShow.lt-xl":"fxShow.lt-xl","fxShow.gt-xs":"fxShow.gt-xs","fxShow.gt-sm":"fxShow.gt-sm","fxShow.gt-md":"fxShow.gt-md","fxShow.gt-lg":"fxShow.gt-lg",fxHide:"fxHide","fxHide.print":"fxHide.print","fxHide.xs":"fxHide.xs","fxHide.sm":"fxHide.sm","fxHide.md":"fxHide.md","fxHide.lg":"fxHide.lg","fxHide.xl":"fxHide.xl","fxHide.lt-sm":"fxHide.lt-sm","fxHide.lt-md":"fxHide.lt-md","fxHide.lt-lg":"fxHide.lt-lg","fxHide.lt-xl":"fxHide.lt-xl","fxHide.gt-xs":"fxHide.gt-xs","fxHide.gt-sm":"fxHide.gt-sm","fxHide.gt-md":"fxHide.gt-md","fxHide.gt-lg":"fxHide.gt-lg"},features:[o.qOj]}),n})(),KV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Sx]]}),n})();var Ix=O(3099);const Zte=["*"];let wm;function qf(n){var t;return(null===(t=function(){if(void 0===wm&&(wm=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(wm=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return wm}())||void 0===t?void 0:t.createHTML(n))||n}function QV(n){return Error(`Unable to find icon with the name "${n}"`)}function JV(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function XV(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class B5{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let xm=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new B5(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const c=this._sanitizer.sanitize(o.q3G.HTML,r);if(!c)throw XV(r);const d=qf(c);return this._addSvgIconConfig(e,i,new B5("",d,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new B5(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(o.q3G.HTML,i);if(!s)throw XV(i);const c=qf(s);return this._addSvgIconSetConfig(e,new B5("",c,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,e);if(!i)throw JV(e);const r=this._cachedIconsByUrl.get(i);return r?at(Sm(r)):this._loadSvgIconFromConfig(new B5(e,null)).pipe((0,Jt.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,qe.U)(s=>Sm(s)))}getNamedSvgIcon(e,i=""){const r=eH(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(e,c):O8(QV(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?at(Sm(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,qe.U)(i=>Sm(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?at(r):fs(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(Ts(d=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(_)),at(null)})))).pipe((0,qe.U)(()=>{const c=this._extractIconWithNameFromAnySet(e,i);if(!c)throw QV(e);return c}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(c,e,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Jt.b)(i=>e.svgText=i),(0,qe.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?at(null):this._fetchIcon(e).pipe((0,Jt.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const d=this._svgElementFromString(qf("<svg></svg>"));return d.appendChild(c),this._setSvgAttributes(d,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(qf("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:c,value:d}=r[s];"id"!==c&&i.setAttribute(c,d)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:s}=e,c=null!==(i=null==s?void 0:s.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const d=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,r);if(!d)throw JV(r);const h=this._inProgressUrlFetches.get(d);if(h)return h;const _=this._httpClient.get(d,{responseType:"text",withCredentials:c}).pipe((0,qe.U)(M=>qf(M)),Rg(()=>this._inProgressUrlFetches.delete(d)),(0,Ix.B)());return this._inProgressUrlFetches.set(d,_),_}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(eH(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return Jte(s)?new B5(s.url,null,s.options):new B5(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(x4,8),o.LFG(ls),o.LFG(J,8),o.LFG(o.qLn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Sm(n){return n.cloneNode(!0)}function eH(n,t){return n+":"+t}function Jte(n){return!(!n.url||!n.options)}const Xte=bx(class{constructor(n){this._elementRef=n}}),ene=new o.OlP("mat-icon-location",{providedIn:"root",factory:function(){const n=(0,o.f3M)(J),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),tH=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],nne=tH.map(n=>`[${n}]`).join(", "),ine=/^url\(['"]?#(.*?)['"]?\)$/;let rne=(()=>{class n extends Xte{constructor(e,i,r,s,c){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=c,this._inline=!1,this._currentIconFetch=u3.w0.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=qi(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=e.querySelectorAll("style");for(let s=0;s<i.length;s++)i[s].textContent+=" ";const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(c=>{s.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(nne),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)tH.forEach(c=>{const d=i[s],h=d.getAttribute(c),_=h?h.match(ine):null;if(_){let M=r.get(d);M||(M=[],r.set(d,M)),M.push({name:c,value:_[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,Yt.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(xm),o.$8M("aria-hidden"),o.Y36(ene),o.Y36(o.qLn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),o.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:Zte,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),sne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[B1],B1]}),n})();var nH=O(4408);const $f={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=$f;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new u3.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=$f;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=$f;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var iH=O(7565);new class extends iH.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends nH.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=$f.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&($f.cancelAnimationFrame(e),t._scheduled=void 0)}});let Nx,cne=1;const Em={};function rH(n){return n in Em&&(delete Em[n],!0)}const une={setImmediate(n){const t=cne++;return Em[t]=!0,Nx||(Nx=Promise.resolve()),Nx.then(()=>rH(t)&&n()),t},clearImmediate(n){rH(n)}},{setImmediate:dne,clearImmediate:fne}=une,Lm={setImmediate(...n){const{delegate:t}=Lm;return((null==t?void 0:t.setImmediate)||dne)(...n)},clearImmediate(n){const{delegate:t}=Lm;return((null==t?void 0:t.clearImmediate)||fne)(n)},delegate:void 0};new class extends iH.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends nH.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Lm.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(Lm.clearImmediate(e),t._scheduled=void 0)}});function sH(n,t=rr.P){return function(n){return(0,ci.e)((t,e)=>{let i=!1,r=null,s=null,c=!1;const d=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const _=r;r=null,e.next(_)}c&&e.complete()},h=()=>{s=null,c&&e.complete()};t.subscribe(new Mn.Q(e,_=>{i=!0,r=_,s||(0,f1.Xf)(n()).subscribe(s=new Mn.Q(e,d,h))},()=>{c=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>io(n,t))}let Wf=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new mt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new bn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(sH(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):at()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Sn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=N5(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Kn(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(qr),o.LFG(J,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tm=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new mt.x,this._elementScrolled=new bn.y(c=>this.ngZone.runOutsideAngular(()=>Kn(this.elementRef.nativeElement,"scroll").pipe(Tt(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=yc()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==yc()?e.left=e.right:1==yc()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;su()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==e?e=c?r:i:"end"==e&&(e=c?i:r),c&&2==yc()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:c&&1==yc()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Wf),o.Y36(o.R0b),o.Y36(L5,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),kx=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new mt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(sH(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(qr),o.LFG(o.R0b),o.LFG(J,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),Vx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[V4,Mf,Zf],V4,Zf]}),n})();const Dm=["*"];function vne(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){return o.CHM(e),o.oxw()._onBackdropClicked()}),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function yne(n,t){1&n&&(o.TgZ(0,"mat-drawer-content"),o.Hsn(1,2),o.qZA())}const bne=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Mne=["mat-drawer","mat-drawer-content","*"];function wne(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){return o.CHM(e),o.oxw()._onBackdropClicked()}),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function xne(n,t){1&n&&(o.TgZ(0,"mat-sidenav-content",3),o.Hsn(1,2),o.qZA())}const Sne=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Ene=["mat-sidenav","mat-sidenav-content","*"],oH={transformDrawer:k5("transform",[Mc("open, open-instant",As({transform:"none",visibility:"visible"})),Mc("void",As({"box-shadow":"none",visibility:"hidden"})),P4("void => open-instant",O4("0ms")),P4("void <=> open, open-instant => void",O4("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Tne=new o.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),Hx=new o.OlP("MAT_DRAWER_CONTAINER");let Am=(()=>{class n extends Tm{constructor(e,i,r,s,c){super(r,s,c),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>lH)),o.Y36(o.SBq),o.Y36(Wf),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&o.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[o.qOj],ngContentSelectors:Dm,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),aH=(()=>{class n{constructor(e,i,r,s,c,d,h,_){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=c,this._interactivityChecker=d,this._doc=h,this._container=_,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new mt.x,this._animationEnd=new mt.x,this._animationState="void",this.openedChange=new o.vpe(!0),this._openedStream=this.openedChange.pipe(Sn(M=>M),(0,qe.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Sn(M=>M.fromState!==M.toState&&0===M.toState.indexOf("open")),us(void 0)),this._closedStream=this.openedChange.pipe(Sn(M=>!M),(0,qe.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Sn(M=>M.fromState!==M.toState&&"void"===M.toState),us(void 0)),this._destroyed=new mt.x,this.onPositionChanged=new o.vpe,this._modeChanged=new mt.x,this.openedChange.subscribe(M=>{M?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Kn(this._elementRef.nativeElement,"keydown").pipe(Sn(M=>27===M.keyCode&&!this.disableClose&&!function(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(M)),Tt(this._destroyed)).subscribe(M=>this._ngZone.run(()=>{this.close(),M.stopPropagation(),M.preventDefault()}))}),this._animationEnd.pipe(Xi((M,x)=>M.fromState===x.fromState&&M.toState===x.toState)).subscribe(M=>{const{fromState:x,toState:D}=M;(0===D.indexOf("open")&&"void"===x||"void"===D&&0===x.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=qi(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"===this.mode?"dialog":"first-tabbable":e}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=qi(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(qi(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{e.addEventListener("blur",()=>e.removeAttribute("tabindex")),e.addEventListener("mousedown",()=>e.removeAttribute("tabindex"))})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){var e;const i=null===(e=this._doc)||void 0===e?void 0:e.activeElement;return!!i&&this._elementRef.nativeElement.contains(i)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe((0,Yt.q)(1)).subscribe(c=>s(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(vk),o.Y36(me),o.Y36(qr),o.Y36(o.R0b),o.Y36(XC),o.Y36(J,8),o.Y36(Hx,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&o.WFA("@transform.start",function(s){return i._animationStarted.next(s)})("@transform.done",function(s){return i._animationEnd.next(s)}),2&e&&(o.uIk("align",null),o.d8E("@transform",i._animationState),o.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Dm,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},directives:[Tm],encapsulation:2,data:{animation:[oH.transformDrawer]},changeDetection:0}),n})(),lH=(()=>{class n{constructor(e,i,r,s,c,d=!1,h){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=h,this._drawers=new o.n_E,this.backdropClick=new o.vpe,this._destroyed=new mt.x,this._doCheckSubject=new mt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new mt.x,e&&e.change.pipe(Tt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe(Tt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=d}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=qi(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:qi(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(X1(this._allDrawers),Tt(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(X1(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(cu(10),Tt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Sn(i=>i.fromState!==i.toState),Tt(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Tt(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Tt(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Yt.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Tt((0,z5.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(L5,8),o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(kx),o.Y36(Tne),o.Y36(P5,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,Am,5),o.Suo(r,aH,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._content=s.first),o.iGM(s=o.CRH())&&(i._allDrawers=s)}},viewQuery:function(e,i){if(1&e&&o.Gf(Am,5),2&e){let r;o.iGM(r=o.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[o._Bn([{provide:Hx,useExisting:n}])],ngContentSelectors:Mne,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(o.F$t(bne),o.YNc(0,vne,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,yne,2,0,"mat-drawer-content",1)),2&e&&(o.Q6J("ngIf",i.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!i._content))},directives:[zt,Am],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),n})(),cH=(()=>{class n extends Am{constructor(e,i,r,s,c){super(e,i,r,s,c)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>dH)),o.Y36(o.SBq),o.Y36(Wf),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&o.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[o.qOj],ngContentSelectors:Dm,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),uH=(()=>{class n extends aH{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=qi(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=kw(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=kw(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(o.uIk("align",null),o.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),o.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[o.qOj],ngContentSelectors:Dm,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},directives:[Tm],encapsulation:2,data:{animation:[oH.transformDrawer]},changeDetection:0}),n})(),dH=(()=>{class n extends lH{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,cH,5),o.Suo(r,uH,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._content=s.first),o.iGM(s=o.CRH())&&(i._allDrawers=s)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[o._Bn([{provide:Hx,useExisting:n}]),o.qOj],ngContentSelectors:Ene,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(e,i){1&e&&(o.F$t(Sne),o.YNc(0,wne,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,xne,2,0,"mat-sidenav-content",1)),2&e&&(o.Q6J("ngIf",i.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!i._content))},directives:[zt,cH,Tm],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),n})(),Ane=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Hn,B1,Mf,Zf],Zf,B1]}),n})();const vie={margin:0,width:"100%",height:"100%","min-width":"100%","min-height":"100%"};let yie=(()=>{class n extends a1{buildStyles(e){return vie}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pH=(()=>{class n extends $i{constructor(e,i,r,s){super(e,r,i,s),this.styleCache=bie,this.addStyles("")}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Ei),o.Y36(yie),o.Y36(Vi))},n.\u0275dir=o.lG2({type:n,selectors:[["","fxFill",""],["","fxFlexFill",""]],features:[o.qOj]}),n})();const bie=new Map;let gH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Sx,V4]]}),n})(),mH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[B1],B1]}),n})();const _H=["*"],Hie=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],Rie=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],Bie=CV(Ff(class{})),Uie=Ff(class{}),Gie=new o.OlP("MatList"),vH=new o.OlP("MatNavList");let jie=(()=>{class n extends Bie{constructor(){super(...arguments),this._stateChanges=new mt.x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[o._Bn([{provide:vH,useExisting:n}]),o.qOj,o.TTD],ngContentSelectors:_H,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),yH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),bH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),qie=(()=>{class n extends Uie{constructor(e,i,r,s){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new mt.x,this._disabled=!1,this._isInteractiveList=!!(r||s&&"action-list"===s._getListType()),this._list=r||s;const c=this._getHostElement();"button"===c.nodeName.toLowerCase()&&!c.hasAttribute("type")&&c.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Tt(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=qi(e)}ngAfterContentInit(){!function(n,t,e="mat"){n.changes.pipe(X1(n)).subscribe(({length:i})=>{Bf(t,`${e}-2-line`,!1),Bf(t,`${e}-3-line`,!1),Bf(t,`${e}-multi-line`,!1),2===i||3===i?Bf(t,`${e}-${i}-line`,!0):i>3&&Bf(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(vH,8),o.Y36(Gie,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,yH,5),o.Suo(r,bH,5),o.Suo(r,mV,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._avatar=s.first),o.iGM(s=o.CRH())&&(i._icon=s.first),o.iGM(s=o.CRH())&&(i._lines=s)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(e,i){2&e&&o.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-avatar",i._avatar||i._icon)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[o.qOj],ngContentSelectors:Rie,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,i){1&e&&(o.F$t(Hie),o.TgZ(0,"div",0),o._UZ(1,"div",1),o.Hsn(2),o.TgZ(3,"div",2),o.Hsn(4,1),o.qZA(),o.Hsn(5,2),o.qZA()),2&e&&(o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},directives:[Uf],encapsulation:2,changeDetection:0}),n})(),Qie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[vV,wx,B1,wV,Hn],vV,B1,wV,mH]}),n})();function Jie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"a",10),o.NdJ("click",function(){return o.CHM(e),o.oxw().onLogout()}),o._uU(1,"Kirjaudu ulos"),o.qZA()}}function Xie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"a",10),o.NdJ("click",function(){return o.CHM(e),o.oxw().onLogout()}),o._uU(1,"Kirjaudu ulos"),o.qZA()}}let e1e=(()=>{class n{constructor(e,i,r,s,c){this.scroller=e,this.router=i,this.dataStorageService=r,this.tekstiStorageService=s,this.authService=c,this.isAuthenticated=!1,this.scroll=()=>{let d;d=window.innerWidth<150?10:window.innerWidth<300&&window.innerWidth>150?110:window.innerWidth<400&&window.innerWidth>300?210:window.innerWidth<700&&window.innerWidth>400?310:1,window.scrollY>=d?(document.body.style.setProperty("--navbar-scroll","#FC842B"),document.body.style.setProperty("--navbar-scroll-shadow","0px 6px 12px -5px #000000")):window.scrollY<=d&&(document.body.style.setProperty("--navbar-scroll","transparent"),document.body.style.setProperty("--navbar-scroll-shadow","none"))}}ngOnInit(){window.addEventListener("scroll",this.scroll,!0),this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e,console.log(!e),console.log(!!e)})}goDown1(){this.scroller.scrollToAnchor("targetGalleria")}goDown2(){document.getElementById("targetPalvelut").scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}goDown3(){document.getElementById("targetYhteistiedot").scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}goDown4(){document.getElementById("targetVerkkokauppa").scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}onSaveData(){this.dataStorageService.storeItems(),this.tekstiStorageService.storeTekstit()}onFetchData(){this.tekstiStorageService.fetchTekstit().subscribe(),this.dataStorageService.fetchItems().subscribe()}ngOnDestroy(){this.userSub.unsubscribe()}onLogout(){this.authService.logout()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ul),o.Y36(qt),o.Y36(F1),o.Y36(dr),o.Y36(Xn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-navbar"]],decls:31,vars:2,consts:[[2,"height","0vh"],["mat-icon-button","","fxShow","true","fxHide.gt-sm","",3,"click"],[1,"menu-spacer"],["fxShow","true","fxHide.lt-md",""],["mat-button","",3,"click"],["id","admin","mat-button","",3,"click",4,"ngIf"],["fxFlexFill",""],["sidenav",""],["href","","mat-list-item","",3,"click"],["mat-list-item","",3,"click"],["id","admin","mat-button","",3,"click"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"mat-toolbar"),o.TgZ(2,"mat-toolbar-row"),o.TgZ(3,"button",1),o.NdJ("click",function(){return o.CHM(r),o.MAs(19).toggle()}),o.TgZ(4,"mat-icon"),o._uU(5,"menu"),o.qZA(),o.qZA(),o._UZ(6,"span",2),o.TgZ(7,"div",3),o.TgZ(8,"a",4),o.NdJ("click",function(){return i.goDown1()}),o._uU(9,"Galleria"),o.qZA(),o.TgZ(10,"a",4),o.NdJ("click",function(){return i.goDown2()}),o._uU(11,"Palvelut"),o.qZA(),o.TgZ(12,"a",4),o.NdJ("click",function(){return i.goDown4()}),o._uU(13,"Verkkokauppa"),o.qZA(),o.TgZ(14,"a",4),o.NdJ("click",function(){return i.goDown3()}),o._uU(15,"Yhteystiedot"),o.qZA(),o.YNc(16,Jie,2,0,"a",5),o.qZA(),o.qZA(),o.qZA(),o.TgZ(17,"mat-sidenav-container",6),o.TgZ(18,"mat-sidenav",null,7),o.TgZ(20,"mat-nav-list"),o.TgZ(21,"a",8),o.NdJ("click",function(){return o.CHM(r),o.MAs(19).toggle()}),o.qZA(),o.TgZ(22,"a",9),o.NdJ("click",function(){return i.goDown1()}),o._uU(23,"Galleria"),o.qZA(),o.TgZ(24,"a",9),o.NdJ("click",function(){return i.goDown2()}),o._uU(25,"Palvelut"),o.qZA(),o.TgZ(26,"a",9),o.NdJ("click",function(){return i.goDown4()}),o._uU(27,"Verkkokauppa"),o.qZA(),o.TgZ(28,"a",9),o.NdJ("click",function(){return i.goDown3()}),o._uU(29,"Yhteystiedot"),o.qZA(),o.YNc(30,Xie,2,0,"a",5),o.qZA(),o.qZA(),o.qZA(),o.qZA()}2&e&&(o.xp6(16),o.Q6J("ngIf",i.isAuthenticated),o.xp6(14),o.Q6J("ngIf",i.isAuthenticated))},directives:[nte,xV,TV,jV,rne,ate,zt,dH,pH,uH,jie,qie],styles:["mat-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:3rem;width:100%;font-size:25px;font-size:15px;position:fixed;z-index:1000;background-color:var(--navbar-scroll);transition:background-color 1s ease;color:#fff;box-shadow:var(--navbar-scroll-shadow)}mat-sidenav[_ngcontent-%COMP%]{position:fixed;background-color:#fc842b;transition:background-color 1s ease;color:var(--navbar-scroll-text);height:250px}.menu-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-button[_ngcontent-%COMP%]{font-size:20px}.mat-button[_ngcontent-%COMP%]:hover{font-size:20px;text-decoration:none;color:inherit}"]}),n})(),t1e=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-header"]],decls:3,vars:0,consts:[[1,"header",2,"background-image","url(../../assets/img/orange2.png)"],["src","assets/img/eurouuni.png",1,"logo"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div"),o._UZ(2,"img",1),o.qZA(),o.qZA())},styles:["body[_ngcontent-%COMP%]{height:100%}.header[_ngcontent-%COMP%]{background-position:45% 45%;background-size:cover;height:20rem;display:flex;position:relative;align-items:center;justify-content:center;margin-bottom:1rem;width:100%}h5[_ngcontent-%COMP%]{display:block;font-size:1rem;font-weight:700}.logo[_ngcontent-%COMP%]{width:100%}"]}),n})();function n1e(n,t){1&n&&(o.TgZ(0,"button",2),o._uU(1," Muokkaa teksti\xe4"),o.qZA())}function i1e(n,t){if(1&n&&(o.TgZ(0,"div",3),o.TgZ(1,"div",4),o.TgZ(2,"div",5),o.TgZ(3,"div",6),o.TgZ(4,"h5",7),o._uU(5,"Ajankohtaista"),o.qZA(),o.TgZ(6,"h3"),o._uU(7),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&n){const e=o.oxw();o.xp6(7),o.Oqu(e.teksti.text)}}let r1e=(()=>{class n{constructor(e,i){this.router=e,this.authService=i,this.isAuthenticated=!1,this.display=!0}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e}),this.display=!!this.teksti.text}ngOnDestroy(){this.userSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qt),o.Y36(Xn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-topics-show"]],inputs:{teksti:"teksti",index:"index"},decls:2,vars:2,consts:[["class","btn btn-info","id","editText","routerLink","/text/1",4,"ngIf"],["id","comp-render",4,"ngIf"],["id","editText","routerLink","/text/1",1,"btn","btn-info"],["id","comp-render"],[1,"container"],[1,"card"],[1,"card-body"],[1,"card-title"]],template:function(e,i){1&e&&(o.YNc(0,n1e,2,0,"button",0),o.YNc(1,i1e,8,1,"div",1)),2&e&&(o.Q6J("ngIf",i.isAuthenticated),o.xp6(1),o.Q6J("ngIf",i.display))},directives:[zt,o1],styles:["h5[_ngcontent-%COMP%]{display:block;font-size:1rem;font-weight:700}.card[_ngcontent-%COMP%]{padding:10px;font-size:18px;box-shadow:7px 7px 56px -24px #00000091}#editText[_ngcontent-%COMP%]{color:#fff;margin-left:16%;background-color:#08a}"]}),n})();function s1e(n,t){if(1&n&&o._UZ(0,"app-topics-show",1),2&n){const i=t.index;o.Q6J("teksti",t.$implicit)("index",i)}}let o1e=(()=>{class n{constructor(e,i){this.tekstiService=e,this.authService=i,this.isAuthenticated=!1,this.display=!1}ngOnInit(){this.subscription=this.tekstiService.tekstitChanged.subscribe(e=>{this.tekstit=e}),this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e}),this.tekstit=this.tekstiService.getTekstit()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ls),o.Y36(Xn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-topics"]],inputs:{index:"index"},decls:1,vars:1,consts:[[3,"teksti","index",4,"ngFor","ngForOf"],[3,"teksti","index"]],template:function(e,i){1&e&&o.YNc(0,s1e,1,2,"app-topics-show",0),2&e&&o.Q6J("ngForOf",i.tekstit.slice(1,2))},directives:[oi,r1e],styles:[".card[_ngcontent-%COMP%]{padding:15px;font-size:18px;box-shadow:7px 7px 56px -24px #00000091;margin-bottom:1rem}h5[_ngcontent-%COMP%]{display:block;font-size:1rem;font-weight:700}"]}),n})(),wH=(()=>{class n{constructor(e,i,r,s,c){this.authService=e,this.router=i,this.tekstiStorageService=r,this.route=s,this.dataStorageService=c,this.isAuthenticated=!1,this.display=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e}),this.dataStorageService.fetchItems().subscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Xn),o.Y36(qt),o.Y36(dr),o.Y36(Si),o.Y36(F1))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-gallery"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},directives:[g3],styles:[""]}),n})(),xH=(()=>{class n{constructor(e,i){this.authService=e,this.dataStorageService=i,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e}),this.dataStorageService.fetchKorjaukset().subscribe()}ngOnDestroy(){this.userSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Xn),o.Y36(F1))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-korjaukset"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},directives:[g3],styles:[""]}),n})(),SH=(()=>{class n{constructor(e,i){this.authService=e,this.dataStorageService=i,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e}),this.dataStorageService.fetchRemontit().subscribe()}ngOnDestroy(){this.userSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Xn),o.Y36(F1))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-remontit"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},directives:[g3],styles:[""]}),n})(),EH=(()=>{class n{constructor(e,i){this.authService=e,this.dataStorageService=i,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e}),this.dataStorageService.fetchPalvelut().subscribe()}ngOnDestroy(){this.userSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Xn),o.Y36(F1))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-muutpalvelut"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},directives:[g3],styles:[""]}),n})();function a1e(n,t){1&n&&o._UZ(0,"router-outlet")}function l1e(n,t){1&n&&o._UZ(0,"router-outlet")}function c1e(n,t){1&n&&(o.TgZ(0,"div",14),o._UZ(1,"app-gallery"),o.qZA())}function u1e(n,t){1&n&&o._UZ(0,"router-outlet")}function d1e(n,t){1&n&&(o.TgZ(0,"div",14),o._UZ(1,"app-korjaukset"),o.qZA())}function f1e(n,t){1&n&&o._UZ(0,"router-outlet")}function h1e(n,t){if(1&n&&(o.TgZ(0,"div",14),o._UZ(1,"app-remontit"),o.YNc(2,f1e,1,0,"router-outlet",0),o.qZA()),2&n){const e=o.oxw();o.xp6(2),o.Q6J("ngIf","/text/3"===e.router.url)}}function p1e(n,t){1&n&&o._UZ(0,"router-outlet")}function g1e(n,t){1&n&&(o.TgZ(0,"div",14),o._UZ(1,"app-muutpalvelut"),o.qZA())}let C1e=(()=>{class n{constructor(e,i,r,s){this.dataStorageService=e,this.router=i,this.route=r,this.tekstiStorageService=s,this.display=!1,this.display1=!1,this.display2=!1,this.display3=!1}ngOnInit(){}onFetchData(){this.tekstiStorageService.fetchTekstit().subscribe(),this.dataStorageService.fetchItems().subscribe()}onPress(){this.display=!this.display,(this.display=this.display)?this.router.navigate(["/gallery"]):this.router.navigate(["../"]),this.display1=!1,this.display2=!1,(this.display3=!1)&&(this.display=!0)}onPress1(){this.display1=!this.display1,(this.display1=this.display1)?this.router.navigate(["/korjaukset"]):this.router.navigate(["../"]),this.display=!1,this.display2=!1,(this.display3=!1)&&(this.display1=!0)}onPress2(){this.display2=!this.display2,(this.display2=this.display2)?this.router.navigate(["/remontit"]):this.router.navigate(["../"]),this.display=!1,this.display1=!1,(this.display3=!1)&&(this.display2=!0)}onPress3(){this.display3=!this.display3,(this.display3=this.display3)?this.router.navigate(["/muutpalvelut"]):this.router.navigate(["../"]),this.display=!1,this.display1=!1,(this.display2=!1)&&(this.display3=!0)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(F1),o.Y36(qt),o.Y36(Si),o.Y36(dr))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-gallery-div"]],decls:70,vars:8,consts:[[4,"ngIf"],["id","targetGalleria"],[1,"container"],["id","targetgalleria",1,"row","justify-content-center",2,"background-image","url(assets/img/galleria.jpg)","background-position","bottom","background-size","cover","text-shadow","1px 1px 2px black"],[1,"col-md-auto"],[1,"btn","btn-lg","btn-dark",3,"click"],["id","comp-render",4,"ngIf"],["id","targetPalvelut"],["id","targetpalvelut",1,"row","justify-content-center",2,"background-image","url(assets/img/tulisijakorjaus.jpg)","background-position","center","background-size","cover","text-shadow","1px 1px 2px black"],[1,"row","justify-content-center",2,"background-image","url(assets/img/remontti.jpg)","background-position","70% 70%","background-size","cover","text-shadow","1px 1px 2px black"],[1,"row","justify-content-center",2,"background-image","url(assets/img/muut-palvelut.jpg)","background-position","0% 40%","background-size","cover","text-shadow","1px 1px 2px black"],["id","targetVerkkokauppa"],[1,"row","justify-content-center",2,"background-color","#3C424C","text-shadow","1px 1px 2px black"],["href","https://www.eurotulisijat.fi/fi","target","_blank",1,"btn","btn-lg","btn-dark"],["id","comp-render"]],template:function(e,i){1&e&&(o.YNc(0,a1e,1,0,"router-outlet",0),o._UZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o.TgZ(5,"h2"),o._uU(6,"Tulisijat"),o.qZA(),o.TgZ(7,"p"),o._uU(8,"Yksil\xf6lliset mittatilaustulisijat"),o.qZA(),o.TgZ(9,"p"),o._uU(10,"Varaavat tulisijat"),o.qZA(),o.TgZ(11,"p"),o._uU(12,"P\xf6ntt\xf6uunit"),o.qZA(),o.TgZ(13,"a",5),o.NdJ("click",function(){return i.onPress()}),o._uU(14,"Galleria"),o.qZA(),o.qZA(),o.qZA(),o.YNc(15,l1e,1,0,"router-outlet",0),o.YNc(16,c1e,2,0,"div",6),o._UZ(17,"div",7),o.TgZ(18,"div",8),o.TgZ(19,"div",4),o.TgZ(20,"h2"),o._uU(21,"Korjaukset"),o.qZA(),o.TgZ(22,"p"),o._uU(23,"Tulisijakorjaukset"),o.qZA(),o.TgZ(24,"p"),o._uU(25,"Hormikorjaukset"),o.qZA(),o.TgZ(26,"a",5),o.NdJ("click",function(){return i.onPress1()}),o._uU(27,"Korjaukset"),o.qZA(),o.qZA(),o.qZA(),o.YNc(28,u1e,1,0,"router-outlet",0),o.YNc(29,d1e,2,0,"div",6),o.TgZ(30,"div",9),o.TgZ(31,"div",4),o.TgZ(32,"h2"),o._uU(33,"Remontit"),o.qZA(),o.TgZ(34,"p"),o._uU(35,"M\xf6kki\u2013 ja huoneistoremontit"),o.qZA(),o.TgZ(36,"p"),o._uU(37,"Sauna- ja kylpyhuoneremontit"),o.qZA(),o.TgZ(38,"p"),o._uU(39,"Kattoremontit"),o.qZA(),o.TgZ(40,"a",5),o.NdJ("click",function(){return i.onPress2()}),o._uU(41,"Remontit"),o.qZA(),o.qZA(),o.qZA(),o.YNc(42,h1e,3,1,"div",6),o.TgZ(43,"div",10),o.TgZ(44,"div",4),o.TgZ(45,"h2"),o._uU(46,"Muut Palvelut"),o.qZA(),o.TgZ(47,"p"),o._uU(48,"Piipunpellitykset"),o.qZA(),o.TgZ(49,"p"),o._uU(50,"Sadehatut"),o.qZA(),o.TgZ(51,"p"),o._uU(52,"Kattoturvatuotteet"),o.qZA(),o.TgZ(53,"a",5),o.NdJ("click",function(){return i.onPress3()}),o._uU(54,"Muut Palvelut"),o.qZA(),o.qZA(),o.qZA(),o.YNc(55,p1e,1,0,"router-outlet",0),o.YNc(56,g1e,2,0,"div",6),o._UZ(57,"div",11),o.TgZ(58,"div",12),o.TgZ(59,"div",4),o.TgZ(60,"h2"),o._uU(61,"Verkkokauppa"),o.qZA(),o.TgZ(62,"p"),o._uU(63,"Kaminat"),o.qZA(),o.TgZ(64,"p"),o._uU(65,"Valmistulisijat"),o.qZA(),o.TgZ(66,"p"),o._uU(67,"Hormistot"),o.qZA(),o.TgZ(68,"a",13),o._uU(69,"Verkkokauppaan"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.Q6J("ngIf","/text/1"===i.router.url),o.xp6(15),o.Q6J("ngIf","/text/0"===i.router.url),o.xp6(1),o.Q6J("ngIf",i.display),o.xp6(12),o.Q6J("ngIf","/text/2"===i.router.url),o.xp6(1),o.Q6J("ngIf",i.display1),o.xp6(13),o.Q6J("ngIf",i.display2),o.xp6(13),o.Q6J("ngIf","/text/4"===i.router.url),o.xp6(1),o.Q6J("ngIf",i.display3))},directives:[zt,g3,wH,xH,SH,EH],styles:[".row[_ngcontent-%COMP%]{box-shadow:7px 7px 56px -24px #00000091;color:#fff;margin-bottom:1rem;font-size:larger;padding-top:2rem;position:relative;height:15rem;text-align:center;align-items:center}#targetGalleria[_ngcontent-%COMP%], #targetPalvelut[_ngcontent-%COMP%], #targetVerkkokauppa[_ngcontent-%COMP%]{width:60px;height:60px}"]}),n})(),m1e=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-footer"]],decls:32,vars:0,consts:[["id","targetYhteistiedot"],[1,"footer"],[1,"container"],[1,"row"],[1,"col"],["target","_blank","href","https://www.instagram.com/eurotulisijat/?hl=fi",2,"text-decoration","none","color","black"],["src","../../assets/img/ig.png",2,"max-height","10%","min-width","10%","opacity","65%"],[2,"color","rgb(85, 45, 13)"]],template:function(e,i){1&e&&(o._UZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o.TgZ(5,"h1"),o._uU(6," Aukioloajat"),o.qZA(),o.TgZ(7,"p"),o._uU(8," Ma - Pe klo 9.00 - 16.00 "),o.qZA(),o.TgZ(9,"p"),o._uU(10," Muulloin sopimuksen mukaan"),o.qZA(),o.qZA(),o.TgZ(11,"div",4),o.TgZ(12,"h1"),o._uU(13,"Yhteystiedot"),o.qZA(),o.TgZ(14,"p"),o._uU(15,"Puh. 0400573797, 0400644600, 0405269283"),o.qZA(),o.TgZ(16,"p"),o._uU(17,"seu@suomeneurouuni.fi"),o.qZA(),o.qZA(),o.TgZ(18,"div",4),o.TgZ(19,"h1"),o._uU(20,"Sijainti"),o.qZA(),o.TgZ(21,"p"),o._uU(22," Raita-ahontie 8"),o.qZA(),o.TgZ(23,"p"),o._uU(24,"52700 M\xe4ntyharju"),o.qZA(),o.qZA(),o.TgZ(25,"div",4),o.TgZ(26,"h1"),o._uU(27,"Seuraa meit\xe4 my\xf6s instragramissa!"),o.qZA(),o.TgZ(28,"a",5),o._UZ(29,"img",6),o.TgZ(30,"p",7),o._uU(31,"eurotulisijat"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA())},styles:[".footer[_ngcontent-%COMP%]{left:0;bottom:0;width:100%;background-color:#fe852b;color:#fff;text-align:center;margin-top:1rem}.col[_ngcontent-%COMP%]{height:300px;text-align:center;line-height:30px;margin-top:10%;color:#552d0d}h1[_ngcontent-%COMP%]{font-size:25px;color:#000}p[_ngcontent-%COMP%]{font-size:20px}#targetYhteistiedot[_ngcontent-%COMP%]{width:60px;height:60px}"]}),n})();var SO={prefix:"fas",iconName:"comment",icon:[512,512,[61669,128489],"f075","M256 32C114.6 32 .0272 125.1 .0272 240c0 49.63 21.35 94.98 56.97 130.7c-12.5 50.37-54.27 95.27-54.77 95.77c-2.25 2.25-2.875 5.734-1.5 8.734C1.979 478.2 4.75 480 8 480c66.25 0 115.1-31.76 140.6-51.39C181.2 440.9 217.6 448 256 448c141.4 0 255.1-93.13 255.1-208S397.4 32 256 32z"]},BP={prefix:"fas",iconName:"fire",icon:[448,512,[128293],"f06d","M323.5 51.25C302.8 70.5 284 90.75 267.4 111.1C240.1 73.62 206.2 35.5 168 0C69.75 91.12 0 210 0 281.6C0 408.9 100.2 512 224 512s224-103.1 224-230.4C448 228.4 396 118.5 323.5 51.25zM304.1 391.9C282.4 407 255.8 416 226.9 416c-72.13 0-130.9-47.73-130.9-125.2c0-38.63 24.24-72.64 72.74-130.8c7 8 98.88 125.4 98.88 125.4l58.63-66.88c4.125 6.75 7.867 13.52 11.24 19.9C364.9 290.6 353.4 357.4 304.1 391.9z"]},tz={prefix:"fas",iconName:"hammer",icon:[576,512,[128296],"f6e3","M568.1 196.3l-22.62-22.62c-4.533-4.533-10.56-7.029-16.97-7.029s-12.44 2.496-16.97 7.029l-5.654 5.656l-20.12-20.12c4.596-23.46-2.652-47.9-19.47-64.73l-45.25-45.25C390.2 17.47 347.1 0 303.1 0C258.2 0 216 17.47 184.3 49.21L176.5 57.05L272.5 105.1v13.81c0 18.95 7.688 37.5 21.09 50.91l49.16 49.14c13.44 13.45 31.39 20.86 50.54 20.86c4.758 0 9.512-.4648 14.18-1.387l20.12 20.12l-5.654 5.654c-9.357 9.357-9.357 24.58-.002 33.94l22.62 22.62c4.535 4.533 10.56 7.031 16.97 7.031s12.44-2.498 16.97-7.031l90.53-90.5C578.3 220.8 578.3 205.6 568.1 196.3zM270.9 192.4c-3.846-3.846-7.197-8.113-10.37-12.49l-239.5 209.2c-28.12 28.12-28.16 73.72-.0371 101.8C35.12 505 53.56 512 71.1 512s36.84-7.031 50.91-21.09l209.1-239.4c-4.141-3.061-8.184-6.289-11.89-9.996L270.9 192.4z"]},$F={prefix:"fas",iconName:"question",icon:[320,512,[10067,10068,61736],"3f","M204.3 32.01H96c-52.94 0-96 43.06-96 96c0 17.67 14.31 31.1 32 31.1s32-14.32 32-31.1c0-17.64 14.34-32 32-32h108.3C232.8 96.01 256 119.2 256 147.8c0 19.72-10.97 37.47-30.5 47.33L127.8 252.4C117.1 258.2 112 268.7 112 280v40c0 17.67 14.31 31.99 32 31.99s32-14.32 32-31.99V298.3L256 251.3c39.47-19.75 64-59.42 64-103.5C320 83.95 268.1 32.01 204.3 32.01zM144 400c-22.09 0-40 17.91-40 40s17.91 39.1 40 39.1s40-17.9 40-39.1S166.1 400 144 400z"]},vU={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M506.3 417l-213.3-364c-16.33-28-57.54-28-73.98 0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6C502.1 480 522.6 445 506.3 417zM232 168c0-13.25 10.75-24 24-24S280 154.8 280 168v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zM256 416c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z"]},DS={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"]};let kbe=(()=>{class n{constructor(e){this.httpreq=e}sendMessage(e){const r={headers:{headers:new xs({"Content-Type":"application/json"})},responseType:"text"};return this.httpreq.post("http://localhost:3000/email",e,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(x4))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XU(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function lt(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?XU(Object(e),!0).forEach(function(i){Rbe(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):XU(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Zm(n){return(Zm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function eG(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Rbe(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function AS(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var c,d,i=[],r=!0,s=!1;try{for(e=e.call(n);!(r=(c=e.next()).done)&&(i.push(c.value),!t||i.length!==t);r=!0);}catch(h){s=!0,d=h}finally{try{!r&&null!=e.return&&e.return()}finally{if(s)throw d}}return i}}(n,t)||tG(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Km(n){return function(n){if(Array.isArray(n))return IS(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||tG(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tG(n,t){if(n){if("string"==typeof n)return IS(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if("Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return IS(n,t)}}function IS(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}var nG=function(){},NS={},iG={},rG=null,sG={mark:nG,measure:nG};try{"undefined"!=typeof window&&(NS=window),"undefined"!=typeof document&&(iG=document),"undefined"!=typeof MutationObserver&&(rG=MutationObserver),"undefined"!=typeof performance&&(sG=performance)}catch(n){}var oG=(NS.navigator||{}).userAgent,aG=void 0===oG?"":oG,Ec=NS,Li=iG,lG=rG,Qm=sG,B4=!!Li.documentElement&&!!Li.head&&"function"==typeof Li.addEventListener&&"function"==typeof Li.createElement,cG=~aG.indexOf("MSIE")||~aG.indexOf("Trident/"),U4="___FONT_AWESOME___",dG="svg-inline--fa",U5="data-fa-i2svg",VS="data-fa-pseudo-element",HS="data-prefix",RS="data-icon",fG="fontawesome-i2svg",Wbe=["HTML","HEAD","STYLE","SCRIPT"],hG=function(){try{return!0}catch(n){return!1}}(),OS={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},Jm={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},pG={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},Zbe={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},Ybe=/fa[srltdbk\-\ ]/,gG="fa-layers-text",Kbe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,Qbe={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},CG=[1,2,3,4,5,6,7,8,9,10],Jbe=CG.concat([11,12,13,14,15,16,17,18,19,20]),Xbe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],eMe=[].concat(Km(Object.keys(Jm)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(CG.map(function(n){return"".concat(n,"x")})).concat(Jbe.map(function(n){return"w-".concat(n)})),mG=Ec.FontAwesomeConfig||{};Li&&"function"==typeof Li.querySelector&&[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var t=AS(n,2),i=t[1],r=function(n){return""===n||"false"!==n&&("true"===n||n)}(function(n){var t=Li.querySelector("script["+n+"]");if(t)return t.getAttribute(n)}(t[0]));null!=r&&(mG[i]=r)});var th=lt(lt({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:dG,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),mG);th.autoReplaceSvg||(th.observeMutations=!1);var It={};Object.keys(th).forEach(function(n){Object.defineProperty(It,n,{enumerable:!0,set:function(e){th[n]=e,Xm.forEach(function(i){return i(It)})},get:function(){return th[n]}})}),Ec.FontAwesomeConfig=It;var Xm=[],b3={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function nh(){for(var n=12,t="";n-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function Cu(n){for(var t=[],e=(n||[]).length>>>0;e--;)t[e]=n[e];return t}function PS(n){return n.classList?Cu(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(t){return t})}function _G(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function e_(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,": ").concat(n[e].trim(),";")},"")}function zS(n){return n.size!==b3.size||n.x!==b3.x||n.y!==b3.y||n.rotate!==b3.rotate||n.flipX||n.flipY}function vG(){var n="fa",t=dG,e=It.familyPrefix,i=It.replacementClass,r=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(e!==n||i!==t){var s=new RegExp("\\.".concat(n,"\\-"),"g"),c=new RegExp("\\--".concat(n,"\\-"),"g"),d=new RegExp("\\.".concat(t),"g");r=r.replace(s,".".concat(e,"-")).replace(c,"--".concat(e,"-")).replace(d,".".concat(i))}return r}var yG=!1;function FS(){It.autoAddCss&&!yG&&(function(n){if(n&&B4){var t=Li.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=n;for(var e=Li.head.childNodes,i=null,r=e.length-1;r>-1;r--){var s=e[r],c=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(c)>-1&&(i=s)}Li.head.insertBefore(t,i)}}(vG()),yG=!0)}var fMe={mixout:function(){return{dom:{css:vG,insertCss:FS}}},hooks:function(){return{beforeDOMElementCreation:function(){FS()},beforeI2svg:function(){FS()}}}},G4=Ec||{};G4[U4]||(G4[U4]={}),G4[U4].styles||(G4[U4].styles={}),G4[U4].hooks||(G4[U4].hooks={}),G4[U4].shims||(G4[U4].shims=[]);var ma=G4[U4],bG=[],t_=!1;function pMe(n){!B4||(t_?setTimeout(n,0):bG.push(n))}function ih(n){var t=n.tag,e=n.attributes,i=void 0===e?{}:e,r=n.children,s=void 0===r?[]:r;return"string"==typeof n?_G(n):"<".concat(t," ").concat(function(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,'="').concat(_G(n[e]),'" ')},"").trim()}(i),">").concat(s.map(ih).join(""),"</").concat(t,">")}function MG(n,t,e){if(n&&n[t]&&n[t][e])return{prefix:t,iconName:e,icon:n[t][e]}}B4&&((t_=(Li.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Li.readyState))||Li.addEventListener("DOMContentLoaded",function n(){Li.removeEventListener("DOMContentLoaded",n),t_=1,bG.map(function(t){return t()})}));var BS=function(t,e,i,r){var h,_,M,s=Object.keys(t),c=s.length,d=void 0!==r?function(t,e){return function(i,r,s,c){return t.call(e,i,r,s,c)}}(e,r):e;for(void 0===i?(h=1,M=t[s[0]]):(h=0,M=i);h<c;h++)M=d(M,t[_=s[h]],_,t);return M};function US(n){var t=function(n){for(var t=[],e=0,i=n.length;e<i;){var r=n.charCodeAt(e++);if(r>=55296&&r<=56319&&e<i){var s=n.charCodeAt(e++);56320==(64512&s)?t.push(((1023&r)<<10)+(1023&s)+65536):(t.push(r),e--)}else t.push(r)}return t}(n);return 1===t.length?t[0].toString(16):null}function wG(n){return Object.keys(n).reduce(function(t,e){var i=n[e];return i.icon?t[i.iconName]=i.icon:t[e]=i,t},{})}function GS(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.skipHooks,r=void 0!==i&&i,s=wG(t);"function"!=typeof ma.hooks.addPack||r?ma.styles[n]=lt(lt({},ma.styles[n]||{}),s):ma.hooks.addPack(n,wG(t)),"fas"===n&&GS("fa",t)}var rh=ma.styles,_Me=ma.shims,vMe=Object.values(pG),jS=null,xG={},SG={},EG={},LG={},TG={},yMe=Object.keys(OS);function MMe(n,t){var e=t.split("-"),i=e[0],r=e.slice(1).join("-");return i!==n||""===r||function(n){return~eMe.indexOf(n)}(r)?null:r}var DG=function(){var t=function(s){return BS(rh,function(c,d,h){return c[h]=BS(d,s,{}),c},{})};xG=t(function(r,s,c){return s[3]&&(r[s[3]]=c),s[2]&&s[2].filter(function(h){return"number"==typeof h}).forEach(function(h){r[h.toString(16)]=c}),r}),SG=t(function(r,s,c){return r[c]=c,s[2]&&s[2].filter(function(h){return"string"==typeof h}).forEach(function(h){r[h]=c}),r}),TG=t(function(r,s,c){var d=s[2];return r[c]=c,d.forEach(function(h){r[h]=c}),r});var e="far"in rh||It.autoFetchSvg,i=BS(_Me,function(r,s){var c=s[0],d=s[1],h=s[2];return"far"===d&&!e&&(d="fas"),"string"==typeof c&&(r.names[c]={prefix:d,iconName:h}),"number"==typeof c&&(r.unicodes[c.toString(16)]={prefix:d,iconName:h}),r},{names:{},unicodes:{}});EG=i.names,LG=i.unicodes,jS=n_(It.styleDefault)};function qS(n,t){return(xG[n]||{})[t]}function mu(n,t){return(TG[n]||{})[t]}function AG(n){return EG[n]||{prefix:null,iconName:null}}function Tc(){return jS}function n_(n){return Jm[n]||Jm[OS[n]]||(n in ma.styles?n:null)||null}function i_(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.skipLookups,i=void 0!==e&&e,r=null,s=n.reduce(function(c,d){var h=MMe(It.familyPrefix,d);if(rh[d]?(d=vMe.includes(d)?Zbe[d]:d,r=d,c.prefix=d):yMe.indexOf(d)>-1?(r=d,c.prefix=n_(d)):h?c.iconName=h:d!==It.replacementClass&&c.rest.push(d),!i&&c.prefix&&c.iconName){var _="fa"===r?AG(c.iconName):{},M=mu(c.prefix,c.iconName);_.prefix&&(r=null),c.iconName=_.iconName||M||c.iconName,c.prefix=_.prefix||c.prefix,"far"===c.prefix&&!rh.far&&rh.fas&&!It.autoFetchSvg&&(c.prefix="fas")}return c},{prefix:null,iconName:null,rest:[]});return("fa"===s.prefix||"fa"===r)&&(s.prefix=Tc()||"fas"),s}Xm.push(function(n){jS=n_(n.styleDefault)}),DG();var SMe=function(){function n(){(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function(n,t,e){t&&eG(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var e=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var c=r.reduce(this._pullDefinitions,{});Object.keys(c).forEach(function(d){e.definitions[d]=lt(lt({},e.definitions[d]||{}),c[d]),GS(d,c[d]);var h=pG[d];h&&GS(h,c[d]),DG()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(s){var c=r[s],d=c.prefix,h=c.iconName,_=c.icon,M=_[2];e[d]||(e[d]={}),M.length>0&&M.forEach(function(x){"string"==typeof x&&(e[d][x]=_)}),e[d][h]=_}),e}}]),n}(),IG=[],_u={},vu={},EMe=Object.keys(vu);function WS(n,t){for(var e=arguments.length,i=new Array(e>2?e-2:0),r=2;r<e;r++)i[r-2]=arguments[r];var s=_u[n]||[];return s.forEach(function(c){t=c.apply(null,[t].concat(i))}),t}function j5(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];var r=_u[n]||[];r.forEach(function(s){s.apply(null,e)})}function j4(){var n=arguments[0],t=Array.prototype.slice.call(arguments,1);return vu[n]?vu[n].apply(null,t):void 0}function ZS(n){"fa"===n.prefix&&(n.prefix="fas");var t=n.iconName,e=n.prefix||Tc();if(t)return t=mu(e,t)||t,MG(NG.definitions,e,t)||MG(ma.styles,e,t)}var NG=new SMe,DMe={i2svg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return B4?(j5("beforeI2svg",t),j4("pseudoElements2svg",t),j4("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot;!1===It.autoReplaceSvg&&(It.autoReplaceSvg=!0),It.observeMutations=!0,pMe(function(){IMe({autoReplaceSvgRoot:e}),j5("watch",t)})}},ks={noAuto:function(){It.autoReplaceSvg=!1,It.observeMutations=!1,j5("noAuto")},config:It,dom:DMe,parse:{icon:function(t){if(null===t)return null;if("object"===Zm(t)&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:mu(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&2===t.length){var e=0===t[1].indexOf("fa-")?t[1].slice(3):t[1],i=n_(t[0]);return{prefix:i,iconName:mu(i,e)||e}}if("string"==typeof t&&(t.indexOf("".concat(It.familyPrefix,"-"))>-1||t.match(Ybe))){var r=i_(t.split(" "),{skipLookups:!0});return{prefix:r.prefix||Tc(),iconName:mu(r.prefix,r.iconName)||r.iconName}}if("string"==typeof t){var s=Tc();return{prefix:s,iconName:mu(s,t)||t}}}},library:NG,findIconDefinition:ZS,toHtml:ih},IMe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot,i=void 0===e?Li:e;(Object.keys(ma.styles).length>0||It.autoFetchSvg)&&B4&&It.autoReplaceSvg&&ks.dom.i2svg({node:i})};function r_(n,t){return Object.defineProperty(n,"abstract",{get:t}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(i){return ih(i)})}}),Object.defineProperty(n,"node",{get:function(){if(B4){var i=Li.createElement("div");return i.innerHTML=n.html,i.children}}}),n}function YS(n){var t=n.icons,e=t.main,i=t.mask,r=n.prefix,s=n.iconName,c=n.transform,d=n.symbol,h=n.title,_=n.maskId,M=n.titleId,x=n.extra,D=n.watchable,N=void 0!==D&&D,H=i.found?i:e,U=H.width,Y=H.height,ae="fak"===r,ce=[It.replacementClass,s?"".concat(It.familyPrefix,"-").concat(s):""].filter(function(ei){return-1===x.classes.indexOf(ei)}).filter(function(ei){return""!==ei||!!ei}).concat(x.classes).join(" "),ke={children:[],attributes:lt(lt({},x.attributes),{},{"data-prefix":r,"data-icon":s,class:ce,role:x.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(U," ").concat(Y)})},Te=ae&&!~x.classes.indexOf("fa-fw")?{width:"".concat(U/Y*16*.0625,"em")}:{};N&&(ke.attributes[U5]=""),h&&(ke.children.push({tag:"title",attributes:{id:ke.attributes["aria-labelledby"]||"title-".concat(M||nh())},children:[h]}),delete ke.attributes.title);var tt=lt(lt({},ke),{},{prefix:r,iconName:s,main:e,mask:i,maskId:_,transform:c,symbol:d,styles:lt(lt({},Te),x.styles)}),st=i.found&&e.found?j4("generateAbstractMask",tt)||{children:[],attributes:{}}:j4("generateAbstractIcon",tt)||{children:[],attributes:{}},Kt=st.attributes;return tt.children=st.children,tt.attributes=Kt,d?function(n){var e=n.iconName,i=n.children,r=n.attributes,s=n.symbol,c=!0===s?"".concat(n.prefix,"-").concat(It.familyPrefix,"-").concat(e):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:lt(lt({},r),{},{id:c}),children:i}]}]}(tt):function(n){var t=n.children,e=n.main,i=n.mask,r=n.attributes,s=n.styles,c=n.transform;if(zS(c)&&e.found&&!i.found){var _={x:e.width/e.height/2,y:.5};r.style=e_(lt(lt({},s),{},{"transform-origin":"".concat(_.x+c.x/16,"em ").concat(_.y+c.y/16,"em")}))}return[{tag:"svg",attributes:r,children:t}]}(tt)}function kG(n){var t=n.content,e=n.width,i=n.height,r=n.transform,s=n.title,c=n.extra,d=n.watchable,h=void 0!==d&&d,_=lt(lt(lt({},c.attributes),s?{title:s}:{}),{},{class:c.classes.join(" ")});h&&(_[U5]="");var M=lt({},c.styles);zS(r)&&(M.transform=function(n){var t=n.transform,e=n.width,r=n.height,s=void 0===r?16:r,c=n.startCentered,d=void 0!==c&&c,h="";return h+=d&&cG?"translate(".concat(t.x/16-(void 0===e?16:e)/2,"em, ").concat(t.y/16-s/2,"em) "):d?"translate(calc(-50% + ".concat(t.x/16,"em), calc(-50% + ").concat(t.y/16,"em)) "):"translate(".concat(t.x/16,"em, ").concat(t.y/16,"em) "),(h+="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "))+"rotate(".concat(t.rotate,"deg) ")}({transform:r,startCentered:!0,width:e,height:i}),M["-webkit-transform"]=M.transform);var x=e_(M);x.length>0&&(_.style=x);var D=[];return D.push({tag:"span",attributes:_,children:[t]}),s&&D.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),D}function VMe(n){var t=n.content,e=n.title,i=n.extra,r=lt(lt(lt({},i.attributes),e?{title:e}:{}),{},{class:i.classes.join(" ")}),s=e_(i.styles);s.length>0&&(r.style=s);var c=[];return c.push({tag:"span",attributes:r,children:[t]}),e&&c.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),c}var KS=ma.styles;function QS(n){var t=n[0],e=n[1],s=AS(n.slice(4),1)[0];return{found:!0,width:t,height:e,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(It.familyPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(It.familyPrefix,"-").concat("secondary"),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(It.familyPrefix,"-").concat("primary"),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var HMe={found:!1,width:512,height:512};function JS(n,t){var e=t;return"fa"===t&&null!==It.styleDefault&&(t=Tc()),new Promise(function(i,r){if(j4("missingIconAbstract"),"fa"===e){var c=AG(n)||{};n=c.iconName||n,t=c.prefix||t}if(n&&t&&KS[t]&&KS[t][n])return i(QS(KS[t][n]));(function(n,t){!hG&&!It.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(t,'" is missing.'))})(n,t),i(lt(lt({},HMe),{},{icon:It.showMissingIcons&&n&&j4("missingIconAbstract")||{}}))})}var VG=function(){},XS=It.measurePerformance&&Qm&&Qm.mark&&Qm.measure?Qm:{mark:VG,measure:VG},sh='FA "6.1.1"',eE_begin=function(t){return XS.mark("".concat(sh," ").concat(t," begins")),function(){return function(t){XS.mark("".concat(sh," ").concat(t," ends")),XS.measure("".concat(sh," ").concat(t),"".concat(sh," ").concat(t," begins"),"".concat(sh," ").concat(t," ends"))}(t)}},s_=function(){};function RG(n){return"string"==typeof(n.getAttribute?n.getAttribute(U5):null)}function BMe(n){return Li.createElementNS("http://www.w3.org/2000/svg",n)}function UMe(n){return Li.createElement(n)}function OG(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.ceFn,i=void 0===e?"svg"===n.tag?BMe:UMe:e;if("string"==typeof n)return Li.createTextNode(n);var r=i(n.tag);Object.keys(n.attributes||[]).forEach(function(c){r.setAttribute(c,n.attributes[c])});var s=n.children||[];return s.forEach(function(c){r.appendChild(OG(c,{ceFn:i}))}),r}var o_={replace:function(t){var e=t[0];if(e.parentNode)if(t[1].forEach(function(r){e.parentNode.insertBefore(OG(r),e)}),null===e.getAttribute(U5)&&It.keepOriginalSource){var i=Li.createComment(function(n){var t=" ".concat(n.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(e));e.parentNode.replaceChild(i,e)}else e.remove()},nest:function(t){var e=t[0],i=t[1];if(~PS(e).indexOf(It.replacementClass))return o_.replace(t);var r=new RegExp("".concat(It.familyPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var s=i[0].attributes.class.split(" ").reduce(function(d,h){return h===It.replacementClass||h.match(r)?d.toSvg.push(h):d.toNode.push(h),d},{toNode:[],toSvg:[]});i[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}var c=i.map(function(d){return ih(d)}).join("\n");e.setAttribute(U5,""),e.innerHTML=c}};function PG(n){n()}function zG(n,t){var e="function"==typeof t?t:s_;if(0===n.length)e();else{var i=PG;"async"===It.mutateApproach&&(i=Ec.requestAnimationFrame||PG),i(function(){var r=!0===It.autoReplaceSvg?o_.replace:o_[It.autoReplaceSvg]||o_.replace,s=eE_begin("mutate");n.map(r),s(),e()})}}var tE=!1;function FG(){tE=!0}function nE(){tE=!1}var a_=null;function BG(n){if(lG&&It.observeMutations){var t=n.treeCallback,e=void 0===t?s_:t,i=n.nodeCallback,r=void 0===i?s_:i,s=n.pseudoElementsCallback,c=void 0===s?s_:s,d=n.observeMutationsRoot,h=void 0===d?Li:d;a_=new lG(function(_){if(!tE){var M=Tc();Cu(_).forEach(function(x){if("childList"===x.type&&x.addedNodes.length>0&&!RG(x.addedNodes[0])&&(It.searchPseudoElements&&c(x.target),e(x.target)),"attributes"===x.type&&x.target.parentNode&&It.searchPseudoElements&&c(x.target.parentNode),"attributes"===x.type&&RG(x.target)&&~Xbe.indexOf(x.attributeName))if("class"===x.attributeName&&function(n){var t=n.getAttribute?n.getAttribute(HS):null,e=n.getAttribute?n.getAttribute(RS):null;return t&&e}(x.target)){var D=i_(PS(x.target)),H=D.iconName;x.target.setAttribute(HS,D.prefix||M),H&&x.target.setAttribute(RS,H)}else(function(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(It.replacementClass)})(x.target)&&r(x.target)})}}),B4&&a_.observe(h,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function qMe(n){var t=n.getAttribute("style"),e=[];return t&&(e=t.split(";").reduce(function(i,r){var s=r.split(":"),c=s[0],d=s.slice(1);return c&&d.length>0&&(i[c]=d.join(":").trim()),i},{})),e}function $Me(n){var t=n.getAttribute("data-prefix"),e=n.getAttribute("data-icon"),i=void 0!==n.innerText?n.innerText.trim():"",r=i_(PS(n));return r.prefix||(r.prefix=Tc()),t&&e&&(r.prefix=t,r.iconName=e),r.iconName&&r.prefix||r.prefix&&i.length>0&&(r.iconName=function(n,t){return(SG[n]||{})[t]}(r.prefix,n.innerText)||qS(r.prefix,US(n.innerText))),r}function WMe(n){var t=Cu(n.attributes).reduce(function(r,s){return"class"!==r.name&&"style"!==r.name&&(r[s.name]=s.value),r},{}),e=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return It.autoA11y&&(e?t["aria-labelledby"]="".concat(It.replacementClass,"-title-").concat(i||nh()):(t["aria-hidden"]="true",t.focusable="false")),t}function UG(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},e=$Me(n),i=e.iconName,r=e.prefix,s=e.rest,c=WMe(n),d=WS("parseNodeAttributes",{},n),h=t.styleParser?qMe(n):[];return lt({iconName:i,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:r,transform:b3,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:h,attributes:c}},d)}var YMe=ma.styles;function GG(n){var t="nest"===It.autoReplaceSvg?UG(n,{styleParser:!1}):UG(n);return~t.extra.classes.indexOf(gG)?j4("generateLayersText",n,t):j4("generateSvgReplacementMutation",n,t)}function jG(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!B4)return Promise.resolve();var e=Li.documentElement.classList,i=function(x){return e.add("".concat(fG,"-").concat(x))},r=function(x){return e.remove("".concat(fG,"-").concat(x))},s=Object.keys(It.autoFetchSvg?OS:YMe),c=[".".concat(gG,":not([").concat(U5,"])")].concat(s.map(function(M){return".".concat(M,":not([").concat(U5,"])")})).join(", ");if(0===c.length)return Promise.resolve();var d=[];try{d=Cu(n.querySelectorAll(c))}catch(M){}if(!(d.length>0))return Promise.resolve();i("pending"),r("complete");var h=eE_begin("onTree"),_=d.reduce(function(M,x){try{var D=GG(x);D&&M.push(D)}catch(N){hG||"MissingIcon"===N.name&&console.error(N)}return M},[]);return new Promise(function(M,x){Promise.all(_).then(function(D){zG(D,function(){i("active"),i("complete"),r("pending"),"function"==typeof t&&t(),h(),M()})}).catch(function(D){h(),x(D)})})}function KMe(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;GG(n).then(function(e){e&&zG([e],t)})}var JMe=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.transform,r=void 0===i?b3:i,s=e.symbol,c=void 0!==s&&s,d=e.mask,h=void 0===d?null:d,_=e.maskId,M=void 0===_?null:_,x=e.title,D=void 0===x?null:x,N=e.titleId,H=void 0===N?null:N,U=e.classes,Y=void 0===U?[]:U,ae=e.attributes,ce=void 0===ae?{}:ae,ke=e.styles,Te=void 0===ke?{}:ke;if(t){var tt=t.prefix,st=t.iconName,an=t.icon;return r_(lt({type:"icon"},t),function(){return j5("beforeDOMElementCreation",{iconDefinition:t,params:e}),It.autoA11y&&(D?ce["aria-labelledby"]="".concat(It.replacementClass,"-title-").concat(H||nh()):(ce["aria-hidden"]="true",ce.focusable="false")),YS({icons:{main:QS(an),mask:h?QS(h.icon):{found:!1,width:null,height:null,icon:{}}},prefix:tt,iconName:st,transform:lt(lt({},b3),r),symbol:c,title:D,maskId:M,titleId:H,extra:{attributes:ce,styles:Te,classes:Y}})})}},XMe={mixout:function(){return{icon:(n=JMe,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(t||{}).icon?t:ZS(t||{}),r=e.mask;return r&&(r=(r||{}).icon?r:ZS(r||{})),n(i,lt(lt({},e),{},{mask:r}))})};var n},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=jG,e.nodeCallback=KMe,e}}},provides:function(t){t.i2svg=function(e){var i=e.node,s=e.callback;return jG(void 0===i?Li:i,void 0===s?function(){}:s)},t.generateSvgReplacementMutation=function(e,i){var r=i.iconName,s=i.title,c=i.titleId,d=i.prefix,h=i.transform,_=i.symbol,M=i.mask,x=i.maskId,D=i.extra;return new Promise(function(N,H){Promise.all([JS(r,d),M.iconName?JS(M.iconName,M.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(U){var Y=AS(U,2);N([e,YS({icons:{main:Y[0],mask:Y[1]},prefix:d,iconName:r,transform:h,symbol:_,maskId:x,title:s,titleId:c,extra:D,watchable:!0})])}).catch(H)})},t.generateAbstractIcon=function(e){var _,i=e.children,r=e.attributes,s=e.main,c=e.transform,h=e_(e.styles);return h.length>0&&(r.style=h),zS(c)&&(_=j4("generateAbstractTransformGrouping",{main:s,transform:c,containerWidth:s.width,iconWidth:s.width})),i.push(_||s.icon),{children:i,attributes:r}}}},ewe={mixout:function(){return{layer:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.classes,s=void 0===r?[]:r;return r_({type:"layer"},function(){j5("beforeDOMElementCreation",{assembler:e,params:i});var c=[];return e(function(d){Array.isArray(d)?d.map(function(h){c=c.concat(h.abstract)}):c=c.concat(d.abstract)}),[{tag:"span",attributes:{class:["".concat(It.familyPrefix,"-layers")].concat(Km(s)).join(" ")},children:c}]})}}}},twe={mixout:function(){return{counter:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.title,s=void 0===r?null:r,c=i.classes,d=void 0===c?[]:c,h=i.attributes,_=void 0===h?{}:h,M=i.styles,x=void 0===M?{}:M;return r_({type:"counter",content:e},function(){return j5("beforeDOMElementCreation",{content:e,params:i}),VMe({content:e.toString(),title:s,extra:{attributes:_,styles:x,classes:["".concat(It.familyPrefix,"-layers-counter")].concat(Km(d))}})})}}}},nwe={mixout:function(){return{text:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.transform,s=void 0===r?b3:r,c=i.title,d=void 0===c?null:c,h=i.classes,_=void 0===h?[]:h,M=i.attributes,x=void 0===M?{}:M,D=i.styles,N=void 0===D?{}:D;return r_({type:"text",content:e},function(){return j5("beforeDOMElementCreation",{content:e,params:i}),kG({content:e,transform:lt(lt({},b3),s),title:d,extra:{attributes:x,styles:N,classes:["".concat(It.familyPrefix,"-layers-text")].concat(Km(_))}})})}}},provides:function(t){t.generateLayersText=function(e,i){var r=i.title,s=i.transform,c=i.extra,d=null,h=null;if(cG){var _=parseInt(getComputedStyle(e).fontSize,10),M=e.getBoundingClientRect();d=M.width/_,h=M.height/_}return It.autoA11y&&!r&&(c.attributes["aria-hidden"]="true"),Promise.resolve([e,kG({content:e.innerHTML,width:d,height:h,transform:s,title:r,extra:c,watchable:!0})])}}},iwe=new RegExp('"',"ug"),qG=[1105920,1112319];function $G(n,t){var e="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise(function(i,r){if(null!==n.getAttribute(e))return i();var c=Cu(n.children).filter(function(st){return st.getAttribute(VS)===t})[0],d=Ec.getComputedStyle(n,t),h=d.getPropertyValue("font-family").match(Kbe),_=d.getPropertyValue("font-weight"),M=d.getPropertyValue("content");if(c&&!h)return n.removeChild(c),i();if(h&&"none"!==M&&""!==M){var x=d.getPropertyValue("content"),D=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(h[2])?Jm[h[2].toLowerCase()]:Qbe[_],N=function(n){var t=n.replace(iwe,""),e=function(n,t){var r,e=n.length,i=n.charCodeAt(0);return i>=55296&&i<=56319&&e>1&&(r=n.charCodeAt(1))>=56320&&r<=57343?1024*(i-55296)+r-56320+65536:i}(t),i=e>=qG[0]&&e<=qG[1],r=2===t.length&&t[0]===t[1];return{value:US(r?t[0]:t),isSecondary:i||r}}(x),H=N.value,U=N.isSecondary,Y=h[0].startsWith("FontAwesome"),ae=qS(D,H),ce=ae;if(Y){var ke=function(n){var t=LG[n],e=qS("fas",n);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}(H);ke.iconName&&ke.prefix&&(ae=ke.iconName,D=ke.prefix)}if(!ae||U||c&&c.getAttribute(HS)===D&&c.getAttribute(RS)===ce)i();else{n.setAttribute(e,ce),c&&n.removeChild(c);var Te={iconName:null,title:null,titleId:null,prefix:null,transform:b3,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},tt=Te.extra;tt.attributes[VS]=t,JS(ae,D).then(function(st){var an=YS(lt(lt({},Te),{},{icons:{main:st,mask:{prefix:null,iconName:null,rest:[]}},prefix:D,iconName:ce,extra:tt,watchable:!0})),Kt=Li.createElement("svg");"::before"===t?n.insertBefore(Kt,n.firstChild):n.appendChild(Kt),Kt.outerHTML=an.map(function(ei){return ih(ei)}).join("\n"),n.removeAttribute(e),i()}).catch(r)}}else i()})}function swe(n){return Promise.all([$G(n,"::before"),$G(n,"::after")])}function owe(n){return!(n.parentNode===document.head||~Wbe.indexOf(n.tagName.toUpperCase())||n.getAttribute(VS)||n.parentNode&&"svg"===n.parentNode.tagName)}function WG(n){if(B4)return new Promise(function(t,e){var i=Cu(n.querySelectorAll("*")).filter(owe).map(swe),r=eE_begin("searchPseudoElements");FG(),Promise.all(i).then(function(){r(),nE(),t()}).catch(function(){r(),nE(),e()})})}var ZG=!1,YG=function(t){return t.toLowerCase().split(" ").reduce(function(i,r){var s=r.toLowerCase().split("-"),c=s[0],d=s.slice(1).join("-");if(c&&"h"===d)return i.flipX=!0,i;if(c&&"v"===d)return i.flipY=!0,i;if(d=parseFloat(d),isNaN(d))return i;switch(c){case"grow":i.size=i.size+d;break;case"shrink":i.size=i.size-d;break;case"left":i.x=i.x-d;break;case"right":i.x=i.x+d;break;case"up":i.y=i.y-d;break;case"down":i.y=i.y+d;break;case"rotate":i.rotate=i.rotate+d}return i},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},iE={x:0,y:0,width:"100%",height:"100%"};function KG(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||t)&&(n.attributes.fill="black"),n}var n,e,dwe={hooks:function(){return{parseNodeAttributes:function(e,i){var r=i.getAttribute("data-fa-mask"),s=r?i_(r.split(" ").map(function(c){return c.trim()})):{prefix:null,iconName:null,rest:[]};return s.prefix||(s.prefix=Tc()),e.mask=s,e.maskId=i.getAttribute("data-fa-mask-id"),e}}},provides:function(t){t.generateAbstractMask=function(e){var n,i=e.children,r=e.attributes,s=e.main,c=e.mask,d=e.maskId,M=s.icon,D=c.icon,N=function(n){var t=n.transform,i=n.iconWidth,r={transform:"translate(".concat(n.containerWidth/2," 256)")},s="translate(".concat(32*t.x,", ").concat(32*t.y,") "),c="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),d="rotate(".concat(t.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(s," ").concat(c," ").concat(d)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}({transform:e.transform,containerWidth:c.width,iconWidth:s.width}),H={tag:"rect",attributes:lt(lt({},iE),{},{fill:"white"})},U=M.children?{children:M.children.map(KG)}:{},Y={tag:"g",attributes:lt({},N.inner),children:[KG(lt({tag:M.tag,attributes:lt(lt({},M.attributes),N.path)},U))]},ae={tag:"g",attributes:lt({},N.outer),children:[Y]},ce="mask-".concat(d||nh()),ke="clip-".concat(d||nh()),Te={tag:"mask",attributes:lt(lt({},iE),{},{id:ce,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[H,ae]},tt={tag:"defs",children:[{tag:"clipPath",attributes:{id:ke},children:(n=D,"g"===n.tag?n.children:[n])},Te]};return i.push(tt,{tag:"rect",attributes:lt({fill:"currentColor","clip-path":"url(#".concat(ke,")"),mask:"url(#".concat(ce,")")},iE)}),{children:i,attributes:r}}}};n=[fMe,XMe,ewe,twe,nwe,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=WG,e}}},provides:function(t){t.pseudoElements2svg=function(e){var i=e.node;It.searchPseudoElements&&WG(void 0===i?Li:i)}}},{mixout:function(){return{dom:{unwatch:function(){FG(),ZG=!0}}}},hooks:function(){return{bootstrap:function(){BG(WS("mutationObserverCallbacks",{}))},noAuto:function(){!a_||a_.disconnect()},watch:function(e){var i=e.observeMutationsRoot;ZG?nE():BG(WS("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},{mixout:function(){return{parse:{transform:function(e){return YG(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,i){var r=i.getAttribute("data-fa-transform");return r&&(e.transform=YG(r)),e}}},provides:function(t){t.generateAbstractTransformGrouping=function(e){var i=e.main,r=e.transform,c=e.iconWidth,d={transform:"translate(".concat(e.containerWidth/2," 256)")},h="translate(".concat(32*r.x,", ").concat(32*r.y,") "),_="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),M="rotate(".concat(r.rotate," 0 0)"),N={outer:d,inner:{transform:"".concat(h," ").concat(_," ").concat(M)},path:{transform:"translate(".concat(c/2*-1," -256)")}};return{tag:"g",attributes:lt({},N.outer),children:[{tag:"g",attributes:lt({},N.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:lt(lt({},i.icon.attributes),N.path)}]}]}}}},dwe,{provides:function(t){var e=!1;Ec.matchMedia&&(e=Ec.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var i=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:lt(lt({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var c=lt(lt({},s),{},{attributeName:"opacity"}),d={tag:"circle",attributes:lt(lt({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||d.children.push({tag:"animate",attributes:lt(lt({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:lt(lt({},c),{},{values:"1;0;1;1;0;1;"})}),i.push(d),i.push({tag:"path",attributes:lt(lt({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:lt(lt({},c),{},{values:"1;0;0;0;0;1;"})}]}),e||i.push({tag:"path",attributes:lt(lt({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:lt(lt({},c),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},{hooks:function(){return{parseNodeAttributes:function(e,i){var r=i.getAttribute("data-fa-symbol");return e.symbol=null!==r&&(""===r||r),e}}}}],e={mixoutsTo:ks}.mixoutsTo,IG=n,_u={},Object.keys(vu).forEach(function(i){-1===EMe.indexOf(i)&&delete vu[i]}),IG.forEach(function(i){var r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(function(c){"function"==typeof r[c]&&(e[c]=r[c]),"object"===Zm(r[c])&&Object.keys(r[c]).forEach(function(d){e[c]||(e[c]={}),e[c][d]=r[c][d]})}),i.hooks){var s=i.hooks();Object.keys(s).forEach(function(c){_u[c]||(_u[c]=[]),_u[c].push(s[c])})}i.provides&&i.provides(vu)});var gwe=ks.parse,Cwe=ks.icon;const mwe=["*"],ywe=n=>{const t={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(t).map(e=>t[e]?e:null).filter(e=>e)};let wwe=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xwe=(()=>{class n{constructor(){this.definitions={}}addIcons(...e){for(const i of e){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const r of i.icon[2])"string"==typeof r&&(this.definitions[i.prefix][r]=i)}}addIconPacks(...e){for(const i of e){const r=Object.keys(i).map(s=>i[s]);this.addIcons(...r)}}getIconDefinition(e,i){return e in this.definitions&&i in this.definitions[e]?this.definitions[e][i]:null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Swe=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(e){if("size"in e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[o.TTD]}),n})(),Ewe=(()=>{class n{constructor(e,i){this.renderer=e,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(e){"size"in e&&(null!=e.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${e.size.currentValue}`),null!=e.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${e.size.previousValue}`))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275cmp=o.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[o.TTD],ngContentSelectors:mwe,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2}),n})(),rE=(()=>{class n{constructor(e,i,r,s,c){this.sanitizer=e,this.config=i,this.iconLibrary=r,this.stackItem=s,this.classes=[],null!=c&&null==s&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(e){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let i=null;if(i=null==this.icon?this.config.fallbackIcon:this.icon,e){const r=this.findIconDefinition(i);if(null!=r){const s=this.buildParams();this.renderIcon(r,s)}}}render(){this.ngOnChanges({})}findIconDefinition(e){const i=((n,t)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:t,iconName:n}:void 0)(e,this.config.defaultPrefix);if("icon"in i)return i;const r=this.iconLibrary.getIconDefinition(i.prefix,i.iconName);return null!=r?r:((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(i),null)}buildParams(){const e={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?gwe.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...ywe(e),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(e,i){const r=Cwe(e,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(r.html.join("\n"))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ls),o.Y36(wwe),o.Y36(xwe),o.Y36(Swe,8),o.Y36(Ewe,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(e,i){2&e&&(o.Ikx("innerHTML",i.renderedIconHTML,o.oJD),o.uIk("title",i.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[o.TTD],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),Lwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function Twe(n,t){if(1&n&&(o.TgZ(0,"b"),o.TgZ(1,"small",13),o._uU(2,"S\xe4hk\xf6posti tarvitaan "),o.qZA(),o._UZ(3,"fa-icon",14),o.qZA()),2&n){const e=o.oxw(2);o.xp6(3),o.Q6J("icon",e.faExclamationTriangle)}}function Dwe(n,t){if(1&n&&(o.TgZ(0,"b"),o.TgZ(1,"small",13),o._uU(2,"Viallinen S\xe4hk\xf6posti "),o.qZA(),o._UZ(3,"fa-icon",14),o.qZA()),2&n){const e=o.oxw(2);o.xp6(3),o.Q6J("icon",e.faExclamationTriangle)}}function Awe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",1),o.TgZ(1,"h2",2),o._uU(2,"Remontit"),o.qZA(),o.TgZ(3,"p",3),o._uU(4,"Yhteydenottolomake"),o.qZA(),o.TgZ(5,"form"),o.TgZ(6,"div",4),o.TgZ(7,"label",5),o._uU(8,"Nimi"),o.qZA(),o._UZ(9,"input",6),o.qZA(),o.TgZ(10,"div",4),o.TgZ(11,"label",7),o._uU(12,"S\xe4hk\xf6posti"),o.qZA(),o._UZ(13,"input",8),o.YNc(14,Twe,4,1,"b",9),o.YNc(15,Dwe,4,1,"b",9),o.qZA(),o.TgZ(16,"div",4),o.TgZ(17,"label",10),o._uU(18,"Tietoja"),o.qZA(),o._UZ(19,"textarea",11),o.qZA(),o._UZ(20,"br"),o.TgZ(21,"button",12),o.NdJ("click",function(){return o.CHM(e),o.oxw().sendMail()}),o._uU(22,"L\xe4het\xe4 Viesti"),o.qZA(),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.xp6(9),o.Q6J("formControl",e.nameFormControl),o.xp6(4),o.Q6J("formControl",e.emailFormControl),o.xp6(1),o.Q6J("ngIf",e.emailFormControl.hasError("required")&&e.emailFormControl.touched),o.xp6(1),o.Q6J("ngIf",e.emailFormControl.hasError("email")),o.xp6(4),o.Q6J("formControl",e.messageFormControl),o.xp6(2),o.Q6J("disabled",e.emailFormControl.invalid||e.nameFormControl.invalid||e.loading)}}function Iwe(n,t){if(1&n&&(o.TgZ(0,"b"),o.TgZ(1,"small",13),o._uU(2,"S\xe4hk\xf6posti tarvitaan "),o.qZA(),o._UZ(3,"fa-icon",14),o.qZA()),2&n){const e=o.oxw(2);o.xp6(3),o.Q6J("icon",e.faExclamationTriangle)}}function Nwe(n,t){if(1&n&&(o.TgZ(0,"b"),o.TgZ(1,"small",13),o._uU(2,"Viallinen S\xe4hk\xf6posti "),o.qZA(),o._UZ(3,"fa-icon",14),o.qZA()),2&n){const e=o.oxw(2);o.xp6(3),o.Q6J("icon",e.faExclamationTriangle)}}function kwe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",1),o.TgZ(1,"h2",2),o._uU(2,"Tulisija/ Tulisijakorjaus"),o.qZA(),o.TgZ(3,"p",3),o._uU(4,"Yhteydenottolomake"),o.qZA(),o.TgZ(5,"form"),o.TgZ(6,"div",4),o.TgZ(7,"label",5),o._uU(8,"Nimi"),o.qZA(),o._UZ(9,"input",6),o.qZA(),o.TgZ(10,"div",4),o.TgZ(11,"label",7),o._uU(12,"S\xe4hk\xf6posti"),o.qZA(),o._UZ(13,"input",8),o.YNc(14,Iwe,4,1,"b",9),o.YNc(15,Nwe,4,1,"b",9),o.qZA(),o.TgZ(16,"div",4),o.TgZ(17,"label",10),o._uU(18,"Tietoja"),o.qZA(),o._UZ(19,"textarea",11),o.qZA(),o._UZ(20,"br"),o.TgZ(21,"button",12),o.NdJ("click",function(){return o.CHM(e),o.oxw().sendMail()}),o._uU(22,"L\xe4het\xe4 Viesti"),o.qZA(),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.xp6(9),o.Q6J("formControl",e.nameFormControl),o.xp6(4),o.Q6J("formControl",e.emailFormControl),o.xp6(1),o.Q6J("ngIf",e.emailFormControl.hasError("required")&&e.emailFormControl.touched),o.xp6(1),o.Q6J("ngIf",e.emailFormControl.hasError("email")),o.xp6(4),o.Q6J("formControl",e.messageFormControl),o.xp6(2),o.Q6J("disabled",e.emailFormControl.invalid||e.nameFormControl.invalid||e.loading)}}function Vwe(n,t){if(1&n&&(o.TgZ(0,"b"),o.TgZ(1,"small",13),o._uU(2,"S\xe4hk\xf6posti tarvitaan "),o.qZA(),o._UZ(3,"fa-icon",14),o.qZA()),2&n){const e=o.oxw(2);o.xp6(3),o.Q6J("icon",e.faExclamationTriangle)}}function Hwe(n,t){if(1&n&&(o.TgZ(0,"b"),o.TgZ(1,"small",13),o._uU(2,"Viallinen S\xe4hk\xf6posti "),o.qZA(),o._UZ(3,"fa-icon",14),o.qZA()),2&n){const e=o.oxw(2);o.xp6(3),o.Q6J("icon",e.faExclamationTriangle)}}function Rwe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",1),o.TgZ(1,"h2",2),o._uU(2,"Muu tiedustelu"),o.qZA(),o.TgZ(3,"p",3),o._uU(4,"Yhteydenottolomake"),o.qZA(),o.TgZ(5,"form"),o.TgZ(6,"div",4),o.TgZ(7,"label",5),o._uU(8,"Nimi"),o.qZA(),o._UZ(9,"input",6),o.qZA(),o.TgZ(10,"div",4),o.TgZ(11,"label",7),o._uU(12,"S\xe4hk\xf6posti"),o.qZA(),o._UZ(13,"input",8),o.YNc(14,Vwe,4,1,"b",9),o.YNc(15,Hwe,4,1,"b",9),o.qZA(),o.TgZ(16,"div",4),o.TgZ(17,"label",10),o._uU(18,"Tietoja"),o.qZA(),o._UZ(19,"textarea",11),o.qZA(),o._UZ(20,"br"),o.TgZ(21,"button",12),o.NdJ("click",function(){return o.CHM(e),o.oxw().sendMail()}),o._uU(22,"L\xe4het\xe4 Viesti"),o.qZA(),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.xp6(9),o.Q6J("formControl",e.nameFormControl),o.xp6(4),o.Q6J("formControl",e.emailFormControl),o.xp6(1),o.Q6J("ngIf",e.emailFormControl.hasError("required")&&e.emailFormControl.touched),o.xp6(1),o.Q6J("ngIf",e.emailFormControl.hasError("email")),o.xp6(4),o.Q6J("formControl",e.messageFormControl),o.xp6(2),o.Q6J("disabled",e.emailFormControl.invalid||e.nameFormControl.invalid||e.loading)}}let Owe=(()=>{class n{constructor(e,i){this.formBuilder=e,this.emailService=i,this.faExclamationTriangle=vU,this.loading=!1,this.nameFormControl=new Jn,this.emailFormControl=new Jn("",[_2.required,_2.email]),this.messageFormControl=new Jn}ngOnInit(){}sendMail(){let i={subject:document.getElementById("formSubject").innerHTML,name:this.nameFormControl.value,email:this.emailFormControl.value,message:this.messageFormControl.value};this.emailService.sendMessage(i).subscribe(r=>{console.log(`Message ${r}`),window.location.href="error"==r?"/?type=error&msg=L\xe4hetys ep\xe4onnistui":"Sent Successfully"==r?"/?type=success&msg=L\xe4hetys onnistui":"/?type=success&msg=virhe"})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ep),o.Y36(kbe))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-forms"]],inputs:{showForm1:"showForm1",showForm2:"showForm2",showForm3:"showForm3"},decls:3,vars:3,consts:[["class","form",4,"ngIf"],[1,"form"],["id","formSubject",2,"text-align","center"],[2,"text-align","center"],[1,"form-group"],["for","name"],["type","input","id","name",1,"form-control",3,"formControl"],["for","email"],["type","email","id","email",1,"form-control",3,"formControl"],[4,"ngIf"],["for","textarea"],["id","textarea","rows","3",1,"form-control",3,"formControl"],["type","button",1,"btn","btn-dark","w-100",3,"disabled","click"],[1,"text-danger"],[2,"color","red",3,"icon"]],template:function(e,i){1&e&&(o.YNc(0,Awe,23,6,"div",0),o.YNc(1,kwe,23,6,"div",0),o.YNc(2,Rwe,23,6,"div",0)),2&e&&(o.Q6J("ngIf",i.showForm1),o.xp6(1),o.Q6J("ngIf",i.showForm2),o.xp6(1),o.Q6J("ngIf",i.showForm3))},directives:[zt,Fr,w2,Tl,G2,M2,T6,rE],styles:[".form[_ngcontent-%COMP%]{padding:10px;border-radius:10px;margin-bottom:4px;white-space:pre-wrap;background-color:#fff}"]}),n})();function Pwe(n,t){if(1&n&&o._UZ(0,"fa-icon",4),2&n){const e=o.oxw(2);o.Q6J("icon",e.faTimes)}}function zwe(n,t){if(1&n&&o._UZ(0,"fa-icon",4),2&n){const e=o.oxw(2);o.Q6J("icon",e.faHammer)}}function Fwe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",2),o.NdJ("click",function(){return o.CHM(e),o.oxw().addForm1()}),o.YNc(1,Pwe,1,1,"fa-icon",3),o.YNc(2,zwe,1,1,"fa-icon",3),o._uU(3," Remontit\n"),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("disabled",e.clicked3||1==e.clicked2),o.xp6(1),o.Q6J("ngIf",!0===e.clicked1),o.xp6(1),o.Q6J("ngIf",!1===e.clicked1)}}function Bwe(n,t){if(1&n&&o._UZ(0,"fa-icon",4),2&n){const e=o.oxw(2);o.Q6J("icon",e.faTimes)}}function Uwe(n,t){if(1&n&&o._UZ(0,"fa-icon",4),2&n){const e=o.oxw(2);o.Q6J("icon",e.faFire)}}function Gwe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",2),o.NdJ("click",function(){return o.CHM(e),o.oxw().addForm2()}),o.YNc(1,Bwe,1,1,"fa-icon",3),o.YNc(2,Uwe,1,1,"fa-icon",3),o._uU(3," Tulisija/tulisijakorjaus\n"),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("disabled",e.clicked3||1==e.clicked1),o.xp6(1),o.Q6J("ngIf",!0===e.clicked2),o.xp6(1),o.Q6J("ngIf",!1===e.clicked2)}}function jwe(n,t){if(1&n&&o._UZ(0,"fa-icon",4),2&n){const e=o.oxw(2);o.Q6J("icon",e.faTimes)}}function qwe(n,t){if(1&n&&o._UZ(0,"fa-icon",4),2&n){const e=o.oxw(2);o.Q6J("icon",e.faQuestion)}}function $we(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",2),o.NdJ("click",function(){return o.CHM(e),o.oxw().addForm3()}),o.YNc(1,jwe,1,1,"fa-icon",3),o.YNc(2,qwe,1,1,"fa-icon",3),o._uU(3," Muu tiedustelu\n"),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("disabled",e.clicked1||1==e.clicked2),o.xp6(1),o.Q6J("ngIf",!0===e.clicked3),o.xp6(1),o.Q6J("ngIf",!1===e.clicked3)}}let Wwe=(()=>{class n{constructor(){this.faHammer=tz,this.faFire=BP,this.faQuestion=$F,this.faTimes=DS,this.showForm1=!1,this.showForm2=!1,this.showForm3=!1,this.clicked1=!1,this.clicked2=!1,this.clicked3=!1}addForm1(){this.showForm1=!this.showForm1,this.showButton=!0,this.clicked1=!this.clicked1}addForm2(){this.showForm2=!this.showForm2,this.showButton=!0,this.clicked2=!this.clicked2}addForm3(){this.showForm3=!this.showForm3,this.showButton=!0,this.clicked3=!this.clicked3}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-formbtn"]],inputs:{showButton:"showButton"},decls:6,vars:6,consts:[["type","button","class","btn btn-sm btn-outline-dark","style","margin: 1px;",3,"disabled","click",4,"ngIf"],[3,"showForm1","showForm2","showForm3"],["type","button",1,"btn","btn-sm","btn-outline-dark",2,"margin","1px",3,"disabled","click"],[3,"icon",4,"ngIf"],[3,"icon"]],template:function(e,i){1&e&&(o.YNc(0,Fwe,4,3,"button",0),o._UZ(1,"br"),o.YNc(2,Gwe,4,3,"button",0),o._UZ(3,"br"),o.YNc(4,$we,4,3,"button",0),o._UZ(5,"app-forms",1)),2&e&&(o.Q6J("ngIf",i.showButton),o.xp6(2),o.Q6J("ngIf",i.showButton),o.xp6(2),o.Q6J("ngIf",i.showButton),o.xp6(1),o.Q6J("showForm1",i.showForm1)("showForm2",i.showForm2)("showForm3",i.showForm3))},directives:[zt,Owe,rE],styles:[""]}),n})();function Zwe(n,t){if(1&n&&o._UZ(0,"fa-icon",14),2&n){const e=o.oxw();o.Q6J("icon",e.faTimes)}}function Ywe(n,t){if(1&n&&o._UZ(0,"fa-icon",14),2&n){const e=o.oxw();o.Q6J("icon",e.faComment)}}function Kwe(n,t){if(1&n&&(o.TgZ(0,"div",15),o.TgZ(1,"div",16),o.TgZ(2,"b"),o._uU(3),o.qZA(),o._UZ(4,"br"),o.TgZ(5,"span"),o._uU(6),o.qZA(),o.qZA(),o.qZA()),2&n){const e=t.$implicit;o.xp6(3),o.Oqu(e.user),o.xp6(3),o.Oqu(e.msg)}}function Qwe(n,t){if(1&n&&(o.TgZ(0,"div",15),o.TgZ(1,"div",17),o.TgZ(2,"b"),o._uU(3),o.qZA(),o._UZ(4,"br"),o.TgZ(5,"span"),o._uU(6),o.qZA(),o.qZA(),o.qZA()),2&n){const e=t.$implicit;o.xp6(3),o.Oqu(e.user),o.xp6(3),o.Oqu(e.msg)}}let Jwe=(()=>{class n{constructor(e){this.route=e,this.faTimes=DS,this.faComment=SO,this.checked=!1,this.showBtn=!0,this.popMessages=[{user:"Yhteydenottobotti\u{1f916}",msg:"\u{1f44b}Hei olen Suomen Eurouuni yhteydenottobotti"}],this.messages=[{user:"Yhteydenottobotti\u{1f916}",msg:"\u{1f44b}Hei olen Suomen Eurouuni yhteydenottobotti!"},{user:"Yhteydenottobotti\u{1f916}",msg:"Valitse aihe jonka kanssa tarvitset apua alta"}],this.scroll=()=>{let i,r=document.getElementById("wrapper0");i=window.innerWidth<150?10:1e3,window.scrollY>=i&&(r.className="wrapper0 show")}}ngOnInit(){window.addEventListener("scroll",this.scroll,!0);const e=window.location.href;if(e.includes("type")){const r=new c3({fromString:e.split("?")[1]}),s=r.get("type"),c=r.get("msg");this.showMessage(s,c)}}showMessage(e,i){let r=document.getElementById("msg-box");"success"==e?(r.classList.remove("alert-danger"),r.classList.add("alert-success")):"error"==e&&(r.classList.remove("alert-success"),r.classList.remove("alert-warning"),r.classList.add("alert-danger")),r.querySelector("p").innerHTML=i,r.classList.remove("d-none")}function(){this.showBtn=!this.showBtn}checkChange(){this.checked=!this.checked,document.getElementById("wrapper0").style.display="none"}close(){document.getElementById("msg-box").style.display="none"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Si))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-chatbot"]],decls:19,vars:5,consts:[["id","msg-box",1,"alert","alert-dismissible","alert-danger","d-none",2,"position","fixed"],["type","button","data-dismiss","alert",1,"close",3,"click"],[1,"mb-0"],["type","checkbox","id","check",3,"click"],["for","check",1,"chat-btn",2,"position","fixed"],[3,"icon",4,"ngIf"],["id","wrapper0",1,"wrapper0","hide",2,"position","fixed"],["class","chat-form",4,"ngFor","ngForOf"],[1,"wrapper1",2,"position","fixed"],[1,"header"],[1,"chat"],[1,"chat-form",2,"padding-bottom","0"],[3,"showButton"],[1,"footer"],[3,"icon"],[1,"chat-form"],[1,"message","pop-message"],[1,"message","bot-message"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"button",1),o.NdJ("click",function(){return i.close()}),o._uU(2,"\xd7"),o.qZA(),o._UZ(3,"p",2),o.qZA(),o.TgZ(4,"input",3),o.NdJ("click",function(){return i.checkChange()}),o.qZA(),o.TgZ(5,"label",4),o.YNc(6,Zwe,1,1,"fa-icon",5),o.YNc(7,Ywe,1,1,"fa-icon",5),o.qZA(),o.TgZ(8,"div",6),o.YNc(9,Kwe,7,2,"div",7),o.qZA(),o.TgZ(10,"div",8),o.TgZ(11,"div",9),o.TgZ(12,"h2"),o._uU(13,"Suomen Eurouuni"),o.qZA(),o.qZA(),o.TgZ(14,"div",10),o.YNc(15,Qwe,7,2,"div",7),o.TgZ(16,"div",11),o._UZ(17,"app-formbtn",12),o.qZA(),o.qZA(),o._UZ(18,"div",13),o.qZA()),2&e&&(o.xp6(6),o.Q6J("ngIf",!0===i.checked),o.xp6(1),o.Q6J("ngIf",!1===i.checked),o.xp6(2),o.Q6J("ngForOf",i.popMessages),o.xp6(6),o.Q6J("ngForOf",i.messages),o.xp6(2),o.Q6J("showButton",i.showBtn))},directives:[zt,oi,Wwe,rE],styles:["#msg-box[_ngcontent-%COMP%]{display:block;right:60px;bottom:530px}.message[_ngcontent-%COMP%]{padding:10px;border-radius:10px;margin-bottom:0;white-space:pre-wrap}.bot-message[_ngcontent-%COMP%], .pop-message[_ngcontent-%COMP%]{background-color:#fff}.chat-btn[_ngcontent-%COMP%]{position:absolute;right:5px;bottom:30px;cursor:pointer}.chat-btn[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{display:none}.chat-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:all .9s ease}#check[_ngcontent-%COMP%]:checked ~ .chat-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block;pointer-events:auto;transform:rotate(180deg)}#check[_ngcontent-%COMP%]:checked ~ .chat-btn[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{display:none}.chat-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px;color:#fff!important}.chat-btn[_ngcontent-%COMP%]{width:50px;height:50px;display:flex;justify-content:center;align-items:center;border-radius:50px;background-color:#fe852b;color:#fff;font-size:22px;border:none}.chat[_ngcontent-%COMP%]{background-color:#ebeef5;overflow:scroll;overflow-x:hidden;overflow-y:scroll;height:290px}.wrapper0[_ngcontent-%COMP%]{right:55px;bottom:55px;width:230px;display:block;transition:all 1s}.hide[_ngcontent-%COMP%]{opacity:0}.show[_ngcontent-%COMP%]{opacity:1}#check[_ngcontent-%COMP%]:checked ~ .wrapper0[_ngcontent-%COMP%]{display:none}.wrapper1[_ngcontent-%COMP%]{box-shadow:7px 7px 56px -24px #00000091;right:55px;bottom:50px;width:250px;border-radius:5px;margin-top:1rem;margin-bottom:1rem;display:none}#check[_ngcontent-%COMP%]:checked ~ .wrapper1[_ngcontent-%COMP%]{display:block}.header[_ngcontent-%COMP%]{padding:10px;background-color:#fe852b;border-radius:5px 5px 0 0;color:#fff;text-align:center}.footer[_ngcontent-%COMP%]{padding:15px;background-color:#fe852b;border-radius:0 0 5px 5px}.chat-form[_ngcontent-%COMP%]{padding:5px}.chat-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-bottom:10px}.chat-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none}.form-control[_ngcontent-%COMP%]:focus, .btn[_ngcontent-%COMP%]:focus{box-shadow:none}.btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus, .btn[_ngcontent-%COMP%]:hover{background-color:#fe852b;border:#fe852b}#check[_ngcontent-%COMP%]{display:none!important}"]}),n})();function Xwe(n,t){if(1&n&&(o.TgZ(0,"div",14),o.TgZ(1,"p"),o._uU(2),o.qZA(),o.qZA()),2&n){const e=o.oxw();o.xp6(2),o.Oqu(e.error)}}let QG=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.isLoginMode=!0,this.error=null}onSubmit(e){if(!e.valid)return;let s;this.isLoginMode&&(s=this.authService.login(e.value.email,e.value.password)),s.subscribe(c=>{console.log(c),this.router.navigate([""])},c=>{console.log(c),this.error=c}),e.reset()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Xn),o.Y36(qt))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-auth"]],decls:23,vars:2,consts:[[1,"container"],[1,"row"],[1,"col"],["class","alert alert-danger",4,"ngIf"],[3,"ngSubmit"],["authForm","ngForm"],[1,"form-group"],["for","email",1,"col-lg-2","control-label"],[1,"col-lg-10"],["type","email","id","email","ngModel","","name","email","required","","email","",1,"form-control"],["for","password",1,"col-lg-2","control-label"],["type","password","id","inputPassword","ngModel","","name","password","required","","minlength","6",1,"form-control"],[1,"col-lg-10","col-lg-offset-2"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"alert","alert-danger"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.YNc(3,Xwe,3,1,"div",3),o.TgZ(4,"h3"),o._uU(5,"Login"),o.qZA(),o.TgZ(6,"form",4,5),o.NdJ("ngSubmit",function(){o.CHM(r);const c=o.MAs(7);return i.onSubmit(c)}),o.TgZ(8,"div",6),o.TgZ(9,"label",7),o._uU(10,"Email"),o.qZA(),o.TgZ(11,"div",8),o._UZ(12,"input",9),o.qZA(),o.qZA(),o.TgZ(13,"div",6),o.TgZ(14,"label",10),o._uU(15,"Password"),o.qZA(),o.TgZ(16,"div",8),o._UZ(17,"input",11),o.qZA(),o.qZA(),o.TgZ(18,"div",6),o.TgZ(19,"div",12),o.TgZ(20,"button",13),o._uU(21,"Login "),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(22,"div",2),o.qZA(),o.qZA()}if(2&e){const r=o.MAs(7);o.xp6(3),o.Q6J("ngIf",i.error),o.xp6(17),o.Q6J("disabled",!r.valid)}},directives:[zt,Fr,w2,Tl,G2,M2,Il,Co,H6,p4],styles:[".form-control[_ngcontent-%COMP%]{width:70%;padding:10px}h3[_ngcontent-%COMP%]{font-size:45px;padding-left:15px;padding-top:40px}.form-group[_ngcontent-%COMP%]{padding-top:60px;font-size:20px}.btn[_ngcontent-%COMP%]{padding:10px;font-size:20px;background-color:#fe852b;border-color:#944c15}"]}),n})();function exe(n,t){1&n&&(o.TgZ(0,"div",4),o._UZ(1,"app-auth"),o.qZA())}function txe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",1),o.TgZ(1,"a",2),o.NdJ("click",function(){return o.CHM(e),o.oxw().onPress()}),o._uU(2,"Login"),o.qZA(),o.YNc(3,exe,2,0,"div",3),o.qZA()}if(2&n){const e=o.oxw();o.xp6(3),o.Q6J("ngIf",e.display)}}let nxe=(()=>{class n{constructor(e,i,r){this.tekstiStorageService=e,this.authService=i,this.router=r,this.display=!1,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e}),this.tekstiStorageService.fetchTekstit().subscribe()}onPress(){this.display=!this.display,(this.display=this.display)?this.router.navigate(["/auth"]):this.router.navigate(["../"])}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(dr),o.Y36(Xn),o.Y36(qt))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-homepage"]],decls:7,vars:1,consts:[["id","login",4,"ngIf"],["id","login"],[3,"click"],["id","comp-render",4,"ngIf"],["id","comp-render"]],template:function(e,i){1&e&&(o._UZ(0,"app-navbar"),o._UZ(1,"app-header"),o.YNc(2,txe,4,1,"div",0),o._UZ(3,"app-topics"),o._UZ(4,"app-gallery-div"),o._UZ(5,"app-footer"),o._UZ(6,"app-chatbot")),2&e&&(o.xp6(2),o.Q6J("ngIf",!i.isAuthenticated))},directives:[e1e,t1e,zt,o1e,C1e,m1e,Jwe,QG],styles:["body[_ngcontent-%COMP%]{overflow-x:hidden}a[_ngcontent-%COMP%]{color:#ff6424!important;position:absolute;top:8px;margin-top:290px;cursor:default}"]}),n})(),ixe=(()=>{class n{constructor(){this.title="Eurouuni",this.loadedFeature="korjaukset"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"app-homepage")},directives:[nxe],styles:[""]}),n})(),sj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Sx]]}),n})(),SSe=(()=>{class n{constructor(e,i){gi(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:Sc,useValue:Object.assign(Object.assign({},Ex),e)},{provide:Lx,useValue:i,multi:!0},{provide:pu,useValue:!0}]:[{provide:Sc,useValue:Object.assign(Object.assign({},Ex),e)},{provide:Lx,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(pu),o.LFG(o.Lbi))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[gH,KV,sj],gH,KV,sj]}),n})();class sE{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class ESe extends sE{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class LSe extends sE{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class TSe extends sE{constructor(t){super(),this.element=t instanceof o.SBq?t.nativeElement:t}}class ASe extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof ESe?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof LSe?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof TSe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const d=c.element,h=this._document.createComment("dom-portal");d.parentNode.insertBefore(h,d),this.outletElement.appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(d,h)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let ISe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const oj=su();class NSe{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=v1(-this._previousScrollPosition.left),t.style.top=v1(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),oj&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),oj&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class kSe{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class aj{enable(){}disable(){}attach(){}}function oE(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function lj(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class VSe{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();oE(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let HSe=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new aj,this.close=c=>new kSe(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new NSe(this._viewportRuler,this._document),this.reposition=c=>new VSe(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Wf),o.LFG(kx),o.LFG(o.R0b),o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class RSe{constructor(t){if(this.scrollStrategy=new aj,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class OSe{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class PSe{constructor(t,e,i,r,s,c,d,h,_){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=d,this._location=h,this._outsideClickDispatcher=_,this._backdropElement=null,this._backdropClick=new mt.x,this._attachments=new mt.x,this._detachments=new mt.x,this._locationChanges=u3.w0.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._keydownEvents=new mt.x,this._outsidePointerEvents=new mt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Yt.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=v1(this._config.width),t.height=v1(this._config.height),t.minWidth=v1(this._config.minWidth),t.minHeight=v1(this._config.minHeight),t.maxWidth=v1(this._config.maxWidth),t.maxHeight=v1(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const r=Vw(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Tt((0,z5.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.remove(),this._backdropElement===t&&(this._backdropElement=null))}}let cj=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||xf()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),xf()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(J),o.LFG(qr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uj="cdk-overlay-connected-position-bounding-box",zSe=/([A-Za-z%]+)$/;class FSe{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new mt.x,this._resizeSubscription=u3.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(uj),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=[];let s;for(let c of this._preferredPositions){let d=this._getOriginPoint(t,c),h=this._getOverlayPoint(d,e,c),_=this._getOverlayFit(h,e,i,c);if(_.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,d);this._canFitWithFlexibleDimensions(_,h,i)?r.push({position:c,origin:d,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(d,c)}):(!s||s.overlayFit.visibleArea<_.visibleArea)&&(s={overlayFit:_,overlayPoint:h,originPoint:d,position:c,overlayRect:e})}if(r.length){let c=null,d=-1;for(const h of r){const _=h.boundingBoxRect.width*h.boundingBoxRect.height*(h.position.weight||1);_>d&&(d=_,c=h)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&q5(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(uj),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let i,r;if("center"==e.originX)i=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,c=this._isRtl()?t.left:t.right;i="start"==e.originX?s:c}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:i,y:r}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=fj(e);let{x:c,y:d}=t,h=this._getOffset(r,"x"),_=this._getOffset(r,"y");h&&(c+=h),_&&(d+=_);let D=0-d,N=d+s.height-i.height,H=this._subtractOverflows(s.width,0-c,c+s.width-i.width),U=this._subtractOverflows(s.height,D,N),Y=H*U;return{visibleArea:Y,isCompletelyWithinViewport:s.width*s.height===Y,fitsInViewportVertically:U===s.height,fitsInViewportHorizontally:H==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,c=dj(this._overlayRef.getConfig().minHeight),d=dj(this._overlayRef.getConfig().minWidth),_=t.fitsInViewportHorizontally||null!=d&&d<=s;return(t.fitsInViewportVertically||null!=c&&c<=r)&&_}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=fj(e),s=this._viewportRect,c=Math.max(t.x+r.width-s.width,0),d=Math.max(t.y+r.height-s.height,0),h=Math.max(s.top-i.top-t.y,0),_=Math.max(s.left-i.left-t.x,0);let M=0,x=0;return M=r.width<=s.width?_||-c:t.x<this._viewportMargin?s.left-i.left-t.x:0,x=r.height<=s.height?h||-d:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:M,y:x},{x:t.x+M,y:t.y+x}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new OSe(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,c,d,M,x,D;if("top"===e.overlayY)c=t.y,s=i.height-c+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-t.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const N=Math.min(i.bottom-t.y+i.top,t.y),H=this._lastBoundingBoxSize.height;s=2*N,c=t.y-N,s>H&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-H/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)D=i.width-t.x+this._viewportMargin,M=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)x=t.x,M=i.right-t.x;else{const N=Math.min(i.right-t.x+i.left,t.x),H=this._lastBoundingBoxSize.width;M=2*N,x=t.x-N,M>H&&!this._isInitialRender&&!this._growAfterOpen&&(x=t.x-H/2)}return{top:c,left:x,bottom:d,right:D,width:M,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=v1(i.height),r.top=v1(i.top),r.bottom=v1(i.bottom),r.width=v1(i.width),r.left=v1(i.left),r.right=v1(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=v1(s)),c&&(r.maxWidth=v1(c))}this._lastBoundingBoxSize=i,q5(this._boundingBox.style,r)}_resetBoundingBoxStyles(){q5(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){q5(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const M=this._viewportRuler.getViewportScrollPosition();q5(i,this._getExactOverlayY(e,t,M)),q5(i,this._getExactOverlayX(e,t,M))}else i.position="static";let d="",h=this._getOffset(e,"x"),_=this._getOffset(e,"y");h&&(d+=`translateX(${h}px) `),_&&(d+=`translateY(${_}px)`),i.transform=d.trim(),c.maxHeight&&(r?i.maxHeight=v1(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=v1(c.maxWidth):s&&(i.maxWidth="")),q5(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let c=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=c,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=v1(s.y),r}_getExactOverlayX(t,e,i){let c,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=v1(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:lj(t,i),isOriginOutsideView:oE(t,i),isOverlayClipped:lj(e,i),isOverlayOutsideView:oE(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Vw(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof o.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function q5(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function dj(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(zSe);return e&&"px"!==e?null:parseFloat(t)}return n||null}function fj(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const hj="cdk-global-overlay-wrapper";class BSe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(hj),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:d}=i,h=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),_=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d);t.position=this._cssPosition,t.marginLeft=h?"0":this._leftOffset,t.marginTop=_?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,h?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(hj),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let USe=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new BSe}flexibleConnectedTo(e){return new FSe(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(kx),o.LFG(J),o.LFG(qr),o.LFG(cj))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pj=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GSe=(()=>{class n extends pj{constructor(e){super(e),this._keydownListener=i=>{const r=this._attachedOverlays;for(let s=r.length-1;s>-1;s--)if(r[s]._keydownEvents.observers.length>0){r[s]._keydownEvents.next(i);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(J))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jSe=(()=>{class n extends pj{constructor(e,i){super(e),this._platform=i,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=v3(r)},this._clickListener=r=>{const s=v3(r),c="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const d=this._attachedOverlays.slice();for(let h=d.length-1;h>-1;h--){const _=d[h];if(!(_._outsidePointerEvents.observers.length<1)&&_.hasAttached()){if(_.overlayElement.contains(s)||_.overlayElement.contains(c))break;_._outsidePointerEvents.next(r)}}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(J),o.LFG(qr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qSe=0,aE=(()=>{class n{constructor(e,i,r,s,c,d,h,_,M,x,D){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=d,this._ngZone=h,this._document=_,this._directionality=M,this._location=x,this._outsideClickDispatcher=D}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),c=new RSe(e);return c.direction=c.direction||this._directionality.value,new PSe(s,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+qSe++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new ASe(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(HSe),o.LFG(cj),o.LFG(o._Vd),o.LFG(USe),o.LFG(GSe),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(J),o.LFG(L5),o.LFG(ot),o.LFG(jSe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const ZSe={provide:new o.OlP("cdk-connected-overlay-scroll-strategy"),deps:[aE],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let YSe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[aE,ZSe],imports:[[V4,ISe,Vx],Vx]}),n})();const XSe={provide:new o.OlP("mat-menu-scroll-strategy"),deps:[aE],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let eEe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[XSe],imports:[[Hn,B1,wx,YSe],Zf,B1]}),n})();var _e=O(5861),zn=O(5813),U1=O(2011),lE=O(3942),hr=O(9681),R=O(2090),_a=O(4859);const Cj="firebasestorage.googleapis.com",mj="storageBucket";class l1 extends R.ZR{constructor(t,e){super(cE(t),`Firebase Storage: ${e} (${cE(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,l1.prototype)}_codeEquals(t){return cE(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function cE(n){return"storage/"+n}function uE(){return new l1("unknown","An unknown error occurred, please check the error payload for server response.")}function _j(){return new l1("canceled","User canceled the upload/download.")}function vj(){return new l1("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function yu(n){return new l1("invalid-argument",n)}function yj(){return new l1("app-deleted","The Firebase app was deleted.")}function bj(n){return new l1("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function oh(n,t){return new l1("invalid-format","String does not match format '"+n+"': "+t)}function ah(n){throw new l1("internal-error","Internal error: "+n)}class W2{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=W2.makeFromUrl(t,e)}catch(r){return new W2(t,"")}if(""===i.path)return i;throw function(n){return new l1("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function _(Te){Te.path_=decodeURIComponent(Te.path)}const x=e.replace(/[.]/g,"\\."),ke=[{regex:d,indices:{bucket:1,path:3},postModify:function(Te){"/"===Te.path.charAt(Te.path.length-1)&&(Te.path_=Te.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${x}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${e===Cj?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let Te=0;Te<ke.length;Te++){const tt=ke[Te],st=tt.regex.exec(t);if(st){let Kt=st[tt.indices.path];Kt||(Kt=""),i=new W2(st[tt.indices.bucket],Kt),tt.postModify(i);break}}if(null==i)throw function(n){return new l1("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class pEe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function l_(n){return"string"==typeof n||n instanceof String}function Mj(n){return dE()&&n instanceof Blob}function dE(){return"undefined"!=typeof Blob}function fE(n,t,e,i){if(i<t)throw yu(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw yu(`Invalid value for '${n}'. Expected ${e} or less.`)}function q4(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function wj(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Dc=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Dc||(Dc={})),Dc))();class yEe{constructor(t,e,i,r,s,c,d,h,_,M,x){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=h,this.timeout_=_,this.progressCallback_=M,this.connectionFactory_=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,N)=>{this.resolve_=D,this.reject_=N,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const h=this.callback_(d,d.getResponse());!function(n){return void 0!==n}(h)?s():s(h)}catch(h){c(h)}else if(null!==d){const h=uE();h.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,h):h)}else c(r.canceled?this.appDelete_?yj():_j():new l1("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?e(0,new c_(!1,null,!0)):this.backoffId_=function(n,t,e){let i=1,r=null,s=null,c=!1,d=0;function h(){return 2===d}let _=!1;function M(...Y){_||(_=!0,t.apply(null,Y))}function x(Y){r=setTimeout(()=>{r=null,n(N,h())},Y)}function D(){s&&clearTimeout(s)}function N(Y,...ae){if(_)return void D();if(Y)return D(),void M.call(null,Y,...ae);if(h()||c)return D(),void M.call(null,Y,...ae);let ke;i<64&&(i*=2),1===d?(d=2,ke=0):ke=1e3*(i+Math.random()),x(ke)}let H=!1;function U(Y){H||(H=!0,D(),!_&&(null!==r?(Y||(d=2),clearTimeout(r),x(0)):Y||(d=1)))}return x(0),s=setTimeout(()=>{c=!0,U(!0)},e),U}((i,r)=>{if(r)return void i(!1,new c_(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===Dc.NO_ERROR,h=s.getStatus();if(!d||this.isRetryStatusCode_(h)){const M=s.getErrorCode()===Dc.ABORT;return void i(!1,new c_(!1,null,M))}const _=-1!==this.successCodes_.indexOf(h);i(!0,new c_(_,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,r=-1!==[408,429].indexOf(t),s=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||s}}class c_{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function LEe(...n){const t="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(dE())return new Blob(n);throw new l1("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Vs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hE{constructor(t,e){this.data=t,this.contentType=e||null}}function pE(n,t){switch(n){case Vs.RAW:return new hE(xj(t));case Vs.BASE64:case Vs.BASE64URL:return new hE(Sj(n,t));case Vs.DATA_URL:return new hE(function(n){const t=new Ej(n);return t.base64?Sj(Vs.BASE64,t.rest):function(n){let t;try{t=decodeURIComponent(n)}catch(e){throw oh(Vs.DATA_URL,"Malformed data URL.")}return xj(t)}(t.rest)}(t),function(n){return new Ej(n).contentType}(t))}throw uE()}function xj(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function Sj(n,t){switch(n){case Vs.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw oh(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Vs.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw oh(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function(n){return atob(n)}(t)}catch(r){throw oh(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class Ej{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw oh(Vs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}class M3{constructor(t,e){let i=0,r="";Mj(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(Mj(this.data_)){const r=function(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new M3(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new M3(i,!0)}}static getBlob(...t){if(dE()){const e=t.map(i=>i instanceof M3?i.data_:i);return new M3(LEe.apply(null,e))}{const e=t.map(c=>l_(c)?pE(Vs.RAW,c).data:c.data_);let i=0;e.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(c=>{for(let d=0;d<c.length;d++)r[s++]=c[d]}),new M3(r,!0)}}uploadData(){return this.data_}}function gE(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function Lj(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function REe(n,t){return t}class pr{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||REe}}let u_=null;function lh(){if(u_)return u_;const n=[];n.push(new pr("bucket")),n.push(new pr("generation")),n.push(new pr("metageneration")),n.push(new pr("name","fullPath",!0));const e=new pr("name");e.xform=function(s,c){return function(n){return!l_(n)||n.length<2?n:Lj(n)}(c)},n.push(e);const r=new pr("size");return r.xform=function(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new pr("timeCreated")),n.push(new pr("updated")),n.push(new pr("md5Hash",null,!0)),n.push(new pr("cacheControl",null,!0)),n.push(new pr("contentDisposition",null,!0)),n.push(new pr("contentEncoding",null,!0)),n.push(new pr("contentLanguage",null,!0)),n.push(new pr("contentType",null,!0)),n.push(new pr("metadata","customMetadata",!0)),u_=n,u_}function Tj(n,t,e){const i=gE(t);return null===i?null:function(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const c=e[s];i[c.local]=c.xform(i,t[c.server])}return function(n,t){Object.defineProperty(n,"ref",{get:function(){const s=new W2(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function CE(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const Dj="prefixes";class w3{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function x3(n){if(!n)throw uE()}function d_(n,t){return function(i,r){const s=Tj(n,r,t);return x3(null!==s),s}}function bu(n){return function(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?new l1("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new l1("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?function(n){return new l1("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function(n){return new l1("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function ch(n){const t=bu(n);return function(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function(n){return new l1("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function Ij(n,t,e){const r=q4(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new w3(r,"GET",d_(n,e),c);return d.errorHandler=ch(t),d}function qEe(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const d=q4(t.bucketOnlyServerUrl(),n.host,n._protocol),_=n.maxOperationRetryTime,M=new w3(d,"GET",function(n,t){return function(i,r){const s=function(n,t,e){const i=gE(e);return null===i?null:function(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[Dj])for(const r of e[Dj]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new W2(t,s));i.prefixes.push(c)}if(e.items)for(const r of e.items){const s=n._makeStorageReference(new W2(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return x3(null!==s),s}}(n,t.bucket),_);return M.urlParams=s,M.errorHandler=bu(t),M}function kj(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function(n,t){return t&&t.type()||"application/octet-stream"}(0,t)),i}class f_{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function mE(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){x3(!1)}return x3(!!e&&-1!==(t||["active"]).indexOf(e)),e}const XEe={STATE_CHANGED:"state_changed"},gr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _E(n){switch(n){case"running":case"pausing":case"canceling":return gr.RUNNING;case"paused":return gr.PAUSED;case"success":return gr.SUCCESS;case"canceled":return gr.CANCELED;default:return gr.ERROR}}class eLe{constructor(t,e,i){if(function(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=i?i:void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Mu(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class nLe extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Dc.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Dc.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Dc.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw ah("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ah("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ah("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw ah("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ah("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function va(){return new nLe}class Oj{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=lh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c=kj(t,i,r),d={name:c.fullPath},h=q4(s,n.host,n._protocol),M={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},x=CE(c,e),H=new w3(h,"POST",function(U){let Y;mE(U);try{Y=U.getResponseHeader("X-Goog-Upload-URL")}catch(ae){x3(!1)}return x3(l_(Y)),Y},n.maxUploadRetryTime);return H.urlParams=d,H.headers=M,H.body=x,H.errorHandler=bu(t),H}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,va,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function(n,t,e,i){const h=new w3(e,"POST",function(_){const M=mE(_,["active","final"]);let x=null;try{x=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch(N){x3(!1)}x||x3(!1);const D=Number(x);return x3(!isNaN(D)),new f_(D,i.size(),"final"===M)},n.maxUploadRetryTime);return h.headers={"X-Goog-Upload-Command":"query"},h.errorHandler=bu(t),h}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,va,e,i);this._request=s,s.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new f_(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function(n,t,e,i,r,s,c,d){const h=new f_(0,0);if(c?(h.current=c.current,h.total=c.total):(h.current=0,h.total=i.size()),i.size()!==h.total)throw new l1("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const _=h.total-h.current;let M=_;r>0&&(M=Math.min(M,r));const x=h.current,H={"X-Goog-Upload-Command":M===_?"upload, finalize":"upload","X-Goog-Upload-Offset":`${h.current}`},U=i.slice(x,x+M);if(null===U)throw vj();const ke=new w3(e,"POST",function(Te,tt){const st=mE(Te,["active","final"]),an=h.current+M,Kt=i.size();let ei;return ei="final"===st?d_(t,s)(Te,tt):null,new f_(an,Kt,"final"===st,ei)},t.maxUploadRetryTime);return ke.headers=H,ke.body=U.uploadData(),ke.progressCallback=d||null,ke.errorHandler=bu(n),ke}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(h){return this._error=h,void this._transition("error")}const d=this._ref.storage._makeRequest(c,va,r,s);this._request=d,d.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=Ij(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,va,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},h=function(){let ke="";for(let Te=0;Te<2;Te++)ke+=Math.random().toString().slice(2);return ke}();c["Content-Type"]="multipart/related; boundary="+h;const _=kj(t,i,r),M=CE(_,e),N=M3.getBlob("--"+h+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+M+"\r\n--"+h+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",i,"\r\n--"+h+"--");if(null===N)throw vj();const H={name:_.fullPath},U=q4(s,n.host,n._protocol),ae=n.maxUploadRetryTime,ce=new w3(U,"POST",d_(n,e),ae);return ce.urlParams=H,ce.headers=c,ce.body=N.uploadData(),ce.errorHandler=bu(t),ce}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,va,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=_j(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=_E(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new eLe(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(_E(this._state)){case gr.SUCCESS:Mu(this._resolve.bind(null,this.snapshot))();break;case gr.CANCELED:case gr.ERROR:Mu(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(_E(this._state)){case gr.RUNNING:case gr.PAUSED:t.next&&Mu(t.next.bind(t,this.snapshot))();break;case gr.SUCCESS:t.complete&&Mu(t.complete.bind(t))();break;default:t.error&&Mu(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class $5{constructor(t,e){this._service=t,this._location=e instanceof W2?e:W2.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new $5(t,e)}get root(){const t=new W2(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Lj(this._location.path)}get storage(){return this._service}get parent(){const t=function(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new W2(this._location.bucket,t);return new $5(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw bj(t)}}function zj(n,t,e){return vE.apply(this,arguments)}function vE(){return vE=(0,_e.Z)(function*(n,t,e){const r=yield Fj(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield zj(n,t,r.nextPageToken))}),vE.apply(this,arguments)}function Fj(n,t){null!=t&&"number"==typeof t.maxResults&&fE("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=qEe(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,va)}function pLe(n){n._throwIfRoot("getDownloadURL");const t=function(n,t,e){const r=q4(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new w3(r,"GET",function(n,t){return function(i,r){const s=Tj(n,r,t);return x3(null!==s),function(n,t,e,i){const r=gE(t);if(null===r||!l_(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(_=>{const x=n.fullPath;return q4("/b/"+c(n.bucket)+"/o/"+c(x),e,i)+wj({alt:"media",token:_})})[0]}(s,r,n.host,n._protocol)}}(n,e),c);return d.errorHandler=ch(t),d}(n.storage,n._location,lh());return n.storage.makeRequestWithTokens(t,va).then(e=>{if(null===e)throw new l1("no-download-url","The given file does not have any download URLs.");return e})}function Bj(n,t){const e=function(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new W2(n._location.bucket,e);return new $5(n.storage,i)}function Uj(n,t){if(n instanceof yE){const e=n;if(null==e._bucket)throw new l1("no-default-bucket","No default bucket found. Did you set the '"+mj+"' property when initializing the app?");const i=new $5(e,e._bucket);return null!=t?Uj(i,t):i}return void 0!==t?Bj(n,t):n}function _Le(n,t){if(t&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof yE)return function(n,t){return new $5(n,t)}(n,t);throw yu("To use ref(service, url), the first argument must be a Storage instance.")}return Uj(n,t)}function Gj(n,t){const e=null==t?void 0:t[mj];return null==e?null:W2.makeFromBucketSpec(e,n)}class yE{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=Cj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?W2.makeFromBucketSpec(r,this._host):Gj(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?W2.makeFromBucketSpec(this._url,t):Gj(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){fE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){fE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,_e.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,_e.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new $5(this,t)}_makeRequest(t,e,i,r){if(this._deleted)return new pEe(yj());{const s=function(n,t,e,i,r,s){const c=wj(n.urlParams),d=n.url+c,h=Object.assign({},n.headers);return function(n,t){t&&(n["X-Firebase-GMPID"]=t)}(h,t),function(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(h,e),function(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(h,s),function(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(h,i),new yEe(d,n.method,h,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(t,this._appId,i,r,e,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,e){var i=this;return(0,_e.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const jj="@firebase/storage";function Wj(n,t){return _Le(n=(0,R.m9)(n),t)}(0,hr._registerComponent)(new _a.wA("storage",function(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new yE(e,i,r,t,hr.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,hr.registerVersion)(jj,"0.9.4",""),(0,hr.registerVersion)(jj,"0.9.4","esm2017");class h_{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Zj{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new h_(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new h_(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?c=>e(new h_(c,this,this._ref)):{next:e.next?c=>e.next(new h_(c,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class Yj{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new $4(t,this._service))}get items(){return this._delegate.items.map(t=>new $4(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class $4{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function(n,t){return Bj(n,t)}(this._delegate,t);return new $4(e,this.storage)}get root(){return new $4(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new $4(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new Zj(function(n,t,e){return function(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new Oj(n,new M3(t),e)}(n=(0,R.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Vs.RAW,i){this._throwIfRoot("putString");const r=pE(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new Zj(new Oj(this._delegate,new M3(r.data,!0),s),this)}listAll(){return function(n){return function(n){const t={prefixes:[],items:[]};return zj(n,t).then(()=>t)}(n=(0,R.m9)(n))}(this._delegate).then(t=>new Yj(t,this.storage))}list(t){return function(n,t){return Fj(n=(0,R.m9)(n),t)}(this._delegate,t||void 0).then(e=>new Yj(e,this.storage))}getMetadata(){return function(n){return function(n){n._throwIfRoot("getMetadata");const t=Ij(n.storage,n._location,lh());return n.storage.makeRequestWithTokens(t,va)}(n=(0,R.m9)(n))}(this._delegate)}updateMetadata(t){return function(n,t){return function(n,t){n._throwIfRoot("updateMetadata");const e=function(n,t,e,i){const s=q4(t.fullServerUrl(),n.host,n._protocol),d=CE(e,i),_=n.maxOperationRetryTime,M=new w3(s,"PATCH",d_(n,i),_);return M.headers={"Content-Type":"application/json; charset=utf-8"},M.body=d,M.errorHandler=ch(t),M}(n.storage,n._location,t,lh());return n.storage.makeRequestWithTokens(e,va)}(n=(0,R.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function(n){return pLe(n=(0,R.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(n){return function(n){n._throwIfRoot("deleteObject");const t=function(n,t){const i=q4(t.fullServerUrl(),n.host,n._protocol),d=new w3(i,"DELETE",function(h,_){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=ch(t),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,va)}(n=(0,R.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw bj(t)}}class Kj{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(Qj(t))throw yu("ref() expected a child path but got a URL, use refFromURL instead.");return new $4(Wj(this._delegate,t),this)}refFromURL(t){if(!Qj(t))throw yu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{W2.makeFromUrl(t,this._delegate.host)}catch(e){throw yu("refFromUrl() expected a valid full URL but got an invalid one.")}return new $4(Wj(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function(n,t,e,i={}){!function(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,R.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function Qj(n){return/^[A-Za-z]+:\/\//.test(n)}function VLe(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new Kj(e,i)}!function(n){const t={TaskState:gr,TaskEvent:XEe,StringFormat:Vs,Storage:Kj,Reference:$4};n.INTERNAL.registerComponent(new _a.wA("storage-compat",VLe,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.12")}(lE.Z),O(5867);var ya=O(1877);const Xj=new Map,FLe={activated:!1,tokenObservers:[]},BLe={initialized:!1,enabled:!1};function n2(n){return Xj.get(n)||FLe}function ba(n,t){Xj.set(n,t)}function g_(){return BLe}class $Le{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,_e.Z)(function*(){e.stop();try{e.pending=new R.BH,yield function(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new R.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Cr=new R.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function tq(n){if(!n2(n).activated)throw Cr.create("use-before-activation",{appName:n.name})}function xE(n,t){return SE.apply(this,arguments)}function SE(){return SE=(0,_e.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const x=yield r.getHeartbeatsHeader();x&&(i["X-Firebase-Client"]=x)}const s={method:"POST",body:JSON.stringify(t),headers:i};let c,d;try{c=yield fetch(n,s)}catch(x){throw Cr.create("fetch-network-error",{originalErrorMessage:x.message})}if(200!==c.status)throw Cr.create("fetch-status-error",{httpStatus:c.status});try{d=yield c.json()}catch(x){throw Cr.create("fetch-parse-error",{originalErrorMessage:x.message})}const h=d.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Cr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const _=1e3*Number(h[1]),M=Date.now();return{token:d.attestationToken,expireTimeMillis:M+_,issuedAtTimeMillis:M}}),SE.apply(this,arguments)}function JLe(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const uh="firebase-app-check-store";let __=null;function iq(){return __||(__=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Cr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(uh,{keyPath:"compositeKey"})}}catch(e){t(Cr.create("storage-open",{originalErrorMessage:e.message}))}}),__)}function EE(){return EE=(0,_e.Z)(function*(n,t){const i=(yield iq()).transaction(uh,"readwrite"),s=i.objectStore(uh).put({compositeKey:n,value:t});return new Promise((c,d)=>{s.onsuccess=h=>{c()},i.onerror=h=>{var _;d(Cr.create("storage-set",{originalErrorMessage:null===(_=h.target.error)||void 0===_?void 0:_.message}))}})}),EE.apply(this,arguments)}const dh=new ya.Yd("@firebase/app-check");function aq(n,t){return(0,R.hl)()?function(n,t){return function(n,t){return EE.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{dh.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function lq(){return g_().enabled}function cq(){return AE.apply(this,arguments)}function AE(){return AE=(0,_e.Z)(function*(){const n=g_();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),AE.apply(this,arguments)}const lTe={error:"UNKNOWN_ERROR"};function cTe(n){return R.US.encodeString(JSON.stringify(n),!1)}function v_(n){return IE.apply(this,arguments)}function IE(){return IE=(0,_e.Z)(function*(n,t=!1){const e=n.app;tq(e);const i=n2(e);let s,r=i.token;if(!r){const h=yield i.cachedTokenPromise;h&&y_(h)&&(r=h)}if(!t&&r&&y_(r))return{token:r.token};let d,c=!1;if(lq()){i.exchangeTokenPromise||(i.exchangeTokenPromise=xE(JLe(e,yield cq()),n.heartbeatServiceProvider).then(_=>(i.exchangeTokenPromise=void 0,_)),c=!0);const h=yield i.exchangeTokenPromise;return yield aq(e,h),ba(e,Object.assign(Object.assign({},i),{token:h})),{token:h.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(h=>(i.exchangeTokenPromise=void 0,h)),c=!0),r=yield i.exchangeTokenPromise}catch(h){"appCheck/throttled"===h.code?dh.warn(h.message):dh.error(h),s=h}return r?(d={token:r.token},ba(e,Object.assign(Object.assign({},i),{token:r})),yield aq(e,r)):d=dTe(s),c&&dq(e,d),d}),IE.apply(this,arguments)}function kE(n,t){const e=n2(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),ba(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function uq(n){const{app:t}=n,e=n2(t);let i=e.tokenRefresher;i||(i=function(n){const{app:t}=n;return new $Le((0,_e.Z)(function*(){let i;if(i=n2(t).token?yield v_(n,!0):yield v_(n),i.error)throw i.error}),()=>!0,()=>{const e=n2(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),ba(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function dq(n,t){const e=n2(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function y_(n){return n.expireTimeMillis-Date.now()>0}function dTe(n){return{token:cTe(lTe),error:n}}class fTe{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=n2(this.app);for(const e of t)kE(this.app,e.next);return Promise.resolve()}}const vq="app-check-internal";(0,hr._registerComponent)(new _a.wA("app-check",n=>function(n,t){return new fTe(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(vq).initialize()})),(0,hr._registerComponent)(new _a.wA(vq,n=>function(n){return{getToken:t=>v_(n,t),addTokenListener:t=>function(n,t,e,i){const{app:r}=n,s=n2(r),c={next:e,error:i,type:t};if(ba(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,c]})),s.token&&y_(s.token)){const d=s.token;Promise.resolve().then(()=>{e({token:d.token}),uq(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>uq(n))}(n,"INTERNAL",t),removeTokenListener:t=>kE(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,hr.registerVersion)("@firebase/app-check","0.5.5");class fh{constructor(){return(0,zn.vb)("app-check")}}"undefined"!=typeof window&&window;var bq=O(127);function Mq(n){const t=function(n){return new bn.y(t=>{const e=c=>t.next(c);e(n.snapshot);const s=n.on("state_changed",e);return n.then(c=>{e(c),t.complete()},c=>{e(n.snapshot),(c=>{t.error(c)})(c)}),function(){s()}}).pipe(cu(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,qe.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function M_(n){return{getDownloadURL:()=>at(void 0).pipe(zn.fc,xi(()=>n.getDownloadURL()),zn.iC),getMetadata:()=>at(void 0).pipe(zn.fc,xi(()=>n.getMetadata()),zn.iC),delete:()=>(0,_n.D)(n.delete()),child:t=>M_(n.child(t)),updateMetadata:t=>(0,_n.D)(n.updateMetadata(t)),put:(t,e)=>Mq(n.put(t,e)),putString:(t,e,i)=>Mq(n.putString(t,e,i)),list:t=>(0,_n.D)(n.list(t)),listAll:()=>(0,_n.D)(n.listAll())}}const NTe=new o.OlP("angularfire2.storageBucket"),kTe=new o.OlP("angularfire2.storage.maxUploadRetryTime"),VTe=new o.OlP("angularfire2.storage.maxOperationRetryTime"),HTe=new o.OlP("angularfire2.storage.use-emulator");let hh=(()=>{class n{constructor(e,i,r,s,c,d,h,_,M,x){const D=(0,U1.on)(e,c,i);this.storage=(0,U1.cc)(`${D.name}.storage.${r}`,"AngularFireStorage",D.name,()=>{const N=c.runOutsideAngular(()=>D.storage(r||void 0)),H=M;return H&&N.useEmulator(...H),h&&N.setMaxUploadRetryTime(h),_&&N.setMaxOperationRetryTime(_),N},[h,_])}ref(e){return M_(this.storage.ref(e))}refFromURL(e){return M_(this.storage.refFromURL(e))}upload(e,i,r){return M_(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(U1.Dh),o.LFG(U1.xv,8),o.LFG(NTe,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(zn.HU),o.LFG(kTe,8),o.LFG(VTe,8),o.LFG(HTe,8),o.LFG(fh,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),RTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),OTe=(()=>{class n{constructor(){bq.Z.registerVersion("angularfire",zn.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[hh],imports:[RTe]}),n})();function PTe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",16),o._UZ(1,"div",17),o.TgZ(2,"div",18),o.TgZ(3,"label",6),o._uU(4,"Nimi"),o.qZA(),o._UZ(5,"input",19),o.qZA(),o.TgZ(6,"div",8),o.TgZ(7,"input",9),o.NdJ("input",function(r){return o.CHM(e),o.oxw().onFileChanged(r)}),o.qZA(),o.TgZ(8,"div"),o._uU(9),o.qZA(),o.qZA(),o.TgZ(10,"div",0),o.TgZ(11,"div",1),o.TgZ(12,"div",5),o.TgZ(13,"label",10),o._uU(14,"imagePath"),o.qZA(),o._UZ(15,"input",11),o.qZA(),o.qZA(),o.qZA(),o.TgZ(16,"div",20),o.TgZ(17,"button",21),o.NdJ("click",function(){const s=o.CHM(e).index;return o.oxw().onDeleteTuote(s)}),o._uU(18,"Poista"),o.qZA(),o.qZA(),o.qZA()}if(2&n){const e=t.index,i=o.oxw();o.Q6J("formGroupName",e),o.xp6(9),o.hij(" ",i.downloadableURL," ")}}let wq=(()=>{class n{constructor(e,i,r,s,c,d){this.route=e,this.router=i,this.dataStorageService=r,this.tekstiStorageService=s,this.galleryService=c,this.fireStorage=d,this.editMode=!1,this.basePath="/images",this.downloadableURL=""}ngOnInit(){this.route.params.subscribe(e=>{this.id=+e.id,this.editMode=null!=e.id,this.initForm()})}onFileChanged(e){var i=this;return(0,_e.Z)(function*(){const r=e.target.files[0];r&&(i.task=i.fireStorage.upload(`${i.basePath}/${r.name}`,r),i.progressValue=i.task.percentageChanges(),(yield i.task).ref.getDownloadURL().then(c=>{i.downloadableURL=c}),e.target.files.length>0&&console.log(e.target.files[0].name))})()}onSubmit(){this.editMode?this.galleryService.updateItem(this.id,this.itemForm.value):this.galleryService.addItem(this.itemForm.value),this.onCancel(),this.dataStorageService.storeItems(),this.tekstiStorageService.storeTekstit()}onAddTuote(){this.itemForm.get("tuotteet").push(new x2({name:new Jn(null,_2.required),imagePath:new Jn(null,_2.required),description:new Jn(null,_2.required)}))}onDeleteTuote(e){this.itemForm.get("tuotteet").removeAt(e)}onCancel(){this.router.navigate(["../"],{relativeTo:this.route})}initForm(){let e="",i="",r=new Xa([]);if(this.editMode){const s=this.galleryService.getItem(this.id);if(e=s.name,i=s.imagePath,s.tuotteet)for(let c of s.tuotteet)r.push(new x2({name:new Jn(c.name,_2.required),imagePath:new Jn(c.imagePath,_2.required)}))}this.itemForm=new x2({name:new Jn(e,_2.required),imagePath:new Jn(i,_2.required),tuotteet:r})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Si),o.Y36(qt),o.Y36(F1),o.Y36(dr),o.Y36(E2),o.Y36(hh))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-gallery-edit"]],decls:33,vars:3,consts:[[1,"row"],[1,"col-xs-12"],[3,"formGroup","ngSubmit"],["type","button","id","cancel",1,"btn","btn-danger",3,"click"],["type","submit",1,"btn","btn-success"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],[2,"padding","5mm"],["type","file","name","file","accept",".jpeg,.jpg,.png,.svg",3,"input"],["for","imagePath"],["type","text","id","imagePath","formControlName","imagePath",1,"form-control"],["imagePath",""],["formArrayName","tuotteet",1,"col-xs-12"],["class","row","style","margin-top: 10px;",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success",3,"click"],[1,"row",2,"margin-top","10px",3,"formGroupName"],["id","tuotediv"],[1,"col-xs-8"],["type","text","id","tuotenimi","formControlName","name",1,"form-control"],[1,"col-xs-2"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"form",2),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(3,"div",0),o.TgZ(4,"div",1),o.TgZ(5,"button",3),o.NdJ("click",function(){return i.onCancel()}),o._uU(6,"Cancel"),o.qZA(),o.TgZ(7,"button",4),o._uU(8,"Save"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(9,"div",0),o.TgZ(10,"div",1),o.TgZ(11,"div",5),o.TgZ(12,"label",6),o._uU(13,"Nimi"),o.qZA(),o._UZ(14,"input",7),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"div",8),o.TgZ(16,"input",9),o.NdJ("input",function(s){return i.onFileChanged(s)}),o.qZA(),o.TgZ(17,"div"),o._uU(18),o.qZA(),o.qZA(),o.TgZ(19,"div",0),o.TgZ(20,"div",1),o.TgZ(21,"div",5),o.TgZ(22,"label",10),o._uU(23,"imagePath"),o.qZA(),o._UZ(24,"input",11,12),o.qZA(),o.qZA(),o.qZA(),o.TgZ(26,"div",0),o.TgZ(27,"div",13),o.YNc(28,PTe,19,2,"div",14),o.TgZ(29,"div",0),o.TgZ(30,"div",1),o.TgZ(31,"button",15),o.NdJ("click",function(){return i.onAddTuote()}),o._uU(32,"Lis\xe4\xe4 tuote"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("formGroup",i.itemForm),o.xp6(16),o.hij(" ",i.downloadableURL," "),o.xp6(10),o.Q6J("ngForOf",i.itemForm.get("tuotteet").controls))},directives:[Fr,w2,ho,G2,M2,po,r1,oi,f4],styles:["form[_ngcontent-%COMP%]{width:800px;height:450px;border:solid black 3px;border-radius:10px;border:solid black 2px;background-color:#ddd;position:absolute;top:0;left:0;margin-top:15%;margin-left:25%;z-index:2;overflow:scroll;overflow-x:hidden;overflow-y:scroll}button[_ngcontent-%COMP%]{margin-left:15px}button[_ngcontent-%COMP%]{float:right}#warning[_ngcontent-%COMP%]{height:7mm;width:50%}img[_ngcontent-%COMP%]{height:200px}#tuotediv[_ngcontent-%COMP%]{background-color:#000;height:1px;box-shadow:0 2px 3px #000}.row[_ngcontent-%COMP%]{--bs-gutter-x: 0 !important}label[_ngcontent-%COMP%]{margin-top:3px}#tuotenimi[_ngcontent-%COMP%]{width:300px}"]}),n})(),zTe=(()=>{class n{constructor(e,i){this.route=e,this.router=i}ngOnInit(){}onTakaisin(){this.router.navigate(["../"],{relativeTo:this.route})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Si),o.Y36(qt))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-gallery-category-back"]],decls:2,vars:0,consts:[["id","takaisin",1,"previous","btn","btn-danger",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"button",0),o.NdJ("click",function(){return i.onTakaisin()}),o._uU(1,"\xab Takaisin"),o.qZA())},styles:["#takaisin[_ngcontent-%COMP%]{background-color:#eee;border:none;color:#000;padding:10px 20px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:4px 2px;cursor:pointer;border-radius:4px}#takaisin[_ngcontent-%COMP%]:hover{background-color:#d6d6d6}"]}),n})(),FTe=(()=>{class n{constructor(e,i){this.router=e,this.route=i}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qt),o.Y36(Si))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-gallery-category"]],inputs:{tuote:"tuote",index:"index"},decls:5,vars:3,consts:[["id","itemswrapper"],[1,"img-responsive",2,"height","220px",3,"src","alt"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"a"),o._UZ(2,"img",1),o.TgZ(3,"h3"),o._uU(4),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.s9C("alt",i.tuote.name),o.Q6J("src",i.tuote.imagePath,o.LSH),o.xp6(2),o.Oqu(i.tuote.name))},styles:["#itemswrapper[_ngcontent-%COMP%]{width:259px;display:inline-block;padding:30px;text-align:center}h4[_ngcontent-%COMP%]{font-size:25px;color:#000}h5[_ngcontent-%COMP%]{font-size:25px}h3[_ngcontent-%COMP%]{font-size:19px;color:#000}#tuotewrapper[_ngcontent-%COMP%]{position:absolute;background-color:#fff;text-align:center;justify-content:center;top:110%;z-index:1000;right:25%;max-width:100%}#tuotewrapper1[_ngcontent-%COMP%]{position:absolute;top:0;margin-top:180px;left:10%;right:10%;background-color:#fff;width:80%;padding-left:150px;text-align:center;justify-content:center}a[_ngcontent-%COMP%]{color:#000;text-decoration:none}"]}),n})();function BTe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2),o.TgZ(1,"button",3),o.NdJ("click",function(){return o.CHM(e),o.oxw().onCancel()}),o._uU(2,"Cancel"),o.qZA(),o.TgZ(3,"div",4),o.TgZ(4,"div",5),o._UZ(5,"img",6),o.qZA(),o.qZA(),o.TgZ(6,"div",4),o.TgZ(7,"div",5),o.TgZ(8,"h1"),o._uU(9),o.qZA(),o.qZA(),o.qZA(),o._UZ(10,"hr"),o.TgZ(11,"div",4),o.TgZ(12,"div",5),o.TgZ(13,"a",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().onEditItem()}),o._uU(14,"Muokkaa ja lis\xe4\xe4 kategoriaan"),o.qZA(),o.TgZ(15,"a",8),o.NdJ("click",function(){return o.CHM(e),o.oxw().onDeleteItem()}),o._uU(16,"Poista kategoria"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.xp6(5),o.s9C("alt",e.item.name),o.Q6J("src",e.item.imagePath,o.LSH),o.xp6(4),o.Oqu(e.item.name)}}function UTe(n,t){1&n&&(o.TgZ(0,"div"),o._UZ(1,"app-gallery-category-back"),o.qZA())}function GTe(n,t){if(1&n&&o._UZ(0,"app-gallery-category",10),2&n){const i=t.index;o.Q6J("tuote",t.$implicit)("index",i)}}function jTe(n,t){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,GTe,1,2,"app-gallery-category",9),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.item.tuotteet)}}let qTe=(()=>{class n{constructor(e,i,r,s,c,d){this.galleryService=e,this.dataStorageService=i,this.tekstiStorageService=r,this.authService=s,this.route=c,this.router=d,this.isAuthenticated=!1}ngOnInit(){this.route.params.subscribe(e=>{this.id=+e.id,this.item=this.galleryService.getItem(this.id)}),this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}onEditItem(){this.router.navigate(["edit"],{relativeTo:this.route})}onDeleteItem(){this.galleryService.deleteItem(this.id),this.router.navigate(["/gallery"]),this.dataStorageService.storeItems(),this.tekstiStorageService.storeTekstit()}onCancel(){this.router.navigate(["../"],{relativeTo:this.route})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(E2),o.Y36(F1),o.Y36(dr),o.Y36(Xn),o.Y36(Si),o.Y36(qt))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-gallery-detail"]],decls:3,vars:3,consts:[["id","border",4,"ngIf"],[4,"ngIf"],["id","border"],["type","button",1,"btn","btn-danger",3,"click"],[1,"row"],[1,"col-xs-12"],[1,"img-responsive",2,"max-height","300px",3,"src","alt"],["id","edit",2,"cursor","pointer",3,"click"],["id","delete",2,"cursor","pointer",3,"click"],[3,"tuote","index",4,"ngFor","ngForOf"],[3,"tuote","index"]],template:function(e,i){1&e&&(o.YNc(0,BTe,17,3,"div",0),o.YNc(1,UTe,2,0,"div",1),o.YNc(2,jTe,2,1,"div",1)),2&e&&(o.Q6J("ngIf",i.isAuthenticated),o.xp6(1),o.Q6J("ngIf",!i.isAuthenticated),o.xp6(1),o.Q6J("ngIf",!i.isAuthenticated))},directives:[zt,zTe,oi,FTe],styles:["#edit[_ngcontent-%COMP%]{color:#00f;font-size:25px}#delete[_ngcontent-%COMP%]{color:red;font-size:25px;margin-left:20px}#go[_ngcontent-%COMP%]{color:green;font-size:25px;margin-left:20px}#border[_ngcontent-%COMP%]{border:solid black 1px;position:absolute;top:0;left:0;margin-top:25%;margin-left:25%;width:800px;background-color:#e9e9e9}button[_ngcontent-%COMP%]{float:right}img[_ngcontent-%COMP%]{height:200px}"]}),n})(),Hs=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return this.authService.user.pipe((0,Yt.q)(1),(0,qe.U)(r=>!!r||this.router.createUrlTree(["/auth"])))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Xn),o.LFG(qt))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $Te(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",1),o.TgZ(1,"div",2),o.TgZ(2,"div",3),o.TgZ(3,"form",4),o.NdJ("ngSubmit",function(){return o.CHM(e),o.oxw().onSubmit()}),o.TgZ(4,"div",2),o.TgZ(5,"div",3),o.TgZ(6,"button",5),o.NdJ("click",function(){return o.CHM(e),o.oxw().onCancel()}),o._uU(7,"Cancel"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8,"div",2),o.TgZ(9,"div",3),o.TgZ(10,"div",6),o.TgZ(11,"label",7),o._uU(12,"teksti"),o.qZA(),o._UZ(13,"textarea",8),o.qZA(),o.qZA(),o.qZA(),o.TgZ(14,"button",9),o._uU(15,"Save"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.xp6(3),o.Q6J("formGroup",e.textForm)}}let xq=(()=>{class n{constructor(e,i,r,s,c){this.route=e,this.dataStorageService=i,this.tekstiStorageService=r,this.router=s,this.tekstiService=c,this.display=!0,this.editMode=!1}ngOnInit(){this.route.params.subscribe(e=>{this.id=+e.id,this.editMode=null!=e.id,this.initForm()})}onSubmit(){this.editMode?this.tekstiService.updateTeksti(this.id,this.textForm.value):this.tekstiService.addTeksti(this.textForm.value),this.onCancel(),this.tekstiStorageService.storeTekstit()}onCancel(){this.display=!1,this.router.navigate(["../"])}initForm(){let e="";this.editMode&&(e=this.tekstiService.getTeksti(this.id).text),this.textForm=new x2({text:new Jn(e)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Si),o.Y36(F1),o.Y36(dr),o.Y36(qt),o.Y36(Ls))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-gallery-text"]],decls:1,vars:1,consts:[["id","comp-render",4,"ngIf"],["id","comp-render"],[1,"row"],[1,"col-xs-12"],[3,"formGroup","ngSubmit"],["type","button","id","cancel",1,"btn","btn-danger",3,"click"],[1,"form-group"],["for","name"],["id","text","name","text","rows","7","cols","50","formControlName","text",1,"form-control"],["type","submit",1,"btn","btn-success"]],template:function(e,i){1&e&&o.YNc(0,$Te,16,1,"div",0),2&e&&o.Q6J("ngIf",i.display)},directives:[zt,Fr,w2,ho,G2,M2,po],styles:["form[_ngcontent-%COMP%]{border:solid black 1px;background-color:#ddd;position:absolute;left:0;margin-left:25%;width:900px;z-index:2}button[_ngcontent-%COMP%]{float:right}"]}),n})(),Sq=(()=>{class n{constructor(e,i,r,s,c,d){this.route=e,this.router=i,this.dataStorageService=r,this.tekstiStorageService=s,this.galleryService=c,this.fireStorage=d,this.editMode=!1,this.basePath="/images",this.downloadableURL=""}ngOnInit(){this.route.params.subscribe(e=>{this.id=+e.id,this.editMode=null!=e.id,this.initForm()})}onFileChanged(e){var i=this;return(0,_e.Z)(function*(){const r=e.target.files[0];r?(i.task=i.fireStorage.upload(`${i.basePath}/${r.name}`,r),i.progressValue=i.task.percentageChanges(),(yield i.task).ref.getDownloadURL().then(c=>{i.downloadableURL=c})):(alert("No images selected"),i.downloadableURL="")})()}onSubmit(){this.editMode?this.galleryService.updateKorjaus(this.id,this.korjausForm.value):this.galleryService.addKorjaus(this.korjausForm.value),this.onCancel(),this.dataStorageService.storeKorjaukset(),this.tekstiStorageService.storeTekstit()}onCancel(){this.router.navigate(["../"],{relativeTo:this.route})}initForm(){let e="",i="";if(this.editMode){const r=this.galleryService.getKorjaus(this.id);e=r.teksti,i=r.imagePath}this.korjausForm=new x2({teksti:new Jn(e),imagePath:new Jn(i)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Si),o.Y36(qt),o.Y36(F1),o.Y36(dr),o.Y36(E2),o.Y36(hh))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-korjaukset-edit"]],decls:29,vars:3,consts:[[1,"row"],[1,"col-xs-12"],[3,"formGroup","ngSubmit"],["type","button","id","cancel",1,"btn","btn-danger",3,"click"],["type","submit",1,"btn","btn-success"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","teksti",1,"form-control"],[2,"padding","20mm"],["type","file","name","file","accept",".jpeg,.jpg,.png,.svg",3,"input"],["for","imagePath"],["type","text","id","imagePath","formControlName","imagePath",1,"form-control"],["imagePath",""],[1,"img-responsive",3,"src"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"form",2),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(3,"div",0),o.TgZ(4,"div",1),o.TgZ(5,"button",3),o.NdJ("click",function(){return i.onCancel()}),o._uU(6,"Cancel"),o.qZA(),o.TgZ(7,"button",4),o._uU(8,"Save"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(9,"div",0),o.TgZ(10,"div",1),o.TgZ(11,"div",5),o.TgZ(12,"label",6),o._uU(13,"Teksti"),o.qZA(),o._UZ(14,"input",7),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"div",8),o.TgZ(16,"input",9),o.NdJ("input",function(s){return i.onFileChanged(s)}),o.qZA(),o._UZ(17,"br"),o._uU(18),o.qZA(),o.TgZ(19,"div",0),o.TgZ(20,"div",1),o.TgZ(21,"div",5),o.TgZ(22,"label",10),o._uU(23,"imagePath"),o.qZA(),o._UZ(24,"input",11,12),o.TgZ(26,"div",0),o.TgZ(27,"div",1),o._UZ(28,"img",13),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const r=o.MAs(25);o.xp6(2),o.Q6J("formGroup",i.korjausForm),o.xp6(16),o.hij(" ",i.downloadableURL," "),o.xp6(10),o.Q6J("src",r.value,o.LSH)}},directives:[Fr,w2,ho,G2,M2,po],styles:["form[_ngcontent-%COMP%]{border:solid black 1px;background-color:#ddd;position:absolute;top:0;left:0;margin-top:800px;margin-left:25%;width:800px;z-index:100}button[_ngcontent-%COMP%]{margin-left:15px}button[_ngcontent-%COMP%]{float:right}#warning[_ngcontent-%COMP%]{height:7mm;width:50%}img[_ngcontent-%COMP%]{height:200px}"]}),n})();function WTe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",1),o.TgZ(1,"button",2),o.NdJ("click",function(){return o.CHM(e),o.oxw().onCancel()}),o._uU(2,"Cancel"),o.qZA(),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o._UZ(5,"img",5),o.qZA(),o.qZA(),o.TgZ(6,"div",3),o.TgZ(7,"div",4),o.TgZ(8,"h1"),o._uU(9),o.qZA(),o.qZA(),o.qZA(),o._UZ(10,"hr"),o.TgZ(11,"div",3),o.TgZ(12,"div",4),o.TgZ(13,"a",6),o.NdJ("click",function(){return o.CHM(e),o.oxw().onEditKorjaus()}),o._uU(14,"Muokkaa "),o.qZA(),o.TgZ(15,"a",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().onDeleteKorjaus()}),o._uU(16,"Poista Korjaus"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.xp6(5),o.s9C("alt",e.korjaus.teksti),o.Q6J("src",e.korjaus.imagePath,o.LSH),o.xp6(4),o.Oqu(e.korjaus.teksti)}}let ZTe=(()=>{class n{constructor(e,i,r,s,c,d){this.galleryService=e,this.dataStorageService=i,this.tekstiStorageService=r,this.authService=s,this.route=c,this.router=d,this.isAuthenticated=!1}ngOnInit(){this.route.params.subscribe(e=>{this.id=+e.id,this.korjaus=this.galleryService.getKorjaus(this.id)}),this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}ngOnDestroy(){this.userSub.unsubscribe()}onEditKorjaus(){this.router.navigate(["edit"],{relativeTo:this.route})}onDeleteKorjaus(){this.galleryService.deleteKorjaus(this.id),this.router.navigate(["/korjaukset"]),this.dataStorageService.storeKorjaukset()}onCancel(){this.router.navigate(["../"],{relativeTo:this.route})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(E2),o.Y36(F1),o.Y36(dr),o.Y36(Xn),o.Y36(Si),o.Y36(qt))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-korjaukset-detail"]],decls:1,vars:1,consts:[["id","border",4,"ngIf"],["id","border"],["type","button",1,"btn","btn-danger",3,"click"],[1,"row"],[1,"col-xs-12"],[1,"img-responsive",2,"max-height","300px",3,"src","alt"],["id","edit",2,"cursor","pointer",3,"click"],["id","delete",2,"cursor","pointer",3,"click"]],template:function(e,i){1&e&&o.YNc(0,WTe,17,3,"div",0),2&e&&o.Q6J("ngIf",i.isAuthenticated)},directives:[zt],styles:["#edit[_ngcontent-%COMP%]{color:#00f;font-size:25px}#delete[_ngcontent-%COMP%]{color:red;font-size:25px;margin-left:20px}#go[_ngcontent-%COMP%]{color:green;font-size:25px;margin-left:20px}#border[_ngcontent-%COMP%]{border:solid black 1px;position:absolute;top:0;left:0;margin-top:800px;margin-left:25%;width:800px;z-index:100;background-color:#e9e9e9}button[_ngcontent-%COMP%]{float:right}img[_ngcontent-%COMP%]{height:200px}"]}),n})();function YTe(n,t){1&n&&(o.TgZ(0,"button",1),o._uU(1," Muokkaa teksti\xe4"),o.qZA())}let KTe=(()=>{class n{constructor(e,i){this.router=e,this.authService=i,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}ngOnDestroy(){this.userSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qt),o.Y36(Xn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-korjaukset-text"]],inputs:{teksti:"teksti",index:"index"},decls:3,vars:2,consts:[["class","btn btn-info","id","editText","routerLink","/text/2",4,"ngIf"],["id","editText","routerLink","/text/2",1,"btn","btn-info"]],template:function(e,i){1&e&&(o.YNc(0,YTe,2,0,"button",0),o.TgZ(1,"h3"),o._uU(2),o.qZA()),2&e&&(o.Q6J("ngIf",i.isAuthenticated),o.xp6(2),o.Oqu(i.teksti.text))},directives:[zt,o1],styles:["h3[_ngcontent-%COMP%]{color:#000;font-size:17px}form[_ngcontent-%COMP%]{border:solid black 1px;background-color:#ddd;position:absolute;left:0;margin-left:25%;width:900px;z-index:2}button[_ngcontent-%COMP%]{float:right}.container[_ngcontent-%COMP%]{display:flex;align-items:center}.img-col[_ngcontent-%COMP%]{flex-basis:25%;margin-right:15px}#editText[_ngcontent-%COMP%]{color:#fff;background-color:#08a}button[_ngcontent-%COMP%]{float:left}"]}),n})();const QTe=function(n){return[n]};function JTe(n,t){if(1&n&&(o.TgZ(0,"button",6),o._uU(1,"muokkaa korjausta"),o.qZA()),2&n){const e=o.oxw();o.Q6J("routerLink",o.VKq(1,QTe,e.index))}}let XTe=(()=>{class n{constructor(e){this.authService=e,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Xn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-korjaukset-item"]],inputs:{korjaus:"korjaus",index:"index"},decls:8,vars:3,consts:[["id","itemswrapper"],["class","btn btn-secondary","routerLinkActive","active",3,"routerLink",4,"ngIf"],[1,"container"],[1,"img-col"],[3,"src"],[1,"text","col"],["routerLinkActive","active",1,"btn","btn-secondary",3,"routerLink"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.YNc(1,JTe,2,3,"button",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o._UZ(4,"img",4),o.qZA(),o.TgZ(5,"div",5),o.TgZ(6,"h3"),o._uU(7),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngIf",i.isAuthenticated),o.xp6(3),o.Q6J("src",i.korjaus.imagePath,o.LSH),o.xp6(3),o.Oqu(i.korjaus.teksti))},directives:[zt,Ca,o1],styles:["h3[_ngcontent-%COMP%]{color:#000;font-size:17px}form[_ngcontent-%COMP%]{border:solid black 1px;background-color:#ddd;position:absolute;left:0;margin-left:25%;width:900px;z-index:2}.container[_ngcontent-%COMP%]{display:flex;align-items:center}.img-col[_ngcontent-%COMP%]{flex-basis:25%;margin-right:15px;margin-bottom:40px}#editText[_ngcontent-%COMP%]{color:#fff;background-color:#08a}button[_ngcontent-%COMP%]{float:left;margin-bottom:10px}@media screen and (max-width: 780px){img[_ngcontent-%COMP%]{width:200px;height:250px!important}h3[_ngcontent-%COMP%]{font-size:15px}}img[_ngcontent-%COMP%]{height:400px}"]}),n})();function eDe(n,t){if(1&n&&o._UZ(0,"app-korjaukset-text",3),2&n){const i=t.index;o.Q6J("teksti",t.$implicit)("index",i)}}function tDe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",4),o.TgZ(1,"div",5),o.TgZ(2,"div",6),o.TgZ(3,"button",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().onNewKorjaus()}),o._uU(4,"Uusi korjaus"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}}function nDe(n,t){if(1&n&&o._UZ(0,"app-korjaukset-item",8),2&n){const i=t.index;o.Q6J("korjaus",t.$implicit)("index",i)}}let iDe=(()=>{class n{constructor(e,i,r,s,c){this.galleryService=e,this.authService=i,this.router=r,this.tekstiService=s,this.route=c,this.isAuthenticated=!1,this.editMode=!1}ngOnInit(){this.subscription=this.galleryService.korjauksetChanged.subscribe(e=>{this.korjaukset=e}),this.korjaukset=this.galleryService.getKorjaukset(),this.tekstit=this.tekstiService.getTekstit(),this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}onNewKorjaus(){this.router.navigate(["new"],{relativeTo:this.route})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(E2),o.Y36(Xn),o.Y36(qt),o.Y36(Ls),o.Y36(Si))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-korjaukset-list"]],inputs:{index:"index"},decls:3,vars:3,consts:[[3,"teksti","index",4,"ngFor","ngForOf"],["id","kontainer",4,"ngIf"],[3,"korjaus","index",4,"ngFor","ngForOf"],[3,"teksti","index"],["id","kontainer"],[1,"row"],[1,"col-xs-12"],["id","uus",1,"btn","btn-success",3,"click"],[3,"korjaus","index"]],template:function(e,i){1&e&&(o.YNc(0,eDe,1,2,"app-korjaukset-text",0),o.YNc(1,tDe,5,0,"div",1),o.YNc(2,nDe,1,2,"app-korjaukset-item",2)),2&e&&(o.Q6J("ngForOf",i.tekstit.slice(2,3)),o.xp6(1),o.Q6J("ngIf",i.isAuthenticated),o.xp6(1),o.Q6J("ngForOf",i.korjaukset))},directives:[oi,zt,KTe,XTe],styles:[".textinput[_ngcontent-%COMP%]{float:left;width:100%;min-height:100px;outline:none;resize:none;border:1px solid grey}#EditText[_ngcontent-%COMP%], #uus[_ngcontent-%COMP%]{margin-bottom:10px}"]}),n})();function rDe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",1),o.TgZ(1,"button",2),o.NdJ("click",function(){return o.CHM(e),o.oxw().onCancel()}),o._uU(2,"Cancel"),o.qZA(),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o._UZ(5,"img",5),o.qZA(),o.qZA(),o.TgZ(6,"div",3),o.TgZ(7,"div",4),o.TgZ(8,"h1"),o._uU(9),o.qZA(),o.qZA(),o.qZA(),o._UZ(10,"hr"),o.TgZ(11,"div",3),o.TgZ(12,"div",4),o.TgZ(13,"a",6),o.NdJ("click",function(){return o.CHM(e),o.oxw().onEditPalvelu()}),o._uU(14,"Muokkaa "),o.qZA(),o.TgZ(15,"a",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().onDeletePalvelu()}),o._uU(16,"Poista Korjaus"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.xp6(5),o.s9C("alt",e.palvelu.teksti),o.Q6J("src",e.palvelu.imagePath,o.LSH),o.xp6(4),o.Oqu(e.palvelu.teksti)}}let sDe=(()=>{class n{constructor(e,i,r,s,c,d){this.galleryService=e,this.dataStorageService=i,this.tekstiStorageService=r,this.authService=s,this.route=c,this.router=d,this.isAuthenticated=!1}ngOnInit(){this.route.params.subscribe(e=>{this.id=+e.id,this.palvelu=this.galleryService.getPalvelu(this.id)}),this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}ngOnDestroy(){this.userSub.unsubscribe()}onEditPalvelu(){this.router.navigate(["edit"],{relativeTo:this.route})}onDeletePalvelu(){this.galleryService.deletePalvelu(this.id),this.router.navigate(["/palvelut"]),this.dataStorageService.storePalvelut()}onCancel(){this.router.navigate(["../"],{relativeTo:this.route})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(E2),o.Y36(F1),o.Y36(dr),o.Y36(Xn),o.Y36(Si),o.Y36(qt))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-muutpalvelut-detail"]],decls:1,vars:1,consts:[["id","border",4,"ngIf"],["id","border"],["type","button",1,"btn","btn-danger",3,"click"],[1,"row"],[1,"col-xs-12"],[1,"img-responsive",2,"max-height","300px",3,"src","alt"],["id","edit",2,"cursor","pointer",3,"click"],["id","delete",2,"cursor","pointer",3,"click"]],template:function(e,i){1&e&&o.YNc(0,rDe,17,3,"div",0),2&e&&o.Q6J("ngIf",i.isAuthenticated)},directives:[zt],styles:["#edit[_ngcontent-%COMP%]{color:#00f;font-size:25px}#delete[_ngcontent-%COMP%]{color:red;font-size:25px;margin-left:20px}#go[_ngcontent-%COMP%]{color:green;font-size:25px;margin-left:20px}#border[_ngcontent-%COMP%]{border:solid black 1px;position:absolute;top:0;left:0;margin-top:1200px;margin-left:25%;width:800px;background-color:#e9e9e9}button[_ngcontent-%COMP%]{float:right}img[_ngcontent-%COMP%]{height:200px}"]}),n})(),Eq=(()=>{class n{constructor(e,i,r,s,c,d){this.route=e,this.router=i,this.dataStorageService=r,this.tekstiStorageService=s,this.galleryService=c,this.fireStorage=d,this.editMode=!1,this.basePath="/images",this.downloadableURL=""}ngOnInit(){this.route.params.subscribe(e=>{this.id=+e.id,this.editMode=null!=e.id,this.initForm()})}onFileChanged(e){var i=this;return(0,_e.Z)(function*(){const r=e.target.files[0];r?(i.task=i.fireStorage.upload(`${i.basePath}/${r.name}`,r),i.progressValue=i.task.percentageChanges(),(yield i.task).ref.getDownloadURL().then(c=>{i.downloadableURL=c})):(alert("No images selected"),i.downloadableURL="")})()}onSubmit(){this.editMode?this.galleryService.updatePalvelu(this.id,this.palveluForm.value):this.galleryService.addPalvelu(this.palveluForm.value),this.onCancel(),this.dataStorageService.storePalvelut(),this.tekstiStorageService.storeTekstit()}onCancel(){this.router.navigate(["../"],{relativeTo:this.route})}initForm(){let e="",i="";if(this.editMode){const r=this.galleryService.getPalvelu(this.id);e=r.teksti,i=r.imagePath}this.palveluForm=new x2({teksti:new Jn(e),imagePath:new Jn(i)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Si),o.Y36(qt),o.Y36(F1),o.Y36(dr),o.Y36(E2),o.Y36(hh))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-muutpalvelut-edit"]],decls:29,vars:3,consts:[[1,"row"],[1,"col-xs-12"],[3,"formGroup","ngSubmit"],["type","button","id","cancel",1,"btn","btn-danger",3,"click"],["type","submit",1,"btn","btn-success"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","teksti",1,"form-control"],[2,"padding","20mm"],["type","file","name","file","accept",".jpeg,.jpg,.png,.svg",3,"input"],["for","imagePath"],["type","text","id","imagePath","formControlName","imagePath",1,"form-control"],["imagePath",""],[1,"img-responsive",3,"src"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"form",2),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(3,"div",0),o.TgZ(4,"div",1),o.TgZ(5,"button",3),o.NdJ("click",function(){return i.onCancel()}),o._uU(6,"Cancel"),o.qZA(),o.TgZ(7,"button",4),o._uU(8,"Save"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(9,"div",0),o.TgZ(10,"div",1),o.TgZ(11,"div",5),o.TgZ(12,"label",6),o._uU(13,"Teksti"),o.qZA(),o._UZ(14,"input",7),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"div",8),o.TgZ(16,"input",9),o.NdJ("input",function(s){return i.onFileChanged(s)}),o.qZA(),o._UZ(17,"br"),o._uU(18),o.qZA(),o.TgZ(19,"div",0),o.TgZ(20,"div",1),o.TgZ(21,"div",5),o.TgZ(22,"label",10),o._uU(23,"imagePath"),o.qZA(),o._UZ(24,"input",11,12),o.TgZ(26,"div",0),o.TgZ(27,"div",1),o._UZ(28,"img",13),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const r=o.MAs(25);o.xp6(2),o.Q6J("formGroup",i.palveluForm),o.xp6(16),o.hij(" ",i.downloadableURL," "),o.xp6(10),o.Q6J("src",r.value,o.LSH)}},directives:[Fr,w2,ho,G2,M2,po],styles:["form[_ngcontent-%COMP%]{border:solid black 1px;background-color:#ddd;position:absolute;top:0;left:0;margin-top:1200px;margin-left:25%;width:800px;z-index:2}button[_ngcontent-%COMP%]{margin-left:15px}button[_ngcontent-%COMP%]{float:right}#warning[_ngcontent-%COMP%]{height:7mm;width:50%}img[_ngcontent-%COMP%]{height:200px}"]}),n})();function oDe(n,t){1&n&&(o.TgZ(0,"button",1),o._uU(1," Muokkaa teksti\xe4"),o.qZA())}let aDe=(()=>{class n{constructor(e,i){this.router=e,this.authService=i,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}ngOnDestroy(){this.userSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qt),o.Y36(Xn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-muutpalvelut-text"]],inputs:{teksti:"teksti",index:"index"},decls:3,vars:2,consts:[["class","btn btn-info","id","editText","routerLink","/text/4",4,"ngIf"],["id","editText","routerLink","/text/4",1,"btn","btn-info"]],template:function(e,i){1&e&&(o.YNc(0,oDe,2,0,"button",0),o.TgZ(1,"h3"),o._uU(2),o.qZA()),2&e&&(o.Q6J("ngIf",i.isAuthenticated),o.xp6(2),o.Oqu(i.teksti.text))},directives:[zt,o1],styles:["h3[_ngcontent-%COMP%]{color:#000;font-size:17px}form[_ngcontent-%COMP%]{border:solid black 1px;background-color:#ddd;position:absolute;left:0;margin-left:25%;width:900px;z-index:2}button[_ngcontent-%COMP%]{float:right}.container[_ngcontent-%COMP%]{display:flex;align-items:center}.img-col[_ngcontent-%COMP%]{flex-basis:25%;margin-right:15px}#editText[_ngcontent-%COMP%]{color:#fff;background-color:#08a}button[_ngcontent-%COMP%]{float:left}"]}),n})();const lDe=function(n){return[n]};function cDe(n,t){if(1&n&&(o.TgZ(0,"button",6),o._uU(1,"muokkaa muitapalveluita"),o.qZA()),2&n){const e=o.oxw();o.Q6J("routerLink",o.VKq(1,lDe,e.index))}}let uDe=(()=>{class n{constructor(e){this.authService=e,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Xn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-muutpalvelut-item"]],inputs:{palvelu:"palvelu",index:"index"},decls:8,vars:3,consts:[["id","itemswrapper"],["class","btn btn-secondary","routerLinkActive","active",3,"routerLink",4,"ngIf"],[1,"container"],[1,"img-col"],[3,"src"],[1,"text","col"],["routerLinkActive","active",1,"btn","btn-secondary",3,"routerLink"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.YNc(1,cDe,2,3,"button",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o._UZ(4,"img",4),o.qZA(),o.TgZ(5,"div",5),o.TgZ(6,"h3"),o._uU(7),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngIf",i.isAuthenticated),o.xp6(3),o.Q6J("src",i.palvelu.imagePath,o.LSH),o.xp6(3),o.Oqu(i.palvelu.teksti))},directives:[zt,Ca,o1],styles:["h3[_ngcontent-%COMP%]{color:#000;font-size:17px}form[_ngcontent-%COMP%]{border:solid black 1px;background-color:#ddd;position:absolute;left:0;margin-left:25%;width:900px;z-index:2}.container[_ngcontent-%COMP%]{display:flex;align-items:center}.img-col[_ngcontent-%COMP%]{flex-basis:25%;margin-right:15px;margin-bottom:40px}#editText[_ngcontent-%COMP%]{font-size:20px;padding-bottom:20px;color:#00f}button[_ngcontent-%COMP%]{float:left;margin-bottom:10px}@media screen and (max-width: 780px){img[_ngcontent-%COMP%]{width:200px;height:250px!important}h3[_ngcontent-%COMP%]{font-size:15px}}img[_ngcontent-%COMP%]{height:400px}"]}),n})();function dDe(n,t){if(1&n&&o._UZ(0,"app-muutpalvelut-text",3),2&n){const i=t.index;o.Q6J("teksti",t.$implicit)("index",i)}}function fDe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",4),o.TgZ(1,"div",5),o.TgZ(2,"div",6),o.TgZ(3,"button",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().onNewPalvelu()}),o._uU(4,"Uusi palvelu"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}}function hDe(n,t){if(1&n&&o._UZ(0,"app-muutpalvelut-item",8),2&n){const i=t.index;o.Q6J("palvelu",t.$implicit)("index",i)}}let pDe=(()=>{class n{constructor(e,i,r,s,c){this.galleryService=e,this.authService=i,this.router=r,this.tekstiService=s,this.route=c,this.isAuthenticated=!1,this.editMode=!1}ngOnInit(){this.subscription=this.galleryService.palvelutChanged.subscribe(e=>{this.palvelut=e}),this.palvelut=this.galleryService.getPalvelut(),this.tekstit=this.tekstiService.getTekstit(),this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}onNewPalvelu(){this.router.navigate(["new"],{relativeTo:this.route})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(E2),o.Y36(Xn),o.Y36(qt),o.Y36(Ls),o.Y36(Si))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-muutpalvelut-list"]],inputs:{index:"index"},decls:3,vars:3,consts:[[3,"teksti","index",4,"ngFor","ngForOf"],["id","kontainer",4,"ngIf"],[3,"palvelu","index",4,"ngFor","ngForOf"],[3,"teksti","index"],["id","kontainer"],[1,"row"],[1,"col-xs-12"],["id","uus",1,"btn","btn-success",3,"click"],[3,"palvelu","index"]],template:function(e,i){1&e&&(o.YNc(0,dDe,1,2,"app-muutpalvelut-text",0),o.YNc(1,fDe,5,0,"div",1),o.YNc(2,hDe,1,2,"app-muutpalvelut-item",2)),2&e&&(o.Q6J("ngForOf",i.tekstit.slice(4,5)),o.xp6(1),o.Q6J("ngIf",i.isAuthenticated),o.xp6(1),o.Q6J("ngForOf",i.palvelut))},directives:[oi,zt,aDe,uDe],styles:[".textinput[_ngcontent-%COMP%]{float:left;width:100%;min-height:100px;outline:none;resize:none;border:1px solid grey}#EditText[_ngcontent-%COMP%], #uus[_ngcontent-%COMP%]{margin-bottom:10px}"]}),n})();function gDe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",1),o.TgZ(1,"button",2),o.NdJ("click",function(){return o.CHM(e),o.oxw().onCancel()}),o._uU(2,"Cancel"),o.qZA(),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o._UZ(5,"img",5),o.qZA(),o.qZA(),o.TgZ(6,"div",3),o.TgZ(7,"div",4),o.TgZ(8,"h1"),o._uU(9),o.qZA(),o.qZA(),o.qZA(),o._UZ(10,"hr"),o.TgZ(11,"div",3),o.TgZ(12,"div",4),o.TgZ(13,"a",6),o.NdJ("click",function(){return o.CHM(e),o.oxw().onEditRemontti()}),o._uU(14,"Muokkaa "),o.qZA(),o.TgZ(15,"a",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().onDeleteRemontti()}),o._uU(16,"Poista Korjaus"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.xp6(5),o.s9C("alt",e.remontti.teksti),o.Q6J("src",e.remontti.imagePath,o.LSH),o.xp6(4),o.Oqu(e.remontti.teksti)}}let CDe=(()=>{class n{constructor(e,i,r,s,c,d){this.galleryService=e,this.dataStorageService=i,this.tekstiStorageService=r,this.authService=s,this.route=c,this.router=d,this.isAuthenticated=!1}ngOnInit(){this.route.params.subscribe(e=>{this.id=+e.id,this.remontti=this.galleryService.getRemontti(this.id)}),this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}ngOnDestroy(){this.userSub.unsubscribe()}onEditRemontti(){this.router.navigate(["edit"],{relativeTo:this.route})}onDeleteRemontti(){this.galleryService.deleteRemontti(this.id),this.router.navigate(["/remontit"]),this.dataStorageService.storeRemontit()}onCancel(){this.router.navigate(["../"],{relativeTo:this.route})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(E2),o.Y36(F1),o.Y36(dr),o.Y36(Xn),o.Y36(Si),o.Y36(qt))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-remontit-detail"]],decls:1,vars:1,consts:[["id","border",4,"ngIf"],["id","border"],["type","button",1,"btn","btn-danger",3,"click"],[1,"row"],[1,"col-xs-12"],[1,"img-responsive",2,"max-height","300px",3,"src","alt"],["id","edit",2,"cursor","pointer",3,"click"],["id","delete",2,"cursor","pointer",3,"click"]],template:function(e,i){1&e&&o.YNc(0,gDe,17,3,"div",0),2&e&&o.Q6J("ngIf",i.isAuthenticated)},directives:[zt],styles:["#edit[_ngcontent-%COMP%]{color:#00f;font-size:25px}#delete[_ngcontent-%COMP%]{color:red;font-size:25px;margin-left:20px}#go[_ngcontent-%COMP%]{color:green;font-size:25px;margin-left:20px}#border[_ngcontent-%COMP%]{border:solid black 1px;position:absolute;top:0;left:0;margin-top:1000px;margin-left:25%;width:800px;z-index:100;background-color:#e9e9e9}button[_ngcontent-%COMP%]{float:right}img[_ngcontent-%COMP%]{height:200px}"]}),n})(),Lq=(()=>{class n{constructor(e,i,r,s,c,d){this.route=e,this.router=i,this.dataStorageService=r,this.tekstiStorageService=s,this.galleryService=c,this.fireStorage=d,this.editMode=!1,this.basePath="/images",this.downloadableURL=""}ngOnInit(){this.route.params.subscribe(e=>{this.id=+e.id,this.editMode=null!=e.id,this.initForm()})}onFileChanged(e){var i=this;return(0,_e.Z)(function*(){const r=e.target.files[0];r?(i.task=i.fireStorage.upload(`${i.basePath}/${r.name}`,r),i.progressValue=i.task.percentageChanges(),(yield i.task).ref.getDownloadURL().then(c=>{i.downloadableURL=c})):(alert("No images selected"),i.downloadableURL="")})()}onSubmit(){this.editMode?this.galleryService.updateRemontti(this.id,this.remonttiForm.value):this.galleryService.addRemontti(this.remonttiForm.value),this.onCancel(),this.dataStorageService.storeRemontit(),this.tekstiStorageService.storeTekstit()}onCancel(){this.router.navigate(["../"],{relativeTo:this.route})}initForm(){let e="",i="";if(this.editMode){const r=this.galleryService.getRemontti(this.id);e=r.teksti,i=r.imagePath}this.remonttiForm=new x2({teksti:new Jn(e),imagePath:new Jn(i)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Si),o.Y36(qt),o.Y36(F1),o.Y36(dr),o.Y36(E2),o.Y36(hh))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-remontit-edit"]],decls:28,vars:3,consts:[[1,"row"],[1,"col-xs-12"],[3,"formGroup","ngSubmit"],["type","button","id","cancel",1,"btn","btn-danger",3,"click"],["type","submit",1,"btn","btn-success"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","teksti",1,"form-control"],[2,"padding","20mm"],["type","file","name","file","accept",".jpeg,.jpg,.png,.svg",3,"input"],["for","imagePath"],["type","text","id","imagePath","formControlName","imagePath",1,"form-control"],["imagePath",""],[1,"img-responsive",3,"src"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"form",2),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(3,"div",0),o.TgZ(4,"div",1),o.TgZ(5,"button",3),o.NdJ("click",function(){return i.onCancel()}),o._uU(6,"Cancel"),o.qZA(),o.TgZ(7,"button",4),o._uU(8,"Save"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(9,"div",0),o.TgZ(10,"div",1),o.TgZ(11,"div",5),o.TgZ(12,"label",6),o._uU(13,"Teksti"),o.qZA(),o._UZ(14,"input",7),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"div",8),o.TgZ(16,"input",9),o.NdJ("input",function(s){return i.onFileChanged(s)}),o.qZA(),o._uU(17),o.qZA(),o.TgZ(18,"div",0),o.TgZ(19,"div",1),o.TgZ(20,"div",5),o.TgZ(21,"label",10),o._uU(22,"imagePath"),o.qZA(),o._UZ(23,"input",11,12),o.TgZ(25,"div",0),o.TgZ(26,"div",1),o._UZ(27,"img",13),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const r=o.MAs(24);o.xp6(2),o.Q6J("formGroup",i.remonttiForm),o.xp6(15),o.hij(" ",i.downloadableURL," "),o.xp6(10),o.Q6J("src",r.value,o.LSH)}},directives:[Fr,w2,ho,G2,M2,po],styles:["form[_ngcontent-%COMP%]{border:solid black 1px;background-color:#ddd;position:absolute;top:0;left:0;margin-top:1000px;margin-left:25%;width:800px;z-index:2}button[_ngcontent-%COMP%]{margin-left:15px}button[_ngcontent-%COMP%]{float:right}#warning[_ngcontent-%COMP%]{height:7mm;width:50%}img[_ngcontent-%COMP%]{height:200px}"]}),n})();function mDe(n,t){1&n&&(o.TgZ(0,"button",1),o._uU(1," Muokkaa teksti\xe4"),o.qZA())}let _De=(()=>{class n{constructor(e,i){this.router=e,this.authService=i,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}ngOnDestroy(){this.userSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qt),o.Y36(Xn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-remontit-text"]],inputs:{teksti:"teksti",index:"index"},decls:3,vars:2,consts:[["class","btn btn-info","id","editText","routerLink","/text/3",4,"ngIf"],["id","editText","routerLink","/text/3",1,"btn","btn-info"]],template:function(e,i){1&e&&(o.YNc(0,mDe,2,0,"button",0),o.TgZ(1,"h3"),o._uU(2),o.qZA()),2&e&&(o.Q6J("ngIf",i.isAuthenticated),o.xp6(2),o.Oqu(i.teksti.text))},directives:[zt,o1],styles:["h3[_ngcontent-%COMP%]{color:#000;font-size:17px}form[_ngcontent-%COMP%]{border:solid black 1px;background-color:#ddd;position:absolute;left:0;margin-left:25%;width:900px;z-index:2}button[_ngcontent-%COMP%]{float:right}.container[_ngcontent-%COMP%]{display:flex;align-items:center}.img-col[_ngcontent-%COMP%]{flex-basis:25%;margin-right:15px}#editText[_ngcontent-%COMP%]{color:#fff;background-color:#08a}button[_ngcontent-%COMP%]{float:left}"]}),n})();const vDe=function(n){return[n]};function yDe(n,t){if(1&n&&(o.TgZ(0,"button",6),o._uU(1,"muokkaa remonttia"),o.qZA()),2&n){const e=o.oxw();o.Q6J("routerLink",o.VKq(1,vDe,e.index))}}let bDe=(()=>{class n{constructor(e){this.authService=e,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Xn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-remontit-item"]],inputs:{remontti:"remontti",index:"index"},decls:8,vars:3,consts:[["id","itemswrapper"],[1,"container"],["class","btn btn-secondary","routerLinkActive","active",3,"routerLink",4,"ngIf"],[1,"img-col"],[3,"src"],[1,"text","col"],["routerLinkActive","active",1,"btn","btn-secondary",3,"routerLink"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.YNc(2,yDe,2,3,"button",2),o.TgZ(3,"div",3),o._UZ(4,"img",4),o.qZA(),o.TgZ(5,"div",5),o.TgZ(6,"h3"),o._uU(7),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngIf",i.isAuthenticated),o.xp6(2),o.Q6J("src",i.remontti.imagePath,o.LSH),o.xp6(3),o.Oqu(i.remontti.teksti))},directives:[zt,Ca,o1],styles:["h3[_ngcontent-%COMP%]{color:#000;font-size:17px}form[_ngcontent-%COMP%]{border:solid black 1px;background-color:#ddd;position:absolute;left:0;margin-left:25%;width:900px;z-index:2}.container[_ngcontent-%COMP%]{display:flex;align-items:center}.img-col[_ngcontent-%COMP%]{flex-basis:25%;margin-right:15px;margin-bottom:40px}#editText[_ngcontent-%COMP%]{font-size:20px;padding-bottom:20px;color:#00f}button[_ngcontent-%COMP%]{float:left;margin-bottom:10px}@media screen and (max-width: 780px){img[_ngcontent-%COMP%]{width:200px;height:250px!important}h3[_ngcontent-%COMP%]{font-size:15px}}img[_ngcontent-%COMP%]{height:400px}"]}),n})();function MDe(n,t){if(1&n&&o._UZ(0,"app-remontit-text",3),2&n){const i=t.index;o.Q6J("teksti",t.$implicit)("index",i)}}function wDe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",4),o.TgZ(1,"div",5),o.TgZ(2,"div",6),o.TgZ(3,"button",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().onNewRemontti()}),o._uU(4,"Uusi remontti"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}}function xDe(n,t){if(1&n&&o._UZ(0,"app-remontit-item",8),2&n){const i=t.index;o.Q6J("remontti",t.$implicit)("index",i)}}let SDe=(()=>{class n{constructor(e,i,r,s,c){this.galleryService=e,this.authService=i,this.router=r,this.tekstiService=s,this.route=c,this.isAuthenticated=!1,this.editMode=!1}ngOnInit(){this.subscription=this.galleryService.remontitChanged.subscribe(e=>{this.remontit=e}),this.remontit=this.galleryService.getRemontit(),this.tekstit=this.tekstiService.getTekstit(),this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}onNewRemontti(){this.router.navigate(["new"],{relativeTo:this.route})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(E2),o.Y36(Xn),o.Y36(qt),o.Y36(Ls),o.Y36(Si))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-remontit-list"]],inputs:{index:"index"},decls:3,vars:3,consts:[[3,"teksti","index",4,"ngFor","ngForOf"],["id","kontainer",4,"ngIf"],[3,"remontti","index",4,"ngFor","ngForOf"],[3,"teksti","index"],["id","kontainer"],[1,"row"],[1,"col-xs-12"],["id","uus",1,"btn","btn-success",3,"click"],[3,"remontti","index"]],template:function(e,i){1&e&&(o.YNc(0,MDe,1,2,"app-remontit-text",0),o.YNc(1,wDe,5,0,"div",1),o.YNc(2,xDe,1,2,"app-remontit-item",2)),2&e&&(o.Q6J("ngForOf",i.tekstit.slice(3,4)),o.xp6(1),o.Q6J("ngIf",i.isAuthenticated),o.xp6(1),o.Q6J("ngForOf",i.remontit))},directives:[oi,zt,_De,bDe],styles:["#uus[_ngcontent-%COMP%]{margin-bottom:10px}"]}),n})();function EDe(n,t){1&n&&(o.TgZ(0,"button",1),o._uU(1," Muokkaa teksti\xe4"),o.qZA())}let LDe=(()=>{class n{constructor(e,i){this.router=e,this.authService=i,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}ngOnDestroy(){this.userSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qt),o.Y36(Xn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-gallery-text-show"]],inputs:{teksti:"teksti",index:"index"},decls:3,vars:2,consts:[["class","btn btn-info","id","editText","routerLink","/text/0",4,"ngIf"],["id","editText","routerLink","/text/0",1,"btn","btn-info"]],template:function(e,i){1&e&&(o.YNc(0,EDe,2,0,"button",0),o.TgZ(1,"h3"),o._uU(2),o.qZA()),2&e&&(o.Q6J("ngIf",i.isAuthenticated),o.xp6(2),o.Oqu(i.teksti.text))},directives:[zt,o1],styles:["h3[_ngcontent-%COMP%]{color:#000;font-size:17px}#editText[_ngcontent-%COMP%]{color:#fff;background-color:#08a}"]}),n})();const TDe=function(n){return[n]};let DDe=(()=>{class n{constructor(e){this.dataStorageService=e}ngOnInit(){}onFetchData(){this.dataStorageService.fetchItems().subscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(F1))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-gallery-item"]],inputs:{item:"item",index:"index",teksti:"teksti"},decls:5,vars:6,consts:[["id","itemswrapper"],["routerLinkActive","active",2,"cursor","pointer",3,"routerLink"],[1,"img-responsive",2,"max-height","220px",3,"src","alt","click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"a",1),o.TgZ(2,"img",2),o.NdJ("click",function(){return i.onFetchData()}),o.qZA(),o.TgZ(3,"h4"),o._uU(4),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(1),o.Q6J("routerLink",o.VKq(4,TDe,i.index)),o.xp6(1),o.s9C("alt",i.item.name),o.Q6J("src",i.item.imagePath,o.LSH),o.xp6(2),o.Oqu(i.item.name))},directives:[nu,Ca],styles:["#itemswrapper[_ngcontent-%COMP%]{width:259px;display:inline-block;padding:30px;text-align:center}h4[_ngcontent-%COMP%]{font-size:19px;color:#000}a[_ngcontent-%COMP%]{color:#000;text-decoration:none}@media screen and (max-width: 767px){#itemswrapper[_ngcontent-%COMP%]{width:50%;height:50%}}"]}),n})();function ADe(n,t){if(1&n&&o._UZ(0,"app-gallery-text-show",3),2&n){const i=t.index;o.Q6J("teksti",t.$implicit)("index",i)}}function IDe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",4),o.TgZ(1,"div",5),o.TgZ(2,"div",6),o.TgZ(3,"button",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().onNewItem()}),o._uU(4,"Uusi tuote"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}}function NDe(n,t){if(1&n&&o._UZ(0,"app-gallery-item",8),2&n){const i=t.index;o.Q6J("item",t.$implicit)("index",i)}}const kDe=[{path:"",redirectTo:"",pathMatch:"full"},{path:"gallery",component:wH,children:[{path:"",component:(()=>{class n{constructor(e,i,r,s,c){this.galleryService=e,this.tekstiService=i,this.router=r,this.authService=s,this.route=c,this.isAuthenticated=!1,this.editMode=!1}ngOnInit(){this.subscription=this.galleryService.itemsChanged.subscribe(e=>{this.items=e}),this.subscription=this.tekstiService.tekstitChanged.subscribe(e=>{this.tekstit=e}),this.items=this.galleryService.getItems(),this.tekstit=this.tekstiService.getTekstit(),this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}onNewItem(){this.router.navigate(["new"],{relativeTo:this.route})}ngOnDestroy(){this.subscription.unsubscribe(),this.userSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(E2),o.Y36(Ls),o.Y36(qt),o.Y36(Xn),o.Y36(Si))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-gallery-list"]],inputs:{index:"index"},decls:3,vars:3,consts:[[3,"teksti","index",4,"ngFor","ngForOf"],["id","kontainer",4,"ngIf"],[3,"item","index",4,"ngFor","ngForOf"],[3,"teksti","index"],["id","kontainer"],[1,"row"],[1,"col-xs-12"],[1,"btn","btn-success",3,"click"],[3,"item","index"]],template:function(e,i){1&e&&(o.YNc(0,ADe,1,2,"app-gallery-text-show",0),o.YNc(1,IDe,5,0,"div",1),o.YNc(2,NDe,1,2,"app-gallery-item",2)),2&e&&(o.Q6J("ngForOf",i.tekstit.slice(0,1)),o.xp6(1),o.Q6J("ngIf",i.isAuthenticated),o.xp6(1),o.Q6J("ngForOf",i.items))},directives:[oi,zt,LDe,DDe],styles:[".textinput[_ngcontent-%COMP%]{float:left;width:100%;min-height:100px;outline:none;resize:none;border:1px solid grey}#EditText[_ngcontent-%COMP%]{margin-bottom:10px}"]}),n})()},{path:"new",component:wq,canActivate:[Hs]},{path:":id",component:qTe},{path:":id/edit",component:wq,canActivate:[Hs]}]},{path:"korjaukset",component:xH,children:[{path:"",component:iDe},{path:"new",component:Sq,canActivate:[Hs]},{path:":id",component:ZTe,canActivate:[Hs]},{path:":id/edit",component:Sq,canActivate:[Hs]}]},{path:"muutpalvelut",component:EH,children:[{path:"",component:pDe},{path:"new",component:Eq,canActivate:[Hs]},{path:":id",component:sDe,canActivate:[Hs]},{path:":id/edit",component:Eq,canActivate:[Hs]}]},{path:"remontit",component:SH,children:[{path:"",component:SDe},{path:"new",component:Lq,canActivate:[Hs]},{path:":id",component:CDe,canActivate:[Hs]},{path:":id/edit",component:Lq,canActivate:[Hs]}]},{path:"text",component:xq,canActivate:[Hs]},{path:"text/:id",component:xq,canActivate:[Hs]},{path:"auth",component:QG}];let Tq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[mf.forRoot(kDe)],mf]}),n})();O(1254);const Dq="@firebase/database";let PE="";function Iq(n){PE=n}class HDe{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,R.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,R.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class RDe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,R.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Nq=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new HDe(t)}}catch(t){}return new RDe},W5=Nq("localStorage"),zE=Nq("sessionStorage"),wu=new ya.Yd("@firebase/database"),kq=function(){let n=1;return function(){return n++}}(),Vq=function(n){const t=(0,R.dS)(n),e=new R.gQ;e.update(t);const i=e.digest();return R.US.encodeByteArray(i)},ph=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=ph.apply(null,i):t+="object"==typeof i?(0,R.Pz)(i):i,t+=" "}return t};let Z5=null,Hq=!0;const Rq=function(n,t){(0,R.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(wu.logLevel=ya.in.VERBOSE,Z5=wu.log.bind(wu),t&&zE.set("logging_enabled",!0)):"function"==typeof n?Z5=n:(Z5=null,zE.remove("logging_enabled"))},r2=function(...n){if(!0===Hq&&(Hq=!1,null===Z5&&!0===zE.get("logging_enabled")&&Rq(!0)),Z5){const t=ph.apply(null,n);Z5(t)}},gh=function(n){return function(...t){r2(n,...t)}},FE=function(...n){const t="FIREBASE INTERNAL ERROR: "+ph(...n);wu.error(t)},S3=function(...n){const t=`FIREBASE FATAL ERROR: ${ph(...n)}`;throw wu.error(t),new Error(t)},mr=function(...n){const t="FIREBASE WARNING: "+ph(...n);wu.warn(t)},w_=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},W4="[MIN_NAME]",E3="[MAX_NAME]",Y5=function(n,t){if(n===t)return 0;if(n===W4||t===E3)return-1;if(t===W4||n===E3)return 1;{const e=x_(n),i=x_(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},zDe=function(n,t){return n===t?0:n<t?-1:1},Ch=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,R.Pz)(t))},BE=function(n){if("object"!=typeof n||null===n)return(0,R.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,R.Pz)(t[i]),e+=":",e+=BE(n[t[i]]);return e+="}",e},Oq=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function s2(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Pq=function(n){(0,R.hu)(!w_(n),"Invalid JSON number");const i=1023;let r,s,c,d,h;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const _=[];for(h=52;h;h-=1)_.push(c%2?1:0),c=Math.floor(c/2);for(h=11;h;h-=1)_.push(s%2?1:0),s=Math.floor(s/2);_.push(r?1:0),_.reverse();const M=_.join("");let x="";for(h=0;h<64;h+=8){let D=parseInt(M.substr(h,8),2).toString(16);1===D.length&&(D="0"+D),x+=D}return x.toLowerCase()},GDe=new RegExp("^-?(0*)\\d{1,10}$"),zq=-2147483648,UE=2147483647,x_=function(n){if(GDe.test(n)){const t=Number(n);if(t>=zq&&t<=UE)return t}return null},xu=function(n){try{n()}catch(t){setTimeout(()=>{throw mr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},mh=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class qDe{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){mr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class $De{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(r2("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mr(t)}}let _h=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const jq=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$q="websocket",Wq="long_polling";class jE{constructor(t,e,i,r,s=!1,c="",d=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=W5.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&W5.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Zq(n,t,e){let i;if((0,R.hu)("string"==typeof t,"typeof type must == string"),(0,R.hu)("object"==typeof e,"typeof params must == object"),t===$q)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Wq)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return s2(e,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class YDe{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,R.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,R.p$)(this.counters_)}}const qE={},$E={};function WE(n){const t=n.toString();return qE[t]||(qE[t]=new YDe),qE[t]}class QDe{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&xu(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Su{constructor(t,e,i,r,s,c,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=gh(t),this.stats_=WE(e),this.urlFn=h=>(this.appCheckToken&&(h.ac=this.appCheckToken),Zq(e,Wq,h))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new QDe(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,R.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ZE((...s)=>{const[c,d,h,_,M]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=h;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&jq.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Su.forceAllow_=!0}static forceDisallow(){Su.forceDisallow_=!0}static isAvailable(){return!((0,R.Yr)()||!Su.forceAllow_&&(Su.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,R.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,R.h$)(e),r=Oq(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,R.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,R.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class ZE{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,R.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=kq(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=ZE.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){r2("frame writing exception"),d.stack&&r2(d.stack),r2(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||r2("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,R.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{r2("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let vh=null;"undefined"!=typeof MozWebSocket?vh=MozWebSocket:"undefined"!=typeof WebSocket&&(vh=WebSocket);let yh=(()=>{class n{constructor(e,i,r,s,c,d,h){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=gh(this.connId),this.stats_=WE(i),this.connURL=n.connectionURL_(i,d,h,s),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s){const c={v:"5"};return!(0,R.Yr)()&&"undefined"!=typeof location&&location.hostname&&jq.test(location.hostname)&&(c.r="f"),i&&(c.s=i),r&&(c.ls=r),s&&(c.ac=s),Zq(e,$q,c)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,W5.set("previous_websocket_failure",!0);try{if((0,R.Yr)()){const s={headers:{"User-Agent":`Firebase/5/${PE}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(s.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(s.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(s.proxy={origin:d}),this.mySock=new vh(this.connURL,[],s)}else this.mySock=new vh(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==vh&&!n.forceDisallow_}static previouslyFailed(){return W5.isInMemoryStorage||!0===W5.get("previous_websocket_failure")}markConnectionHealthy(){W5.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,R.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,R.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,R.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Oq(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class YE{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Su,yh]}initTransports_(t){const e=yh&&yh.isAvailable();let i=e&&!yh.previouslyFailed();if(t.webSocketOnly&&(e||mr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[yh];else{const r=this.transports_=[];for(const s of YE.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class a${constructor(t,e,i,r,s,c,d,h,_,M){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=h,this.onKill_=_,this.lastSessionId=M,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=gh("c:"+this.id+":"),this.transportManager_=new YE(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=mh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Ch("t",t),i=Ch("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Ch("t",t),i=Ch("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Ch("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?FE("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):FE("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&mr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),mh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):mh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(W5.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class l${put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class c${constructor(t){this.allowedEvents_=t,this.listeners_={},(0,R.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,R.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class E_ extends c${constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,R.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new E_}getInitialEvent(t){return(0,R.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Fn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function In(){return new Fn("")}function sn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ac(n){return n.pieces_.length-n.pieceNum_}function di(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Fn(n.pieces_,t)}function QE(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function bh(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function f$(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Fn(t,0)}function Hi(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Fn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Fn(e,0)}function on(n){return n.pieceNum_>=n.pieces_.length}function _r(n,t){const e=sn(n),i=sn(t);if(null===e)return t;if(e===i)return _r(di(n),di(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function vAe(n,t){const e=bh(n,0),i=bh(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=Y5(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function JE(n,t){if(Ac(n)!==Ac(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Eo(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Ac(n)>Ac(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class yAe{constructor(t,e){this.errorPrefix_=e,this.parts_=bh(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,R.ug)(this.parts_[i]);h$(this)}}function h$(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+K5(n))}function K5(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class XE extends c${constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new XE}getInitialEvent(t){return(0,R.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Mh=1e3;let T_,Q5=(()=>{class n extends l${constructor(e,i,r,s,c,d,h,_){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=h,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=gh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Mh,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,R.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");XE.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&E_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,c={r:s,a:e,b:i};this.log_((0,R.Pz)(c)),(0,R.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new R.BH,r={p:e._path.toString(),q:e._queryObject},s={action:"g",request:r,onComplete:d=>{const h=d.d;"ok"===d.s?(this.onDataUpdate_(r.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const d=this.outstandingGets_[c];void 0===d||s!==d||(delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(c),i.promise}listen(e,i,r,s){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,R.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,R.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const h={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(d).set(c,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,h=>{const _=h.d,M=h.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",h),"ok"!==M&&this.removeListen_(r,s),e.onComplete&&e.onComplete(M,_))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,R.r3)(e,"w")){const r=(0,R.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();mr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,R.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,R.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,d=s.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,R.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const c={p:e};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,R.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):FE("Unrecognized action received from server: "+(0,R.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,R.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Mh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Mh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Mh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,_e.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let h=!1,_=null;const M=function(){_?_.close():(h=!0,s())};e.realtime_={close:M,sendRequest:function(N){(0,R.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(N)}};const D=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[N,H]=yield Promise.all([e.authTokenProvider_.getToken(D),e.appCheckTokenProvider_.getToken(D)]);h?r2("getToken() completed but was canceled"):(r2("getToken() completed. Creating connection."),e.authToken_=N&&N.accessToken,e.appCheckToken_=H&&H.token,_=new a$(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,U=>{mr(U+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(N){e.log_("Failed to get token: "+N),h||(e.repoInfo_.nodeAdmin&&mr(N),M())}}})()}interrupt(e){r2("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){r2("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,R.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Mh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>BE(c)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new Fn(e).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){r2("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){r2("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,R.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+PE.replace(/\./g,"-")]=1,(0,R.uI)()?e["framework.cordova"]=1:(0,R.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=E_.getInstance().currentlyOnline();return(0,R.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class un{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new un(t,e)}}class L_{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new un(W4,t),r=new un(W4,e);return 0!==this.compare(i,r)}minPost(){return un.MIN}}class C$ extends L_{static get __EMPTY_NODE(){return T_}static set __EMPTY_NODE(t){T_=t}compare(t,e){return Y5(t.name,e.name)}isDefinedOn(t){throw(0,R.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return un.MIN}maxPost(){return new un(E3,T_)}makePost(t,e){return(0,R.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new un(t,T_)}toString(){return".key"}}const L3=new C$;class D_{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(t=t,c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let tL,Ma=(()=>{class n{constructor(e,i,r,s,c){this.key=e,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=s?s:Wr.EMPTY_NODE,this.right=null!=c?c:Wr.EMPTY_NODE}copy(e,i,r,s,c){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=c?c:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const c=r(e,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Wr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Wr.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Wr{constructor(t,e=Wr.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Wr(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Ma.BLACK,null,null))}remove(t){return new Wr(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ma.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new D_(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new D_(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new D_(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new D_(this.root_,null,this.comparator_,!0,t)}}function DAe(n,t){return Y5(n.name,t.name)}function eL(n,t){return Y5(n,t)}Wr.EMPTY_NODE=new class{copy(t,e,i,r,s){return this}insert(t,e,i){return new Ma(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const m$=function(n){return"number"==typeof n?"number:"+Pq(n):"string:"+n},_$=function(n){if(n.isLeafNode()){const t=n.val();(0,R.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,R.r3)(t,".sv"),"Priority must be a string or number.")}else(0,R.hu)(n===tL||n.isEmpty(),"priority of unexpected type.");(0,R.hu)(n===tL||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let v$,y$,b$,Eu=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,R.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),_$(this.priorityNode_)}static set __childrenNodeConstructor(e){v$=e}static get __childrenNodeConstructor(){return v$}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return on(e)?this:".priority"===sn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=sn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,R.hu)(".priority"!==r||1===Ac(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(di(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+m$(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Pq(this.value_):this.value_,this.lazyHash_=Vq(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,R.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,R.hu)(s>=0,"Unknown leaf type: "+i),(0,R.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const _i=new class extends L_{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?Y5(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return un.MIN}maxPost(){return new un(E3,new Eu("[PRIORITY-POST]",b$))}makePost(t,e){const i=y$(t);return new un(e,new Eu("[PRIORITY-POST]",i))}toString(){return".priority"}},VAe=Math.log(2);class HAe{constructor(t){this.count=parseInt(Math.log(t+1)/VAe,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const A_=function(n,t,e,i){n.sort(t);const r=function(h,_){const M=_-h;let x,D;if(0===M)return null;if(1===M)return x=n[h],D=e?e(x):x,new Ma(D,x.node,Ma.BLACK,null,null);{const N=parseInt(M/2,10)+h,H=r(h,N),U=r(N+1,_);return x=n[N],D=e?e(x):x,new Ma(D,x.node,Ma.BLACK,H,U)}},d=function(h){let _=null,M=null,x=n.length;const D=function(H,U){const Y=x-H,ae=x;x-=H;const ce=r(Y+1,ae),ke=n[Y],Te=e?e(ke):ke;N(new Ma(Te,ke.node,U,null,ce))},N=function(H){_?(_.left=H,_=H):(M=H,_=H)};for(let H=0;H<h.count;++H){const U=h.nextBitIsOne(),Y=Math.pow(2,h.count-(H+1));U?D(Y,Ma.BLACK):(D(Y,Ma.BLACK),D(Y,Ma.RED))}return M}(new HAe(n.length));return new Wr(i||t,d)};let nL;const Lu={};class Z4{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,R.hu)(Lu&&_i,"ChildrenNode.ts has not been loaded"),nL=nL||new Z4({".priority":Lu},{".priority":_i}),nL}get(t){const e=(0,R.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Wr?e:null}hasIndex(t){return(0,R.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,R.hu)(t!==L3,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(un.Wrap);let d,c=s.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=s.getNext();d=r?A_(i,t.getCompare()):Lu;const h=t.toString(),_=Object.assign({},this.indexSet_);_[h]=t;const M=Object.assign({},this.indexes_);return M[h]=d,new Z4(M,_)}addToIndexes(t,e){const i=(0,R.UI)(this.indexes_,(r,s)=>{const c=(0,R.DV)(this.indexSet_,s);if((0,R.hu)(c,"Missing index implementation for "+s),r===Lu){if(c.isDefinedOn(t.node)){const d=[],h=e.getIterator(un.Wrap);let _=h.getNext();for(;_;)_.name!==t.name&&d.push(_),_=h.getNext();return d.push(t),A_(d,c.getCompare())}return Lu}{const d=e.get(t.name);let h=r;return d&&(h=h.remove(new un(t.name,d))),h.insert(t,t.node)}});return new Z4(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,R.UI)(this.indexes_,r=>{if(r===Lu)return r;{const s=e.get(t.name);return s?r.remove(new un(t.name,s)):r}});return new Z4(i,this.indexSet_)}}let wh,en=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&_$(this.priorityNode_),this.children_.isEmpty()&&(0,R.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return wh||(wh=new n(new Wr(eL),null,Z4.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wh}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?wh:i}}getChild(e){const i=sn(e);return null===i?this:this.getImmediateChild(i).getChild(di(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,R.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new un(e,i);let s,c;i.isEmpty()?(s=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?wh:this.priorityNode_;return new n(s,d,c)}}updateChild(e,i){const r=sn(e);if(null===r)return i;{(0,R.hu)(".priority"!==sn(e)||1===Ac(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(di(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(_i,(d,h)=>{i[d]=h.val(e),r++,c&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):c=!1}),!e&&c&&s<2*r){const d=[];for(const h in i)d[h]=i[h];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+m$(this.getPriority().val())+":"),this.forEachChild(_i,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":Vq(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new un(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new un(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new un(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,un.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,un.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)>0;)s.getNext(),c=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===xh?-1:0}withIndex(e){if(e===L3||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===L3||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(_i),s=i.getIterator(_i);let c=r.getNext(),d=s.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=s.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(e){return e===L3?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const xh=new class extends en{constructor(){super(new Wr(eL),en.EMPTY_NODE,Z4.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return en.EMPTY_NODE}isEmpty(){return!1}};function Wi(n,t=null){if(null===n)return en.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,R.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Eu(n,Wi(t));if(n instanceof Array){let e=en.EMPTY_NODE;return s2(n,(i,r)=>{if((0,R.r3)(n,i)&&"."!==i.substring(0,1)){const s=Wi(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(Wi(t))}{const e=[];let i=!1;if(s2(n,(c,d)=>{if("."!==c.substring(0,1)){const h=Wi(d);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),e.push(new un(c,h)))}}),0===e.length)return en.EMPTY_NODE;const s=A_(e,DAe,c=>c.name,eL);if(i){const c=A_(e,_i.getCompare());return new en(s,Wi(t),new Z4({".priority":c},{".priority":_i}))}return new en(s,Wi(t),Z4.Default)}}Object.defineProperties(un,{MIN:{value:new un(W4,en.EMPTY_NODE)},MAX:{value:new un(E3,xh)}}),C$.__EMPTY_NODE=en.EMPTY_NODE,Eu.__childrenNodeConstructor=en,function(n){tL=n}(xh),function(n){b$=n}(xh),function(n){y$=n}(Wi);class iL extends L_{constructor(t){super(),this.indexPath_=t,(0,R.hu)(!on(t)&&".priority"!==sn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?Y5(t.name,e.name):s}makePost(t,e){const i=Wi(t),r=en.EMPTY_NODE.updateChild(this.indexPath_,i);return new un(e,r)}maxPost(){const t=en.EMPTY_NODE.updateChild(this.indexPath_,xh);return new un(E3,t)}toString(){return bh(this.indexPath_,0).join("/")}}const rL=new class extends L_{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Y5(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return un.MIN}maxPost(){return un.MAX}makePost(t,e){const i=Wi(t);return new un(e,i)}toString(){return".value"}},Tu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",zAe=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=Tu.charAt(e%64),e=Math.floor(e/64);(0,R.hu)(0===e,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=Tu.charAt(t[r]);return(0,R.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),x$=function(n){if(n===""+UE)return"-";const t=x_(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let c=0;c<e.length;c++)e[c]=n.charAt(c);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return E3;const s=Tu.charAt(Tu.indexOf(e[i])+1);return e[i]=s,e.slice(0,i+1).join("")},S$=function(n){if(n===""+zq)return W4;const t=x_(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+UE:(delete e[e.length-1],e.join("")):(e[e.length-1]=Tu.charAt(Tu.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function E$(n){return{type:"value",snapshotNode:n}}function Du(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Sh(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Eh(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class oL{constructor(t){this.index_=t}updateChild(t,e,i,r,s,c){(0,R.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(Sh(e,d)):(0,R.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(Du(e,i)):c.trackChildChange(Eh(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(_i,(r,s)=>{e.hasChild(r)||i.trackChildChange(Sh(r,s))}),e.isLeafNode()||e.forEachChild(_i,(r,s)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(s)||i.trackChildChange(Eh(r,s,c))}else i.trackChildChange(Du(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?en.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Lh{constructor(t){this.indexedFilter_=new oL(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Lh.getStartPost_(t),this.endPost_=Lh.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,s,c){return this.matches(new un(e,i))||(i=en.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=en.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(en.EMPTY_NODE);const s=this;return e.forEachChild(_i,(c,d)=>{s.matches(new un(c,d))||(r=r.updateImmediateChild(c,en.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class BAe{constructor(t){this.rangedFilter_=new Lh(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,s,c){return this.rangedFilter_.matches(new un(e,i))||(i=en.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,c):this.fullLimitUpdateChild_(t,e,i,s,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=en.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=en.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const d=s.getNext();let h;if(h=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!h)break;r=r.updateImmediateChild(d.name,d.node),c++}}else{let s,c,d,h;if(r=e.withIndex(this.index_),r=r.updatePriority(en.EMPTY_NODE),this.reverse_){h=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const x=this.index_.getCompare();d=(D,N)=>x(N,D)}else h=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let _=0,M=!1;for(;h.hasNext();){const x=h.getNext();!M&&d(s,x)<=0&&(M=!0),M&&_<this.limit_&&d(x,c)<=0?_++:r=r.updateImmediateChild(x.name,en.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let c;if(this.reverse_){const x=this.index_.getCompare();c=(D,N)=>x(N,D)}else c=this.index_.getCompare();const d=t;(0,R.hu)(d.numChildren()===this.limit_,"");const h=new un(e,i),_=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),M=this.rangedFilter_.matches(h);if(d.hasChild(e)){const x=d.getImmediateChild(e);let D=r.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=D&&(D.name===e||d.hasChild(D.name));)D=r.getChildAfterChild(this.index_,D,this.reverse_);const N=null==D?1:c(D,h);if(M&&!i.isEmpty()&&N>=0)return null!=s&&s.trackChildChange(Eh(e,i,x)),d.updateImmediateChild(e,i);{null!=s&&s.trackChildChange(Sh(e,x));const U=d.updateImmediateChild(e,en.EMPTY_NODE);return null!=D&&this.rangedFilter_.matches(D)?(null!=s&&s.trackChildChange(Du(D.name,D.node)),U.updateImmediateChild(D.name,D.node)):U}}return i.isEmpty()?t:M&&c(_,h)>=0?(null!=s&&(s.trackChildChange(Sh(_.name,_.node)),s.trackChildChange(Du(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(_.name,en.EMPTY_NODE)):t}}class I_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=_i}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,R.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,R.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:W4}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,R.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,R.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:E3}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,R.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===_i}copy(){const t=new I_;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function aL(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function lL(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function N_(n,t){const e=n.copy();return e.index_=t,e}function L$(n){const t={};if(n.isDefault())return t;let e;return n.index_===_i?e="$priority":n.index_===rL?e="$value":n.index_===L3?e="$key":((0,R.hu)(n.index_ instanceof iL,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,R.Pz)(e),n.startSet_&&(t.startAt=(0,R.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,R.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,R.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,R.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function T$(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==_i&&(t.i=n.index_.toString()),t}class k_ extends l${constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=gh("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,R.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const c=k_.getListenId_(t,i),d={};this.listens_[c]=d;const h=L$(t._queryParams);this.restRequest_(s+".json",h,(_,M)=>{let x=M;if(404===_&&(x=null,_=null),null===_&&this.onDataUpdate_(s,x,!1,i),(0,R.DV)(this.listens_,c)===d){let D;D=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(D,null)}})}unlisten(t,e){const i=k_.getListenId_(t,e);delete this.listens_[i]}get(t){const e=L$(t._queryParams),i=t._path.toString(),r=new R.BH;return this.restRequest_(i+".json",e,(s,c)=>{let d=c;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,R.xO)(e);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let h=null;if(d.status>=200&&d.status<300){try{h=(0,R.cI)(d.responseText)}catch(_){mr("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,h)}else 401!==d.status&&404!==d.status&&mr("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class WAe{constructor(){this.rootNode_=en.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function V_(){return{value:null,children:new Map}}function Au(n,t,e){if(on(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=sn(t);n.children.has(i)||n.children.set(i,V_()),Au(n.children.get(i),t=di(t),e)}}function cL(n,t){if(on(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(_i,(i,r)=>{Au(n,new Fn(i),r)}),cL(n,t)}}if(n.children.size>0){const e=sn(t);return t=di(t),n.children.has(e)&&cL(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function uL(n,t,e){null!==n.value?e(t,n.value):function(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{uL(r,new Fn(t.toString()+"/"+i),e)})}class YAe{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&s2(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class JAe{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new YAe(t);const i=1e4+2e4*Math.random();mh(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;s2(t,(r,s)=>{s>0&&(0,R.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),mh(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Lo=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Lo||(Lo={})),Lo))();function hL(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class H_{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Lo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(on(this.path)){if(null!=this.affectedTree.value)return(0,R.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Fn(t));return new H_(In(),e,this.revert)}}return(0,R.hu)(sn(this.path)===t,"operationForChild called for unrelated child."),new H_(di(this.path),this.affectedTree,this.revert)}}class Th{constructor(t,e){this.source=t,this.path=e,this.type=Lo.LISTEN_COMPLETE}operationForChild(t){return on(this.path)?new Th(this.source,In()):new Th(this.source,di(this.path))}}class J5{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Lo.OVERWRITE}operationForChild(t){return on(this.path)?new J5(this.source,In(),this.snap.getImmediateChild(t)):new J5(this.source,di(this.path),this.snap)}}class Iu{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Lo.MERGE}operationForChild(t){if(on(this.path)){const e=this.children.subtree(new Fn(t));return e.isEmpty()?null:e.value?new J5(this.source,In(),e.value):new Iu(this.source,In(),e)}return(0,R.hu)(sn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Iu(this.source,di(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ic{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(on(t))return this.isFullyInitialized()&&!this.filtered_;const e=sn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class XAe{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Dh(n,t,e,i,r,s){const c=i.filter(d=>d.type===e);c.sort((d,h)=>function(n,t,e){if(null==t.childName||null==e.childName)throw(0,R.g5)("Should only compare child_ events.");const i=new un(t.childName,t.snapshotNode),r=new un(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,d,h)),c.forEach(d=>{const h=function(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,s);r.forEach(_=>{_.respondsTo(d.type)&&t.push(_.createEvent(h,n.query_))})})}function R_(n,t){return{eventCache:n,serverCache:t}}function Ah(n,t,e,i){return R_(new Ic(t,e,i),n.serverCache)}function A$(n,t,e,i){return R_(n.eventCache,new Ic(t,e,i))}function O_(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function X5(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let pL;class vi{constructor(t,e=(()=>(pL||(pL=new Wr(zDe)),pL))()){this.value=t,this.children=e}static fromObject(t){let e=new vi(null);return s2(t,(i,r)=>{e=e.set(new Fn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:In(),value:this.value};if(on(t))return null;{const i=sn(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(di(t),e);return null!=s?{path:Hi(new Fn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(on(t))return this;{const e=sn(t),i=this.children.get(e);return null!==i?i.subtree(di(t)):new vi(null)}}set(t,e){if(on(t))return new vi(e,this.children);{const i=sn(t),s=(this.children.get(i)||new vi(null)).set(di(t),e),c=this.children.insert(i,s);return new vi(this.value,c)}}remove(t){if(on(t))return this.children.isEmpty()?new vi(null):new vi(null,this.children);{const e=sn(t),i=this.children.get(e);if(i){const r=i.remove(di(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new vi(null):new vi(this.value,s)}return this}}get(t){if(on(t))return this.value;{const e=sn(t),i=this.children.get(e);return i?i.get(di(t)):null}}setTree(t,e){if(on(t))return e;{const i=sn(t),s=(this.children.get(i)||new vi(null)).setTree(di(t),e);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new vi(this.value,c)}}fold(t){return this.fold_(In(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Hi(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,In(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(on(t))return null;{const s=sn(t),c=this.children.get(s);return c?c.findOnPath_(di(t),Hi(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,In(),e)}foreachOnPath_(t,e,i){if(on(t))return this;{this.value&&i(e,this.value);const r=sn(t),s=this.children.get(r);return s?s.foreachOnPath_(di(t),Hi(e,r),i):new vi(null)}}foreach(t){this.foreach_(In(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Hi(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class wa{constructor(t){this.writeTree_=t}static empty(){return new wa(new vi(null))}}function Ih(n,t,e){if(on(t))return new wa(new vi(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const c=_r(r,t);return s=s.updateChild(c,e),new wa(n.writeTree_.set(r,s))}{const r=new vi(e),s=n.writeTree_.setTree(t,r);return new wa(s)}}}function gL(n,t,e){let i=n;return s2(e,(r,s)=>{i=Ih(i,Hi(t,r),s)}),i}function I$(n,t){if(on(t))return wa.empty();{const e=n.writeTree_.setTree(t,new vi(null));return new wa(e)}}function CL(n,t){return null!=e0(n,t)}function e0(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(_r(e.path,t)):null}function N$(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(_i,(i,r)=>{t.push(new un(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new un(i,r.value))}),t}function Nc(n,t){if(on(t))return n;{const e=e0(n,t);return new wa(null!=e?new vi(e):n.writeTree_.subtree(t))}}function mL(n){return n.writeTree_.isEmpty()}function Nu(n,t){return k$(In(),n.writeTree_,t)}function k$(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,R.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=k$(Hi(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Hi(n,".priority"),i)),e}}function P_(n,t){return P$(t,n)}function lIe(n,t){if(n.snap)return Eo(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Eo(Hi(n.path,e),t))return!0;return!1}function uIe(n){return n.visible}function V$(n,t,e){let i=wa.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const c=s.path;let d;if(s.snap)Eo(e,c)?(d=_r(e,c),i=Ih(i,d,s.snap)):Eo(c,e)&&(d=_r(c,e),i=Ih(i,In(),s.snap.getChild(d)));else{if(!s.children)throw(0,R.g5)("WriteRecord should have .snap or .children");if(Eo(e,c))d=_r(e,c),i=gL(i,d,s.children);else if(Eo(c,e))if(d=_r(c,e),on(d))i=gL(i,In(),s.children);else{const h=(0,R.DV)(s.children,sn(d));if(h){const _=h.getChild(di(d));i=Ih(i,In(),_)}}}}}return i}function H$(n,t,e,i,r){if(i||r){const s=Nc(n.visibleWrites,t);return!r&&mL(s)?e:r||null!=e||CL(s,In())?Nu(V$(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(Eo(_.path,t)||Eo(t,_.path))},t),e||en.EMPTY_NODE):null}{const s=e0(n.visibleWrites,t);if(null!=s)return s;{const c=Nc(n.visibleWrites,t);return mL(c)?e:null!=e||CL(c,In())?Nu(c,e||en.EMPTY_NODE):null}}}function z_(n,t,e,i){return H$(n.writeTree,n.treePath,t,e,i)}function _L(n,t){return function(n,t,e){let i=en.EMPTY_NODE;const r=e0(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(_i,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(e){const s=Nc(n.visibleWrites,t);return e.forEachChild(_i,(c,d)=>{const h=Nu(Nc(s,new Fn(c)),d);i=i.updateImmediateChild(c,h)}),N$(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return N$(Nc(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function R$(n,t,e,i){return function(n,t,e,i,r){(0,R.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Hi(t,e);if(CL(n.visibleWrites,s))return null;{const c=Nc(n.visibleWrites,s);return mL(c)?r.getChild(e):Nu(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function F_(n,t){return function(n,t){return e0(n.visibleWrites,t)}(n.writeTree,Hi(n.treePath,t))}function vL(n,t,e){return function(n,t,e,i){const r=Hi(t,e),s=e0(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?Nu(Nc(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function O$(n,t){return P$(Hi(n.treePath,t),n.writeTree)}function P$(n,t){return{treePath:n,writeTree:t}}class _Ie{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,R.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,R.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,Eh(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,Sh(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,Du(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,R.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,Eh(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const z$=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class yL{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Ic(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vL(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:X5(this.viewCache_),s=function(n,t,e,i,r,s){return function(n,t,e,i,r,s,c){let d;const h=Nc(n.visibleWrites,t),_=e0(h,In());if(null!=_)d=_;else{if(null==e)return[];d=Nu(h,e)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const M=[],x=c.getCompare(),D=s?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let N=D.getNext();for(;N&&M.length<r;)0!==x(N,i)&&M.push(N),N=D.getNext();return M}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function F$(n,t,e,i,r,s){const c=t.eventCache;if(null!=F_(i,e))return t;{let d,h;if(on(e))if((0,R.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=X5(t),x=_L(i,_ instanceof en?_:en.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),x,s)}else{const _=z_(i,X5(t));d=n.filter.updateFullNode(t.eventCache.getNode(),_,s)}else{const _=sn(e);if(".priority"===_){(0,R.hu)(1===Ac(e),"Can't have a priority with additional path components");const M=c.getNode();h=t.serverCache.getNode();const x=R$(i,e,M,h);d=null!=x?n.filter.updatePriority(M,x):c.getNode()}else{const M=di(e);let x;if(c.isCompleteForChild(_)){h=t.serverCache.getNode();const D=R$(i,e,c.getNode(),h);x=null!=D?c.getNode().getImmediateChild(_).updateChild(M,D):c.getNode().getImmediateChild(_)}else x=vL(i,_,t.serverCache);d=null!=x?n.filter.updateChild(c.getNode(),_,x,M,r,s):c.getNode()}}return Ah(t,d,c.isFullyInitialized()||on(e),n.filter.filtersNodes())}}function B_(n,t,e,i,r,s,c,d){const h=t.serverCache;let _;const M=c?n.filter:n.filter.getIndexedFilter();if(on(e))_=M.updateFullNode(h.getNode(),i,null);else if(M.filtersNodes()&&!h.isFiltered()){const N=h.getNode().updateChild(e,i);_=M.updateFullNode(h.getNode(),N,null)}else{const N=sn(e);if(!h.isCompleteForPath(e)&&Ac(e)>1)return t;const H=di(e),Y=h.getNode().getImmediateChild(N).updateChild(H,i);_=".priority"===N?M.updatePriority(h.getNode(),Y):M.updateChild(h.getNode(),N,Y,H,z$,null)}const x=A$(t,_,h.isFullyInitialized()||on(e),M.filtersNodes());return F$(n,x,e,r,new yL(r,x,s),d)}function bL(n,t,e,i,r,s,c){const d=t.eventCache;let h,_;const M=new yL(r,t,s);if(on(e))_=n.filter.updateFullNode(t.eventCache.getNode(),i,c),h=Ah(t,_,!0,n.filter.filtersNodes());else{const x=sn(e);if(".priority"===x)_=n.filter.updatePriority(t.eventCache.getNode(),i),h=Ah(t,_,d.isFullyInitialized(),d.isFiltered());else{const D=di(e),N=d.getNode().getImmediateChild(x);let H;if(on(D))H=i;else{const U=M.getCompleteChild(x);H=null!=U?".priority"===QE(D)&&U.getChild(f$(D)).isEmpty()?U:U.updateChild(D,i):en.EMPTY_NODE}h=N.equals(H)?t:Ah(t,n.filter.updateChild(d.getNode(),x,H,D,M,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return h}function B$(n,t){return n.eventCache.isCompleteForChild(t)}function U$(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function ML(n,t,e,i,r,s,c,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let _,h=t;_=on(e)?i:new vi(null).setTree(e,i);const M=t.serverCache.getNode();return _.children.inorderTraversal((x,D)=>{if(M.hasChild(x)){const H=U$(0,t.serverCache.getNode().getImmediateChild(x),D);h=B_(n,h,new Fn(x),H,r,s,c,d)}}),_.children.inorderTraversal((x,D)=>{const N=!t.serverCache.isCompleteForChild(x)&&void 0===D.value;if(!M.hasChild(x)&&!N){const U=U$(0,t.serverCache.getNode().getImmediateChild(x),D);h=B_(n,h,new Fn(x),U,r,s,c,d)}}),h}class TIe{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new oL(i.getIndex()),s=function(n){return n.loadsAllData()?new oL(n.getIndex()):n.hasLimit()?new BAe(n):new Lh(n)}(i);this.processor_=function(n){return{filter:n}}(s);const c=e.serverCache,d=e.eventCache,h=r.updateFullNode(en.EMPTY_NODE,c.getNode(),null),_=s.updateFullNode(en.EMPTY_NODE,d.getNode(),null),M=new Ic(h,c.isFullyInitialized(),r.filtersNodes()),x=new Ic(_,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=R_(x,M),this.eventGenerator_=new XAe(this.query_)}get query(){return this.query_}}function IIe(n,t){const e=X5(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!on(t)&&!e.getImmediateChild(sn(t)).isEmpty())?e.getChild(t):null}function G$(n){return 0===n.eventRegistrations_.length}function j$(n,t,e){const i=[];if(e){(0,R.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function q$(n,t,e,i){t.type===Lo.MERGE&&null!==t.source.queryId&&((0,R.hu)(X5(n.viewCache_),"We should always have a full cache before handling merges"),(0,R.hu)(O_(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function(n,t,e,i,r){const s=new _Ie;let c,d;if(e.type===Lo.OVERWRITE){const _=e;_.source.fromUser?c=bL(n,t,_.path,_.snap,i,r,s):((0,R.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered()&&!on(_.path),c=B_(n,t,_.path,_.snap,i,r,d,s))}else if(e.type===Lo.MERGE){const _=e;_.source.fromUser?c=function(n,t,e,i,r,s,c){let d=t;return i.foreach((h,_)=>{const M=Hi(e,h);B$(t,sn(M))&&(d=bL(n,d,M,_,r,s,c))}),i.foreach((h,_)=>{const M=Hi(e,h);B$(t,sn(M))||(d=bL(n,d,M,_,r,s,c))}),d}(n,t,_.path,_.children,i,r,s):((0,R.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered(),c=ML(n,t,_.path,_.children,i,r,d,s))}else if(e.type===Lo.ACK_USER_WRITE){const _=e;c=_.revert?function(n,t,e,i,r,s){let c;if(null!=F_(i,e))return t;{const d=new yL(i,t,r),h=t.eventCache.getNode();let _;if(on(e)||".priority"===sn(e)){let M;if(t.serverCache.isFullyInitialized())M=z_(i,X5(t));else{const x=t.serverCache.getNode();(0,R.hu)(x instanceof en,"serverChildren would be complete if leaf node"),M=_L(i,x)}M=M,_=n.filter.updateFullNode(h,M,s)}else{const M=sn(e);let x=vL(i,M,t.serverCache);null==x&&t.serverCache.isCompleteForChild(M)&&(x=h.getImmediateChild(M)),_=null!=x?n.filter.updateChild(h,M,x,di(e),d,s):t.eventCache.getNode().hasChild(M)?n.filter.updateChild(h,M,en.EMPTY_NODE,di(e),d,s):h,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=z_(i,X5(t)),c.isLeafNode()&&(_=n.filter.updateFullNode(_,c,s)))}return c=t.serverCache.isFullyInitialized()||null!=F_(i,In()),Ah(t,_,c,n.filter.filtersNodes())}}(n,t,_.path,i,r,s):function(n,t,e,i,r,s,c){if(null!=F_(r,e))return t;const d=t.serverCache.isFiltered(),h=t.serverCache;if(null!=i.value){if(on(e)&&h.isFullyInitialized()||h.isCompleteForPath(e))return B_(n,t,e,h.getNode().getChild(e),r,s,d,c);if(on(e)){let _=new vi(null);return h.getNode().forEachChild(L3,(M,x)=>{_=_.set(new Fn(M),x)}),ML(n,t,e,_,r,s,d,c)}return t}{let _=new vi(null);return i.foreach((M,x)=>{const D=Hi(e,M);h.isCompleteForPath(D)&&(_=_.set(M,h.getNode().getChild(D)))}),ML(n,t,e,_,r,s,d,c)}}(n,t,_.path,_.affectedTree,i,r,s)}else{if(e.type!==Lo.LISTEN_COMPLETE)throw(0,R.g5)("Unknown operation type: "+e.type);c=function(n,t,e,i,r){const s=t.serverCache;return F$(n,A$(t,s.getNode(),s.isFullyInitialized()||on(e),s.isFiltered()),e,i,z$,r)}(n,t,e.path,i,s)}const h=s.getChanges();return function(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=O_(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(E$(O_(t)))}}(t,c,h),{viewCache:c,changes:h}}(n.processor_,r,t,e,i);return function(n,t){(0,R.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,R.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,R.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,$$(n,s.changes,s.viewCache.eventCache.getNode(),null)}function $$(n,t,e,i){return function(n,t,e,i){const r=[],s=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),Dh(n,r,"child_removed",t,i,e),Dh(n,r,"child_added",t,i,e),Dh(n,r,"child_moved",s,i,e),Dh(n,r,"child_changed",t,i,e),Dh(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let U_,j_;class W${constructor(){this.views=new Map}}function wL(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,R.hu)(null!=s,"SyncTree gave us an op for an invalid query."),q$(s,t,e,i)}{let s=[];for(const c of n.views.values())s=s.concat(q$(c,t,e,i));return s}}function Z$(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let d=z_(e,r?i:null),h=!1;d?h=!0:i instanceof en?(d=_L(e,i),h=!1):(d=en.EMPTY_NODE,h=!1);const _=R_(new Ic(d,h,!1),new Ic(i,r,!1));return new TIe(t,_)}return c}function Y$(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function kc(n,t){let e=null;for(const i of n.views.values())e=e||IIe(i,t);return e}function K$(n,t){return t._queryParams.loadsAllData()?G_(n):n.views.get(t._queryIdentifier)}function Q$(n,t){return null!=K$(n,t)}function Vc(n){return null!=G_(n)}function G_(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let BIe=1;class J${constructor(t){this.listenProvider_=t,this.syncPointTree_=new vi(null),this.pendingWriteTree_={visibleWrites:wa.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function xL(n,t,e,i,r){return function(n,t,e,i,r){(0,R.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=Ih(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?ku(n,new J5({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Hc(n,t,e=!1){const i=function(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);(0,R.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=e&&lIe(d,i.path)?r=!1:Eo(i.path,d.path)&&(s=!0)),c--}return!!r&&(s?(function(n){n.visibleWrites=V$(n.allWrites,uIe,In()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=I$(n.visibleWrites,i.path):s2(i.children,h=>{n.visibleWrites=I$(n.visibleWrites,Hi(i.path,h))}),!0))}(n.pendingWriteTree_,t)){let s=new vi(null);return null!=i.snap?s=s.set(In(),!0):s2(i.children,c=>{s=s.set(new Fn(c),!0)}),ku(n,new H_(i.path,s,e))}return[]}function Nh(n,t,e){return ku(n,new J5({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function SL(n,t,e,i){const r=t._path,s=n.syncPointTree_.get(r);let c=[];if(s&&("default"===t._queryIdentifier||Q$(s,t))){const d=function(n,t,e,i){const r=t._queryIdentifier,s=[];let c=[];const d=Vc(n);if("default"===r)for(const[h,_]of n.views.entries())c=c.concat(j$(_,e,i)),G$(_)&&(n.views.delete(h),_.query._queryParams.loadsAllData()||s.push(_.query));else{const h=n.views.get(r);h&&(c=c.concat(j$(h,e,i)),G$(h)&&(n.views.delete(r),h.query._queryParams.loadsAllData()||s.push(h.query)))}return d&&!Vc(n)&&s.push(new((0,R.hu)(U_,"Reference.ts has not been loaded"),U_)(t._repo,t._path)),{removed:s,events:c}}(s,t,e,i);(function(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const h=d.removed;c=d.events;const _=-1!==h.findIndex(x=>x._queryParams.loadsAllData()),M=n.syncPointTree_.findOnPath(r,(x,D)=>Vc(D));if(_&&!M){const x=n.syncPointTree_.subtree(r);if(!x.isEmpty()){const D=function(n){return n.fold((t,e,i)=>{if(e&&Vc(e))return[G_(e)];{let r=[];return e&&(r=Y$(e)),s2(i,(s,c)=>{r=r.concat(c)}),r}})}(x);for(let N=0;N<D.length;++N){const H=D[N],U=H.query,Y=nW(n,H);n.listenProvider_.startListening(kh(U),$_(n,U),Y.hashFn,Y.onComplete)}}}if(!M&&h.length>0&&!i)if(_){const x=null;n.listenProvider_.stopListening(kh(t),x)}else h.forEach(x=>{const D=n.queryToTagMap.get(W_(x));n.listenProvider_.stopListening(kh(x),D)});!function(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=W_(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,h)}return c}function X$(n,t,e){const i=t._path;let r=null,s=!1;n.syncPointTree_.foreachOnPath(i,(x,D)=>{const N=_r(x,i);r=r||kc(D,N),s=s||Vc(D)});let d,c=n.syncPointTree_.get(i);c?(s=s||Vc(c),r=r||kc(c,In())):(c=new W$,n.syncPointTree_=n.syncPointTree_.set(i,c)),null!=r?d=!0:(d=!1,r=en.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((D,N)=>{const H=kc(N,In());H&&(r=r.updateImmediateChild(D,H))}));const h=Q$(c,t);if(!h&&!t._queryParams.loadsAllData()){const x=W_(t);(0,R.hu)(!n.queryToTagMap.has(x),"View does not exist, but we have a tag");const D=BIe++;n.queryToTagMap.set(x,D),n.tagToQueryMap.set(D,x)}let M=function(n,t,e,i,r,s){const c=Z$(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function(n,t){n.eventRegistrations_.push(t)}(c,e),function(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(_i,(s,c)=>{i.push(Du(s,c))}),e.isFullyInitialized()&&i.push(E$(e.getNode())),$$(n,i,e.getNode(),t)}(c,e)}(c,t,e,P_(n.pendingWriteTree_,i),r,d);if(!h&&!s){const x=K$(c,t);M=M.concat(function(n,t,e){const i=t._path,r=$_(n,t),s=nW(n,e),c=n.listenProvider_.startListening(kh(t),r,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,R.hu)(!Vc(d.value),"If we're adding a query, it shouldn't be shadowed");else{const h=d.fold((_,M,x)=>{if(!on(_)&&M&&Vc(M))return[G_(M).query];{let D=[];return M&&(D=D.concat(Y$(M).map(N=>N.query))),s2(x,(N,H)=>{D=D.concat(H)}),D}});for(let _=0;_<h.length;++_){const M=h[_];n.listenProvider_.stopListening(kh(M),$_(n,M))}}return c}(n,t,x))}return M}function q_(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(c,d)=>{const _=kc(d,_r(c,t));if(_)return _});return H$(r,t,s,e,!0)}function ku(n,t){return eW(t,n.syncPointTree_,null,P_(n.pendingWriteTree_,In()))}function eW(n,t,e,i){if(on(n.path))return tW(n,t,e,i);{const r=t.get(In());null==e&&null!=r&&(e=kc(r,In()));let s=[];const c=sn(n.path),d=n.operationForChild(c),h=t.children.get(c);if(h&&d){const _=e?e.getImmediateChild(c):null,M=O$(i,c);s=s.concat(eW(d,h,_,M))}return r&&(s=s.concat(wL(r,n,i,e))),s}}function tW(n,t,e,i){const r=t.get(In());null==e&&null!=r&&(e=kc(r,In()));let s=[];return t.children.inorderTraversal((c,d)=>{const h=e?e.getImmediateChild(c):null,_=O$(i,c),M=n.operationForChild(c);M&&(s=s.concat(tW(M,d,h,_)))}),r&&(s=s.concat(wL(r,n,i,e))),s}function nW(n,t){const e=t.query,i=$_(n,e);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(t)||en.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function(n,t,e){const i=EL(n,e);if(i){const r=LL(i),s=r.path,c=r.queryId,d=_r(s,t);return TL(n,s,new Th(hL(c),d))}return[]}(n,e._path,i):function(n,t){return ku(n,new Th({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return SL(n,e,null,s)}}}}function $_(n,t){const e=W_(t);return n.queryToTagMap.get(e)}function W_(n){return n._path.toString()+"$"+n._queryIdentifier}function EL(n,t){return n.tagToQueryMap.get(t)}function LL(n){const t=n.indexOf("$");return(0,R.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Fn(n.substr(0,t))}}function TL(n,t,e){const i=n.syncPointTree_.get(t);return(0,R.hu)(i,"Missing sync point for query tag that we're tracking"),wL(i,e,P_(n.pendingWriteTree_,t),null)}function kh(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new((0,R.hu)(j_,"Reference.ts has not been loaded"),j_)(n._repo,n._path):n}class DL{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new DL(e)}node(){return this.node_}}class AL{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Hi(this.path_,t);return new AL(this.syncTree_,e)}node(){return q_(this.syncTree_,this.path_)}}const iW=function(n,t,e){return n&&"object"==typeof n?((0,R.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?eNe(n[".sv"],t,e):"object"==typeof n[".sv"]?tNe(n[".sv"],t):void(0,R.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},eNe=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,R.hu)(!1,"Unexpected server value: "+n)},tNe=function(n,t,e){n.hasOwnProperty("increment")||(0,R.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,R.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,R.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},rW=function(n,t,e,i){return NL(t,new AL(e,n),i)},IL=function(n,t,e){return NL(n,new DL(t),e)};function NL(n,t,e){const i=n.getPriority().val(),r=iW(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const c=n,d=iW(c.getValue(),t,e);return d!==c.getValue()||r!==c.getPriority().val()?new Eu(d,Wi(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new Eu(r))),c.forEachChild(_i,(d,h)=>{const _=NL(h,t.getImmediateChild(d),e);_!==h&&(s=s.updateImmediateChild(d,_))}),s}}class kL{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function Z_(n,t){let e=t instanceof Fn?t:new Fn(t),i=n,r=sn(e);for(;null!==r;){const s=(0,R.DV)(i.node.children,r)||{children:{},childCount:0};i=new kL(r,i,s),e=di(e),r=sn(e)}return i}function t0(n){return n.node.value}function VL(n,t){n.node.value=t,HL(n)}function sW(n){return n.node.childCount>0}function Y_(n,t){s2(n.node.children,(e,i)=>{t(new kL(e,n,i))})}function oW(n,t,e,i){e&&!i&&t(n),Y_(n,r=>{oW(r,t,!0,i)}),e&&i&&t(n)}function Vh(n){return new Fn(null===n.parent?n.name:Vh(n.parent)+"/"+n.name)}function HL(n){null!==n.parent&&function(n,t,e){const i=function(n){return void 0===t0(n)&&!sW(n)}(e),r=(0,R.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,HL(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,HL(n))}(n.parent,n.name,n)}const sNe=/[\[\].#$\/\u0000-\u001F\u007F]/,oNe=/[\[\].#$\u0000-\u001F\u007F]/,RL=10485760,K_=function(n){return"string"==typeof n&&0!==n.length&&!sNe.test(n)},aW=function(n){return"string"==typeof n&&0!==n.length&&!oNe.test(n)},Hh=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!w_(n)||n&&"object"==typeof n&&(0,R.r3)(n,".sv")},T3=function(n,t,e,i){i&&void 0===t||Rh((0,R.gK)(n,"value"),t,e)},Rh=function(n,t,e){const i=e instanceof Fn?new yAe(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+K5(i));if("function"==typeof t)throw new Error(n+"contains a function "+K5(i)+" with contents = "+t.toString());if(w_(t))throw new Error(n+"contains "+t.toString()+" "+K5(i));if("string"==typeof t&&t.length>RL/3&&(0,R.ug)(t)>RL)throw new Error(n+"contains a string greater than "+RL+" utf8 bytes "+K5(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(s2(t,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!K_(c)))throw new Error(n+" contains an invalid key ("+c+") "+K5(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,R.ug)(t),h$(n)})(i,c),Rh(n,d,i),function(n){const t=n.parts_.pop();n.byteLength_-=(0,R.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+K5(i)+" in addition to actual children.")}},lW=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,R.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];s2(t,(c,d)=>{const h=new Fn(c);if(Rh(r,d,Hi(e,h)),".priority"===QE(h)&&!Hh(d))throw new Error(r+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(h)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=bh(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!K_(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(vAe);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Eo(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},OL=function(n,t,e){if(!e||void 0!==t){if(w_(t))throw new Error((0,R.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Hh(t))throw new Error((0,R.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Oh=function(n,t,e,i){if(!(i&&void 0===e||K_(e)))throw new Error((0,R.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ph=function(n,t,e,i){if(!(i&&void 0===e||aW(e)))throw new Error((0,R.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},To=function(n,t){if(".info"===sn(t))throw new Error(n+" failed = Can't modify data under /.info/")},cW=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!K_(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),aW(n)}(e))throw new Error((0,R.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class uNe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Q_(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!JE(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function PL(n,t,e){Q_(n,e),uW(n,i=>JE(i,t))}function Do(n,t,e){Q_(n,e),uW(n,i=>Eo(i,t)||Eo(t,i))}function uW(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(dNe(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function dNe(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Z5&&r2("event: "+e.toString()),xu(i)}}}const dW="repo_interrupt";class hNe{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new uNe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=V_(),this.transactionQueueTree_=new kL,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function fW(n){const e=n.infoData_.getNode(new Fn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function zh(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:fW(n)})}function hW(n,t,e,i,r){n.dataUpdateCount++;const s=new Fn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const h=(0,R.UI)(e,_=>Wi(_));c=function(n,t,e,i){const r=EL(n,i);if(r){const s=LL(r),c=s.path,d=s.queryId,h=_r(c,t),_=vi.fromObject(e);return TL(n,c,new Iu(hL(d),h,_))}return[]}(n.serverSyncTree_,s,h,r)}else{const h=Wi(e);c=function(n,t,e,i){const r=EL(n,i);if(null!=r){const s=LL(r),c=s.path,d=s.queryId,h=_r(c,t);return TL(n,c,new J5(hL(d),h,e))}return[]}(n.serverSyncTree_,s,h,r)}else if(i){const h=(0,R.UI)(e,_=>Wi(_));c=function(n,t,e){const i=vi.fromObject(e);return ku(n,new Iu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,h)}else{const h=Wi(e);c=Nh(n.serverSyncTree_,s,h)}let d=s;c.length>0&&(d=Hu(n,s)),Do(n.eventQueue_,d,c)}function pW(n,t){zL(n,"connected",t),!1===t&&function(n){Vu(n,"onDisconnectEvents");const t=zh(n),e=V_();uL(n.onDisconnect_,In(),(r,s)=>{const c=rW(r,s,n.serverSyncTree_,t);Au(e,r,c)});let i=[];uL(e,In(),(r,s)=>{i=i.concat(Nh(n.serverSyncTree_,r,s));const c=GL(n,r);Hu(n,c)}),n.onDisconnect_=V_(),Do(n.eventQueue_,In(),i)}(n)}function zL(n,t,e){const i=new Fn("/.info/"+t),r=Wi(e);n.infoData_.updateSnapshot(i,r);const s=Nh(n.infoSyncTree_,i,r);Do(n.eventQueue_,i,s)}function J_(n){return n.nextWriteId_++}function FL(n,t,e,i,r){Vu(n,"set",{path:t.toString(),value:e,priority:i});const s=zh(n),c=Wi(e,i),d=q_(n.serverSyncTree_,t),h=IL(c,d,s),_=J_(n),M=xL(n.serverSyncTree_,t,h,_,!0);Q_(n.eventQueue_,M),n.server_.put(t.toString(),c.val(!0),(D,N)=>{const H="ok"===D;H||mr("set at "+t+" failed: "+D);const U=Hc(n.serverSyncTree_,_,!H);Do(n.eventQueue_,t,U),Rc(0,r,D,N)});const x=GL(n,t);Hu(n,x),Do(n.eventQueue_,x,[])}function vNe(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&cL(n.onDisconnect_,t),Rc(0,e,i,r)})}function gW(n,t,e,i){const r=Wi(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,c)=>{"ok"===s&&Au(n.onDisconnect_,t,r),Rc(0,i,s,c)})}function BL(n,t,e){let i;i=".info"===sn(t._path)?SL(n.infoSyncTree_,t,e):SL(n.serverSyncTree_,t,e),PL(n.eventQueue_,t._path,i)}function CW(n){n.persistentConnection_&&n.persistentConnection_.interrupt(dW)}function Vu(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),r2(e,...t)}function Rc(n,t,e,i){t&&xu(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,t(c)}})}function UL(n,t,e){return q_(n.serverSyncTree_,t,e)||en.EMPTY_NODE}function X_(n,t=n.transactionQueueTree_){if(t||ev(n,t),t0(t)){const e=_W(n,t);(0,R.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function(n,t,e){const i=e.map(_=>_.currentWriteId),r=UL(n,t,i);let s=r;const c=r.hash();for(let _=0;_<e.length;_++){const M=e[_];(0,R.hu)(0===M.status,"tryToSendTransactionQueue_: items in queue should all be run."),M.status=1,M.retryCount++;const x=_r(t,M.path);s=s.updateChild(x,M.currentOutputSnapshotRaw)}const d=s.val(!0),h=t;n.server_.put(h.toString(),d,_=>{Vu(n,"transaction put response",{path:h.toString(),status:_});let M=[];if("ok"===_){const x=[];for(let D=0;D<e.length;D++)e[D].status=2,M=M.concat(Hc(n.serverSyncTree_,e[D].currentWriteId)),e[D].onComplete&&x.push(()=>e[D].onComplete(null,!0,e[D].currentOutputSnapshotResolved)),e[D].unwatcher();ev(n,Z_(n.transactionQueueTree_,t)),X_(n,n.transactionQueueTree_),Do(n.eventQueue_,t,M);for(let D=0;D<x.length;D++)xu(x[D])}else{if("datastale"===_)for(let x=0;x<e.length;x++)e[x].status=3===e[x].status?4:0;else{mr("transaction at "+h.toString()+" failed: "+_);for(let x=0;x<e.length;x++)e[x].status=4,e[x].abortReason=_}Hu(n,t)}},c)}(n,Vh(t),e)}else sW(t)&&Y_(t,e=>{X_(n,e)})}function Hu(n,t){const e=mW(n,t),i=Vh(e);return function(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const h=t[d],_=_r(e,h.path);let x,M=!1;if((0,R.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===h.status)M=!0,x=h.abortReason,r=r.concat(Hc(n.serverSyncTree_,h.currentWriteId,!0));else if(0===h.status)if(h.retryCount>=25)M=!0,x="maxretry",r=r.concat(Hc(n.serverSyncTree_,h.currentWriteId,!0));else{const D=UL(n,h.path,c);h.currentInputSnapshot=D;const N=t[d].update(D.val());if(void 0!==N){Rh("transaction failed: Data returned ",N,h.path);let H=Wi(N);"object"==typeof N&&null!=N&&(0,R.r3)(N,".priority")||(H=H.updatePriority(D.getPriority()));const Y=h.currentWriteId,ae=zh(n),ce=IL(H,D,ae);h.currentOutputSnapshotRaw=H,h.currentOutputSnapshotResolved=ce,h.currentWriteId=J_(n),c.splice(c.indexOf(Y),1),r=r.concat(xL(n.serverSyncTree_,h.path,ce,h.currentWriteId,h.applyLocally)),r=r.concat(Hc(n.serverSyncTree_,Y,!0))}else M=!0,x="nodata",r=r.concat(Hc(n.serverSyncTree_,h.currentWriteId,!0))}Do(n.eventQueue_,e,r),r=[],M&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===x?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(x),!1,null)))}ev(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)xu(i[d]);X_(n,n.transactionQueueTree_)}(n,_W(n,e),i),i}function mW(n,t){let e,i=n.transactionQueueTree_;for(e=sn(t);null!==e&&void 0===t0(i);)i=Z_(i,e),e=sn(t=di(t));return i}function _W(n,t){const e=[];return vW(n,t,e),e.sort((i,r)=>i.order-r.order),e}function vW(n,t,e){const i=t0(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);Y_(t,r=>{vW(n,r,e)})}function ev(n,t){const e=t0(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,VL(t,e.length>0?e:void 0)}Y_(t,i=>{ev(n,i)})}function GL(n,t){const e=Vh(mW(n,t)),i=Z_(n.transactionQueueTree_,t);return function(n,t,e){let i=n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{jL(n,r)}),jL(n,i),oW(i,r=>{jL(n,r)}),e}function jL(n,t){const e=t0(t);if(e){const i=[];let r=[],s=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,R.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,e[c].status=3,e[c].abortReason="set"):((0,R.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(Hc(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?VL(t,void 0):e.length=s+1,Do(n.eventQueue_,Vh(t),r);for(let c=0;c<i.length;c++)xu(i[c])}}const qL=function(n,t){const e=DNe(n),i=e.namespace;return"firebase.com"===e.domain&&S3(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&S3("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&mr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new jE(e.host,e.secure,i,t,"ws"===e.scheme||"wss"===e.scheme,"",i!==e.subdomain),path:new Fn(e.pathString)}},DNe=function(n){let t="",e="",i="",r="",s="",c=!0,d="https",h=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(d=n.substring(0,_-1),n=n.substring(_+2));let M=n.indexOf("/");-1===M&&(M=n.length);let x=n.indexOf("?");-1===x&&(x=n.length),t=n.substring(0,Math.min(M,x)),M<x&&(r=function(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}t+="/"+r}return t}(n.substring(M,x)));const D=function(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):mr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,x)));_=t.indexOf(":"),_>=0?(c="https"===d||"wss"===d,h=parseInt(t.substring(_+1),10)):_=t.length;const N=t.slice(0,_);if("localhost"===N.toLowerCase())e="localhost";else if(N.split(".").length<=2)e=N;else{const H=t.indexOf(".");i=t.substring(0,H).toLowerCase(),e=t.substring(H+1),s=i}"ns"in D&&(s=D.ns)}return{host:t,port:h,domain:e,subdomain:i,secure:c,scheme:d,pathString:r,namespace:s}};class yW{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,R.Pz)(this.snapshot.exportVal())}}class bW{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class MW{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,R.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class wW{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new R.BH;return vNe(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){To("OnDisconnect.remove",this._path);const t=new R.BH;return gW(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){To("OnDisconnect.set",this._path),T3("OnDisconnect.set",t,this._path,!1);const e=new R.BH;return gW(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){To("OnDisconnect.setWithPriority",this._path),T3("OnDisconnect.setWithPriority",t,this._path,!1),OL("OnDisconnect.setWithPriority",e,!1);const i=new R.BH;return function(n,t,e,i,r){const s=Wi(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(c,d)=>{"ok"===c&&Au(n.onDisconnect_,t,s),Rc(0,r,c,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){To("OnDisconnect.update",this._path),lW("OnDisconnect.update",t,this._path,!1);const e=new R.BH;return function(n,t,e,i){if((0,R.xb)(e))return r2("onDisconnect().update() called with empty data.  Don't do anything."),void Rc(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&s2(e,(c,d)=>{const h=Wi(d);Au(n.onDisconnect_,Hi(t,c),h)}),Rc(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Zr{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return on(this._path)?null:QE(this._path)}get ref(){return new Ao(this._repo,this._path)}get _queryIdentifier(){const t=T$(this._queryParams),e=BE(t);return"{}"===e?"default":e}get _queryObject(){return T$(this._queryParams)}isEqual(t){if(!((t=(0,R.m9)(t))instanceof Zr))return!1;const e=this._repo===t._repo,i=JE(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function tv(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Oc(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===L3){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==W4)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==E3)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===_i){if(null!=t&&!Hh(t)||null!=e&&!Hh(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,R.hu)(n.getIndex()instanceof iL||n.getIndex()===rL,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function nv(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ao extends Zr{constructor(t,e){super(t,e,new I_,!1)}get parent(){const t=f$(this._path);return null===t?null:new Ao(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class n0{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Fn(t),i=r0(this.ref,t);return new n0(this._node.getChild(e),i,_i)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new n0(r,r0(this.ref,i),_i)))}hasChild(t){const e=new Fn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function xW(n,t){return(n=(0,R.m9)(n))._checkNotDeleted("ref"),void 0!==t?r0(n._root,t):n._root}function SW(n,t){(n=(0,R.m9)(n))._checkNotDeleted("refFromURL");const e=qL(t,n._repo.repoInfo_.nodeAdmin);cW("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&S3("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),xW(n,e.path.toString())}function r0(n,t){return null===sn((n=(0,R.m9)(n))._path)?function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ph("child","path",e,!1)}(0,0,t):Ph("child","path",t,!1),new Ao(n._repo,Hi(n._path,t))}function $L(n,t){n=(0,R.m9)(n),To("set",n._path),T3("set",t,n._path,!1);const e=new R.BH;return FL(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function VNe(n,t){lW("update",t,n._path,!1);const e=new R.BH;return function(n,t,e,i){Vu(n,"update",{path:t.toString(),value:e});let r=!0;const s=zh(n),c={};if(s2(e,(d,h)=>{r=!1,c[d]=rW(Hi(t,d),Wi(h),n.serverSyncTree_,s)}),r)r2("update() called with empty data.  Don't do anything."),Rc(0,i,"ok",void 0);else{const d=J_(n),h=function(n,t,e,i){!function(n,t,e,i){(0,R.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=gL(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=vi.fromObject(e);return ku(n,new Iu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,d);Q_(n.eventQueue_,h),n.server_.merge(t.toString(),e,(_,M)=>{const x="ok"===_;x||mr("update at "+t+" failed: "+_);const D=Hc(n.serverSyncTree_,d,!x),N=D.length>0?Hu(n,t):t;Do(n.eventQueue_,N,D),Rc(0,i,_,M)}),s2(e,_=>{const M=GL(n,Hi(t,_));Hu(n,M)}),Do(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function HNe(n){return function(n,t){const e=function(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(_,M)=>{const x=_r(_,e);i=i||kc(M,x)});let r=n.syncPointTree_.get(e);r?i=i||kc(r,In()):(r=new W$,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,c=s?new Ic(i,!0,!1):null;return function(n){return O_(n.viewCache_)}(Z$(r,t,P_(n.pendingWriteTree_,t._path),s?c.getNode():en.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const r=Wi(i).withIndex(t._queryParams.getIndex()),s=Nh(n.serverSyncTree_,t._path,r);return PL(n.eventQueue_,t._path,s),Promise.resolve(r)},i=>(Vu(n,"get for query "+(0,R.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,R.m9)(n))._repo,n).then(t=>new n0(t,new Ao(n._repo,n._path),n._queryParams.getIndex()))}class iv{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new yW("value",this,new n0(t.snapshotNode,new Ao(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new bW(this,t,e):null}matches(t){return t instanceof iv&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class rv{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new bW(this,t,e):null}createEvent(t,e){(0,R.hu)(null!=t.childName,"Child events should have a childName.");const i=r0(new Ao(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new yW(t.type,this,new n0(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof rv&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Fh(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const h=e,_=(M,x)=>{BL(n._repo,n,d),h(M,x)};_.userCallback=e.userCallback,_.context=e.context,e=_}const c=new MW(e,s||void 0),d="value"===t?new iv(c):new rv(t,c);return function(n,t,e){let i;i=".info"===sn(t._path)?X$(n.infoSyncTree_,t,e):X$(n.serverSyncTree_,t,e),PL(n.eventQueue_,t._path,i)}(n._repo,n,d),()=>BL(n._repo,n,d)}function WL(n,t,e,i){return Fh(n,"value",t,e,i)}function EW(n,t,e,i){return Fh(n,"child_added",t,e,i)}function LW(n,t,e,i){return Fh(n,"child_changed",t,e,i)}function TW(n,t,e,i){return Fh(n,"child_moved",t,e,i)}function DW(n,t,e,i){return Fh(n,"child_removed",t,e,i)}function AW(n,t,e){let i=null;const r=e?new MW(e):null;"value"===t?i=new iv(r):t&&(i=new rv(t,r)),BL(n._repo,n,i)}class xa{}class IW extends xa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){T3("endAt",this._value,t._path,!0);const e=lL(t._queryParams,this._value,this._key);if(nv(e),Oc(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Zr(t._repo,t._path,e,t._orderByCalled)}}class ONe extends xa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){T3("endBefore",this._value,t._path,!1);const e=function(n,t,e){let i,r;return n.index_===L3?("string"==typeof t&&(t=S$(t)),r=lL(n,t,e)):(i=null==e?W4:S$(e),r=lL(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(nv(e),Oc(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Zr(t._repo,t._path,e,t._orderByCalled)}}class NW extends xa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){T3("startAt",this._value,t._path,!0);const e=aL(t._queryParams,this._value,this._key);if(nv(e),Oc(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Zr(t._repo,t._path,e,t._orderByCalled)}}class FNe extends xa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){T3("startAfter",this._value,t._path,!1);const e=function(n,t,e){let i;if(n.index_===L3)"string"==typeof t&&(t=x$(t)),i=aL(n,t,e);else{let r;r=null==e?E3:x$(e),i=aL(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(nv(e),Oc(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Zr(t._repo,t._path,e,t._orderByCalled)}}class UNe extends xa{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Zr(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class jNe extends xa{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Zr(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class $Ne extends xa{constructor(t){super(),this._path=t}_apply(t){tv(t,"orderByChild");const e=new Fn(this._path);if(on(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new iL(e),r=N_(t._queryParams,i);return Oc(r),new Zr(t._repo,t._path,r,!0)}}class ZNe extends xa{_apply(t){tv(t,"orderByKey");const e=N_(t._queryParams,L3);return Oc(e),new Zr(t._repo,t._path,e,!0)}}class KNe extends xa{_apply(t){tv(t,"orderByPriority");const e=N_(t._queryParams,_i);return Oc(e),new Zr(t._repo,t._path,e,!0)}}class JNe extends xa{_apply(t){tv(t,"orderByValue");const e=N_(t._queryParams,rL);return Oc(e),new Zr(t._repo,t._path,e,!0)}}class eke extends xa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(T3("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new IW(this._value,this._key)._apply(new NW(this._value,this._key)._apply(t))}}function Sa(n,...t){let e=(0,R.m9)(n);for(const i of t)e=i._apply(e);return e}(function(n){(0,R.hu)(!U_,"__referenceConstructor has already been defined"),U_=n})(Ao),function(n){(0,R.hu)(!j_,"__referenceConstructor has already been defined"),j_=n}(Ao);const ZL={};function VW(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||S3("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),r2("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let h,_,c=qL(s,r),d=c.repoInfo;"undefined"!=typeof process&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(h=!0,s=`http://${_}?ns=${d.namespace}`,c=qL(s,r),d=c.repoInfo):h=!c.repoInfo.secure;const M=r&&h?new _h(_h.OWNER):new $De(n.name,n.options,t);cW("Invalid Firebase Database URL",c),on(c.path)||S3("Database URL must point to the root of a Firebase Database (not including a child path).");const x=function(n,t,e,i){let r=ZL[t.name];r||(r={},ZL[t.name]=r);let s=r[n.toURLString()];return s&&S3("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new hNe(n,false,e,i),r[n.toURLString()]=s,s}(d,n,M,new qDe(n.name,e));return new ake(x,n)}class ake{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,t,e){if(n.stats_=WE(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new k_(n.repoInfo_,(i,r,s,c)=>{hW(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>pW(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,R.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Q5(n.repoInfo_,t,(i,r,s,c)=>{hW(n,i,r,s,c)},i=>{pW(n,i)},i=>{!function(n,t){s2(t,(e,i)=>{zL(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function(n,t){const e=n.toString();return $E[e]||($E[e]=t()),$E[e]}(n.repoInfo_,()=>new JAe(n.stats_,n.server_)),n.infoData_=new WAe,n.infoSyncTree_=new J$({startListening:(i,r,s,c)=>{let d=[];const h=n.infoData_.getNode(i._path);return h.isEmpty()||(d=Nh(n.infoSyncTree_,i._path,h),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),zL(n,"connected",!1),n.serverSyncTree_=new J$({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(d,h)=>{const _=c(d,h);Do(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ao(this._repo,In())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,t){const e=ZL[t];(!e||e[n.key]!==n)&&S3(`Database ${t}(${n.repoInfo_}) has already been deleted.`),CW(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&S3("Cannot call "+t+" on a deleted database.")}}function dke(n,t){Rq(n,t)}class Cke{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Q5.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Q5.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},Iq(hr.SDK_VERSION),(0,hr._registerComponent)(new _a.wA("database",(t,{instanceIdentifier:e})=>VW(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,hr.registerVersion)(Dq,"0.12.7",void 0),(0,hr.registerVersion)(Dq,"0.12.7","esm2017");const yke=new ya.Yd("@firebase/database-compat"),HW=function(n){yke.warn("FIREBASE WARNING: "+n)};class wke{constructor(t){this._delegate=t}cancel(t){(0,R.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,R.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,R.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,R.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,R.Dv)("OnDisconnect.set",1,2,arguments.length),(0,R.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,R.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,R.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,R.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,HW("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,R.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class xke{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,R.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Pc{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,R.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,R.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,R.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,R.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,R.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Ph("DataSnapshot.child","path",t,!1),new Pc(this._database,this._delegate.child(t))}hasChild(t){return(0,R.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Ph("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,R.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,R.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,R.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Pc(this._database,e)))}hasChildren(){return(0,R.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,R.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,R.Dv)("DataSnapshot.ref",0,0,arguments.length),new Rs(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class T2{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,R.Dv)("Query.on",2,4,arguments.length),(0,R.Wj)("Query.on","callback",e,!1);const c=T2.getCancelAndContextArgs_("Query.on",i,r),d=(_,M)=>{e.call(c.context,new Pc(this.database,_),M)};d.userCallback=e,d.context=c.context;const h=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(t){case"value":return WL(this._delegate,d,h),e;case"child_added":return EW(this._delegate,d,h),e;case"child_removed":return DW(this._delegate,d,h),e;case"child_changed":return LW(this._delegate,d,h),e;case"child_moved":return TW(this._delegate,d,h),e;default:throw new Error((0,R.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,R.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,R.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,R.Wj)("Query.off","callback",e,!0),(0,R.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,AW(this._delegate,t,r)}else AW(this._delegate,t)}get(){return HNe(this._delegate).then(t=>new Pc(this.database,t))}once(t,e,i,r){(0,R.Dv)("Query.once",1,4,arguments.length),(0,R.Wj)("Query.once","callback",e,!0);const s=T2.getCancelAndContextArgs_("Query.once",i,r),c=new R.BH,d=(_,M)=>{const x=new Pc(this.database,_);e&&e.call(s.context,x,M),c.resolve(x)};d.userCallback=e,d.context=s.context;const h=_=>{s.cancel&&s.cancel.call(s.context,_),c.reject(_)};switch(t){case"value":WL(this._delegate,d,h,{onlyOnce:!0});break;case"child_added":EW(this._delegate,d,h,{onlyOnce:!0});break;case"child_removed":DW(this._delegate,d,h,{onlyOnce:!0});break;case"child_changed":LW(this._delegate,d,h,{onlyOnce:!0});break;case"child_moved":TW(this._delegate,d,h,{onlyOnce:!0});break;default:throw new Error((0,R.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,R.Dv)("Query.limitToFirst",1,1,arguments.length),new T2(this.database,Sa(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new UNe(n)}(t)))}limitToLast(t){return(0,R.Dv)("Query.limitToLast",1,1,arguments.length),new T2(this.database,Sa(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new jNe(n)}(t)))}orderByChild(t){return(0,R.Dv)("Query.orderByChild",1,1,arguments.length),new T2(this.database,Sa(this._delegate,function(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ph("orderByChild","path",n,!1),new $Ne(n)}(t)))}orderByKey(){return(0,R.Dv)("Query.orderByKey",0,0,arguments.length),new T2(this.database,Sa(this._delegate,new ZNe))}orderByPriority(){return(0,R.Dv)("Query.orderByPriority",0,0,arguments.length),new T2(this.database,Sa(this._delegate,new KNe))}orderByValue(){return(0,R.Dv)("Query.orderByValue",0,0,arguments.length),new T2(this.database,Sa(this._delegate,new JNe))}startAt(t=null,e){return(0,R.Dv)("Query.startAt",0,2,arguments.length),new T2(this.database,Sa(this._delegate,function(n=null,t){return Oh("startAt","key",t,!0),new NW(n,t)}(t,e)))}startAfter(t=null,e){return(0,R.Dv)("Query.startAfter",0,2,arguments.length),new T2(this.database,Sa(this._delegate,function(n,t){return Oh("startAfter","key",t,!0),new FNe(n,t)}(t,e)))}endAt(t=null,e){return(0,R.Dv)("Query.endAt",0,2,arguments.length),new T2(this.database,Sa(this._delegate,function(n,t){return Oh("endAt","key",t,!0),new IW(n,t)}(t,e)))}endBefore(t=null,e){return(0,R.Dv)("Query.endBefore",0,2,arguments.length),new T2(this.database,Sa(this._delegate,function(n,t){return Oh("endBefore","key",t,!0),new ONe(n,t)}(t,e)))}equalTo(t,e){return(0,R.Dv)("Query.equalTo",1,2,arguments.length),new T2(this.database,Sa(this._delegate,function(n,t){return Oh("equalTo","key",t,!0),new eke(n,t)}(t,e)))}toString(){return(0,R.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,R.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,R.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof T2))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,R.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,R.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,R.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Rs(this.database,new Ao(this._delegate._repo,this._delegate._path))}}class Rs extends T2{constructor(t,e){super(t,new Zr(e._repo,e._path,new I_,!1)),this.database=t,this._delegate=e}getKey(){return(0,R.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,R.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Rs(this.database,r0(this._delegate,t))}getParent(){(0,R.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Rs(this.database,t):null}getRoot(){return(0,R.Dv)("Reference.root",0,0,arguments.length),new Rs(this.database,this._delegate.root)}set(t,e){(0,R.Dv)("Reference.set",1,2,arguments.length),(0,R.Wj)("Reference.set","onComplete",e,!0);const i=$L(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,R.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,HW("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}To("Reference.update",this._delegate._path),(0,R.Wj)("Reference.update","onComplete",e,!0);const i=VNe(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,R.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,R.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function(n,t,e){if(To("setWithPriority",n._path),T3("setWithPriority",t,n._path,!1),OL("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new R.BH;return FL(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,R.Dv)("Reference.remove",0,1,arguments.length),(0,R.Wj)("Reference.remove","onComplete",t,!0);const e=function(n){return To("remove",n._path),$L(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,R.Dv)("Reference.transaction",1,3,arguments.length),(0,R.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,R.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,R.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function(n,t,e){var i;if(n=(0,R.m9)(n),To("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,s=new R.BH,d=WL(n,()=>{});return function(n,t,e,i,r,s){Vu(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:kq(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=UL(n,t,void 0);c.currentInputSnapshot=d;const h=c.update(d.val());if(void 0===h)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Rh("transaction failed: Data returned ",h,c.path),c.status=0;const _=Z_(n.transactionQueueTree_,t),M=t0(_)||[];let x;M.push(c),VL(_,M),"object"==typeof h&&null!==h&&(0,R.r3)(h,".priority")?(x=(0,R.DV)(h,".priority"),(0,R.hu)(Hh(x),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):x=(q_(n.serverSyncTree_,t)||en.EMPTY_NODE).getPriority().val();const D=zh(n),N=Wi(h,x),H=IL(N,d,D);c.currentOutputSnapshotRaw=N,c.currentOutputSnapshotResolved=H,c.currentWriteId=J_(n);const U=xL(n.serverSyncTree_,t,H,c.currentWriteId,c.applyLocally);Do(n.eventQueue_,t,U),X_(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(h,_,M)=>{let x=null;h?s.reject(h):(x=new n0(M,new Ao(n._repo,n._path),_i),s.resolve(new Cke(_,x)))},d,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new xke(s.committed,new Pc(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,R.Dv)("Reference.setPriority",1,2,arguments.length),(0,R.Wj)("Reference.setPriority","onComplete",e,!0);const i=function(n,t){n=(0,R.m9)(n),To("setPriority",n._path),OL("setPriority",t,!1);const e=new R.BH;return FL(n._repo,Hi(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,R.Dv)("Reference.push",0,2,arguments.length),(0,R.Wj)("Reference.push","onComplete",e,!0);const i=function(n,t){n=(0,R.m9)(n),To("push",n._path),T3("push",t,n._path,!0);const e=fW(n._repo),i=zAe(e),r=r0(n,i),s=r0(n,i);let c;return c=null!=t?$L(s,t).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new Rs(this.database,c));e&&r.then(()=>e(null),c=>e(c));const s=new Rs(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return To("Reference.onDisconnect",this._delegate._path),new wke(new wW(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Bh{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,i={}){!function(n,t,e,i={}){(n=(0,R.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&S3("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&S3('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new _h(_h.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,R.Sg)(i.mockUserToken,n.app.options.projectId);s=new _h(c)}!function(n,t,e,i){n.repoInfo_=new jE(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,R.Dv)("database.ref",0,1,arguments.length),t instanceof Rs){const e=SW(this._delegate,t.toString());return new Rs(this,e)}{const e=xW(this._delegate,t);return new Rs(this,e)}}refFromURL(t){(0,R.Dv)("database.refFromURL",1,1,arguments.length);const i=SW(this._delegate,t);return new Rs(this,i)}goOffline(){return(0,R.Dv)("database.goOffline",0,0,arguments.length),function(n){(n=(0,R.m9)(n))._checkNotDeleted("goOffline"),CW(n._repo)}(this._delegate)}goOnline(){return(0,R.Dv)("database.goOnline",0,0,arguments.length),function(n){(n=(0,R.m9)(n))._checkNotDeleted("goOnline"),function(n){n.persistentConnection_&&n.persistentConnection_.resume(dW)}(n._repo)}(this._delegate)}}Bh.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:n=>function(n){return{".sv":{increment:n}}}(n)};var Eke=Object.freeze({__proto__:null,initStandalone:function({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){Iq(e);const c=new _a.zt("auth-internal",new _a.H0("database-standalone"));return c.setComponent(new _a.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Bh(VW(n,c,void 0,t,s),n),namespace:r}}});const Lke=Bh.ServerValue;!function(n){n.INTERNAL.registerComponent(new _a.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new Bh(r,i)},"PUBLIC").setServiceProps({Reference:Rs,Query:T2,Database:Bh,DataSnapshot:Pc,enableLogging:dke,INTERNAL:Eke,ServerValue:Lke}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.7")}(lE.Z);var sv=O(5363),Dke=O(6063);class Ake extends mt.x{constructor(t=1/0,e=1/0,i=Dke.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;e||(i.push(t),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!t.closed;c+=i?1:2)t.next(s[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=e.now();let d=0;for(let h=1;h<i.length&&i[h]<=c;h+=2)d=h;d&&i.splice(0,d+1)}}}function RW(n,t,e){var i,r;let s,c=!1;return n&&"object"==typeof n?(s=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,t=null!==(r=n.windowTime)&&void 0!==r?r:1/0,c=!!n.refCount,e=n.scheduler):s=null!=n?n:1/0,(0,Ix.B)({connector:()=>new Ake(s,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}function OW(n,t){return(0,m2.m)(t)?xi(()=>n,t):xi(()=>n)}var YL=O(9468);const KL=new o.OlP("angularfire2.auth.use-emulator"),QL=new o.OlP("angularfire2.auth.settings"),JL=new o.OlP("angularfire2.auth.tenant-id"),XL=new o.OlP("angularfire2.auth.langugage-code"),eT=new o.OlP("angularfire2.auth.use-device-language"),tT=new o.OlP("angularfire.auth.persistence"),nT=(n,t,e,i,r,s,c,d)=>(0,U1.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const h=t.runOutsideAngular(()=>n.auth());if(e&&h.useEmulator(...e),i&&(h.tenantId=i),h.languageCode=r,s&&h.useDeviceLanguage(),c)for(const[_,M]of Object.entries(c))h.settings[_]=M;return d&&h.setPersistence(d),h},[e,i,r,s,c,d]);let iT=(()=>{class n{constructor(e,i,r,s,c,d,h,_,M,x,D,N){const H=new mt.x,U=at(void 0).pipe((0,sv.Q)(c.outsideAngular),xi(()=>s.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,1254)))),(0,qe.U)(()=>(0,U1.on)(e,s,i)),(0,qe.U)(Y=>nT(Y,s,d,_,M,x,h,D)),RW({bufferSize:1,refCount:!1}));if(gi(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=at(null);else{U.pipe(S4()).subscribe();const ae=U.pipe(xi(Te=>Te.getRedirectResult().then(tt=>tt,()=>null)),zn.iC,RW({bufferSize:1,refCount:!1})),ce=U.pipe(xi(Te=>new bn.y(tt=>({unsubscribe:s.runOutsideAngular(()=>Te.onAuthStateChanged(st=>tt.next(st),st=>tt.error(st),()=>tt.complete()))})))),ke=U.pipe(xi(Te=>new bn.y(tt=>({unsubscribe:s.runOutsideAngular(()=>Te.onIdTokenChanged(st=>tt.next(st),st=>tt.error(st),()=>tt.complete()))}))));this.authState=ae.pipe(OW(ce),(0,YL.R)(c.outsideAngular),(0,sv.Q)(c.insideAngular)),this.user=ae.pipe(OW(ke),(0,YL.R)(c.outsideAngular),(0,sv.Q)(c.insideAngular)),this.idToken=this.user.pipe(xi(Te=>Te?(0,_n.D)(Te.getIdToken()):at(null))),this.idTokenResult=this.user.pipe(xi(Te=>Te?(0,_n.D)(Te.getIdTokenResult()):at(null))),this.credential=(0,z5.T)(ae,H,this.authState.pipe(Sn(Te=>!Te))).pipe((0,qe.U)(Te=>(null==Te?void 0:Te.user)?Te:null),(0,YL.R)(c.outsideAngular),(0,sv.Q)(c.insideAngular))}return(0,U1.pX)(this,U,s,{spy:{apply:(Y,ae,ce)=>{(Y.startsWith("signIn")||Y.startsWith("createUser"))&&ce.then(ke=>H.next(ke))}}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(U1.Dh),o.LFG(U1.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(zn.HU),o.LFG(KL,8),o.LFG(QL,8),o.LFG(JL,8),o.LFG(XL,8),o.LFG(eT,8),o.LFG(tT,8),o.LFG(fh,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function PW(n){return null==n}function zW(n){return"function"==typeof n.set}function FW(n,t){return zW(t)?t:n.ref(t)}function BW(n,t){if(function(n){return"string"==typeof n}(n))return t.stringCase();if(zW(n))return t.firebaseCase();if(function(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Uh(n,t,e="on",i=rr.z){return new bn.y(r=>{let s=null;return s=n[e](t,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,qe.U)(r=>{const{snapshot:s,prevKey:c}=r;let d=null;return s.exists()&&(d=s.key),{type:t,payload:s,prevKey:c,key:d}}),(0,Ix.B)())}function UW(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function Rke(n,t){const{payload:e,prevKey:i,key:r}=t,s=UW(n,r),c=function(n,t){if(PW(t))return 0;{const e=UW(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(h=>{const _={payload:h,type:"value",prevKey:d,key:h.key};return d=h.key,n=[...n,_],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(h=>h.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(d=>d.payload.key!==e.key);case"child_changed":return n.map(d=>d.payload.key===r?t:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function GW(n){return(PW(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function jW(n,t,e){return function(n,t,e){return Uh(n,"value","once",e).pipe(xi(i=>{const r=[at(i)];return t.forEach(s=>r.push(Uh(n,s,"on",e))),(0,z5.T)(...r).pipe(d3(Rke,[]))}),Xi())}(n,t=GW(t),e)}function qW(n,t,e){const i=(t=GW(t)).map(r=>Uh(n,r,"on",e));return(0,z5.T)(...i)}function $W(n,t){return function(i,r){return BW(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function Fke(n){return function(e){return e?BW(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function WW(n,t){return function(){return Uh(n,"value","on",t)}}const Gke=new o.OlP("angularfire2.realtimeDatabaseURL"),jke=new o.OlP("angularfire2.database.use-emulator");let qke=(()=>{class n{constructor(e,i,r,s,c,d,h,_,M,x,D,N,H,U,Y){this.schedulers=d;const ae=h,ce=(0,U1.on)(e,c,i);_&&nT(ce,c,M,D,N,H,x,U),this.database=(0,U1.cc)(`${ce.name}.database.${r}`,"AngularFireDatabase",ce.name,()=>{const ke=c.runOutsideAngular(()=>ce.database(r||void 0));return ae&&ke.useEmulator(...ae),ke},[ae])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>FW(this.database,e));let s=r;return i&&(s=i(r)),function(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:$W(i,"update"),set:$W(i,"set"),push:r=>i.push(r),remove:Fke(i),snapshotChanges:r=>jW(n,r,e).pipe(zn.iC),stateChanges:r=>qW(n,r,e).pipe(zn.iC),auditTrail:r=>function(n,t,e){return function(n,t,e){return function(n,t){return Uh(n,"value","on",t).pipe((0,qe.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(h1(t),(0,qe.U)(([r,s])=>{const c=r.lastKeyToLoad,d=s.map(h=>h.key);return{actions:s,lastKeyToLoad:c,loadedKeys:d}}),(0,ci.e)((t,e)=>{let i=!1;t.subscribe(new Mn.Q(e,s=>(i||(i=!(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad))(s)))&&e.next(s)))}),(0,qe.U)(r=>r.actions))}(n,qW(n,t).pipe(d3((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(zn.iC),valueChanges:(r,s)=>jW(n,r,e).pipe((0,qe.U)(d=>d.map(h=>s&&s.idField?Object.assign(Object.assign({},h.payload.val()),{[s.idField]:h.key}):h.payload.val())),zn.iC)}}(s,this)}object(e){return function(n,t){return{query:n,snapshotChanges:()=>WW(n,t.schedulers.outsideAngular)().pipe(zn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>WW(n,t.schedulers.outsideAngular)().pipe(zn.iC,(0,qe.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>FW(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(U1.Dh),o.LFG(U1.xv,8),o.LFG(Gke,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(zn.HU),o.LFG(jke,8),o.LFG(iT,8),o.LFG(KL,8),o.LFG(QL,8),o.LFG(JL,8),o.LFG(XL,8),o.LFG(eT,8),o.LFG(tT,8),o.LFG(fh,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),$ke=(()=>{class n{constructor(){bq.Z.registerVersion("angularfire",zn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[qke]}),n})();function rT(){return(0,ci.e)((n,t)=>{let e,i=!1;n.subscribe(new Mn.Q(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}var dt,Wke="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Y4={},sT=sT||{},$t=Wke||self;function ov(){}function oT(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Gh(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var aT="closure_uid_"+(1e9*Math.random()>>>0),Yke=0;function Kke(n,t,e){return n.call.apply(n.bind,arguments)}function Qke(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function D2(n,t,e){return(D2=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Kke:Qke).apply(null,arguments)}function av(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function A2(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return t.prototype[r].apply(i,c)}}function zc(){this.s=this.s,this.o=this.o}var Xke={};zc.prototype.s=!1,zc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,aT)&&n[aT]||(n[aT]=++Yke)}(this);delete Xke[n]}},zc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ZW=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},YW=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&t.call(e,r[s],s,n)};function KW(n){return Array.prototype.concat.apply([],arguments)}function lT(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function lv(n){return/^[\s\xa0]*$/.test(n)}var yr,QW=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function vr(n,t){return-1!=n.indexOf(t)}function cT(n,t){return n<t?-1:n>t?1:0}e:{var JW=$t.navigator;if(JW){var XW=JW.userAgent;if(XW){yr=XW;break e}}yr=""}function uT(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function eZ(n){const t={};for(const e in n)t[e]=n[e];return t}var tZ="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nZ(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<tZ.length;s++)e=tZ[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function dT(n){return dT[" "](n),n}dT[" "]=ov;var cv,nVe=vr(yr,"Opera"),Ru=vr(yr,"Trident")||vr(yr,"MSIE"),iZ=vr(yr,"Edge"),fT=iZ||Ru,rZ=vr(yr,"Gecko")&&!(vr(yr.toLowerCase(),"webkit")&&!vr(yr,"Edge"))&&!(vr(yr,"Trident")||vr(yr,"MSIE"))&&!vr(yr,"Edge"),iVe=vr(yr.toLowerCase(),"webkit")&&!vr(yr,"Edge");function sZ(){var n=$t.document;return n?n.documentMode:void 0}e:{var hT="",pT=function(){var n=yr;return rZ?/rv:([^\);]+)(\)|;)/.exec(n):iZ?/Edge\/([\d\.]+)/.exec(n):Ru?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):iVe?/WebKit\/(\S+)/.exec(n):nVe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(pT&&(hT=pT?pT[1]:""),Ru){var gT=sZ();if(null!=gT&&gT>parseFloat(hT)){cv=String(gT);break e}}cv=hT}var rVe={};function sVe(){return function(n){var t=rVe;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let n=0;const t=QW(String(cv)).split("."),e=QW("9").split("."),i=Math.max(t.length,e.length);for(let c=0;0==n&&c<i;c++){var r=t[c]||"",s=e[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=cT(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||cT(0==r[2].length,0==s[2].length)||cT(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n}()}()}var oVe=$t.document&&Ru&&(sZ()||parseInt(cv,10))||void 0,aVe=function(){if(!$t.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$t.addEventListener("test",ov,t),$t.removeEventListener("test",ov,t)}catch(e){}return n}();function Z2(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function jh(n,t){if(Z2.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(rZ){e:{try{dT(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:lVe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&jh.Z.h.call(this)}}Z2.prototype.h=function(){this.defaultPrevented=!0},A2(jh,Z2);var lVe={2:"touch",3:"pen",4:"mouse"};jh.prototype.h=function(){jh.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var qh="closure_listenable_"+(1e6*Math.random()|0),cVe=0;function uVe(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++cVe,this.ca=this.fa=!1}function uv(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function dv(n){this.src=n,this.g={},this.h=0}function mT(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=ZW(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(uv(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function _T(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==t&&s.capture==!!e&&s.ia==i)return r}return-1}dv.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=_T(n,t,i,r);return-1<c?(t=n[c],e||(t.fa=!1)):((t=new uVe(t,this.src,s,!!i,r)).fa=e,n.push(t)),t};var vT="closure_lm_"+(1e6*Math.random()|0),yT={};function aZ(n,t,e,i,r){if(i&&i.once)return cZ(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)aZ(n,t[s],e,i,r);return null}return e=xT(e),n&&n[qh]?n.N(t,e,Gh(i)?!!i.capture:!!i,r):lZ(n,t,e,!1,i,r)}function lZ(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var c=Gh(r)?!!r.capture:!!r,d=MT(n);if(d||(n[vT]=d=new dv(n)),(e=d.add(t,e,i,c,s)).proxy)return e;if(i=function(){var t=fVe;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)aVe||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(dZ(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function cZ(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)cZ(n,t[s],e,i,r);return null}return e=xT(e),n&&n[qh]?n.O(t,e,Gh(i)?!!i.capture:!!i,r):lZ(n,t,e,!0,i,r)}function uZ(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)uZ(n,t[s],e,i,r);else i=Gh(i)?!!i.capture:!!i,e=xT(e),n&&n[qh]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=_T(s=n.g[t],e,i,r))&&(uv(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=MT(n))&&(t=n.g[t.toString()],n=-1,t&&(n=_T(t,e,i,r)),(e=-1<n?t[n]:null)&&bT(e))}function bT(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[qh])mT(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(dZ(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=MT(t))?(mT(e,n),0==e.h&&(e.src=null,t[vT]=null)):uv(n)}}}function dZ(n){return n in yT?yT[n]:yT[n]="on"+n}function fVe(n,t){if(n.ca)n=!0;else{t=new jh(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&bT(n),n=e.call(i,t)}return n}function MT(n){return(n=n[vT])instanceof dv?n:null}var wT="__closure_events_fn_"+(1e9*Math.random()>>>0);function xT(n){return"function"==typeof n?n:(n[wT]||(n[wT]=function(t){return n.handleEvent(t)}),n[wT])}function o2(){zc.call(this),this.i=new dv(this),this.P=this,this.I=null}function I2(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Z2(t,n);else if(t instanceof Z2)t.target=t.target||n;else{var r=t;nZ(t=new Z2(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var c=t.g=e[s];r=fv(c,i,!0,t)&&r}if(r=fv(c=t.g=n,i,!0,t)&&r,r=fv(c,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=fv(c=t.g=e[s],i,!1,t)&&r}function fv(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var c=t[s];if(c&&!c.ca&&c.capture==e){var d=c.listener,h=c.ia||c.src;c.fa&&mT(n.i,c),r=!1!==d.call(h,i)&&r}}return r&&!i.defaultPrevented}A2(o2,zc),o2.prototype[qh]=!0,o2.prototype.removeEventListener=function(n,t,e,i){uZ(this,n,t,e,i)},o2.prototype.M=function(){if(o2.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)uv(e[i]);delete n.g[t],n.h--}}this.I=null},o2.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},o2.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var ST=$t.JSON.stringify;function hVe(){var n=hZ;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var LT,fZ=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new gVe,n=>n.reset());class gVe{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function CVe(n){$t.setTimeout(()=>{throw n},0)}function ET(n,t){LT||function(){var n=$t.Promise.resolve(void 0);LT=function(){n.then(_Ve)}}(),TT||(LT(),TT=!0),hZ.add(n,t)}var TT=!1,hZ=new class{constructor(){this.h=this.g=null}add(t,e){const i=fZ.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function _Ve(){for(var n;n=hVe();){try{n.h.call(n.g)}catch(e){CVe(e)}var t=fZ;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}TT=!1}function hv(n,t){o2.call(this),this.h=n||1,this.g=t||$t,this.j=D2(this.kb,this),this.l=Date.now()}function DT(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function AT(n,t,e){if("function"==typeof n)e&&(n=D2(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=D2(n.handleEvent,n)}return 2147483647<Number(t)?-1:$t.setTimeout(n,t||0)}function pZ(n){n.g=AT(()=>{n.g=null,n.i&&(n.i=!1,pZ(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}A2(hv,o2),(dt=hv.prototype).da=!1,dt.S=null,dt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),I2(this,"tick"),this.da&&(DT(this),this.start()))}},dt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.M=function(){hv.Z.M.call(this),DT(this),delete this.g};class vVe extends zc{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:pZ(this)}M(){super.M(),this.g&&($t.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $h(n){zc.call(this),this.h=n,this.g={}}A2($h,zc);var gZ=[];function CZ(n,t,e,i){Array.isArray(e)||(e&&(gZ[0]=e.toString()),e=gZ);for(var r=0;r<e.length;r++){var s=aZ(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function mZ(n){uT(n.g,function(t,e){this.g.hasOwnProperty(e)&&bT(t)},n),n.g={}}function pv(){this.g=!0}function Ou(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return ST(e)}catch(d){return t}}(n,e)+(i?" "+i:"")})}$h.prototype.M=function(){$h.Z.M.call(this),mZ(this)},$h.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pv.prototype.Aa=function(){this.g=!1},pv.prototype.info=function(){};var s0={},_Z=null;function gv(){return _Z=_Z||new o2}function vZ(n){Z2.call(this,s0.Ma,n)}function Wh(n){const t=gv();I2(t,new vZ(t,n))}function yZ(n,t){Z2.call(this,s0.STAT_EVENT,n),this.stat=t}function br(n){const t=gv();I2(t,new yZ(t,n))}function bZ(n,t){Z2.call(this,s0.Na,n),this.size=t}function Zh(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $t.setTimeout(function(){n()},t)}s0.Ma="serverreachability",A2(vZ,Z2),s0.STAT_EVENT="statevent",A2(yZ,Z2),s0.Na="timingevent",A2(bZ,Z2);var Cv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},MZ={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function IT(){}function xZ(){}IT.prototype.h=null;var VT,Yh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function NT(){Z2.call(this,"d")}function kT(){Z2.call(this,"c")}function mv(){}function Kh(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new $h(this),this.P=xVe,this.W=new hv(n=fT?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new SZ}function SZ(){this.i=null,this.g="",this.h=!1}A2(NT,Z2),A2(kT,Z2),A2(mv,IT),mv.prototype.g=function(){return new XMLHttpRequest},mv.prototype.i=function(){return{}},VT=new mv;var xVe=45e3,HT={},_v={};function RT(n,t,e){n.K=1,n.v=wv(K4(t)),n.s=e,n.U=!0,EZ(n,null)}function EZ(n,t){n.F=Date.now(),Qh(n),n.A=K4(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),HZ(e.h,"t",i),n.C=0,e=n.l.H,n.h=new SZ,n.g=rY(n.l,e?t:null,!n.s),0<n.O&&(n.L=new vVe(D2(n.Ia,n,n.g),n.O)),CZ(n.V,n.g,"readystatechange",n.gb),t=n.H?eZ(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Wh(1),function(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",d=s.split("&"),h=0;h<d.length;h++){var _=d[h].split("=");if(1<_.length){var M=_[0];_=_[1];var x=M.split("_");c=2<=x.length&&"type"==x[1]?c+(M+"=")+_+"&":c+(M+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function LZ(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function TZ(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=SVe(n,e),r==_v){4==t&&(n.o=4,br(14),i=!1),Ou(n.j,n.m,null,"[Incomplete Response]");break}if(r==HT){n.o=4,br(15),Ou(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Ou(n.j,n.m,r,null),OT(n,r)}LZ(n)&&r!=_v&&r!=HT&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,br(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),ZT(t),t.L=!0,br(11))):(Ou(n.j,n.m,e,"[Invalid Chunked Response]"),o0(n),Jh(n))}function SVe(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?_v:(e=Number(t.substring(e,i)),isNaN(e)?HT:(i+=1)+e>t.length?_v:(t=t.substr(i,e),n.C=i+e,t))}function Qh(n){n.Y=Date.now()+n.P,DZ(n,n.P)}function DZ(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Zh(D2(n.eb,n),t)}function vv(n){n.B&&($t.clearTimeout(n.B),n.B=null)}function Jh(n){0==n.l.G||n.I||eY(n.l,n)}function o0(n){vv(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,DT(n.W),mZ(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function OT(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||FT(e.i,n)))if(e.I=n.N,!n.J&&FT(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(_){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=Zh(D2(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;Dv(e),Lv(e)}WT(e),br(18)}if(1>=PZ(e.i)&&e.ka){try{e.ka()}catch(_){}e.ka=void 0}}else c0(e,11)}else if((n.J||e.g==n)&&Dv(e),!lv(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let _=r[t];if(e.U=_[0],_=_[1],2==e.G)if("c"==_[0]){e.J=_[1],e.la=_[2];const M=_[3];null!=M&&(e.ma=M,e.h.info("VER="+e.ma));const x=_[4];null!=x&&(e.za=x,e.h.info("SVER="+e.za));const D=_[5];null!=D&&"number"==typeof D&&0<D&&(e.K=i=1.5*D,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const N=n.g;if(N){const H=N.g?N.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(H){var s=i.i;!s.g&&(vr(H,"spdy")||vr(H,"quic")||vr(H,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(BT(s,s.h),s.h=null))}if(i.D){const U=N.g?N.g.getResponseHeader("X-HTTP-Session-Id"):null;U&&(i.sa=U,Ri(i.F,i.D,U))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var c=n;if((i=e).oa=iY(i,i.H?i.la:null,i.W),c.J){zZ(i.i,c);var d=c,h=i.K;h&&d.setTimeout(h),d.B&&(vv(d),Qh(d)),i.g=c}else JZ(i);0<e.l.length&&Tv(e)}else"stop"!=_[0]&&"close"!=_[0]||c0(e,7);else 3==e.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?c0(e,7):qT(e):"noop"!=_[0]&&e.j&&e.j.wa(_),e.A=0)}Wh(4)}catch(_){}}function PT(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(oT(n)||"string"==typeof n)YW(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(oT(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(oT(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}}function Pu(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Pu)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function zT(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];a0(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)a0(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function a0(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(dt=Kh.prototype).setTimeout=function(n){this.P=n},dt.gb=function(n){n=n.target;const t=this.L;t&&3==Q4(n)?t.l():this.Ia(n)},dt.Ia=function(n){try{if(n==this.g)e:{const M=Q4(this.g);var t=this.g.Da();const x=this.g.ba();if(!(3>M)&&(3!=M||fT||this.g&&(this.h.h||this.g.ga()||WZ(this.g)))){this.I||4!=M||7==t||Wh(8==t||0>=x?3:2),vv(this);var e=this.g.ba();this.N=e;t:if(LZ(this)){var i=WZ(this.g);n="";var r=i.length,s=4==Q4(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){o0(this),Jh(this);var c="";break t}this.h.i=new $t.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==e,function(n,t,e,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.X,M,e),this.i){if(this.$&&!this.J){t:{if(this.g){var d,h=this.g;if((d=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lv(d)){var _=d;break t}}_=null}if(!(e=_)){this.i=!1,this.o=3,br(12),o0(this),Jh(this);break e}Ou(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,OT(this,e)}this.U?(TZ(this,M,c),fT&&this.i&&3==M&&(CZ(this.V,this.W,"tick",this.fb),this.W.start())):(Ou(this.j,this.m,c,null),OT(this,c)),4==M&&o0(this),this.i&&!this.I&&(4==M?eY(this.l,this):(this.i=!1,Qh(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,br(12)):(this.o=0,br(13)),o0(this),Jh(this)}}}catch(M){}},dt.fb=function(){if(this.g){var n=Q4(this.g),t=this.g.ga();this.C<t.length&&(vv(this),TZ(this,n,t),this.i&&4!=n&&Qh(this))}},dt.cancel=function(){this.I=!0,o0(this)},dt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Wh(3),br(17)),o0(this),this.o=2,Jh(this)):DZ(this,this.Y-n)},(dt=Pu.prototype).R=function(){zT(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},dt.T=function(){return zT(this),this.g.concat()},dt.get=function(n,t){return a0(this.h,n)?this.h[n]:t},dt.set=function(n,t){a0(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},dt.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],s=this.get(r);n.call(t,s,r,this)}};var AZ=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function l0(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof l0){this.g=void 0!==t?t:n.g,yv(this,n.j),this.s=n.s,bv(this,n.i),Mv(this,n.m),this.l=n.l,t=n.h;var e=new t9;e.i=t.i,t.g&&(e.g=new Pu(t.g),e.h=t.h),IZ(this,e),this.o=n.o}else n&&(e=String(n).match(AZ))?(this.g=!!t,yv(this,e[1]||"",!0),this.s=Xh(e[2]||""),bv(this,e[3]||"",!0),Mv(this,e[4]),this.l=Xh(e[5]||"",!0),IZ(this,e[6]||"",!0),this.o=Xh(e[7]||"")):(this.g=!!t,this.h=new t9(null,this.g))}function K4(n){return new l0(n)}function yv(n,t,e){n.j=e?Xh(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function bv(n,t,e){n.i=e?Xh(t,!0):t}function Mv(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function IZ(n,t,e){t instanceof t9?(n.h=t,function(n,t){t&&!n.j&&(Fc(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(kZ(this,i),HZ(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=e9(t,kVe)),n.h=new t9(t,n.g))}function Ri(n,t,e){n.h.set(t,e)}function wv(n){return Ri(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Xh(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function e9(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,AVe),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function AVe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}l0.prototype.toString=function(){var n=[],t=this.j;t&&n.push(e9(t,NZ,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(e9(t,NZ,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(e9(e,"/"==e.charAt(0)?NVe:IVe,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",e9(e,VVe)),n.join("")};var NZ=/[#\/\?@]/g,IVe=/[#\?:]/g,NVe=/[#\?]/g,kVe=/[#\?@]/g,VVe=/#/g;function t9(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Fc(n){n.g||(n.g=new Pu,n.h=0,n.i&&function(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function kZ(n,t){Fc(n),t=zu(n,t),a0(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,a0((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&zT(n)))}function VZ(n,t){return Fc(n),t=zu(n,t),a0(n.g.h,t)}function HZ(n,t,e){kZ(n,t),0<e.length&&(n.i=null,n.g.set(zu(n,t),lT(e)),n.h+=e.length)}function zu(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function RZ(n){this.l=n||OVe,n=$t.PerformanceNavigationTiming?0<(n=$t.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($t.g&&$t.g.Ea&&$t.g.Ea()&&$t.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=t9.prototype).add=function(n,t){Fc(this),this.i=null,n=zu(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},dt.forEach=function(n,t){Fc(this),this.g.forEach(function(e,i){YW(e,function(r){n.call(t,r,i,this)},this)},this)},dt.T=function(){Fc(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],s=0;s<r.length;s++)e.push(t[i]);return e},dt.R=function(n){Fc(this);var t=[];if("string"==typeof n)VZ(this,n)&&(t=KW(t,this.g.get(zu(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=KW(t,n[e])}return t},dt.set=function(n,t){return Fc(this),this.i=null,VZ(this,n=zu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},dt.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var c=r;""!==i[s]&&(c+="="+encodeURIComponent(String(i[s]))),n.push(c)}}return this.i=n.join("&")};var OVe=10;function OZ(n){return!!n.h||!!n.g&&n.g.size>=n.j}function PZ(n){return n.h?1:n.g?n.g.size:0}function FT(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function BT(n,t){n.g?n.g.add(t):n.h=t}function zZ(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function FZ(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return lT(n.i)}function UT(){}function PVe(){this.g=new UT}function zVe(n,t,e){const i=e||"";try{PT(n,function(r,s){let c=r;Gh(r)&&(c=ST(r)),t.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function xv(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(s){}}function n9(n){this.l=n.$b||null,this.j=n.ib||!1}function Sv(n,t){o2.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=GT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}RZ.prototype.cancel=function(){if(this.i=FZ(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},UT.prototype.stringify=function(n){return $t.JSON.stringify(n,void 0)},UT.prototype.parse=function(n){return $t.JSON.parse(n,void 0)},A2(n9,IT),n9.prototype.g=function(){return new Sv(this.l,this.j)},n9.prototype.i=function(n){return function(){return n}}({}),A2(Sv,o2);var GT=0;function BZ(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function i9(n){n.readyState=4,n.l=null,n.j=null,n.A=null,r9(n)}function r9(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=Sv.prototype).open=function(n,t){if(this.readyState!=GT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,r9(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||$t).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,i9(this)),this.readyState=GT},dt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,r9(this)),this.g&&(this.readyState=3,r9(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==$t.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;BZ(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},dt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?i9(this):r9(this),3==this.readyState&&BZ(this)}},dt.Ua=function(n){this.g&&(this.response=this.responseText=n,i9(this))},dt.Ta=function(n){this.g&&(this.response=n,i9(this))},dt.ha=function(){this.g&&i9(this)},dt.setRequestHeader=function(n,t){this.v.append(n,t)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Sv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var BVe=$t.JSON.parse;function L1(n){o2.call(this),this.headers=new Pu,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=UZ,this.K=this.L=!1}A2(L1,o2);var UZ="",UVe=/^https?$/i,GVe=["POST","PUT"];function qVe(n){return"content-type"==n.toLowerCase()}function GZ(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,jZ(n),Ev(n)}function jZ(n){n.D||(n.D=!0,I2(n,"complete"),I2(n,"error"))}function qZ(n){if(n.h&&void 0!==sT&&(!n.C[1]||4!=Q4(n)||2!=n.ba()))if(n.v&&4==Q4(n))AT(n.Fa,0,n);else if(I2(n,"readystatechange"),4==Q4(n)){n.h=!1;try{const d=n.ba();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===d){var r=String(n.H).match(AZ)[1]||null;if(!r&&$t.self&&$t.self.location){var s=$t.self.location.protocol;r=s.substr(0,s.length-1)}i=!UVe.test(r?r.toLowerCase():"")}e=i}if(e)I2(n,"complete"),I2(n,"success");else{n.m=6;try{var c=2<Q4(n)?n.g.statusText:""}catch(h){c=""}n.j=c+" ["+n.ba()+"]",jZ(n)}}finally{Ev(n)}}}function Ev(n,t){if(n.g){$Z(n);const e=n.g,i=n.C[0]?ov:null;n.g=null,n.C=null,t||I2(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function $Z(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&($t.clearTimeout(n.A),n.A=null)}function Q4(n){return n.g?n.g.readyState:0}function WZ(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case UZ:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function jT(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function(n){let t="";return uT(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Ri(n,t,e))}function s9(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function ZZ(n){this.za=0,this.l=[],this.h=new pv,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=s9("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=s9("baseRetryDelayMs",5e3,n),this.$a=s9("retryDelaySeedMs",1e4,n),this.Ya=s9("forwardChannelMaxRetries",2,n),this.ra=s9("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new RZ(n&&n.concurrentRequestLimit),this.Ca=new PVe,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function qT(n){if(YZ(n),3==n.G){var t=n.V++,e=K4(n.F);Ri(e,"SID",n.J),Ri(e,"RID",t),Ri(e,"TYPE","terminate"),o9(n,e),(t=new Kh(n,n.h,t,void 0)).K=2,t.v=wv(K4(e)),e=!1,$t.navigator&&$t.navigator.sendBeacon&&(e=$t.navigator.sendBeacon(t.v.toString(),"")),!e&&$t.Image&&((new Image).src=t.v,e=!0),e||(t.g=rY(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Qh(t)}nY(n)}function Lv(n){n.g&&(ZT(n),n.g.cancel(),n.g=null)}function YZ(n){Lv(n),n.u&&($t.clearTimeout(n.u),n.u=null),Dv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&$t.clearTimeout(n.m),n.m=null)}function $T(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&Tv(n)}function Tv(n){OZ(n.i)||n.m||(n.m=!0,ET(n.Ha,n),n.C=0)}function KZ(n,t){var e;e=t?t.m:n.V++;const i=K4(n.F);Ri(i,"SID",n.J),Ri(i,"RID",e),Ri(i,"AID",n.U),o9(n,i),n.o&&n.s&&jT(i,n.o,n.s),e=new Kh(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=QZ(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),BT(n.i,e),RT(e,i,t)}function o9(n,t){n.j&&PT({},function(e,i){Ri(t,i,e)})}function QZ(n,t,e){e=Math.min(n.l.length,e);var i=n.j?D2(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const c=["count="+e];-1==s?0<e?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let d=!0;for(let h=0;h<e;h++){let _=r[h].h;const M=r[h].g;if(_-=s,0>_)s=Math.max(0,r[h].h-100),d=!1;else try{zVe(M,c,"req"+_+"_")}catch(x){i&&i(M)}}if(d){i=c.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function JZ(n){n.g||n.u||(n.Y=1,ET(n.Ga,n),n.A=0)}function WT(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Zh(D2(n.Ga,n),tY(n,n.A)),n.A++,0))}function ZT(n){null!=n.B&&($t.clearTimeout(n.B),n.B=null)}function XZ(n){n.g=new Kh(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=K4(n.oa);Ri(t,"RID","rpc"),Ri(t,"SID",n.J),Ri(t,"CI",n.N?"0":"1"),Ri(t,"AID",n.U),o9(n,t),Ri(t,"TYPE","xmlhttp"),n.o&&n.s&&jT(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=wv(K4(t)),e.s=null,e.U=!0,EZ(e,n)}function Dv(n){null!=n.v&&($t.clearTimeout(n.v),n.v=null)}function eY(n,t){var e=null;if(n.g==t){Dv(n),ZT(n),n.g=null;var i=2}else{if(!FT(n.i,t))return;e=t.D,zZ(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;I2(i=gv(),new bZ(i,e,t,r)),Tv(n)}else JZ(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function(n,t){return!(PZ(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Zh(D2(n.Ha,n,t),tY(n,n.C)),n.C++,0)))}(n,t)||2==i&&WT(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:c0(n,5);break;case 4:c0(n,10);break;case 3:c0(n,6);break;default:c0(n,2)}}function tY(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function c0(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=D2(n.jb,n);e||(e=new l0("//www.google.com/images/cleardot.gif"),$t.location&&"http"==$t.location.protocol||yv(e,"https"),wv(e)),function(n,t){const e=new pv;if($t.Image){const i=new Image;i.onload=av(xv,e,i,"TestLoadImage: loaded",!0,t),i.onerror=av(xv,e,i,"TestLoadImage: error",!1,t),i.onabort=av(xv,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=av(xv,e,i,"TestLoadImage: timeout",!1,t),$t.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else br(2);n.G=0,n.j&&n.j.va(t),nY(n),YZ(n)}function nY(n){n.G=0,n.I=-1,n.j&&((0!=FZ(n.i).length||0!=n.l.length)&&(n.i.i.length=0,lT(n.l),n.l.length=0),n.j.ua())}function iY(n,t,e){let i=function(n){return n instanceof l0?K4(n):new l0(n,void 0)}(e);if(""!=i.i)t&&bv(i,t+"."+i.i),Mv(i,i.m);else{const r=$t.location;i=function(n,t,e,i){var r=new l0(null,void 0);return n&&yv(r,n),t&&bv(r,t),e&&Mv(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&uT(n.aa,function(r,s){Ri(i,s,r)}),e=n.sa,(t=n.D)&&e&&Ri(i,t,e),Ri(i,"VER",n.ma),o9(n,i),i}function rY(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new L1(e&&n.Ba&&!n.qa?new n9({ib:!0}):n.qa)).L=n.H,t}function sY(){}function Av(){if(Ru&&!(10<=Number(oVe)))throw Error("Environmental error: no available transport.")}function Os(n,t){o2.call(this),this.g=new ZZ(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!lv(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!lv(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Fu(this)}function oY(n){NT.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function aY(){kT.call(this),this.status=1}function Fu(n){this.g=n}(dt=L1.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():VT.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:VT),this.g.onreadystatechange=D2(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void GZ(this,s)}n=e||"";const r=new Pu(this.headers);i&&PT(i,function(s,c){r.set(c,s)}),i=function(n){e:{var t=qVe;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=$t.FormData&&n instanceof $t.FormData,!(0<=ZW(GVe,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,c){this.g.setRequestHeader(c,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$Z(this),0<this.B&&((this.K=function(n){return Ru&&sVe()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=D2(this.pa,this)):this.A=AT(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){GZ(this,s)}},dt.pa=function(){void 0!==sT&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,I2(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,I2(this,"complete"),I2(this,"abort"),Ev(this))},dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ev(this,!0)),L1.Z.M.call(this)},dt.Fa=function(){this.s||(this.F||this.v||this.l?qZ(this):this.cb())},dt.cb=function(){qZ(this)},dt.ba=function(){try{return 2<Q4(this)?this.g.status:-1}catch(n){return-1}},dt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},dt.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),BVe(t)}},dt.Da=function(){return this.m},dt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=ZZ.prototype).ma=8,dt.G=1,dt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},dt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Kh(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=eZ(s),nZ(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=QZ(this,r,t),Ri(e=K4(this.F),"RID",n),Ri(e,"CVER",22),this.D&&Ri(e,"X-HTTP-Session-Id",this.D),o9(this,e),this.o&&s&&jT(e,this.o,s),BT(this.i,r),this.Ra&&Ri(e,"TYPE","init"),this.ja?(Ri(e,"$req",t),Ri(e,"SID","null"),r.$=!0,RT(r,e,null)):RT(r,e,t),this.G=2}}else 3==this.G&&(n?KZ(this,n):0==this.l.length||OZ(this.i)||KZ(this))},dt.Ga=function(){if(this.u=null,XZ(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Zh(D2(this.bb,this),n)}},dt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,br(10),Lv(this),XZ(this))},dt.ab=function(){null!=this.v&&(this.v=null,Lv(this),WT(this),br(19))},dt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),br(2)):(this.h.info("Failed to ping google.com"),br(1))},(dt=sY.prototype).xa=function(){},dt.wa=function(){},dt.va=function(){},dt.ua=function(){},dt.Oa=function(){},Av.prototype.g=function(n,t){return new Os(n,t)},A2(Os,o2),Os.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),ET(D2(n.hb,n,t))),br(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=iY(n,null,n.W),Tv(n)},Os.prototype.close=function(){qT(this.g)},Os.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,$T(this.g,t)}else this.v?((t={}).__data__=ST(n),$T(this.g,t)):$T(this.g,n)},Os.prototype.M=function(){this.g.j=null,delete this.j,qT(this.g),delete this.g,Os.Z.M.call(this)},A2(oY,NT),A2(aY,kT),A2(Fu,sY),Fu.prototype.xa=function(){I2(this.g,"a")},Fu.prototype.wa=function(n){I2(this.g,new oY(n))},Fu.prototype.va=function(n){I2(this.g,new aY(n))},Fu.prototype.ua=function(){I2(this.g,"b")},Av.prototype.createWebChannel=Av.prototype.g,Os.prototype.send=Os.prototype.u,Os.prototype.open=Os.prototype.m,Os.prototype.close=Os.prototype.close,Cv.NO_ERROR=0,Cv.TIMEOUT=8,Cv.HTTP_ERROR=6,MZ.COMPLETE="complete",xZ.EventType=Yh,Yh.OPEN="a",Yh.CLOSE="b",Yh.ERROR="c",Yh.MESSAGE="d",o2.prototype.listen=o2.prototype.N,L1.prototype.listenOnce=L1.prototype.O,L1.prototype.getLastError=L1.prototype.La,L1.prototype.getLastErrorCode=L1.prototype.Da,L1.prototype.getStatus=L1.prototype.ba,L1.prototype.getResponseJson=L1.prototype.Qa,L1.prototype.getResponseText=L1.prototype.ga,L1.prototype.send=L1.prototype.ea;var ZVe=Y4.createWebChannelTransport=function(){return new Av},YVe=Y4.getStatEventTarget=function(){return gv()},YT=Y4.ErrorCode=Cv,KVe=Y4.EventType=MZ,QVe=Y4.Event=s0,lY=Y4.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},JVe=Y4.FetchXmlHttpFactory=n9,Iv=Y4.WebChannel=xZ,XVe=Y4.XhrIo=L1;const cY="@firebase/firestore";class N2{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}N2.UNAUTHENTICATED=new N2(null),N2.GOOGLE_CREDENTIALS=new N2("google-credentials-uid"),N2.FIRST_PARTY=new N2("first-party-uid"),N2.MOCK_USER=new N2("mock-user");let Bu="9.6.10";const Bc=new ya.Yd("@firebase/firestore");function KT(){return Bc.logLevel}function ze(n,...t){if(Bc.logLevel<=ya.in.DEBUG){const e=t.map(QT);Bc.debug(`Firestore (${Bu}): ${n}`,...e)}}function T1(n,...t){if(Bc.logLevel<=ya.in.ERROR){const e=t.map(QT);Bc.error(`Firestore (${Bu}): ${n}`,...e)}}function a9(n,...t){if(Bc.logLevel<=ya.in.WARN){const e=t.map(QT);Bc.warn(`Firestore (${Bu}): ${n}`,...e)}}function QT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function ft(n="Unexpected state"){const t=`FIRESTORE (${Bu}) INTERNAL ASSERTION FAILED: `+n;throw T1(t),new Error(t)}function Bt(n,t){n||ft()}function Je(n,t){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends R.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class a2{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class uY{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class nHe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(N2.UNAUTHENTICATED))}shutdown(){}}class iHe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class rHe{constructor(t){this.t=t,this.currentUser=N2.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=_=>this.i!==r?(r=this.i,e(_)):Promise.resolve();let c=new a2;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new a2,t.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const _=c;t.enqueueRetryable((0,_e.Z)(function*(){yield _.promise,yield s(i.currentUser)}))},h=_=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(_=>h(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?h(_):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new a2)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Bt("string"==typeof i.accessToken),new uY(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Bt(null===t||"string"==typeof t),new N2(t)}}class sHe{constructor(t,e,i){this.type="FirstParty",this.user=N2.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class oHe{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new sHe(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(N2.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dY{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aHe{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=s=>{null!=s.error&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.p;return this.p=s.token,ze("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?r(s):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Bt("string"==typeof e.token),this.p=e.token,new dY(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ps{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.I(i),this.T=i=>e.writeSequenceNumber(i))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function lHe(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}Ps.A=-1;class fY{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=lHe(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function dn(n,t){return n<t?-1:n>t?1:0}function Uu(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function hY(n){return n+"\0"}class y1{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ie(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ie(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ie(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ie(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return y1.fromMillis(Date.now())}static fromDate(t){return y1.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new y1(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?dn(this.nanoseconds,t.nanoseconds):dn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ht{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ht(t)}static min(){return new Ht(new y1(0,0))}static max(){return new Ht(new y1(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function pY(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function u0(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function gY(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class l9{constructor(t,e,i){void 0===e?e=0:e>t.length&&ft(),void 0===i?i=t.length-e:i>t.length-e&&ft(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===l9.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof l9?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),c=e.get(r);if(s<c)return-1;if(s>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class wn extends l9{construct(t,e,i){return new wn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ie(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new wn(e)}static emptyPath(){return new wn([])}}const cHe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class l2 extends l9{construct(t,e,i){return new l2(t,e,i)}static isValidIdentifier(t){return cHe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),l2.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new l2(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Ie(de.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const d=t[r];if("\\"===d){if(r+1===t.length)throw new Ie(de.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[r+1];if("\\"!==h&&"."!==h&&"`"!==h)throw new Ie(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(s(),r++)}if(s(),c)throw new Ie(de.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new l2(e)}static emptyPath(){return new l2([])}}class Gu{constructor(t){this.fields=t,t.sort(l2.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Uu(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class G1{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new G1(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new G1(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return dn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}G1.EMPTY_BYTE_STRING=new G1("");const dHe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uc(n){if(Bt(!!n),"string"==typeof n){let t=0;const e=dHe.exec(n);if(Bt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:c1(n.seconds),nanos:c1(n.nanos)}}function c1(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function d0(n){return"string"==typeof n?G1.fromBase64String(n):G1.fromUint8Array(n)}function JT(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function CY(n){const t=n.mapValue.fields.__previous_value__;return JT(t)?CY(t):t}function c9(n){const t=Uc(n.mapValue.fields.__local_write_time__.timestampValue);return new y1(t.seconds,t.nanos)}class fHe{constructor(t,e,i,r,s,c,d,h){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=h}}class J4{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new J4("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof J4&&t.projectId===this.projectId&&t.database===this.database}}function f0(n){return null==n}function u9(n){return 0===n&&1/n==-1/0}function mY(n){return"number"==typeof n&&Number.isInteger(n)&&!u9(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class $e{constructor(t){this.path=t}static fromPath(t){return new $e(wn.fromString(t))}static fromName(t){return new $e(wn.fromString(t).popFirst(5))}static empty(){return new $e(wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===wn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return wn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new $e(new wn(t.slice()))}}const _Y={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},vY={nullValue:"NULL_VALUE"};function h0(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?JT(n)?4:wY(n)?9:10:ft()}function D3(n,t){if(n===t)return!0;const e=h0(n);if(e!==h0(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return c9(n).isEqual(c9(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Uc(i.timestampValue),c=Uc(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,d0(n.bytesValue).isEqual(d0(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return c1(i.geoPointValue.latitude)===c1(r.geoPointValue.latitude)&&c1(i.geoPointValue.longitude)===c1(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return c1(i.integerValue)===c1(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=c1(i.doubleValue),c=c1(r.doubleValue);return s===c?u9(s)===u9(c):isNaN(s)&&isNaN(c)}return!1}(n,t);case 9:return Uu(n.arrayValue.values||[],t.arrayValue.values||[],D3);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(pY(s)!==pY(c))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===c[d]||!D3(s[d],c[d])))return!1;return!0}(n,t);default:return ft()}var r}function d9(n,t){return void 0!==(n.values||[]).find(e=>D3(e,t))}function Gc(n,t){if(n===t)return 0;const e=h0(n),i=h0(t);if(e!==i)return dn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return dn(n.booleanValue,t.booleanValue);case 2:return function(r,s){const c=c1(r.integerValue||r.doubleValue),d=c1(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,t);case 3:return yY(n.timestampValue,t.timestampValue);case 4:return yY(c9(n),c9(t));case 5:return dn(n.stringValue,t.stringValue);case 6:return function(r,s){const c=d0(r),d=d0(s);return c.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const c=r.split("/"),d=s.split("/");for(let h=0;h<c.length&&h<d.length;h++){const _=dn(c[h],d[h]);if(0!==_)return _}return dn(c.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const c=dn(c1(r.latitude),c1(s.latitude));return 0!==c?c:dn(c1(r.longitude),c1(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const c=r.values||[],d=s.values||[];for(let h=0;h<c.length&&h<d.length;++h){const _=Gc(c[h],d[h]);if(_)return _}return dn(c.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){const c=r.fields||{},d=Object.keys(c),h=s.fields||{},_=Object.keys(h);d.sort(),_.sort();for(let M=0;M<d.length&&M<_.length;++M){const x=dn(d[M],_[M]);if(0!==x)return x;const D=Gc(c[d[M]],h[_[M]]);if(0!==D)return D}return dn(d.length,_.length)}(n.mapValue,t.mapValue);default:throw ft()}}function yY(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return dn(n,t);const e=Uc(n),i=Uc(t),r=dn(e.seconds,i.seconds);return 0!==r?r:dn(e.nanos,i.nanos)}function ju(n){return XT(n)}function XT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Uc(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?d0(n.bytesValue).toBase64():"referenceValue"in n?$e.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=XT(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const d of r)c?c=!1:s+=",",s+=`${d}:${XT(i.fields[d])}`;return s+"}"}(n.mapValue):ft();var t}function qu(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function eD(n){return!!n&&"integerValue"in n}function f9(n){return!!n&&"arrayValue"in n}function bY(n){return!!n&&"nullValue"in n}function MY(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Nv(n){return!!n&&"mapValue"in n}function h9(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return u0(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=h9(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=h9(n.arrayValue.values[e]);return t}return Object.assign({},n)}function wY(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function xY(n,t){return void 0===n?t:void 0===t||Gc(n,t)>0?n:t}function SY(n,t){return void 0===n?t:void 0===t||Gc(n,t)<0?n:t}class Y2{constructor(t){this.value=t}static empty(){return new Y2({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Nv(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=h9(e)}setAll(t){let e=l2.emptyPath(),i={},r=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const h=this.getFieldsMap(e);this.applyChanges(h,i,r),i={},r=[],e=d.popLast()}c?i[d.lastSegment()]=h9(c):r.push(d.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());Nv(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return D3(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Nv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){u0(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Y2(h9(this.value))}}function EY(n){const t=[];return u0(n.fields,(e,i)=>{const r=new l2([e]);if(Nv(i)){const s=EY(i.mapValue).fields;if(0===s.length)t.push(r);else for(const c of s)t.push(r.child(c))}else t.push(r)}),new Gu(t)}class Ti{constructor(t,e,i,r,s,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=s,this.documentState=c}static newInvalidDocument(t){return new Ti(t,0,Ht.min(),Ht.min(),Y2.empty(),0)}static newFoundDocument(t,e,i){return new Ti(t,1,e,Ht.min(),i,0)}static newNoDocument(t,e){return new Ti(t,2,e,Ht.min(),Y2.empty(),0)}static newUnknownDocument(t,e){return new Ti(t,3,e,Ht.min(),Y2.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Y2.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Y2.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ti&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ti(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kv{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function tD(n){return n.fields.find(t=>2===t.kind)}function $u(n){return n.fields.filter(t=>2!==t.kind)}kv.UNKNOWN_ID=-1;class Vv{constructor(t,e){this.fieldPath=t,this.kind=e}}class p9{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new p9(0,X4.min())}}function LY(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ht.fromTimestamp(1e9===i?new y1(e+1,0):new y1(e,i));return new X4(r,$e.empty(),t)}function hHe(n){return new X4(n.readTime,n.key,-1)}class X4{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new X4(Ht.min(),$e.empty(),-1)}static max(){return new X4(Ht.max(),$e.empty(),-1)}}function pHe(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=$e.comparator(n.documentKey,t.documentKey),0!==e?e:dn(n.largestBatchId,t.largestBatchId))}class gHe{constructor(t,e=null,i=[],r=[],s=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=d,this.P=null}}function TY(n,t=null,e=[],i=[],r=null,s=null,c=null){return new gHe(n,t,e,i,r,s,c)}function p0(n){const t=Je(n);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+ju(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),f0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>ju(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>ju(i)).join(",")),t.P=e}return t.P}function g9(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!xHe(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!D3(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!IY(n.startAt,t.startAt)&&IY(n.endAt,t.endAt)}function Hv(n){return $e.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Rv(n,t){return n.filters.filter(e=>e instanceof k2&&e.field.isEqual(t))}class k2 extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.V(t,e,i):new mHe(t,e,i):"array-contains"===e?new yHe(t,i):"in"===e?new bHe(t,i):"not-in"===e?new MHe(t,i):"array-contains-any"===e?new wHe(t,i):new k2(t,e,i)}static V(t,e,i){return"in"===e?new _He(t,i):new vHe(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(Gc(e,this.value)):null!==e&&h0(this.value)===h0(e)&&this.v(Gc(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ft()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class mHe extends k2{constructor(t,e,i){super(t,e,i),this.key=$e.fromName(i.referenceValue)}matches(t){const e=$e.comparator(t.key,this.key);return this.v(e)}}class _He extends k2{constructor(t,e){super(t,"in",e),this.keys=DY(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class vHe extends k2{constructor(t,e){super(t,"not-in",e),this.keys=DY(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function DY(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>$e.fromName(i.referenceValue))}class yHe extends k2{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return f9(e)&&d9(e.arrayValue,this.value)}}class bHe extends k2{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&d9(this.value.arrayValue,e)}}class MHe extends k2{constructor(t,e){super(t,"not-in",e)}matches(t){if(d9(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!d9(this.value.arrayValue,e)}}class wHe extends k2{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!f9(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>d9(this.value.arrayValue,i))}}class jc{constructor(t,e){this.position=t,this.inclusive=e}}class Wu{constructor(t,e="asc"){this.field=t,this.dir=e}}function xHe(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function AY(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],c=n.position[r];if(i=s.field.isKeyField()?$e.comparator($e.fromName(c.referenceValue),e.key):Gc(c,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function IY(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!D3(n.position[e],t.position[e]))return!1;return!0}class el{constructor(t,e=null,i=[],r=[],s=null,c="F",d=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=h,this.D=null,this.C=null}}function NY(n,t,e,i,r,s,c,d){return new el(n,t,e,i,r,s,c,d)}function Zu(n){return new el(n)}function Ov(n){return!f0(n.limit)&&"F"===n.limitType}function Pv(n){return!f0(n.limit)&&"L"===n.limitType}function nD(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function iD(n){for(const t of n.filters)if(t.S())return t.field;return null}function rD(n){return null!==n.collectionGroup}function Yu(n){const t=Je(n);if(null===t.D){t.D=[];const e=iD(t),i=nD(t);if(null!==e&&null===i)e.isKeyField()||t.D.push(new Wu(e)),t.D.push(new Wu(l2.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.D.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Wu(l2.keyField(),s))}}}return t.D}function Io(n){const t=Je(n);if(!t.C)if("F"===t.limitType)t.C=TY(t.path,t.collectionGroup,Yu(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of Yu(t))e.push(new Wu(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new jc(t.endAt.position,!t.endAt.inclusive):null,r=t.startAt?new jc(t.startAt.position,!t.startAt.inclusive):null;t.C=TY(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.C}function kY(n,t,e){return new el(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function C9(n,t){return g9(Io(n),Io(t))&&n.limitType===t.limitType}function VY(n){return`${p0(Io(n))}|lt:${n.limitType}`}function sD(n){return`Query(target=${function(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${ju(i.value)}`;var i}).join(", ")}]`),f0(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>ju(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>ju(e)).join(",")),`Target(${t})`}(Io(n))}; limitType=${n.limitType})`}function oD(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):$e.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,c){const d=AY(r,s,c);return r.inclusive?d<=0:d<0}(e.startAt,Yu(e),i)||e.endAt&&!function(r,s,c){const d=AY(r,s,c);return r.inclusive?d>=0:d>0}(e.endAt,Yu(e),i)));var e,i}function HY(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function RY(n){return(t,e)=>{let i=!1;for(const r of Yu(n)){const s=SHe(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function SHe(n,t,e){const i=n.field.isKeyField()?$e.comparator(t.key,e.key):function(r,s,c){const d=s.data.field(r),h=c.data.field(r);return null!==d&&null!==h?Gc(d,h):ft()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ft()}}function OY(n,t){if(n.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:u9(t)?"-0":t}}function PY(n){return{integerValue:""+n}}function zY(n,t){return mY(t)?PY(t):OY(n,t)}class zv{constructor(){this._=void 0}}function EHe(n,t,e){return n instanceof Ku?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof g0?BY(n,t):n instanceof C0?UY(n,t):function(i,r){const s=FY(i,r),c=GY(s)+GY(i.k);return eD(s)&&eD(i.k)?PY(c):OY(i.M,c)}(n,t)}function LHe(n,t,e){return n instanceof g0?BY(n,t):n instanceof C0?UY(n,t):e}function FY(n,t){return n instanceof Qu?eD(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Ku extends zv{}class g0 extends zv{constructor(t){super(),this.elements=t}}function BY(n,t){const e=jY(t);for(const i of n.elements)e.some(r=>D3(r,i))||e.push(i);return{arrayValue:{values:e}}}class C0 extends zv{constructor(t){super(),this.elements=t}}function UY(n,t){let e=jY(t);for(const i of n.elements)e=e.filter(r=>!D3(r,i));return{arrayValue:{values:e}}}class Qu extends zv{constructor(t,e){super(),this.M=t,this.k=e}}function GY(n){return c1(n.integerValue||n.doubleValue)}function jY(n){return f9(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class m9{constructor(t,e){this.field=t,this.transform=e}}class DHe{constructor(t,e){this.version=t,this.transformResults=e}}class D1{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new D1}static exists(t){return new D1(void 0,t)}static updateTime(t){return new D1(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fv(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Bv{}function AHe(n,t,e){n instanceof _9?function(i,r,s){const c=i.value.clone(),d=ZY(i.fieldTransforms,r,s.transformResults);c.setAll(d),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,t,e):n instanceof m0?function(i,r,s){if(!Fv(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=ZY(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(WY(i)),d.setAll(c),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function aD(n,t,e){var r;n instanceof _9?function(i,r,s){if(!Fv(i.precondition,r))return;const c=i.value.clone(),d=YY(i.fieldTransforms,s,r);c.setAll(d),r.convertToFoundDocument($Y(r),c).setHasLocalMutations()}(n,t,e):n instanceof m0?function(i,r,s){if(!Fv(i.precondition,r))return;const c=YY(i.fieldTransforms,s,r),d=r.data;d.setAll(WY(i)),d.setAll(c),r.convertToFoundDocument($Y(r),d).setHasLocalMutations()}(n,t,e):Fv(n.precondition,r=t)&&r.convertToNoDocument(Ht.min())}function IHe(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=FY(i.transform,r||null);null!=s&&(null==e&&(e=Y2.empty()),e.set(i.field,s))}return e||null}function qY(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Uu(e,i,(r,s)=>function(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof g0&&i instanceof g0||e instanceof C0&&i instanceof C0?Uu(e.elements,i.elements,D3):e instanceof Qu&&i instanceof Qu?D3(e.k,i.k):e instanceof Ku&&i instanceof Ku);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function $Y(n){return n.isFoundDocument()?n.version:Ht.min()}class _9 extends Bv{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}}class m0 extends Bv{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}}function WY(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function ZY(n,t,e){const i=new Map;Bt(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],c=s.transform,d=t.data.field(s.field);i.set(s.field,LHe(c,d,e[r]))}return i}function YY(n,t,e){const i=new Map;for(const r of n){const s=r.transform,c=e.data.field(r.field);i.set(r.field,EHe(s,c,t))}return i}class v9 extends Bv{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class lD extends Bv{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class NHe{constructor(t){this.count=t}}var A1,xn;function KY(n){switch(n){default:return ft();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function QY(n){if(void 0===n)return T1("GRPC error has no .code"),de.UNKNOWN;switch(n){case A1.OK:return de.OK;case A1.CANCELLED:return de.CANCELLED;case A1.UNKNOWN:return de.UNKNOWN;case A1.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case A1.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case A1.INTERNAL:return de.INTERNAL;case A1.UNAVAILABLE:return de.UNAVAILABLE;case A1.UNAUTHENTICATED:return de.UNAUTHENTICATED;case A1.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case A1.NOT_FOUND:return de.NOT_FOUND;case A1.ALREADY_EXISTS:return de.ALREADY_EXISTS;case A1.PERMISSION_DENIED:return de.PERMISSION_DENIED;case A1.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case A1.ABORTED:return de.ABORTED;case A1.OUT_OF_RANGE:return de.OUT_OF_RANGE;case A1.UNIMPLEMENTED:return de.UNIMPLEMENTED;case A1.DATA_LOSS:return de.DATA_LOSS;default:return ft()}}(xn=A1||(A1={}))[xn.OK=0]="OK",xn[xn.CANCELLED=1]="CANCELLED",xn[xn.UNKNOWN=2]="UNKNOWN",xn[xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xn[xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xn[xn.NOT_FOUND=5]="NOT_FOUND",xn[xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",xn[xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",xn[xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",xn[xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xn[xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xn[xn.ABORTED=10]="ABORTED",xn[xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",xn[xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",xn[xn.INTERNAL=13]="INTERNAL",xn[xn.UNAVAILABLE=14]="UNAVAILABLE",xn[xn.DATA_LOSS=15]="DATA_LOSS";class qc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){u0(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return gY(this.inner)}size(){return this.innerSize}}class b1{constructor(t,e){this.comparator=t,this.root=e||V2.EMPTY}insert(t,e){return new b1(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,V2.BLACK,null,null))}remove(t){return new b1(this.comparator,this.root.remove(t,this.comparator).copy(null,null,V2.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Uv(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Uv(this.root,t,this.comparator,!1)}getReverseIterator(){return new Uv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Uv(this.root,t,this.comparator,!0)}}class Uv{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class V2{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=null!=i?i:V2.RED,this.left=null!=r?r:V2.EMPTY,this.right=null!=s?s:V2.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new V2(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return V2.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return V2.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,V2.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,V2.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const t=this.left.check();if(t!==this.right.check())throw ft();return t+(this.isRed()?0:1)}}V2.EMPTY=null,V2.RED=!0,V2.BLACK=!1,V2.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(n,t,e,i,r){return this}insert(n,t,e){return new V2(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Di{constructor(t){this.comparator=t,this.data=new b1(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new JY(this.data.getIterator())}getIteratorFrom(t){return new JY(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Di)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Di(this.comparator);return e.data=t,e}}class JY{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ju(n){return n.hasNext()?n.getNext():void 0}const kHe=new b1($e.comparator);function No(){return kHe}const VHe=new b1($e.comparator);function cD(){return VHe}function y9(){return new qc(n=>n.toString(),(n,t)=>n.isEqual(t))}const HHe=new b1($e.comparator),RHe=new Di($e.comparator);function Bn(...n){let t=RHe;for(const e of n)t=t.add(e);return t}const OHe=new Di(dn);function Gv(){return OHe}class b9{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,M9.createSynthesizedTargetChangeForCurrentChange(t,e)),new b9(Ht.min(),i,Gv(),No(),Bn())}}class M9{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e){return new M9(G1.EMPTY_BYTE_STRING,e,Bn(),Bn(),Bn())}}class jv{constructor(t,e,i,r){this.O=t,this.removedTargetIds=e,this.key=i,this.F=r}}class XY{constructor(t,e){this.targetId=t,this.$=e}}class eK{constructor(t,e,i=G1.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class tK{constructor(){this.B=0,this.L=iK(),this.U=G1.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(t){t.approximateByteSize()>0&&(this.G=!0,this.U=t)}H(){let t=Bn(),e=Bn(),i=Bn();return this.L.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ft()}}),new M9(this.U,this.q,t,e,i)}J(){this.G=!1,this.L=iK()}Y(t,e){this.G=!0,this.L=this.L.insert(t,e)}X(t){this.G=!0,this.L=this.L.remove(t)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class PHe{constructor(t){this.nt=t,this.st=new Map,this.it=No(),this.rt=nK(),this.ot=new Di(dn)}ut(t){for(const e of t.O)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ht(t){this.forEachTarget(t,e=>{const i=this.lt(e);switch(t.state){case 0:this.ft(e)&&i.W(t.resumeToken);break;case 1:i.tt(),i.K||i.J(),i.W(t.resumeToken);break;case 2:i.tt(),i.K||this.removeTarget(e);break;case 3:this.ft(e)&&(i.et(),i.W(t.resumeToken));break;case 4:this.ft(e)&&(this.dt(e),i.W(t.resumeToken));break;default:ft()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.st.forEach((i,r)=>{this.ft(r)&&e(r)})}_t(t){const e=t.targetId,i=t.$.count,r=this.wt(e);if(r){const s=r.target;if(Hv(s))if(0===i){const c=new $e(s.path);this.ct(e,c,Ti.newNoDocument(c,Ht.min()))}else Bt(1===i);else this.gt(e)!==i&&(this.dt(e),this.ot=this.ot.add(e))}}yt(t){const e=new Map;this.st.forEach((s,c)=>{const d=this.wt(c);if(d){if(s.current&&Hv(d.target)){const h=new $e(d.target.path);null!==this.it.get(h)||this.It(c,h)||this.ct(c,h,Ti.newNoDocument(h,t))}s.j&&(e.set(c,s.H()),s.J())}});let i=Bn();this.rt.forEach((s,c)=>{let d=!0;c.forEachWhile(h=>{const _=this.wt(h);return!_||2===_.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.it.forEach((s,c)=>c.setReadTime(t));const r=new b9(t,e,this.ot,this.it,i);return this.it=No(),this.rt=nK(),this.ot=new Di(dn),r}at(t,e){if(!this.ft(t))return;const i=this.It(t,e.key)?2:0;this.lt(t).Y(e.key,i),this.it=this.it.insert(e.key,e),this.rt=this.rt.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,i){if(!this.ft(t))return;const r=this.lt(t);this.It(t,e)?r.Y(e,1):r.X(e),this.rt=this.rt.insert(e,this.Tt(e).delete(t)),i&&(this.it=this.it.insert(e,i))}removeTarget(t){this.st.delete(t)}gt(t){const e=this.lt(t).H();return this.nt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Z(t){this.lt(t).Z()}lt(t){let e=this.st.get(t);return e||(e=new tK,this.st.set(t,e)),e}Tt(t){let e=this.rt.get(t);return e||(e=new Di(dn),this.rt=this.rt.insert(t,e)),e}ft(t){const e=null!==this.wt(t);return e||ze("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.st.get(t);return e&&e.K?null:this.nt.Et(t)}dt(t){this.st.set(t,new tK),this.nt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}It(t,e){return this.nt.getRemoteKeysForTarget(t).has(e)}}function nK(){return new b1($e.comparator)}function iK(){return new b1($e.comparator)}const zHe={asc:"ASCENDING",desc:"DESCENDING"},FHe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class BHe{constructor(t,e){this.databaseId=t,this.N=e}}function w9(n,t){return n.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function rK(n,t){return n.N?t.toBase64():t.toUint8Array()}function UHe(n,t){return w9(n,t.toTimestamp())}function c2(n){return Bt(!!n),Ht.fromTimestamp(function(t){const e=Uc(t);return new y1(e.seconds,e.nanos)}(n))}function uD(n,t){return(e=n,new wn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function sK(n){const t=wn.fromString(n);return Bt(pK(t)),t}function x9(n,t){return uD(n.databaseId,t.path)}function A3(n,t){const e=sK(t);if(e.get(1)!==n.databaseId.projectId)throw new Ie(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ie(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new $e(aK(e))}function dD(n,t){return uD(n.databaseId,t)}function oK(n){const t=sK(n);return 4===t.length?wn.emptyPath():aK(t)}function S9(n){return new wn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function aK(n){return Bt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function lK(n,t,e){return{name:x9(n,t),fields:e.value.mapValue.fields}}function cK(n,t,e){const i=A3(n,t.name),r=c2(t.updateTime),s=new Y2({mapValue:{fields:t.fields}}),c=Ti.newFoundDocument(i,r,s);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function E9(n,t){let e;if(t instanceof _9)e={update:lK(n,t.key,t.value)};else if(t instanceof v9)e={delete:x9(n,t.key)};else if(t instanceof m0)e={update:lK(n,t.key,t.data),updateMask:QHe(t.fieldMask)};else{if(!(t instanceof lD))return ft();e={verify:x9(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof Ku)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof g0)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof C0)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Qu)return{fieldPath:s.field.canonicalString(),increment:c.k};throw ft()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:UHe(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ft()),e;var r}function fD(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?D1.updateTime(c2(r.updateTime)):void 0!==r.exists?D1.exists(r.exists):D1.none():D1.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,c){let d=null;"setToServerValue"in c?(Bt("REQUEST_TIME"===c.setToServerValue),d=new Ku):"appendMissingElements"in c?d=new g0(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new C0(c.removeAllFromArray.values||[]):"increment"in c?d=new Qu(s,c.increment):ft();const h=l2.fromServerFormat(c.fieldPath);return new m9(h,d)}(n,r)):[];var r;if(t.update){const r=A3(n,t.update.name),s=new Y2({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new Gu((t.updateMask.fieldPaths||[]).map(_=>l2.fromServerFormat(_)));return new m0(r,s,c,e,i)}return new _9(r,s,e,i)}if(t.delete){const r=A3(n,t.delete);return new v9(r,e)}if(t.verify){const r=A3(n,t.verify);return new lD(r,e)}return ft()}function uK(n,t){return{documents:[dD(n,t.path)]}}function dK(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=dD(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=dD(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(h){if(0===h.length)return;const _=h.map(M=>function(x){if("=="===x.op){if(MY(x.value))return{unaryFilter:{field:Xu(x.field),op:"IS_NAN"}};if(bY(x.value))return{unaryFilter:{field:Xu(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(MY(x.value))return{unaryFilter:{field:Xu(x.field),op:"IS_NOT_NAN"}};if(bY(x.value))return{unaryFilter:{field:Xu(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xu(x.field),op:ZHe(x.op),value:x.value}}}(M));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(t.filters);r&&(e.structuredQuery.where=r);const s=function(h){if(0!==h.length)return h.map(_=>{return{field:Xu((M=_).field),direction:WHe(M.dir)};var M})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const c=(_=t.limit,n.N||f0(_)?_:{value:_});var _,d,h;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(h=t.endAt).inclusive,values:h.position}),e}function fK(n){let t=oK(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Bt(1===i);const M=e.from[0];M.allDescendants?r=M.collectionId:t=t.child(M.collectionId)}let s=[];e.where&&(s=hK(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(M=>{return new Wu(ed((x=M).field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let d=null;e.limit&&(d=function(M){let x;return x="object"==typeof M?M.value:M,f0(x)?null:x}(e.limit));let h=null;var M;e.startAt&&(h=new jc((M=e.startAt).values||[],!!M.before));let _=null;return e.endAt&&(_=function(M){return new jc(M.values||[],!M.before)}(e.endAt)),NY(t,r,c,s,d,"F",h,_)}function hK(n){return n?void 0!==n.unaryFilter?[KHe(n)]:void 0!==n.fieldFilter?[YHe(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>hK(t)).reduce((t,e)=>t.concat(e)):ft():[]}function WHe(n){return zHe[n]}function ZHe(n){return FHe[n]}function Xu(n){return{fieldPath:n.canonicalString()}}function ed(n){return l2.fromServerFormat(n.fieldPath)}function YHe(n){return k2.create(ed(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(n.fieldFilter.op),n.fieldFilter.value)}function KHe(n){switch(n.unaryFilter.op){case"IS_NAN":const t=ed(n.unaryFilter.field);return k2.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=ed(n.unaryFilter.field);return k2.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ed(n.unaryFilter.field);return k2.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=ed(n.unaryFilter.field);return k2.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}function QHe(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function pK(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function u2(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=gK(t)),t=JHe(n.get(e),t);return gK(t)}function JHe(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function gK(n){return n+"\x01\x01"}function Ea(n){const t=n.length;if(Bt(t>=2),2===t)return Bt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),wn.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const c=n.indexOf("\x01",s);switch((c<0||c>e)&&ft(),n.charAt(c+1)){case"\x01":const d=n.substring(s,c);let h;0===r.length?h=d:(r+=d,h=r,r=""),i.push(h);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:ft()}s=c+2}return new wn(i)}const CK=["userId","batchId"];function qv(n,t){return[n,u2(t)]}function mK(n,t,e){return[n,u2(t),e]}const XHe={},eRe=["prefixPath","collectionGroup","readTime","documentId"],tRe=["prefixPath","collectionGroup","documentId"],nRe=["collectionGroup","readTime","prefixPath","documentId"],iRe=["canonicalId","targetId"],rRe=["targetId","path"],sRe=["path","targetId"],oRe=["collectionId","parent"],aRe=["indexId","uid"],lRe=["uid","sequenceNumber"],cRe=["indexId","uid","arrayValue","directionalValue","documentKey"],uRe=["indexId","uid","documentKey"],dRe=["userId","collectionPath","documentId"],fRe=["userId","collectionPath","largestBatchId"],hRe=["userId","collectionGroup","largestBatchId"],_K=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pRe=[..._K,"documentOverlays"],vK=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],gRe=[...vK,"indexConfiguration","indexState","indexEntries"],yK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class Ce{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ce((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ce?e:Ce.resolve(e)}catch(e){return Ce.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ce.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ce.reject(e)}static resolve(t){return new Ce((e,i)=>{e(t)})}static reject(t){return new Ce((e,i)=>{i(t)})}static waitFor(t){return new Ce((e,i)=>{let r=0,s=0,c=!1;t.forEach(d=>{++r,d.next(()=>{++s,c&&s===r&&e()},h=>i(h))}),c=!0,s===r&&e()})}static or(t){let e=Ce.resolve(!1);for(const i of t)e=e.next(r=>r?Ce.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}}class $v{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.At=new a2,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{e.error?this.At.reject(new L9(t,e.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=hD(i.target.error);this.At.reject(new L9(t,r))}}static open(t,e,i,r){try{return new $v(e,t.transaction(r,i))}catch(s){throw new L9(e,s)}}get Rt(){return this.At.promise}abort(t){t&&this.At.reject(t),this.aborted||(ze("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new mRe(e)}}class La{constructor(t,e,i){this.name=t,this.version=e,this.Pt=i,12.2===La.Vt((0,R.z$)())&&T1("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return ze("SimpleDb","Removing database:",t),v0(window.indexedDB.deleteDatabase(t)).toPromise()}static vt(){if(!(0,R.hl)())return!1;if(La.St())return!0;const t=(0,R.z$)(),e=La.Vt(t),i=0<e&&e<10,r=La.Dt(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static St(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Ct)}static xt(t,e){return t.store(e)}static Vt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(t){var e=this;return(0,_e.Z)(function*(){return e.db||(ze("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{r(new L9(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const d=c.target.error;r("VersionError"===d.name?new Ie(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Ie(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new L9(t,d))},s.onupgradeneeded=c=>{ze("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.Pt.kt(c.target.result,s.transaction,c.oldVersion,e.version).next(()=>{ze("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Mt&&(e.db.onversionchange=i=>e.Mt(i)),e.db})()}Ot(t){this.Mt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,_e.Z)(function*(){const c="readonly"===e;let d=0;for(;;){++d;try{s.db=yield s.Nt(t);const h=$v.open(s.db,t,c?"readonly":"readwrite",i),_=r(h).next(M=>(h.bt(),M)).catch(M=>(h.abort(M),Ce.reject(M))).toPromise();return _.catch(()=>{}),yield h.Rt,_}catch(h){const _="FirebaseError"!==h.name&&d<3;if(ze("SimpleDb","Transaction failed with error:",h.message,"Retrying:",_),s.close(),!_)return Promise.reject(h)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class CRe{constructor(t){this.Ft=t,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(t){this.Ft=t}done(){this.$t=!0}Ut(t){this.Bt=t}delete(){return v0(this.Ft.delete())}}class L9 extends Ie{constructor(t,e){super(de.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function _0(n){return"IndexedDbTransactionError"===n.name}class mRe{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(ze("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(ze("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),v0(i)}add(t){return ze("SimpleDb","ADD",this.store.name,t,t),v0(this.store.add(t))}get(t){return v0(this.store.get(t)).next(e=>(void 0===e&&(e=null),ze("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return ze("SimpleDb","DELETE",this.store.name,t),v0(this.store.delete(t))}count(){return ze("SimpleDb","COUNT",this.store.name),v0(this.store.count())}qt(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.Gt(r,(c,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new Ce((s,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}Kt(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Ce((r,s)=>{i.onerror=c=>{s(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Qt(t,e){ze("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.jt=!1;const r=this.cursor(i);return this.Gt(r,(s,c,d)=>d.delete())}Wt(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.Gt(r,e)}zt(t){const e=this.cursor({});return new Ce((i,r)=>{e.onerror=s=>{const c=hD(s.target.error);r(c)},e.onsuccess=s=>{const c=s.target.result;c?t(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}Gt(t,e){const i=[];return new Ce((r,s)=>{t.onerror=c=>{s(c.target.error)},t.onsuccess=c=>{const d=c.target.result;if(!d)return void r();const h=new CRe(d),_=e(d.primaryKey,d.value,h);if(_ instanceof Ce){const M=_.catch(x=>(h.done(),Ce.reject(x)));i.push(M)}h.isDone?r():null===h.Lt?d.continue():d.continue(h.Lt)}}).next(()=>Ce.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.jt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function v0(n){return new Ce((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=hD(i.target.error);e(r)}})}let MK=!1;function hD(n){const t=La.Vt((0,R.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return MK||(MK=!0,setTimeout(()=>{throw i},0)),i}}return n}class wK extends bK{constructor(t,e){super(),this.Ht=t,this.currentSequenceNumber=e}}function d2(n,t){const e=Je(n);return La.xt(e.Ht,t)}class pD{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&AHe(s,t,i[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&aD(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&aD(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(Ht.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Bn())}isEqual(t){return this.batchId===t.batchId&&Uu(this.mutations,t.mutations,(e,i)=>qY(e,i))&&Uu(this.baseMutations,t.baseMutations,(e,i)=>qY(e,i))}}class gD{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Bt(t.mutations.length===i.length);let r=HHe;const s=t.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new gD(t,e,i,r)}}class CD{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $c{constructor(t,e,i,r,s=Ht.min(),c=Ht.min(),d=G1.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(t){return new $c(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new $c(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new $c(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class xK{constructor(t){this.Jt=t}}function SK(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Wv(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:x9(r=n.Jt,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:w9(r,s.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:y0(t.version)};else{if(!t.isUnknownDocument())return ft();i.unknownDocument={path:e.path.toArray(),version:y0(t.version)}}var r,s;return i}function Wv(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function y0(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function b0(n){const t=new y1(n.seconds,n.nanoseconds);return Ht.fromTimestamp(t)}function td(n,t){const e=(t.baseMutations||[]).map(s=>fD(n.Jt,s));for(let s=0;s<t.mutations.length-1;++s){const c=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(c.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(s=>fD(n.Jt,s)),r=y1.fromMillis(t.localWriteTimeMs);return new pD(t.batchId,r,e,i)}function T9(n){const t=b0(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?b0(n.lastLimboFreeSnapshotVersion):Ht.min();let i;var r;return void 0!==n.query.documents?(Bt(1===(r=n.query).documents.length),i=Io(Zu(oK(r.documents[0])))):i=Io(fK(n.query)),new $c(i,n.targetId,0,n.lastListenSequenceNumber,t,e,G1.fromBase64String(n.resumeToken))}function EK(n,t){const e=y0(t.snapshotVersion),i=y0(t.lastLimboFreeSnapshotVersion);let r;r=Hv(t.target)?uK(n.Jt,t.target):dK(n.Jt,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:p0(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function mD(n){const t=fK({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?kY(t,t.limit,"L"):t}function _D(n,t){return new CD(t.largestBatchId,fD(n.Jt,t.overlayMutation))}function LK(n,t){const e=t.path.lastSegment();return[n,u2(t.path.popLast()),e]}class vRe{getBundleMetadata(t,e){return TK(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:b0(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return TK(t).put({bundleId:(i=e).id,createTime:y0(c2(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return DK(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:mD(r.bundledQuery),readTime:b0(r.readTime)};var r})}saveNamedQuery(t,e){return DK(t).put({name:(i=e).name,readTime:y0(c2(i.readTime)),bundledQuery:i.bundledQuery});var i}}function TK(n){return d2(n,"bundles")}function DK(n){return d2(n,"namedQueries")}class vD{constructor(t,e){this.M=t,this.userId=e}static Yt(t,e){return new vD(t,e.uid||"")}getOverlay(t,e){return D9(t).get(LK(this.userId,e)).next(i=>i?_D(this.M,i):null)}saveOverlays(t,e,i){const r=[];return i.forEach((s,c)=>{const d=new CD(e,c);r.push(this.Xt(t,d))}),Ce.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(c=>r.add(u2(c.getCollectionPath())));const s=[];return r.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);s.push(D9(t).Qt("collectionPathOverlayIndex",d))}),Ce.waitFor(s)}getOverlaysForCollection(t,e,i){const r=y9(),s=u2(e),c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return D9(t).qt("collectionPathOverlayIndex",c).next(d=>{for(const h of d){const _=_D(this.M,h);r.set(_.getKey(),_)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=y9();let c;const d=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return D9(t).Wt({index:"collectionGroupOverlayIndex",range:d},(h,_,M)=>{const x=_D(this.M,_);s.size()<r||x.largestBatchId===c?(s.set(x.getKey(),x),c=x.largestBatchId):M.done()}).next(()=>s)}Xt(t,e){return D9(t).put(function(i,r,s){const[c,d,h]=LK(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:h,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:E9(i.Jt,s.mutation)}}(this.M,this.userId,e))}}function D9(n){return d2(n,"documentOverlays")}class nd{constructor(){}Zt(t,e){this.te(t,e),e.ee()}te(t,e){if("nullValue"in t)this.ne(e,5);else if("booleanValue"in t)this.ne(e,10),e.se(t.booleanValue?1:0);else if("integerValue"in t)this.ne(e,15),e.se(c1(t.integerValue));else if("doubleValue"in t){const i=c1(t.doubleValue);isNaN(i)?this.ne(e,13):(this.ne(e,15),u9(i)?e.se(0):e.se(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ne(e,20),"string"==typeof i?e.ie(i):(e.ie(`${i.seconds||""}`),e.se(i.nanos||0))}else if("stringValue"in t)this.re(t.stringValue,e),this.oe(e);else if("bytesValue"in t)this.ne(e,30),e.ue(d0(t.bytesValue)),this.oe(e);else if("referenceValue"in t)this.ae(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ne(e,45),e.se(i.latitude||0),e.se(i.longitude||0)}else"mapValue"in t?wY(t)?this.ne(e,Number.MAX_SAFE_INTEGER):(this.ce(t.mapValue,e),this.oe(e)):"arrayValue"in t?(this.he(t.arrayValue,e),this.oe(e)):ft()}re(t,e){this.ne(e,25),this.le(t,e)}le(t,e){e.ie(t)}ce(t,e){const i=t.fields||{};this.ne(e,55);for(const r of Object.keys(i))this.re(r,e),this.te(i[r],e)}he(t,e){const i=t.values||[];this.ne(e,50);for(const r of i)this.te(r,e)}ae(t,e){this.ne(e,37),$e.fromName(t).path.forEach(i=>{this.ne(e,60),this.le(i,e)})}ne(t,e){t.se(e)}oe(t){t.se(2)}}function yRe(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function AK(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=yRe(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}nd.fe=new nd;class bRe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this._e(i.value),i=e.next();this.we()}me(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.ge(i.value),i=e.next();this.ye()}pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(e<"\ud800"||"\udbff"<e)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=e.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=e.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(t){const e=this.Ee(t),i=AK(e);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Re(t){const e=this.Ee(t),i=AK(e);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(t){this.Ae(t.length),this.buffer.set(t,this.position),this.position+=t.length}Se(){return this.buffer.slice(0,this.position)}Ee(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}_e(t){const e=255&t;0===e?(this.Pe(0),this.Pe(255)):255===e?(this.Pe(255),this.Pe(0)):this.Pe(e)}ge(t){const e=255&t;0===e?(this.ve(0),this.ve(255)):255===e?(this.ve(255),this.ve(0)):this.ve(t)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(t){this.Ae(1),this.buffer[this.position++]=t}ve(t){this.Ae(1),this.buffer[this.position++]=~t}Ae(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class MRe{constructor(t){this.De=t}ue(t){this.De.de(t)}ie(t){this.De.pe(t)}se(t){this.De.Te(t)}ee(){this.De.be()}}class wRe{constructor(t){this.De=t}ue(t){this.De.me(t)}ie(t){this.De.Ie(t)}se(t){this.De.Re(t)}ee(){this.De.Ve()}}class Zv{constructor(){this.De=new bRe,this.Ce=new MRe(this.De),this.xe=new wRe(this.De)}seed(t){this.De.seed(t)}Ne(t){return 0===t?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Wc{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Wc(this.indexId,this.documentKey,this.arrayValue,i)}}function M0(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=IK(n.arrayValue,t.arrayValue),0!==e?e:(e=IK(n.directionalValue,t.directionalValue),0!==e?e:$e.comparator(n.documentKey,t.documentKey)))}function IK(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class xRe{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];for(const e of t.filters){const i=e;i.S()?this.Fe=i:this.Oe.push(i)}}$e(t){const e=tD(t);if(void 0!==e&&!this.Be(e))return!1;const i=$u(t);let r=0,s=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const c=i[r];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[s++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(s>=this.Me.length||!this.Ue(this.Me[s++],c))return!1}return!0}Be(t){for(const e of this.Oe)if(this.Le(e,t))return!0;return!1}Le(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Ue(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class SRe{constructor(){this.qe=new yD}addToCollectionParentIndex(t,e){return this.qe.add(e),Ce.resolve()}getCollectionParents(t,e){return Ce.resolve(this.qe.getEntries(e))}addFieldIndex(t,e){return Ce.resolve()}deleteFieldIndex(t,e){return Ce.resolve()}getDocumentsMatchingTarget(t,e){return Ce.resolve(null)}getFieldIndex(t,e){return Ce.resolve(null)}getFieldIndexes(t,e){return Ce.resolve([])}getNextCollectionGroupToUpdate(t){return Ce.resolve(null)}updateCollectionGroup(t,e,i){return Ce.resolve()}updateIndexEntries(t,e){return Ce.resolve()}}class yD{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Di(wn.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Di(wn.comparator)).toArray()}}const Yv=new Uint8Array(0);class ERe{constructor(t){this.user=t,this.Ge=new yD,this.Ke=new qc(e=>p0(e),(e,i)=>g9(e,i)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ge.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ge.add(e)});const s={collectionId:i,parent:u2(r)};return NK(t).put(s)}return Ce.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[hY(e),""],!1,!0);return NK(t).qt(r).next(s=>{for(const c of s){if(c.collectionId!==e)break;i.push(Ea(c.parent))}return i})}addFieldIndex(t,e){const i=Kv(t),r={indexId:(s=e).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var s;return delete r.indexId,i.add(r).next()}deleteFieldIndex(t,e){const i=Kv(t),r=Qv(t),s=A9(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=A9(t);let r=!0;const s=new Map;return Ce.forEach(this.Qe(e),c=>this.getFieldIndex(t,c).next(d=>{r&&(r=!!d),s.set(c,d)})).next(()=>{if(r){let c=Bn();return Ce.forEach(s,(d,h)=>{var _;ze("IndexedDbIndexManager",`Using index ${_=d,`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(ce=>`${ce.fieldPath}:${ce.kind}`).join(",")}`} to execute ${p0(e)}`);const M=function(ce,ke){const Te=tD(ke);if(void 0===Te)return null;for(const tt of Rv(ce,Te.fieldPath))switch(tt.op){case"array-contains-any":return tt.value.arrayValue.values||[];case"array-contains":return[tt.value]}return null}(h,d),x=function(ce,ke){const Te=new Map;for(const tt of $u(ke))for(const st of Rv(ce,tt.fieldPath))switch(st.op){case"==":case"in":Te.set(tt.fieldPath.canonicalString(),st.value);break;case"not-in":case"!=":return Te.set(tt.fieldPath.canonicalString(),st.value),Array.from(Te.values())}return null}(h,d),D=function(ce,ke){const Te=[];let tt=!0;for(const an of $u(ke)){let Kt,ei=!0;for(const jn of Rv(ce,an.fieldPath)){let yi,Vo=!0;switch(jn.op){case"<":case"<=":yi="nullValue"in(st=jn.value)?vY:"booleanValue"in st?{booleanValue:!1}:"integerValue"in st||"doubleValue"in st?{doubleValue:NaN}:"timestampValue"in st?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in st?{stringValue:""}:"bytesValue"in st?{bytesValue:""}:"referenceValue"in st?qu(J4.empty(),$e.empty()):"geoPointValue"in st?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in st?{arrayValue:{}}:"mapValue"in st?{mapValue:{}}:ft();break;case"==":case"in":case">=":yi=jn.value;break;case">":yi=jn.value,Vo=!1;break;case"!=":case"not-in":yi=vY}xY(Kt,yi)===yi&&(Kt=yi,ei=Vo)}if(null!==ce.startAt)for(let jn=0;jn<ce.orderBy.length;++jn)if(ce.orderBy[jn].field.isEqual(an.fieldPath)){const yi=ce.startAt.position[jn];xY(Kt,yi)===yi&&(Kt=yi,ei=ce.startAt.inclusive);break}if(void 0===Kt)return null;Te.push(Kt),tt&&(tt=ei)}var st;return new jc(Te,tt)}(h,d),N=function(ce,ke){const Te=[];let tt=!0;for(const an of $u(ke)){let Kt,ei=!0;for(const jn of Rv(ce,an.fieldPath)){let yi,Vo=!0;switch(jn.op){case">=":case">":yi="nullValue"in(st=jn.value)?{booleanValue:!1}:"booleanValue"in st?{doubleValue:NaN}:"integerValue"in st||"doubleValue"in st?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in st?{stringValue:""}:"stringValue"in st?{bytesValue:""}:"bytesValue"in st?qu(J4.empty(),$e.empty()):"referenceValue"in st?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in st?{arrayValue:{}}:"arrayValue"in st?{mapValue:{}}:"mapValue"in st?_Y:ft(),Vo=!1;break;case"==":case"in":case"<=":yi=jn.value;break;case"<":yi=jn.value,Vo=!1;break;case"!=":case"not-in":yi=_Y}SY(Kt,yi)===yi&&(Kt=yi,ei=Vo)}if(null!==ce.endAt)for(let jn=0;jn<ce.orderBy.length;++jn)if(ce.orderBy[jn].field.isEqual(an.fieldPath)){const yi=ce.endAt.position[jn];SY(Kt,yi)===yi&&(Kt=yi,ei=ce.endAt.inclusive);break}if(void 0===Kt)return null;Te.push(Kt),tt&&(tt=ei)}var st;return new jc(Te,tt)}(h,d),H=this.je(d,h,D),U=this.je(d,h,N),Y=this.We(d,h,x),ae=this.ze(d.indexId,M,H,!!D&&D.inclusive,U,!!N&&N.inclusive,Y);return Ce.forEach(ae,ce=>i.Kt(ce,e.limit).next(ke=>{ke.forEach(Te=>{c=c.add(new $e(Ea(Te.documentKey)))})}))}).next(()=>c)}return Ce.resolve(null)})}Qe(t){let e=this.Ke.get(t);return e||(e=[t],this.Ke.set(t,e),e)}ze(t,e,i,r,s,c,d){const h=(null!=e?e.length:1)*Math.max(null!=i?i.length:1,null!=s?s.length:1),_=h/(null!=e?e.length:1),M=[];for(let x=0;x<h;++x){const D=e?this.He(e[x/_]):Yv,N=i?this.Je(t,D,i[x%_],r):this.Ye(t),H=s?this.Xe(t,D,s[x%_],c):this.Ye(t+1);M.push(...this.createRange(N,H,d.map(U=>this.Je(t,D,U,!0))))}return M}Je(t,e,i,r){const s=new Wc(t,$e.empty(),e,i);return r?s:s.ke()}Xe(t,e,i,r){const s=new Wc(t,$e.empty(),e,i);return r?s.ke():s}Ye(t){return new Wc(t,$e.empty(),Yv,Yv)}getFieldIndex(t,e){const i=new xRe(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{const c=s.filter(d=>i.$e(d));return c.sort((d,h)=>h.fields.length-d.fields.length),c.length>0?c[0]:null})}Ze(t,e){const i=new Zv;for(const r of $u(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const c=i.Ne(r.kind);nd.fe.Zt(s,c)}return i.Se()}He(t){const e=new Zv;return nd.fe.Zt(t,e.Ne(0)),e.Se()}We(t,e,i){if(null===i)return[];let r=[];r.push(new Zv);let s=0;for(const c of $u(t)){const d=i[s++];for(const h of r)if(this.tn(e,c.fieldPath)&&f9(d))r=this.en(r,c,d);else{const _=h.Ne(c.kind);nd.fe.Zt(d,_)}}return this.nn(r)}je(t,e,i){return null==i?null:this.We(t,e,i.position)}nn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Se();return e}en(t,e,i){const r=[...t],s=[];for(const c of i.arrayValue.values||[])for(const d of r){const h=new Zv;h.seed(d.Se()),nd.fe.Zt(c,h.Ne(e.kind)),s.push(h)}return s}tn(t,e){return!!t.filters.find(i=>i instanceof k2&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=Kv(t),r=Qv(t);return(e?i.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.qt()).next(s=>{const c=[];return Ce.forEach(s,d=>r.get([d.indexId,this.uid]).next(h=>{c.push(function(_,M){const x=M?new p9(M.sequenceNumber,new X4(b0(M.readTime),new $e(Ea(M.documentKey)),M.largestBatchId)):p9.empty(),D=_.fields.map(([N,H])=>new Vv(l2.fromServerFormat(N),H));return new kv(_.indexId,_.collectionGroup,D,x)}(d,h))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:dn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=Kv(t),s=Qv(t);return this.sn(t).next(c=>r.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(d=>Ce.forEach(d,h=>{return s.put({indexId:h.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:y0((D=i).readTime),documentKey:u2(D.documentKey.path),largestBatchId:D.largestBatchId});var D})))}updateIndexEntries(t,e){const i=new Map;return Ce.forEach(e,(r,s)=>{const c=i.get(r.collectionGroup);return(c?Ce.resolve(c):this.getFieldIndexes(t,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),Ce.forEach(d,h=>this.rn(t,r,h).next(_=>{const M=this.on(s,h);return _.isEqual(M)?Ce.resolve():this.un(t,s,_,M)}))))})}an(t,e,i){return A9(t).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,documentKey:u2(e.key.path)})}cn(t,e,i){return A9(t).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,u2(e.key.path)])}rn(t,e,i){const r=A9(t);let s=new Di(M0);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,u2(e.path)])},(c,d)=>{s=s.add(new Wc(i.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>s)}on(t,e){let i=new Di(M0);const r=this.Ze(e,t);if(null==r)return i;const s=tD(e);if(null!=s){const c=t.data.field(s.fieldPath);if(f9(c))for(const d of c.arrayValue.values||[])i=i.add(new Wc(e.indexId,t.key,this.He(d),r))}else i=i.add(new Wc(e.indexId,t.key,Yv,r));return i}un(t,e,i,r){ze("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const s=[];return function(c,d,h,_,M){const x=c.getIterator(),D=d.getIterator();let N=Ju(x),H=Ju(D);for(;N||H;){let U=!1,Y=!1;if(N&&H){const ae=h(N,H);ae<0?Y=!0:ae>0&&(U=!0)}else null!=N?Y=!0:U=!0;U?(_(H),H=Ju(D)):Y?(M(N),N=Ju(x)):(N=Ju(x),H=Ju(D))}}(i,r,M0,c=>{s.push(this.an(t,e,c))},c=>{s.push(this.cn(t,e,c))}),Ce.waitFor(s)}sn(t){let e=1;return Qv(t).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((c,d)=>M0(c,d)).filter((c,d,h)=>!d||0!==M0(c,h[d-1]));const r=[];r.push(t);for(const c of i){const d=M0(c,t),h=M0(c,e);if(0===d)r[0]=t.ke();else if(d>0&&h<0)r.push(c),r.push(c.ke());else if(h>0)break}r.push(e);const s=[];for(let c=0;c<r.length;c+=2)s.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,""],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,""]));return s}}function NK(n){return d2(n,"collectionParents")}function A9(n){return d2(n,"indexEntries")}function Kv(n){return d2(n,"indexConfiguration")}function Qv(n){return d2(n,"indexState")}const kK={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yr{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Yr(t,Yr.DEFAULT_COLLECTION_PERCENTILE,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function VK(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],c=IDBKeyRange.only(e.batchId);let d=0;const h=i.Wt({range:c},(M,x,D)=>(d++,D.delete()));s.push(h.next(()=>{Bt(1===d)}));const _=[];for(const M of e.mutations){const x=mK(t,M.key.path,e.batchId);s.push(r.delete(x)),_.push(M.key)}return Ce.waitFor(s).next(()=>_)}function Jv(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ft();t=n.noDocument}return JSON.stringify(t).length}Yr.DEFAULT_COLLECTION_PERCENTILE=10,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yr.DEFAULT=new Yr(41943040,Yr.DEFAULT_COLLECTION_PERCENTILE,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yr.DISABLED=new Yr(-1,0,0);class bD{constructor(t,e,i,r){this.userId=t,this.M=e,this.indexManager=i,this.referenceDelegate=r,this.hn={}}static Yt(t,e,i,r){Bt(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new bD(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zc(t).Wt({index:"userMutationsIndex",range:i},(r,s,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=id(t),c=Zc(t);return c.add({}).next(d=>{Bt("number"==typeof d);const h=new pD(d,e,i,r),_=function(D,N,H){const U=H.baseMutations.map(ae=>E9(D.Jt,ae)),Y=H.mutations.map(ae=>E9(D.Jt,ae));return{userId:N,batchId:H.batchId,localWriteTimeMs:H.localWriteTime.toMillis(),baseMutations:U,mutations:Y}}(this.M,this.userId,h),M=[];let x=new Di((D,N)=>dn(D.canonicalString(),N.canonicalString()));for(const D of r){const N=mK(this.userId,D.key.path,d);x=x.add(D.key.path.popLast()),M.push(c.put(_)),M.push(s.put(N,XHe))}return x.forEach(D=>{M.push(this.indexManager.addToCollectionParentIndex(t,D))}),t.addOnCommittedListener(()=>{this.hn[d]=h.keys()}),Ce.waitFor(M).next(()=>h)})}lookupMutationBatch(t,e){return Zc(t).get(e).next(i=>i?(Bt(i.userId===this.userId),td(this.M,i)):null)}ln(t,e){return this.hn[e]?Ce.resolve(this.hn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.hn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Zc(t).Wt({index:"userMutationsIndex",range:r},(c,d,h)=>{d.userId===this.userId&&(Bt(d.batchId>=i),s=td(this.M,d)),h.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Zc(t).Wt({index:"userMutationsIndex",range:e,reverse:!0},(r,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zc(t).qt("userMutationsIndex",e).next(i=>i.map(r=>td(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=qv(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return id(t).Wt({range:r},(c,d,h)=>{const[_,M,x]=c,D=Ea(M);if(_===this.userId&&e.path.isEqual(D))return Zc(t).get(x).next(N=>{if(!N)throw ft();Bt(N.userId===this.userId),s.push(td(this.M,N))});h.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Di(dn);const r=[];return e.forEach(s=>{const c=qv(this.userId,s.path),d=IDBKeyRange.lowerBound(c),h=id(t).Wt({range:d},(_,M,x)=>{const[D,N,H]=_,U=Ea(N);D===this.userId&&s.path.isEqual(U)?i=i.add(H):x.done()});r.push(h)}),Ce.waitFor(r).next(()=>this.fn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=qv(this.userId,i),c=IDBKeyRange.lowerBound(s);let d=new Di(dn);return id(t).Wt({range:c},(h,_,M)=>{const[x,D,N]=h,H=Ea(D);x===this.userId&&i.isPrefixOf(H)?H.length===r&&(d=d.add(N)):M.done()}).next(()=>this.fn(t,d))}fn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(Zc(t).get(s).next(c=>{if(null===c)throw ft();Bt(c.userId===this.userId),i.push(td(this.M,c))}))}),Ce.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return VK(t.Ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.dn(e.batchId)}),Ce.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}dn(t){delete this.hn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Ce.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return id(t).Wt({range:i},(s,c,d)=>{if(s[0]===this.userId){const h=Ea(s[1]);r.push(h)}else d.done()}).next(()=>{Bt(0===r.length)})})}containsKey(t,e){return HK(t,this.userId,e)}_n(t){return RK(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function HK(n,t,e){const i=qv(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return id(n).Wt({range:s,jt:!0},(d,h,_)=>{const[M,x,D]=d;M===t&&x===r&&(c=!0),_.done()}).next(()=>c)}function Zc(n){return d2(n,"mutations")}function id(n){return d2(n,"documentMutations")}function RK(n){return d2(n,"mutationQueues")}class w0{constructor(t){this.wn=t}next(){return this.wn+=2,this.wn}static mn(){return new w0(0)}static gn(){return new w0(-1)}}class LRe{constructor(t,e){this.referenceDelegate=t,this.M=e}allocateTargetId(t){return this.yn(t).next(e=>{const i=new w0(e.highestTargetId);return e.highestTargetId=i.next(),this.pn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.yn(t).next(e=>Ht.fromTimestamp(new y1(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.yn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.yn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.pn(t,r)))}addTargetData(t,e){return this.In(t,e).next(()=>this.yn(t).next(i=>(i.targetCount+=1,this.Tn(e,i),this.pn(t,i))))}updateTargetData(t,e){return this.In(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>rd(t).delete(e.targetId)).next(()=>this.yn(t)).next(i=>(Bt(i.targetCount>0),i.targetCount-=1,this.pn(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return rd(t).Wt((c,d)=>{const h=T9(d);h.sequenceNumber<=e&&null===i.get(h.targetId)&&(r++,s.push(this.removeTargetData(t,h)))}).next(()=>Ce.waitFor(s)).next(()=>r)}forEachTarget(t,e){return rd(t).Wt((i,r)=>{const s=T9(r);e(s)})}yn(t){return OK(t).get("targetGlobalKey").next(e=>(Bt(null!==e),e))}pn(t,e){return OK(t).put("targetGlobalKey",e)}In(t,e){return rd(t).put(EK(this.M,e))}Tn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.yn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=p0(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return rd(t).Wt({range:r,index:"queryTargetsIndex"},(c,d,h)=>{const _=T9(d);g9(e,_.target)&&(s=_,h.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=Yc(t);return e.forEach(c=>{const d=u2(c.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(t,i,c))}),Ce.waitFor(r)}removeMatchingKeys(t,e,i){const r=Yc(t);return Ce.forEach(e,s=>{const c=u2(s.path);return Ce.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=Yc(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Yc(t);let s=Bn();return r.Wt({range:i,jt:!0},(c,d,h)=>{const _=Ea(c[1]),M=new $e(_);s=s.add(M)}).next(()=>s)}containsKey(t,e){const i=u2(e.path),r=IDBKeyRange.bound([i],[hY(i)],!1,!0);let s=0;return Yc(t).Wt({index:"documentTargetsIndex",jt:!0,range:r},([c,d],h,_)=>{0!==c&&(s++,_.done())}).next(()=>s>0)}Et(t,e){return rd(t).get(e).next(i=>i?T9(i):null)}}function rd(n){return d2(n,"targets")}function OK(n){return d2(n,"targetGlobal")}function Yc(n){return d2(n,"targetDocuments")}function x0(n){return MD.apply(this,arguments)}function MD(){return MD=(0,_e.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==yK)throw n;ze("LocalStore","Unexpectedly lost primary lease")}),MD.apply(this,arguments)}function PK([n,t],[e,i]){const r=dn(n,e);return 0===r?dn(t,i):r}class TRe{constructor(t){this.En=t,this.buffer=new Di(PK),this.An=0}Rn(){return++this.An}bn(t){const e=[t,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();PK(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class DRe{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.Pn=!1,this.Vn=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(t)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(t){var e=this;const i=this.Pn?3e5:6e4;ze("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,_e.Z)(function*(){e.Vn=null,e.Pn=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(r){_0(r)?ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield x0(r)}yield e.vn(t)}))}}class ARe{constructor(t,e){this.Sn=t,this.params=e}calculateTargetCount(t,e){return this.Sn.Dn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Ce.resolve(Ps.A);const i=new TRe(e);return this.Sn.forEachTarget(t,r=>i.bn(r.sequenceNumber)).next(()=>this.Sn.Cn(t,r=>i.bn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Sn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Sn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(kK)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kK):this.xn(t,e))}getCacheSize(t){return this.Sn.getCacheSize(t)}xn(t,e){let i,r,s,c,d,h,_;const M=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),r=this.params.maximumSequenceNumbersToCollect):r=x,c=Date.now(),this.nthSequenceNumber(t,r))).next(x=>(i=x,d=Date.now(),this.removeTargets(t,i,e))).next(x=>(s=x,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(x=>(_=Date.now(),KT()<=ya.in.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-M}ms\n\tDetermined least recently used ${r} in `+(d-c)+`ms\n\tRemoved ${s} targets in `+(h-d)+`ms\n\tRemoved ${x} documents in `+(_-h)+`ms\nTotal Duration: ${_-M}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:x})))}}class IRe{constructor(t,e){this.db=t,this.garbageCollector=new ARe(this,e)}Dn(t){const e=this.Nn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Nn(t){let e=0;return this.Cn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Cn(t,e){return this.kn(t,(i,r)=>e(r))}addReference(t,e,i){return Xv(t,i)}removeReference(t,e,i){return Xv(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return Xv(t,e)}Mn(t,e){return function(i,r){let s=!1;return RK(i).zt(c=>HK(i,c,r).next(d=>(d&&(s=!0),Ce.resolve(!d)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.kn(t,(c,d)=>{if(d<=e){const h=this.Mn(t,c).next(_=>{if(!_)return s++,i.getEntry(t,c).next(()=>(i.removeEntry(c,Ht.min()),Yc(t).delete([0,u2(c.path)])))});r.push(h)}}).next(()=>Ce.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return Xv(t,e)}kn(t,e){const i=Yc(t);let r,s=Ps.A;return i.Wt({index:"documentTargetsIndex"},([c,d],{path:h,sequenceNumber:_})=>{0===c?(s!==Ps.A&&e(new $e(Ea(r)),s),s=_,r=h):s=Ps.A}).next(()=>{s!==Ps.A&&e(new $e(Ea(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Xv(n,t){return Yc(n).put((i=n.currentSequenceNumber,{targetId:0,path:u2(t.path),sequenceNumber:i}));var i}class zK{constructor(){this.changes=new qc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ti.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Ce.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class NRe{constructor(t){this.M=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return S0(t).put(i)}removeEntry(t,e,i){return S0(t).delete(function(r,s){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Wv(s),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.On(t,i)))}getEntry(t,e){let i=Ti.newInvalidDocument(e);return S0(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(I9(e))},(r,s)=>{i=this.Fn(e,s)}).next(()=>i)}$n(t,e){let i={size:0,document:Ti.newInvalidDocument(e)};return S0(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(I9(e))},(r,s)=>{i={document:this.Fn(e,s),size:Jv(s)}}).next(()=>i)}getEntries(t,e){let i=No();return this.Bn(t,e,(r,s)=>{const c=this.Fn(r,s);i=i.insert(r,c)}).next(()=>i)}Ln(t,e){let i=No(),r=new b1($e.comparator);return this.Bn(t,e,(s,c)=>{const d=this.Fn(s,c);i=i.insert(s,d),r=r.insert(s,Jv(c))}).next(()=>({documents:i,Un:r}))}Bn(t,e,i){if(e.isEmpty())return Ce.resolve();let r=new Di(UK);e.forEach(h=>r=r.add(h));const s=IDBKeyRange.bound(I9(r.first()),I9(r.last())),c=r.getIterator();let d=c.getNext();return S0(t).Wt({index:"documentKeyIndex",range:s},(h,_,M)=>{const x=$e.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;d&&UK(d,x)<0;)i(d,null),d=c.getNext();d&&d.isEqual(x)&&(i(d,_),d=c.hasNext()?c.getNext():null),d?M.Ut(I9(d)):M.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),Wv(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return S0(t).qt(IDBKeyRange.bound(r,s,!0)).next(c=>{let d=No();for(const h of c){const _=this.Fn($e.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);d=d.insert(_.key,_)}return d})}getAllFromCollectionGroup(t,e,i,r){let s=No();const c=BK(e,i),d=BK(e,X4.max());return S0(t).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(h,_,M)=>{const x=this.Fn($e.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);s=s.insert(x.key,x),s.size===r&&M.done()}).next(()=>s)}newChangeBuffer(t){return new kRe(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return FK(t).get("remoteDocumentGlobalKey").next(e=>(Bt(!!e),e))}On(t,e){return FK(t).put("remoteDocumentGlobalKey",e)}Fn(t,e){if(e){const i=function(n,t){let e;if(t.document)e=cK(n.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=$e.fromSegments(t.noDocument.path),r=b0(t.noDocument.readTime);e=Ti.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ft();{const i=$e.fromSegments(t.unknownDocument.path),r=b0(t.unknownDocument.version);e=Ti.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new y1(i[0],i[1]);return Ht.fromTimestamp(r)}(t.readTime)),e}(this.M,e);if(!i.isNoDocument()||!i.version.isEqual(Ht.min()))return i}return Ti.newInvalidDocument(t)}}class kRe extends zK{constructor(t,e){super(),this.qn=t,this.trackRemovals=e,this.Gn=new qc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Di((s,c)=>dn(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const d=this.Gn.get(s);if(e.push(this.qn.removeEntry(t,s,d.readTime)),c.isValidDocument()){const h=SK(this.qn.M,c);r=r.add(s.path.popLast()),i+=Jv(h)-d.size,e.push(this.qn.addEntry(t,s,h))}else if(i-=d.size,this.trackRemovals){const h=SK(this.qn.M,c.convertToNoDocument(Ht.min()));e.push(this.qn.addEntry(t,s,h))}}),r.forEach(s=>{e.push(this.qn.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.qn.updateMetadata(t,i)),Ce.waitFor(e)}getFromCache(t,e){return this.qn.$n(t,e).next(i=>(this.Gn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.qn.Ln(t,e).next(({documents:i,Un:r})=>(r.forEach((s,c)=>{this.Gn.set(s,{size:c,readTime:i.get(s).readTime})}),i))}}function FK(n){return d2(n,"remoteDocumentGlobal")}function S0(n){return d2(n,"remoteDocumentsV14")}function I9(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function BK(n,t){const e=t.documentKey.path.toArray();return[n,Wv(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function UK(n,t){const e=n.path.length-t.path.length;return 0!==e?e:$e.comparator(n,t)}class VRe{constructor(t){this.M=t}kt(t,e,i,r){const s=new $v("createOrUpgrade",e);var d;i<1&&r>=1&&(t.createObjectStore("owner"),(d=t).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CK,{unique:!0}),d.createObjectStore("documentMutations"),GK(t),function(d){d.createObjectStore("remoteDocuments")}(t));let c=Ce.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(t),GK(t)),c=c.next(()=>function(d){const h=d.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ht.min().toTimestamp(),targetCount:0};return h.put("targetGlobalKey",_)}(s))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(d,h){return h.store("mutations").qt().next(_=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CK,{unique:!0});const M=h.store("mutations"),x=_.map(D=>M.put(D));return Ce.waitFor(x)})}(t,s))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(c=c.next(()=>this.Kn(s))),i<6&&r>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(t),this.Qn(s)))),i<7&&r>=7&&(c=c.next(()=>this.jn(s))),i<8&&r>=8&&(c=c.next(()=>this.Wn(t,s))),i<9&&r>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(c=c.next(()=>this.zn(s))),i<11&&r>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(c=c.next(()=>{!function(d){const h=d.createObjectStore("documentOverlays",{keyPath:dRe});h.createIndex("collectionPathOverlayIndex",fRe,{unique:!1}),h.createIndex("collectionGroupOverlayIndex",hRe,{unique:!1})}(t)})),i<13&&r>=13&&(c=c.next(()=>function(d){const h=d.createObjectStore("remoteDocumentsV14",{keyPath:eRe});h.createIndex("documentKeyIndex",tRe),h.createIndex("collectionGroupIndex",nRe)}(t)).next(()=>this.Hn(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>{!function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:aRe}).createIndex("sequenceNumberIndex",lRe,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:cRe}).createIndex("documentKeyIndex",uRe,{unique:!1})}(t)})),c}Qn(t){let e=0;return t.store("remoteDocuments").Wt((i,r)=>{e+=Jv(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Kn(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.qt().next(r=>Ce.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",c).next(d=>Ce.forEach(d,h=>{Bt(h.userId===s.userId);const _=td(this.M,h);return VK(t,s.userId,_).next(()=>{})}))}))}jn(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Wt((c,d)=>{const h=new wn(c),_=[0,u2(h)];s.push(e.get(_).next(M=>M?Ce.resolve():e.put({targetId:0,path:u2(h),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Ce.waitFor(s))})}Wn(t,e){t.createObjectStore("collectionParents",{keyPath:oRe});const i=e.store("collectionParents"),r=new yD,s=c=>{if(r.add(c)){const d=c.lastSegment(),h=c.popLast();return i.put({collectionId:d,parent:u2(h)})}};return e.store("remoteDocuments").Wt({jt:!0},(c,d)=>{const h=new wn(c);return s(h.popLast())}).next(()=>e.store("documentMutations").Wt({jt:!0},([c,d,h],_)=>{const M=Ea(d);return s(M.popLast())}))}zn(t){const e=t.store("targets");return e.Wt((i,r)=>{const s=T9(r),c=EK(this.M,s);return e.put(c)})}Hn(t,e){const i=e.store("remoteDocuments"),r=[];return i.Wt((s,c)=>{const d=e.store("remoteDocumentsV14"),h=(_=c,_.document?new $e(wn.fromString(_.document.name).popFirst(5)):_.noDocument?$e.fromSegments(_.noDocument.path):_.unknownDocument?$e.fromSegments(_.unknownDocument.path):ft()).path.toArray();var _;const M={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(d.put(M))}).next(()=>Ce.waitFor(r))}}function GK(n){n.createObjectStore("targetDocuments",{keyPath:rRe}).createIndex("documentTargetsIndex",sRe,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",iRe,{unique:!0}),n.createObjectStore("targetGlobal")}const wD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class xD{constructor(t,e,i,r,s,c,d,h,_,M,x=13){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Jn=s,this.window=c,this.document=d,this.Yn=_,this.Xn=M,this.Zn=x,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=D=>Promise.resolve(),!xD.vt())throw new Ie(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new IRe(this,r),this.cs=e+"main",this.M=new xK(h),this.hs=new La(this.cs,this.Zn,new VRe(this.M)),this.ls=new LRe(this.referenceDelegate,this.M),this.fs=new NRe(this.M),this.ds=new vRe,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===M&&T1("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ie(de.FAILED_PRECONDITION,wD);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.ls.getHighestSequenceNumber(t))}).then(t=>{this.ts=new Ps(t,this.Yn)}).then(()=>{this.es=!0}).catch(t=>(this.hs&&this.hs.close(),Promise.reject(t)))}Is(t){var e=this;return this.us=function(){var i=(0,_e.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.hs.Ot(function(){var e=(0,_e.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Jn.enqueueAndForget((0,_e.Z)(function*(){e.started&&(yield e.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>ey(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(t).next(e=>{e||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(t)).next(e=>this.isPrimary&&!e?this.As(t).next(()=>!1):!!e&&this.Rs(t).next(()=>!0))).catch(t=>{if(_0(t))return ze("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Jn.enqueueRetryable(()=>this.us(t)),this.isPrimary=t})}Ts(t){return N9(t).get("owner").next(e=>Ce.resolve(this.bs(e)))}Ps(t){return ey(t).delete(this.clientId)}Vs(){var t=this;return(0,_e.Z)(function*(){if(t.isPrimary&&!t.vs(t.os,18e5)){t.os=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=d2(i,"clientMetadata");return r.qt().next(s=>{const c=t.Ss(s,18e5),d=s.filter(h=>-1===c.indexOf(h));return Ce.forEach(d,h=>r.delete(h.clientId)).next(()=>d)})}).catch(()=>[]);if(t._s)for(const i of e)t._s.removeItem(t.Ds(i.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(t){return!!t&&t.ownerId===this.clientId}Es(t){return this.Xn?Ce.resolve(!0):N9(t).get("owner").next(e=>{if(null!==e&&this.vs(e.leaseTimestampMs,5e3)&&!this.Cs(e.ownerId)){if(this.bs(e)&&this.networkEnabled)return!0;if(!this.bs(e)){if(!e.allowTabSynchronization)throw new Ie(de.FAILED_PRECONDITION,wD);return!1}}return!(!this.networkEnabled||!this.inForeground)||ey(t).qt().next(i=>void 0===this.Ss(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&d)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&ze("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,_e.Z)(function*(){t.es=!1,t.xs(),t.rs&&(t.rs.cancel(),t.rs=null),t.Ns(),t.ks(),yield t.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new wK(e,Ps.A);return t.As(i).next(()=>t.Ps(i))}),t.hs.close(),t.Ms()})()}Ss(t,e){return t.filter(i=>this.vs(i.updateTimeMs,e)&&!this.Cs(i.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",t=>ey(t).qt().next(e=>this.Ss(e,18e5).map(i=>i.clientId)))}get started(){return this.es}getMutationQueue(t,e){return bD.Yt(t,this.M,e,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(t){return new ERe(t)}getDocumentOverlayCache(t){return vD.Yt(this.M,t)}getBundleCache(){return this.ds}runTransaction(t,e,i){ze("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=14===(c=this.Zn)?gRe:13===c?vK:12===c?pRe:11===c?_K:void ft();var c;let d;return this.hs.runTransaction(t,r,s,h=>(d=new wK(h,this.ts?this.ts.next():Ps.A),"readwrite-primary"===e?this.Ts(d).next(_=>!!_||this.Es(d)).next(_=>{if(!_)throw T1(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Ie(de.FAILED_PRECONDITION,yK);return i(d)}).next(_=>this.Rs(d).next(()=>_)):this.Fs(d).next(()=>i(d)))).then(h=>(d.raiseOnCommittedEvent(),h))}Fs(t){return N9(t).get("owner").next(e=>{if(null!==e&&this.vs(e.leaseTimestampMs,5e3)&&!this.Cs(e.ownerId)&&!this.bs(e)&&!(this.Xn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ie(de.FAILED_PRECONDITION,wD)})}Rs(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return N9(t).put("owner",e)}static vt(){return La.vt()}As(t){const e=N9(t);return e.get("owner").next(i=>this.bs(i)?(ze("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Ce.resolve())}vs(t,e){const i=Date.now();return!(t<i-e||t>i&&(T1(`Detected an update time that is in the future: ${t} > ${i}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ns=()=>{this.xs(),(0,R.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(t){var e;try{const i=null!==(null===(e=this._s)||void 0===e?void 0:e.getItem(this.Ds(t)));return ze("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return T1("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(t){T1("Failed to set zombie client id.",t)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(t){}}Ds(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function N9(n){return d2(n,"owner")}function ey(n){return d2(n,"clientMetadata")}function SD(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class HRe{constructor(t,e,i){this.fs=t,this.$s=e,this.indexManager=i}Bs(t,e){return this.$s.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.Ls(t,e,i))}Ls(t,e,i){return this.fs.getEntry(t,e).next(r=>{for(const s of i)s.applyToLocalView(r);return r})}Us(t,e){t.forEach((i,r)=>{for(const s of e)s.applyToLocalView(r)})}qs(t,e){return this.fs.getEntries(t,e).next(i=>this.Gs(t,i).next(()=>i))}Gs(t,e){return this.$s.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.Us(e,i))}Ks(t,e,i){return $e.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.Qs(t,e.path):rD(e)?this.js(t,e,i):this.Ws(t,e,i);var r}Qs(t,e){return this.Bs(t,new $e(e)).next(i=>{let r=cD();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}js(t,e,i){const r=e.collectionGroup;let s=cD();return this.indexManager.getCollectionParents(t,r).next(c=>Ce.forEach(c,d=>{const h=(_=e,M=d.child(r),new el(M,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,M;return this.Ws(t,h,i).next(_=>{_.forEach((M,x)=>{s=s.insert(M,x)})})}).next(()=>s))}Ws(t,e,i){let r;return this.fs.getAllFromCollection(t,e.path,i).next(s=>(r=s,this.$s.getAllMutationBatchesAffectingQuery(t,e))).next(s=>{for(const c of s)for(const d of c.mutations){const h=d.key;let _=r.get(h);null==_&&(_=Ti.newInvalidDocument(h),r=r.insert(h,_)),aD(d,_,c.localWriteTime),_.isFoundDocument()||(r=r.remove(h))}}).next(()=>(r.forEach((s,c)=>{oD(e,c)||(r=r.remove(s))}),r))}}class ED{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.zs=i,this.Hs=r}static Js(t,e){let i=Bn(),r=Bn();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new ED(t,e.fromCache,i,r)}}class jK{Ys(t){this.Xs=t}Ks(t,e,i,r){return 0===(s=e).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||i.isEqual(Ht.min())?this.Zs(t,e):this.Xs.qs(t,r).next(s=>{const c=this.ti(e,s);return(Ov(e)||Pv(e))&&this.ei(e.limitType,c,r,i)?this.Zs(t,e):(KT()<=ya.in.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sD(e)),this.Xs.Ks(t,e,LY(i,-1)).next(d=>(c.forEach(h=>{d=d.insert(h.key,h)}),d)))});var s}ti(t,e){let i=new Di(RY(t));return e.forEach((r,s)=>{oD(t,s)&&(i=i.add(s))}),i}ei(t,e,i,r){if(i.size!==e.size)return!0;const s="F"===t?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Zs(t,e){return KT()<=ya.in.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",sD(e)),this.Xs.Ks(t,e,X4.min())}}class RRe{constructor(t,e,i,r){this.persistence=t,this.ni=e,this.M=r,this.si=new b1(dn),this.ii=new qc(s=>p0(s),g9),this.ri=new Map,this.oi=t.getRemoteDocumentCache(),this.ls=t.getTargetCache(),this.ds=t.getBundleCache(),this.ui(i)}ui(t){this.indexManager=this.persistence.getIndexManager(t),this.$s=this.persistence.getMutationQueue(t,this.indexManager),this.ai=new HRe(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.si))}}function qK(n,t,e,i){return new RRe(n,t,e,i)}function $K(n,t){return LD.apply(this,arguments)}function LD(){return LD=(0,_e.Z)(function*(n,t){const e=Je(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.$s.getAllMutationBatches(i).next(s=>(r=s,e.ui(t),e.$s.getAllMutationBatches(i))).next(s=>{const c=[],d=[];let h=Bn();for(const _ of r){c.push(_.batchId);for(const M of _.mutations)h=h.add(M.key)}for(const _ of s){d.push(_.batchId);for(const M of _.mutations)h=h.add(M.key)}return e.ai.qs(i,h).next(_=>({ci:_,removedBatchIds:c,addedBatchIds:d}))})})}),LD.apply(this,arguments)}function ORe(n,t){const e=Je(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.oi.newChangeBuffer({trackRemovals:!0});return function(c,d,h,_){const M=h.batch,x=M.keys();let D=Ce.resolve();return x.forEach(N=>{D=D.next(()=>_.getEntry(d,N)).next(H=>{const U=h.docVersions.get(N);Bt(null!==U),H.version.compareTo(U)<0&&(M.applyToRemoteDocument(H,h),H.isValidDocument()&&(H.setReadTime(h.commitVersion),_.addEntry(H)))})}),D.next(()=>c.$s.removeMutationBatch(d,M))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.$s.performConsistencyCheck(i)).next(()=>e.ai.qs(i,r))})}function WK(n){const t=Je(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ls.getLastRemoteSnapshotVersion(e))}function PRe(n,t){const e=Je(n),i=t.snapshotVersion;let r=e.si;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=e.oi.newChangeBuffer({trackRemovals:!0});r=e.si;const d=[];t.targetChanges.forEach((_,M)=>{const x=r.get(M);if(!x)return;d.push(e.ls.removeMatchingKeys(s,_.removedDocuments,M).next(()=>e.ls.addMatchingKeys(s,_.addedDocuments,M)));let D=x.withSequenceNumber(s.currentSequenceNumber);var N,H,U;t.targetMismatches.has(M)?D=D.withResumeToken(G1.EMPTY_BYTE_STRING,Ht.min()).withLastLimboFreeSnapshotVersion(Ht.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,i)),r=r.insert(M,D),H=D,U=_,(0===(N=x).resumeToken.approximateByteSize()||H.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8||U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0)&&d.push(e.ls.updateTargetData(s,D))});let h=No();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(s,_))}),d.push(ZK(s,c,t.documentUpdates).next(_=>{h=_})),!i.isEqual(Ht.min())){const _=e.ls.getLastRemoteSnapshotVersion(s).next(M=>e.ls.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(_)}return Ce.waitFor(d).next(()=>c.apply(s)).next(()=>e.ai.Gs(s,h)).next(()=>h)}).then(s=>(e.si=r,s))}function ZK(n,t,e){let i=Bn();return e.forEach(r=>i=i.add(r)),t.getEntries(n,i).next(r=>{let s=No();return e.forEach((c,d)=>{const h=r.get(c);d.isNoDocument()&&d.version.isEqual(Ht.min())?(t.removeEntry(c,d.readTime),s=s.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||0===d.version.compareTo(h.version)&&h.hasPendingWrites?(t.addEntry(d),s=s.insert(c,d)):ze("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)}),s})}function zRe(n,t){const e=Je(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.$s.getNextMutationBatchAfterBatchId(i,t)))}function sd(n,t){const e=Je(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.ls.getTargetData(i,t).next(s=>s?(r=s,Ce.resolve(r)):e.ls.allocateTargetId(i).next(c=>(r=new $c(t,c,0,i.currentSequenceNumber),e.ls.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.si.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.si=e.si.insert(i.targetId,i),e.ii.set(t,i.targetId)),i})}function od(n,t,e){return TD.apply(this,arguments)}function TD(){return TD=(0,_e.Z)(function*(n,t,e){const i=Je(n),r=i.si.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!_0(c))throw c;ze("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.si=i.si.remove(t),i.ii.delete(r.target)}),TD.apply(this,arguments)}function ty(n,t,e){const i=Je(n);let r=Ht.min(),s=Bn();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,h,_){const M=Je(d),x=M.ii.get(_);return void 0!==x?Ce.resolve(M.si.get(x)):M.ls.getTargetData(h,_)}(i,c,Io(t)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.ls.getMatchingKeysForTargetId(c,d.targetId).next(h=>{s=h})}).next(()=>i.ni.Ks(c,t,e?r:Ht.min(),e?s:Bn())).next(d=>(QK(i,HY(t),d),{documents:d,hi:s})))}function YK(n,t){const e=Je(n),i=Je(e.ls),r=e.si.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.Et(s,t).next(c=>c?c.target:null))}function KK(n,t){const e=Je(n),i=e.ri.get(t)||Ht.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.oi.getAllFromCollectionGroup(r,t,LY(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(QK(e,t,r),r))}function QK(n,t,e){let i=Ht.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.ri.set(t,i)}function DD(){return DD=(0,_e.Z)(function*(n,t,e,i){const r=Je(n);let s=Bn(),c=No();for(const _ of e){const M=t.li(_.metadata.name);_.document&&(s=s.add(M));const x=t.fi(_);x.setReadTime(t.di(_.metadata.readTime)),c=c.insert(M,x)}const d=r.oi.newChangeBuffer({trackRemovals:!0}),h=yield sd(r,(_=i,Io(Zu(wn.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",_=>ZK(_,d,c).next(M=>(d.apply(_),M)).next(M=>r.ls.removeMatchingKeysForTargetId(_,h.targetId).next(()=>r.ls.addMatchingKeys(_,s,h.targetId)).next(()=>r.ai.Gs(_,M)).next(()=>M)))}),DD.apply(this,arguments)}function BRe(n,t){return AD.apply(this,arguments)}function AD(){return AD=(0,_e.Z)(function*(n,t,e=Bn()){const i=yield sd(n,Io(mD(t.bundledQuery))),r=Je(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=c2(t.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.ds.saveNamedQuery(s,t);const d=i.withResumeToken(G1.EMPTY_BYTE_STRING,c);return r.si=r.si.insert(d.targetId,d),r.ls.updateTargetData(s,d).next(()=>r.ls.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.ls.addMatchingKeys(s,e,i.targetId)).next(()=>r.ds.saveNamedQuery(s,t))})}),AD.apply(this,arguments)}class URe{constructor(t){this.M=t,this._i=new Map,this.wi=new Map}getBundleMetadata(t,e){return Ce.resolve(this._i.get(e))}saveBundleMetadata(t,e){var i;return this._i.set(e.id,{id:(i=e).id,version:i.version,createTime:c2(i.createTime)}),Ce.resolve()}getNamedQuery(t,e){return Ce.resolve(this.wi.get(e))}saveNamedQuery(t,e){return this.wi.set(e.name,{name:(i=e).name,query:mD(i.bundledQuery),readTime:c2(i.readTime)}),Ce.resolve();var i}}class GRe{constructor(){this.overlays=new b1($e.comparator),this.mi=new Map}getOverlay(t,e){return Ce.resolve(this.overlays.get(e))}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.Xt(t,e,s)}),Ce.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.mi.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.mi.delete(i)),Ce.resolve()}getOverlaysForCollection(t,e,i){const r=y9(),s=e.length+1,c=new $e(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,_=h.getKey();if(!e.isPrefixOf(_.path))break;_.path.length===s&&h.largestBatchId>i&&r.set(h.getKey(),h)}return Ce.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new b1((_,M)=>_-M);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===e&&_.largestBatchId>i){let M=s.get(_.largestBatchId);null===M&&(M=y9(),s=s.insert(_.largestBatchId,M)),M.set(_.getKey(),_)}}const d=y9(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((_,M)=>d.set(_,M)),!(d.size()>=r)););return Ce.resolve(d)}Xt(t,e,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const c=this.mi.get(r.largestBatchId).delete(i.key);this.mi.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new CD(e,i));let s=this.mi.get(e);void 0===s&&(s=Bn(),this.mi.set(e,s)),this.mi.set(e,s.add(i.key))}}class ID{constructor(){this.gi=new Di(f2.yi),this.pi=new Di(f2.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(t,e){const i=new f2(t,e);this.gi=this.gi.add(i),this.pi=this.pi.add(i)}Ti(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Ei(new f2(t,e))}Ai(t,e){t.forEach(i=>this.removeReference(i,e))}Ri(t){const e=new $e(new wn([])),i=new f2(e,t),r=new f2(e,t+1),s=[];return this.pi.forEachInRange([i,r],c=>{this.Ei(c),s.push(c.key)}),s}bi(){this.gi.forEach(t=>this.Ei(t))}Ei(t){this.gi=this.gi.delete(t),this.pi=this.pi.delete(t)}Pi(t){const e=new $e(new wn([])),i=new f2(e,t),r=new f2(e,t+1);let s=Bn();return this.pi.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(t){const e=new f2(t,0),i=this.gi.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class f2{constructor(t,e){this.key=t,this.Vi=e}static yi(t,e){return $e.comparator(t.key,e.key)||dn(t.Vi,e.Vi)}static Ii(t,e){return dn(t.Vi,e.Vi)||$e.comparator(t.key,e.key)}}class jRe{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.$s=[],this.vi=1,this.Si=new Di(f2.yi)}checkEmpty(t){return Ce.resolve(0===this.$s.length)}addMutationBatch(t,e,i,r){const s=this.vi;this.vi++;const c=new pD(s,e,i,r);this.$s.push(c);for(const d of r)this.Si=this.Si.add(new f2(d.key,s)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return Ce.resolve(c)}lookupMutationBatch(t,e){return Ce.resolve(this.Di(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Ci(e+1),s=r<0?0:r;return Ce.resolve(this.$s.length>s?this.$s[s]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(t){return Ce.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new f2(e,0),r=new f2(e,Number.POSITIVE_INFINITY),s=[];return this.Si.forEachInRange([i,r],c=>{const d=this.Di(c.Vi);s.push(d)}),Ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Di(dn);return e.forEach(r=>{const s=new f2(r,0),c=new f2(r,Number.POSITIVE_INFINITY);this.Si.forEachInRange([s,c],d=>{i=i.add(d.Vi)})}),Ce.resolve(this.xi(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;$e.isDocumentKey(s)||(s=s.child(""));const c=new f2(new $e(s),0);let d=new Di(dn);return this.Si.forEachWhile(h=>{const _=h.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(d=d.add(h.Vi)),!0)},c),Ce.resolve(this.xi(d))}xi(t){const e=[];return t.forEach(i=>{const r=this.Di(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Bt(0===this.Ni(e.batchId,"removed")),this.$s.shift();let i=this.Si;return Ce.forEach(e.mutations,r=>{const s=new f2(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Si=i})}dn(t){}containsKey(t,e){const i=new f2(e,0),r=this.Si.firstAfterOrEqual(i);return Ce.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Ce.resolve()}Ni(t,e){return this.Ci(t)}Ci(t){return 0===this.$s.length?0:t-this.$s[0].batchId}Di(t){const e=this.Ci(t);return e<0||e>=this.$s.length?null:this.$s[e]}}class qRe{constructor(t){this.ki=t,this.docs=new b1($e.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,c=this.ki(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Ce.resolve(i?i.document.mutableCopy():Ti.newInvalidDocument(e))}getEntries(t,e){let i=No();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ti.newInvalidDocument(r))}),Ce.resolve(i)}getAllFromCollection(t,e,i){let r=No();const s=new $e(e.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!e.isPrefixOf(d.path))break;d.path.length>e.length+1||pHe(hHe(h),i)<=0||(r=r.insert(h.key,h.mutableCopy()))}return Ce.resolve(r)}getAllFromCollectionGroup(t,e,i,r){ft()}Mi(t,e){return Ce.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new $Re(this)}getSize(t){return Ce.resolve(this.size)}}class $Re extends zK{constructor(t){super(),this.qn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.qn.addEntry(t,r)):this.qn.removeEntry(i)}),Ce.waitFor(e)}getFromCache(t,e){return this.qn.getEntry(t,e)}getAllFromCache(t,e){return this.qn.getEntries(t,e)}}class WRe{constructor(t){this.persistence=t,this.Oi=new qc(e=>p0(e),g9),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this.Fi=0,this.$i=new ID,this.targetCount=0,this.Bi=w0.mn()}forEachTarget(t,e){return this.Oi.forEach((i,r)=>e(r)),Ce.resolve()}getLastRemoteSnapshotVersion(t){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ce.resolve(this.Fi)}allocateTargetId(t){return this.highestTargetId=this.Bi.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Fi&&(this.Fi=e),Ce.resolve()}In(t){this.Oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Bi=new w0(e),this.highestTargetId=e),t.sequenceNumber>this.Fi&&(this.Fi=t.sequenceNumber)}addTargetData(t,e){return this.In(e),this.targetCount+=1,Ce.resolve()}updateTargetData(t,e){return this.In(e),Ce.resolve()}removeTargetData(t,e){return this.Oi.delete(e.target),this.$i.Ri(e.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Oi.forEach((c,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.Oi.delete(c),s.push(this.removeMatchingKeysForTargetId(t,d.targetId)),r++)}),Ce.waitFor(s).next(()=>r)}getTargetCount(t){return Ce.resolve(this.targetCount)}getTargetData(t,e){const i=this.Oi.get(e)||null;return Ce.resolve(i)}addMatchingKeys(t,e,i){return this.$i.Ti(e,i),Ce.resolve()}removeMatchingKeys(t,e,i){this.$i.Ai(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(c=>{s.push(r.markPotentiallyOrphaned(t,c))}),Ce.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.$i.Ri(e),Ce.resolve()}getMatchingKeysForTargetId(t,e){const i=this.$i.Pi(e);return Ce.resolve(i)}containsKey(t,e){return Ce.resolve(this.$i.containsKey(e))}}class ZRe{constructor(t,e){this.Li={},this.overlays={},this.ts=new Ps(0),this.es=!1,this.es=!0,this.referenceDelegate=t(this),this.ls=new WRe(this),this.indexManager=new SRe,this.fs=new qRe(i=>this.referenceDelegate.Ui(i)),this.M=new xK(e),this.ds=new URe(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new GRe,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Li[t.toKey()];return i||(i=new jRe(e,this.referenceDelegate),this.Li[t.toKey()]=i),i}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(t,e,i){ze("MemoryPersistence","Starting transaction:",t);const r=new YRe(this.ts.next());return this.referenceDelegate.qi(),i(r).next(s=>this.referenceDelegate.Gi(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ki(t,e){return Ce.or(Object.values(this.Li).map(i=>()=>i.containsKey(t,e)))}}class YRe extends bK{constructor(t){super(),this.currentSequenceNumber=t}}class ND{constructor(t){this.persistence=t,this.Qi=new ID,this.ji=null}static Wi(t){return new ND(t)}get zi(){if(this.ji)return this.ji;throw ft()}addReference(t,e,i){return this.Qi.addReference(i,e),this.zi.delete(i.toString()),Ce.resolve()}removeReference(t,e,i){return this.Qi.removeReference(i,e),this.zi.add(i.toString()),Ce.resolve()}markPotentiallyOrphaned(t,e){return this.zi.add(e.toString()),Ce.resolve()}removeTarget(t,e){this.Qi.Ri(e.targetId).forEach(r=>this.zi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.zi.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}qi(){this.ji=new Set}Gi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.zi,i=>{const r=$e.fromPath(i);return this.Hi(t,r).next(s=>{s||e.removeEntry(r,Ht.min())})}).next(()=>(this.ji=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hi(t,e).next(i=>{i?this.zi.delete(e.toString()):this.zi.add(e.toString())})}Ui(t){return 0}Hi(t,e){return Ce.or([()=>Ce.resolve(this.Qi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ki(t,e)])}}function JK(n,t){return`firestore_clients_${n}_${t}`}function XK(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function kD(n,t){return`firestore_targets_${n}_${t}`}class ny{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ji(t,e,i){const r=JSON.parse(i);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new Ie(r.error.code,r.error.message))),c?new ny(t,e,r.state,s):(T1("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class k9{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ji(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Ie(i.error.code,i.error.message))),s?new k9(t,i.state,r):(T1("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class iy{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ji(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=Gv();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=mY(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new iy(t,s):(T1("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class VD{constructor(t,e){this.clientId=t,this.onlineState=e}static Ji(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new VD(e.clientId,e.onlineState):(T1("SharedClientState",`Failed to parse online state: ${t}`),null)}}class HD{constructor(){this.activeTargetIds=Gv()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class RD{constructor(t,e,i,r,s){this.window=t,this.Jn=e,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new b1(dn),this.started=!1,this.ir=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.rr=JK(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new HD),this.ar=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,_e.Z)(function*(){const e=yield t.syncEngine.Os();for(const r of e){if(r===t.tr)continue;const s=t.getItem(JK(t.persistenceKey,r));if(s){const c=iy.Ji(r,s);c&&(t.sr=t.sr.insert(c.clientId,c))}}t._r();const i=t.storage.getItem(t.lr);if(i){const r=t.wr(i);r&&t.mr(r)}for(const r of t.ir)t.nr(r);t.ir=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ur,JSON.stringify(t))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(t){let e=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.yr(t,"pending")}updateMutationState(t,e,i){this.yr(t,e,i),this.pr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(kD(this.persistenceKey,t));if(i){const r=k9.Ji(t,i);r&&(e=r.state)}}return this.Ir.Xi(t),this._r(),e}removeLocalQueryTarget(t){this.Ir.Zi(t),this._r()}isLocalQueryTarget(t){return this.Ir.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(kD(this.persistenceKey,t))}updateQueryState(t,e,i){this.Tr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.pr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Er(t)}notifyBundleLoaded(t){this.Ar(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return ze("SharedClientState","READ",t,e),e}setItem(t,e){ze("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){ze("SharedClientState","REMOVE",t),this.storage.removeItem(t)}nr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(ze("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void T1("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,_e.Z)(function*(){if(e.started){if(null!==i.key)if(e.ar.test(i.key)){if(null==i.newValue){const r=e.Rr(i.key);return e.br(r,null)}{const r=e.Pr(i.key,i.newValue);if(r)return e.br(r.clientId,r)}}else if(e.cr.test(i.key)){if(null!==i.newValue){const r=e.Vr(i.key,i.newValue);if(r)return e.vr(r)}}else if(e.hr.test(i.key)){if(null!==i.newValue){const r=e.Sr(i.key,i.newValue);if(r)return e.Dr(r)}}else if(i.key===e.lr){if(null!==i.newValue){const r=e.wr(i.newValue);if(r)return e.mr(r)}}else if(i.key===e.ur){const r=function(s){let c=Ps.A;if(null!=s)try{const d=JSON.parse(s);Bt("number"==typeof d),c=d}catch(d){T1("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);r!==Ps.A&&e.sequenceNumberHandler(r)}else if(i.key===e.dr){const r=e.Cr(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Nr(s)))}}else e.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(t,e,i){const r=new ny(this.currentUser,t,e,i),s=XK(this.persistenceKey,this.currentUser,t);this.setItem(s,r.Yi())}pr(t){const e=XK(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Er(t){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:t}))}Tr(t,e,i){const r=kD(this.persistenceKey,t),s=new k9(t,e,i);this.setItem(r,s.Yi())}Ar(t){const e=JSON.stringify(Array.from(t));this.setItem(this.dr,e)}Rr(t){const e=this.ar.exec(t);return e?e[1]:null}Pr(t,e){const i=this.Rr(t);return iy.Ji(i,e)}Vr(t,e){const i=this.cr.exec(t),r=Number(i[1]);return ny.Ji(new N2(void 0!==i[2]?i[2]:null),r,e)}Sr(t,e){const i=this.hr.exec(t),r=Number(i[1]);return k9.Ji(r,e)}wr(t){return VD.Ji(t)}Cr(t){return JSON.parse(t)}vr(t){var e=this;return(0,_e.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.kr(t.batchId,t.state,t.error);ze("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Dr(t){return this.syncEngine.Mr(t.targetId,t.state,t.error)}br(t,e){const i=e?this.sr.insert(t,e):this.sr.remove(t),r=this.gr(this.sr),s=this.gr(i),c=[],d=[];return s.forEach(h=>{r.has(h)||c.push(h)}),r.forEach(h=>{s.has(h)||d.push(h)}),this.syncEngine.Or(c,d).then(()=>{this.sr=i})}mr(t){this.sr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}gr(t){let e=Gv();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class eQ{constructor(){this.Fr=new HD,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,i){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new HD,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class KRe{Br(t){}shutdown(){}}class tQ{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(t){this.Kr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Kr)t(0)}Gr(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Kr)t(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const QRe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class JRe{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class XRe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.so=(t.ssl?"https":"http")+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,i,r,s){const c=this.oo(t,e);ze("RestConnection","Sending: ",c,i);const d={};return this.uo(d,r,s),this.ao(t,c,d,i).then(h=>(ze("RestConnection","Received: ",h),h),h=>{throw a9("RestConnection",`${t} failed with error: `,h,"url: ",c,"request:",i),h})}co(t,e,i,r,s){return this.ro(t,e,i,r,s)}uo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Bu,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}oo(t,e){return`${this.so}/v1/${e}:${QRe[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}ao(t,e,i,r){return new Promise((s,c)=>{const d=new XVe;d.listenOnce(KVe.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case YT.NO_ERROR:const _=d.getResponseJson();ze("Connection","XHR received:",JSON.stringify(_)),s(_);break;case YT.TIMEOUT:ze("Connection",'RPC "'+t+'" timed out'),c(new Ie(de.DEADLINE_EXCEEDED,"Request time out"));break;case YT.HTTP_ERROR:const M=d.getStatus();if(ze("Connection",'RPC "'+t+'" failed with status:',M,"response text:",d.getResponseText()),M>0){const x=d.getResponseJson().error;if(x&&x.status&&x.message){const D=function(N){const H=N.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(H)>=0?H:de.UNKNOWN}(x.status);c(new Ie(D,x.message))}else c(new Ie(de.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Ie(de.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{ze("Connection",'RPC "'+t+'" completed.')}});const h=JSON.stringify(r);d.send(e,"POST",h,i,15)})}ho(t,e,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=ZVe(),c=YVe(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new JVe({})),this.uo(d.initMessageHeaders,e,i),(0,R.uI)()||(0,R.b$)()||(0,R.d)()||(0,R.w1)()||(0,R.Mn)()||(0,R.ru)()||(d.httpHeadersOverwriteParam="$httpHeaders");const h=r.join("");ze("Connection","Creating WebChannel: "+h,d);const _=s.createWebChannel(h,d);let M=!1,x=!1;const D=new JRe({jr:H=>{x?ze("Connection","Not sending because WebChannel is closed:",H):(M||(ze("Connection","Opening WebChannel transport."),_.open(),M=!0),ze("Connection","WebChannel sending:",H),_.send(H))},Wr:()=>_.close()}),N=(H,U,Y)=>{H.listen(U,ae=>{try{Y(ae)}catch(ce){setTimeout(()=>{throw ce},0)}})};return N(_,Iv.EventType.OPEN,()=>{x||ze("Connection","WebChannel transport opened.")}),N(_,Iv.EventType.CLOSE,()=>{x||(x=!0,ze("Connection","WebChannel transport closed"),D.eo())}),N(_,Iv.EventType.ERROR,H=>{x||(x=!0,a9("Connection","WebChannel transport errored:",H),D.eo(new Ie(de.UNAVAILABLE,"The operation could not be completed")))}),N(_,Iv.EventType.MESSAGE,H=>{var U;if(!x){const Y=H.data[0];Bt(!!Y);const ae=Y,ce=ae.error||(null===(U=ae[0])||void 0===U?void 0:U.error);if(ce){ze("Connection","WebChannel received error:",ce);const ke=ce.status;let Te=function(st){const an=A1[st];if(void 0!==an)return QY(an)}(ke),tt=ce.message;void 0===Te&&(Te=de.INTERNAL,tt="Unknown error status: "+ke+" with message "+ce.message),x=!0,D.eo(new Ie(Te,tt)),_.close()}else ze("Connection","WebChannel received:",Y),D.no(Y)}}),N(c,QVe.STAT_EVENT,H=>{H.stat===lY.PROXY?ze("Connection","Detected buffering proxy"):H.stat===lY.NOPROXY&&ze("Connection","Detected no buffering proxy")}),setTimeout(()=>{D.Zr()},0),D}}function nQ(){return"undefined"!=typeof window?window:null}function ry(){return"undefined"!=typeof document?document:null}function V9(n){return new BHe(n,!0)}class OD{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Jn=t,this.timerId=e,this.lo=i,this.fo=r,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,e-i);r>0&&ze("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class iQ{constructor(t,e,i,r,s,c,d,h){this.Jn=t,this.Ao=i,this.Ro=r,this.bo=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new OD(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var t=this;return(0,_e.Z)(function*(){t.Do()&&(yield t.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(t){this.Fo(),this.stream.send(t)}Mo(){var t=this;return(0,_e.Z)(function*(){if(t.Co())return t.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(t,e){var i=this;return(0,_e.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==t?i.So.reset():e&&e.code===de.RESOURCE_EXHAUSTED?(T1(e.toString()),T1("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):e&&e.code===de.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Jr(e)})()}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===e&&this.Uo(i,r)},i=>{t(()=>{const r=new Ie(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(t,e){const i=this.Lo(this.Po);this.stream=this.Go(t,e),this.stream.zr(()=>{i(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var t=this;this.state=5,this.So.Io((0,_e.Z)(function*(){t.state=0,t.start()}))}qo(t){return ze("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.Jn.enqueueAndForget(()=>this.Po===t?e():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eOe extends iQ{constructor(t,e,i,r,s,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.M=s}Go(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(h=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===h?1:"REMOVE"===h?2:"CURRENT"===h?3:"RESET"===h?4:ft(),r=t.targetChange.targetIds||[],s=function(h,_){return h.N?(Bt(void 0===_||"string"==typeof _),G1.fromBase64String(_||"")):(Bt(void 0===_||_ instanceof Uint8Array),G1.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(h){const _=void 0===h.code?de.UNKNOWN:QY(h.code);return new Ie(_,h.message||"")}(c);e=new eK(i,r,s,d||null)}else if("documentChange"in t){const i=t.documentChange,r=A3(n,i.document.name),s=c2(i.document.updateTime),c=new Y2({mapValue:{fields:i.document.fields}}),d=Ti.newFoundDocument(r,s,c);e=new jv(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in t){const i=t.documentDelete,r=A3(n,i.document),s=i.readTime?c2(i.readTime):Ht.min(),c=Ti.newNoDocument(r,s);e=new jv([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=A3(n,i.document);e=new jv([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ft();{const i=t.filter,s=new NHe(i.count||0);e=new XY(i.targetId,s)}}var h;return e}(this.M,t),i=function(r){if(!("targetChange"in r))return Ht.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Ht.min():s.readTime?c2(s.readTime):Ht.min()}(t);return this.listener.Ko(e,i)}Qo(t){const e={};e.database=S9(this.M),e.addTarget=function(r,s){let c;const d=s.target;return c=Hv(d)?{documents:uK(r,d)}:{query:dK(r,d)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=rK(r,s.resumeToken):s.snapshotVersion.compareTo(Ht.min())>0&&(c.readTime=w9(r,s.snapshotVersion.toTimestamp())),c}(this.M,t);const i=function(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ft()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Oo(e)}jo(t){const e={};e.database=S9(this.M),e.removeTarget=t,this.Oo(e)}}class tOe extends iQ{constructor(t,e,i,r,s,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.M=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(Bt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=function(n,t){return n&&n.length>0?(Bt(void 0!==t),n.map(e=>function(i,r){let s=c2(i.updateTime?i.updateTime:r);return s.isEqual(Ht.min())&&(s=c2(r)),new DHe(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=c2(t.commitTime);return this.listener.Jo(i,e)}return Bt(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=S9(this.M),this.Oo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>E9(this.M,i))};this.Oo(e)}}class nOe extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=i,this.M=r,this.Zo=!1}tu(){if(this.Zo)throw new Ie(de.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.bo.ro(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ie(de.UNKNOWN,r.toString())})}co(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.bo.co(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ie(de.UNKNOWN,r.toString())})}terminate(){this.Zo=!0}}class iOe{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.au(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(T1(e),this.su=!1):ze("OnlineStateTracker",e)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class rOe{constructor(t,e,i,r,s){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(d=>{i.enqueueAndForget((0,_e.Z)(function*(){var h;Kc(c)&&(ze("RemoteStore","Restarting streams for network reachability change."),yield(h=(0,_e.Z)(function*(_){const M=Je(_);M.lu.add(4),yield ad(M),M._u.set("Unknown"),M.lu.delete(4),yield H9(M)}),function(_){return h.apply(this,arguments)})(c))}))}),this._u=new iOe(i,r)}}function H9(n){return PD.apply(this,arguments)}function PD(){return PD=(0,_e.Z)(function*(n){if(Kc(n))for(const t of n.fu)yield t(!0)}),PD.apply(this,arguments)}function ad(n){return zD.apply(this,arguments)}function zD(){return zD=(0,_e.Z)(function*(n){for(const t of n.fu)yield t(!1)}),zD.apply(this,arguments)}function sy(n,t){const e=Je(n);e.hu.has(t.targetId)||(e.hu.set(t.targetId,t),UD(e)?BD(e):cd(e).Co()&&FD(e,t))}function R9(n,t){const e=Je(n),i=cd(e);e.hu.delete(t),i.Co()&&rQ(e,t),0===e.hu.size&&(i.Co()?i.ko():Kc(e)&&e._u.set("Unknown"))}function FD(n,t){n.wu.Z(t.targetId),cd(n).Qo(t)}function rQ(n,t){n.wu.Z(t),cd(n).jo(t)}function BD(n){n.wu=new PHe({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.hu.get(t)||null}),cd(n).start(),n._u.iu()}function UD(n){return Kc(n)&&!cd(n).Do()&&n.hu.size>0}function Kc(n){return 0===Je(n).lu.size}function sQ(n){n.wu=void 0}function sOe(n){return GD.apply(this,arguments)}function GD(){return GD=(0,_e.Z)(function*(n){n.hu.forEach((t,e)=>{FD(n,t)})}),GD.apply(this,arguments)}function oOe(n,t){return jD.apply(this,arguments)}function jD(){return jD=(0,_e.Z)(function*(n,t){sQ(n),UD(n)?(n._u.uu(t),BD(n)):n._u.set("Unknown")}),jD.apply(this,arguments)}function aOe(n,t,e){return qD.apply(this,arguments)}function qD(){return qD=(0,_e.Z)(function*(n,t,e){if(n._u.set("Online"),t instanceof eK&&2===t.state&&t.cause)try{yield(i=(0,_e.Z)(function*(r,s){const c=s.cause;for(const d of s.targetIds)r.hu.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.hu.delete(d),r.wu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){ze("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield oy(n,i)}else if(t instanceof jv?n.wu.ut(t):t instanceof XY?n.wu._t(t):n.wu.ht(t),!e.isEqual(Ht.min()))try{const i=yield WK(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const c=r.wu.yt(s);return c.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const _=r.hu.get(h);_&&r.hu.set(h,_.withResumeToken(d.resumeToken,s))}}),c.targetMismatches.forEach(d=>{const h=r.hu.get(d);if(!h)return;r.hu.set(d,h.withResumeToken(G1.EMPTY_BYTE_STRING,h.snapshotVersion)),rQ(r,d);const _=new $c(h.target,d,1,h.sequenceNumber);FD(r,_)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){ze("RemoteStore","Failed to raise snapshot:",i),yield oy(n,i)}var i}),qD.apply(this,arguments)}function oy(n,t,e){return $D.apply(this,arguments)}function $D(){return $D=(0,_e.Z)(function*(n,t,e){if(!_0(t))throw t;n.lu.add(1),yield ad(n),n._u.set("Offline"),e||(e=()=>WK(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){ze("RemoteStore","Retrying IndexedDB access"),yield e(),n.lu.delete(1),yield H9(n)}))}),$D.apply(this,arguments)}function oQ(n,t){return t().catch(e=>oy(n,e,t))}function ld(n){return WD.apply(this,arguments)}function WD(){return WD=(0,_e.Z)(function*(n){const t=Je(n),e=Qc(t);let i=t.cu.length>0?t.cu[t.cu.length-1].batchId:-1;for(;lOe(t);)try{const r=yield zRe(t.localStore,i);if(null===r){0===t.cu.length&&e.ko();break}i=r.batchId,cOe(t,r)}catch(r){yield oy(t,r)}aQ(t)&&lQ(t)}),WD.apply(this,arguments)}function lOe(n){return Kc(n)&&n.cu.length<10}function cOe(n,t){n.cu.push(t);const e=Qc(n);e.Co()&&e.zo&&e.Ho(t.mutations)}function aQ(n){return Kc(n)&&!Qc(n).Do()&&n.cu.length>0}function lQ(n){Qc(n).start()}function uOe(n){return ZD.apply(this,arguments)}function ZD(){return ZD=(0,_e.Z)(function*(n){Qc(n).Xo()}),ZD.apply(this,arguments)}function dOe(n){return YD.apply(this,arguments)}function YD(){return YD=(0,_e.Z)(function*(n){const t=Qc(n);for(const e of n.cu)t.Ho(e.mutations)}),YD.apply(this,arguments)}function fOe(n,t,e){return KD.apply(this,arguments)}function KD(){return KD=(0,_e.Z)(function*(n,t,e){const i=n.cu.shift(),r=gD.from(i,t,e);yield oQ(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield ld(n)}),KD.apply(this,arguments)}function hOe(n,t){return QD.apply(this,arguments)}function QD(){return QD=(0,_e.Z)(function*(n,t){var e;t&&Qc(n).zo&&(yield(e=(0,_e.Z)(function*(i,r){if(KY(s=r.code)&&s!==de.ABORTED){const c=i.cu.shift();Qc(i).No(),yield oQ(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield ld(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),aQ(n)&&lQ(n)}),QD.apply(this,arguments)}function cQ(n,t){return JD.apply(this,arguments)}function JD(){return JD=(0,_e.Z)(function*(n,t){const e=Je(n);e.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const i=Kc(e);e.lu.add(3),yield ad(e),i&&e._u.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.lu.delete(3),yield H9(e)}),JD.apply(this,arguments)}function XD(n,t){return eA.apply(this,arguments)}function eA(){return eA=(0,_e.Z)(function*(n,t){const e=Je(n);t?(e.lu.delete(2),yield H9(e)):t||(e.lu.add(2),yield ad(e),e._u.set("Unknown"))}),eA.apply(this,arguments)}function cd(n){return n.mu||(n.mu=function(t,e,i){const r=Je(t);return r.tu(),new eOe(e,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{zr:sOe.bind(null,n),Jr:oOe.bind(null,n),Ko:aOe.bind(null,n)}),n.fu.push(function(){var t=(0,_e.Z)(function*(e){e?(n.mu.No(),UD(n)?BD(n):n._u.set("Unknown")):(yield n.mu.stop(),sQ(n))});return function(e){return t.apply(this,arguments)}}())),n.mu}function Qc(n){return n.gu||(n.gu=function(t,e,i){const r=Je(t);return r.tu(),new tOe(e,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{zr:uOe.bind(null,n),Jr:hOe.bind(null,n),Yo:dOe.bind(null,n),Jo:fOe.bind(null,n)}),n.fu.push(function(){var t=(0,_e.Z)(function*(e){e?(n.gu.No(),yield ld(n)):(yield n.gu.stop(),n.cu.length>0&&(ze("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(e){return t.apply(this,arguments)}}())),n.gu}class tA{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new a2,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,s){const c=Date.now()+i,d=new tA(t,e,c,r,s);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ie(de.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ud(n,t){if(T1("AsyncQueue",`${t}: ${n}`),_0(n))return new Ie(de.UNAVAILABLE,`${t}: ${n}`);throw n}class dd{constructor(t){this.comparator=t?(e,i)=>t(e,i)||$e.comparator(e.key,i.key):(e,i)=>$e.comparator(e.key,i.key),this.keyedMap=cD(),this.sortedSet=new b1(this.comparator)}static emptySet(t){return new dd(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof dd)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new dd;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class uQ{constructor(){this.yu=new b1($e.comparator)}track(t){const e=t.doc.key,i=this.yu.get(e);i?0!==t.type&&3===i.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==i.type?this.yu=this.yu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.yu=this.yu.remove(e):1===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):ft():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal((e,i)=>{t.push(i)}),t}}class fd{constructor(t,e,i,r,s,c,d,h){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h}static fromInitialDocuments(t,e,i,r){const s=[];return e.forEach(c=>{s.push({type:0,doc:c})}),new fd(t,e,dd.emptySet(e),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&C9(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class pOe{constructor(){this.Iu=void 0,this.listeners=[]}}class gOe{constructor(){this.queries=new qc(t=>VY(t),C9),this.onlineState="Unknown",this.Tu=new Set}}function nA(n,t){return iA.apply(this,arguments)}function iA(){return iA=(0,_e.Z)(function*(n,t){const e=Je(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new pOe),r)try{s.Iu=yield e.onListen(i)}catch(c){const d=ud(c,`Initialization of query '${sD(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,s),s.listeners.push(t),t.Eu(e.onlineState),s.Iu&&t.Au(s.Iu)&&oA(e)}),iA.apply(this,arguments)}function rA(n,t){return sA.apply(this,arguments)}function sA(){return sA=(0,_e.Z)(function*(n,t){const e=Je(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const c=s.listeners.indexOf(t);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),sA.apply(this,arguments)}function COe(n,t){const e=Je(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const d of c.listeners)d.Au(r)&&(i=!0);c.Iu=r}}i&&oA(e)}function mOe(n,t,e){const i=Je(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function oA(n){n.Tu.forEach(t=>{t.next()})}class aA{constructor(t,e,i){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new fd(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.Vu(t)&&(this.Ru.next(t),e=!0):this.vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}vu(t,e){return!t.fromCache||!(this.options.Du&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}Vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(t){t=fd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class _Oe{constructor(t,e){this.payload=t,this.byteLength=e}Cu(){return"metadata"in this.payload}}class dQ{constructor(t){this.M=t}li(t){return A3(this.M,t)}fi(t){return t.metadata.exists?cK(this.M,t.document,!1):Ti.newNoDocument(this.li(t.metadata.name),this.di(t.metadata.readTime))}di(t){return c2(t)}}class vOe{constructor(t,e,i){this.xu=t,this.localStore=e,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=fQ(t)}Nu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=wn.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ku(t){const e=new Map,i=new dQ(this.M);for(const r of t)if(r.metadata.queries){const s=i.li(r.metadata.name);for(const c of r.metadata.queries){const d=(e.get(c)||Bn()).add(s);e.set(c,d)}}return e}complete(){var t=this;return(0,_e.Z)(function*(){const e=yield function(n,t,e,i){return DD.apply(this,arguments)}(t.localStore,new dQ(t.M),t.documents,t.xu.id),i=t.ku(t.documents);for(const r of t.queries)yield BRe(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Mu:t.collectionGroups,Ou:e}})()}}function fQ(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class hQ{constructor(t){this.key=t}}class pQ{constructor(t){this.key=t}}class gQ{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=Bn(),this.mutatedKeys=Bn(),this.Lu=RY(t),this.Uu=new dd(this.Lu)}get qu(){return this.Fu}Gu(t,e){const i=e?e.Ku:new uQ,r=e?e.Uu:this.Uu;let s=e?e.mutatedKeys:this.mutatedKeys,c=r,d=!1;const h=Ov(this.query)&&r.size===this.query.limit?r.last():null,_=Pv(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((M,x)=>{const D=r.get(M),N=oD(this.query,x)?x:null,H=!!D&&this.mutatedKeys.has(D.key),U=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let Y=!1;D&&N?D.data.isEqual(N.data)?H!==U&&(i.track({type:3,doc:N}),Y=!0):this.Qu(D,N)||(i.track({type:2,doc:N}),Y=!0,(h&&this.Lu(N,h)>0||_&&this.Lu(N,_)<0)&&(d=!0)):!D&&N?(i.track({type:0,doc:N}),Y=!0):D&&!N&&(i.track({type:1,doc:D}),Y=!0,(h||_)&&(d=!0)),Y&&(N?(c=c.add(N),s=U?s.add(M):s.delete(M)):(c=c.delete(M),s=s.delete(M)))}),Ov(this.query)||Pv(this.query))for(;c.size>this.query.limit;){const M=Ov(this.query)?c.last():c.first();c=c.delete(M.key),s=s.delete(M.key),i.track({type:1,doc:M})}return{Uu:c,Ku:i,ei:d,mutatedKeys:s}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const s=t.Ku.pu();s.sort((_,M)=>function(x,D){const N=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return N(x)-N(D)}(_.type,M.type)||this.Lu(_.doc,M.doc)),this.ju(i);const c=e?this.Wu():[],d=0===this.Bu.size&&this.current?1:0,h=d!==this.$u;return this.$u=d,0!==s.length||h?{snapshot:new fd(this.query,t.Uu,r,s,t.mutatedKeys,0===d,h,!1),zu:c}:{zu:c}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new uQ,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=Bn(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const e=[];return t.forEach(i=>{this.Bu.has(i)||e.push(new pQ(i))}),this.Bu.forEach(i=>{t.has(i)||e.push(new hQ(i))}),e}Ju(t){this.Fu=t.hi,this.Bu=Bn();const e=this.Gu(t.documents);return this.applyChanges(e,!0)}Yu(){return fd.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class yOe{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class bOe{constructor(t){this.key=t,this.Xu=!1}}class MOe{constructor(t,e,i,r,s,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Zu={},this.ta=new qc(d=>VY(d),C9),this.ea=new Map,this.na=new Set,this.sa=new b1($e.comparator),this.ia=new Map,this.ra=new ID,this.oa={},this.ua=new Map,this.aa=w0.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function wOe(n,t){return lA.apply(this,arguments)}function lA(){return lA=(0,_e.Z)(function*(n,t){const e=IA(n);let i,r;const s=e.ta.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.Yu();else{const c=yield sd(e.localStore,Io(t));e.isPrimaryClient&&sy(e.remoteStore,c);const d=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield cA(e,t,i,"current"===d)}return r}),lA.apply(this,arguments)}function cA(n,t,e,i){return uA.apply(this,arguments)}function uA(){return uA=(0,_e.Z)(function*(n,t,e,i){n.ha=(M,x,D)=>{return(N=(0,_e.Z)(function*(H,U,Y,ae){let ce=U.view.Gu(Y);ce.ei&&(ce=yield ty(H.localStore,U.query,!1).then(({documents:tt})=>U.view.Gu(tt,ce)));const ke=ae&&ae.targetChanges.get(U.targetId),Te=U.view.applyChanges(ce,H.isPrimaryClient,ke);return yA(H,U.targetId,Te.zu),Te.snapshot}),function(H,U,Y,ae){return N.apply(this,arguments)})(n,M,x,D);var N};const r=yield ty(n.localStore,t,!0),s=new gQ(t,r.hi),c=s.Gu(r.documents),d=M9.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),h=s.applyChanges(c,n.isPrimaryClient,d);yA(n,e,h.zu);const _=new yOe(t,e,s);return n.ta.set(t,_),n.ea.has(e)?n.ea.get(e).push(t):n.ea.set(e,[t]),h.snapshot}),uA.apply(this,arguments)}function xOe(n,t){return dA.apply(this,arguments)}function dA(){return dA=(0,_e.Z)(function*(n,t){const e=Je(n),i=e.ta.get(t),r=e.ea.get(i.targetId);if(r.length>1)return e.ea.set(i.targetId,r.filter(s=>!C9(s,t))),void e.ta.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield od(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),R9(e.remoteStore,i.targetId),hd(e,i.targetId)}).catch(x0))):(hd(e,i.targetId),yield od(e.localStore,i.targetId,!0))}),dA.apply(this,arguments)}function fA(){return fA=(0,_e.Z)(function*(n,t,e){const i=NA(n);try{const r=yield function(s,c){const d=Je(s),h=y1.now(),_=c.reduce((x,D)=>x.add(D.key),Bn());let M;return d.persistence.runTransaction("Locally write mutations","readwrite",x=>d.ai.qs(x,_).next(D=>{M=D;const N=[];for(const H of c){const U=IHe(H,M.get(H.key));null!=U&&N.push(new m0(H.key,U,EY(U.value.mapValue),D1.exists(!0)))}return d.$s.addMutationBatch(x,h,N,c)})).then(x=>(x.applyToLocalDocumentSet(M),{batchId:x.batchId,changes:M}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,d){let h=s.oa[s.currentUser.toKey()];h||(h=new b1(dn)),h=h.insert(c,d),s.oa[s.currentUser.toKey()]=h}(i,r.batchId,e),yield tl(i,r.changes),yield ld(i.remoteStore)}catch(r){const s=ud(r,"Failed to persist write");e.reject(s)}}),fA.apply(this,arguments)}function CQ(n,t){return hA.apply(this,arguments)}function hA(){return hA=(0,_e.Z)(function*(n,t){const e=Je(n);try{const i=yield PRe(e.localStore,t);t.targetChanges.forEach((r,s)=>{const c=e.ia.get(s);c&&(Bt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.Xu=!0:r.modifiedDocuments.size>0?Bt(c.Xu):r.removedDocuments.size>0&&(Bt(c.Xu),c.Xu=!1))}),yield tl(e,i,t)}catch(i){yield x0(i)}}),hA.apply(this,arguments)}function mQ(n,t,e){const i=Je(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ta.forEach((s,c)=>{const d=c.view.Eu(t);d.snapshot&&r.push(d.snapshot)}),function(s,c){const d=Je(s);d.onlineState=c;let h=!1;d.queries.forEach((_,M)=>{for(const x of M.listeners)x.Eu(c)&&(h=!0)}),h&&oA(d)}(i.eventManager,t),r.length&&i.Zu.Ko(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function EOe(n,t,e){return pA.apply(this,arguments)}function pA(){return pA=(0,_e.Z)(function*(n,t,e){const i=Je(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ia.get(t),s=r&&r.key;if(s){let c=new b1($e.comparator);c=c.insert(s,Ti.newNoDocument(s,Ht.min()));const d=Bn().add(s),h=new b9(Ht.min(),new Map,new Di(dn),c,d);yield CQ(i,h),i.sa=i.sa.remove(s),i.ia.delete(t),bA(i)}else yield od(i.localStore,t,!1).then(()=>hd(i,t,e)).catch(x0)}),pA.apply(this,arguments)}function LOe(n,t){return gA.apply(this,arguments)}function gA(){return gA=(0,_e.Z)(function*(n,t){const e=Je(n),i=t.batch.batchId;try{const r=yield ORe(e.localStore,t);vA(e,i,null),_A(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield tl(e,r)}catch(r){yield x0(r)}}),gA.apply(this,arguments)}function TOe(n,t,e){return CA.apply(this,arguments)}function CA(){return CA=(0,_e.Z)(function*(n,t,e){const i=Je(n);try{const r=yield function(s,c){const d=Je(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let _;return d.$s.lookupMutationBatch(h,c).next(M=>(Bt(null!==M),_=M.keys(),d.$s.removeMutationBatch(h,M))).next(()=>d.$s.performConsistencyCheck(h)).next(()=>d.ai.qs(h,_))})}(i.localStore,t);vA(i,t,e),_A(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield tl(i,r)}catch(r){yield x0(r)}}),CA.apply(this,arguments)}function mA(){return mA=(0,_e.Z)(function*(n,t){const e=Je(n);Kc(e.remoteStore)||ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=Je(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.$s.getHighestUnacknowledgedBatchId(d))}(e.localStore);if(-1===i)return void t.resolve();const r=e.ua.get(i)||[];r.push(t),e.ua.set(i,r)}catch(i){const r=ud(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),mA.apply(this,arguments)}function _A(n,t){(n.ua.get(t)||[]).forEach(e=>{e.resolve()}),n.ua.delete(t)}function vA(n,t,e){const i=Je(n);let r=i.oa[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.oa[i.currentUser.toKey()]=r}}function hd(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ea.get(t))n.ta.delete(i),e&&n.Zu.la(i,e);n.ea.delete(t),n.isPrimaryClient&&n.ra.Ri(t).forEach(i=>{n.ra.containsKey(i)||_Q(n,i)})}function _Q(n,t){n.na.delete(t.path.canonicalString());const e=n.sa.get(t);null!==e&&(R9(n.remoteStore,e),n.sa=n.sa.remove(t),n.ia.delete(e),bA(n))}function yA(n,t,e){for(const i of e)i instanceof hQ?(n.ra.addReference(i.key,t),AOe(n,i)):i instanceof pQ?(ze("SyncEngine","Document no longer in limbo: "+i.key),n.ra.removeReference(i.key,t),n.ra.containsKey(i.key)||_Q(n,i.key)):ft()}function AOe(n,t){const e=t.key,i=e.path.canonicalString();n.sa.get(e)||n.na.has(i)||(ze("SyncEngine","New document in limbo: "+e),n.na.add(i),bA(n))}function bA(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const t=n.na.values().next().value;n.na.delete(t);const e=new $e(wn.fromString(t)),i=n.aa.next();n.ia.set(i,new bOe(e)),n.sa=n.sa.insert(e,i),sy(n.remoteStore,new $c(Io(Zu(e.path)),i,2,Ps.A))}}function tl(n,t,e){return MA.apply(this,arguments)}function MA(){return MA=(0,_e.Z)(function*(n,t,e){const i=Je(n),r=[],s=[],c=[];var d;i.ta.isEmpty()||(i.ta.forEach((d,h)=>{c.push(i.ha(h,t,e).then(_=>{if(_){i.isPrimaryClient&&i.sharedClientState.updateQueryState(h.targetId,_.fromCache?"not-current":"current"),r.push(_);const M=ED.Js(h.targetId,_);s.push(M)}}))}),yield Promise.all(c),i.Zu.Ko(r),yield(d=(0,_e.Z)(function*(h,_){const M=Je(h);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>Ce.forEach(_,D=>Ce.forEach(D.zs,N=>M.persistence.referenceDelegate.addReference(x,D.targetId,N)).next(()=>Ce.forEach(D.Hs,N=>M.persistence.referenceDelegate.removeReference(x,D.targetId,N)))))}catch(x){if(!_0(x))throw x;ze("LocalStore","Failed to update sequence numbers: "+x)}for(const x of _){const D=x.targetId;if(!x.fromCache){const N=M.si.get(D),U=N.withLastLimboFreeSnapshotVersion(N.snapshotVersion);M.si=M.si.insert(D,U)}}}),function(h,_){return d.apply(this,arguments)})(i.localStore,s))}),MA.apply(this,arguments)}function IOe(n,t){return wA.apply(this,arguments)}function wA(){return wA=(0,_e.Z)(function*(n,t){const e=Je(n);if(!e.currentUser.isEqual(t)){ze("SyncEngine","User change. New user:",t.toKey());const i=yield $K(e.localStore,t);e.currentUser=t,(r=e).ua.forEach(c=>{c.forEach(d=>{d.reject(new Ie(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.ua.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield tl(e,i.ci)}var r}),wA.apply(this,arguments)}function NOe(n,t){const e=Je(n),i=e.ia.get(t);if(i&&i.Xu)return Bn().add(i.key);{let r=Bn();const s=e.ea.get(t);if(!s)return r;for(const c of s){const d=e.ta.get(c);r=r.unionWith(d.view.qu)}return r}}function kOe(n,t){return xA.apply(this,arguments)}function xA(){return xA=(0,_e.Z)(function*(n,t){const e=Je(n),i=yield ty(e.localStore,t.query,!0),r=t.view.Ju(i);return e.isPrimaryClient&&yA(e,t.targetId,r.zu),r}),xA.apply(this,arguments)}function VOe(n,t){return SA.apply(this,arguments)}function SA(){return SA=(0,_e.Z)(function*(n,t){const e=Je(n);return KK(e.localStore,t).then(i=>tl(e,i))}),SA.apply(this,arguments)}function HOe(n,t,e,i){return EA.apply(this,arguments)}function EA(){return EA=(0,_e.Z)(function*(n,t,e,i){const r=Je(n),s=yield function(c,d){const h=Je(c),_=Je(h.$s);return h.persistence.runTransaction("Lookup mutation documents","readonly",M=>_.ln(M,d).next(x=>x?h.ai.qs(M,x):Ce.resolve(null)))}(r.localStore,t);var d;null!==s?("pending"===e?yield ld(r.remoteStore):"acknowledged"===e||"rejected"===e?(vA(r,t,i||null),_A(r,t),d=t,Je(Je(r.localStore).$s).dn(d)):ft(),yield tl(r,s)):ze("SyncEngine","Cannot apply mutation batch with id: "+t)}),EA.apply(this,arguments)}function LA(){return LA=(0,_e.Z)(function*(n,t){const e=Je(n);if(IA(e),NA(e),!0===t&&!0!==e.ca){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield vQ(e,i.toArray());e.ca=!0,yield XD(e.remoteStore,!0);for(const s of r)sy(e.remoteStore,s)}else if(!1===t&&!1!==e.ca){const i=[];let r=Promise.resolve();e.ea.forEach((s,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(hd(e,c),od(e.localStore,c,!0))),R9(e.remoteStore,c)}),yield r,yield vQ(e,i),function(s){const c=Je(s);c.ia.forEach((d,h)=>{R9(c.remoteStore,h)}),c.ra.bi(),c.ia=new Map,c.sa=new b1($e.comparator)}(e),e.ca=!1,yield XD(e.remoteStore,!1)}}),LA.apply(this,arguments)}function vQ(n,t,e){return TA.apply(this,arguments)}function TA(){return TA=(0,_e.Z)(function*(n,t,e){const i=Je(n),r=[],s=[];for(const c of t){let d;const h=i.ea.get(c);if(h&&0!==h.length){d=yield sd(i.localStore,Io(h[0]));for(const _ of h){const M=i.ta.get(_),x=yield kOe(i,M);x.snapshot&&s.push(x.snapshot)}}else{const _=yield YK(i.localStore,c);d=yield sd(i.localStore,_),yield cA(i,yQ(_),c,!1)}r.push(d)}return i.Zu.Ko(s),r}),TA.apply(this,arguments)}function yQ(n){return NY(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function OOe(n){const t=Je(n);return Je(Je(t.localStore).persistence).Os()}function POe(n,t,e,i){return DA.apply(this,arguments)}function DA(){return DA=(0,_e.Z)(function*(n,t,e,i){const r=Je(n);if(r.ca)return void ze("SyncEngine","Ignoring unexpected query state notification.");const s=r.ea.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const c=yield KK(r.localStore,HY(s[0])),d=b9.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield tl(r,c,d);break}case"rejected":yield od(r.localStore,t,!0),hd(r,t,i);break;default:ft()}}),DA.apply(this,arguments)}function zOe(n,t,e){return AA.apply(this,arguments)}function AA(){return AA=(0,_e.Z)(function*(n,t,e){const i=IA(n);if(i.ca){for(const r of t){if(i.ea.has(r)){ze("SyncEngine","Adding an already active target "+r);continue}const s=yield YK(i.localStore,r),c=yield sd(i.localStore,s);yield cA(i,yQ(s),c.targetId,!1),sy(i.remoteStore,c)}for(const r of e)i.ea.has(r)&&(yield od(i.localStore,r,!1).then(()=>{R9(i.remoteStore,r),hd(i,r)}).catch(x0))}}),AA.apply(this,arguments)}function IA(n){const t=Je(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=CQ.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=NOe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=EOe.bind(null,t),t.Zu.Ko=COe.bind(null,t.eventManager),t.Zu.la=mOe.bind(null,t.eventManager),t}function NA(n){const t=Je(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=LOe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TOe.bind(null,t),t}class bQ{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,_e.Z)(function*(){e.M=V9(t.databaseInfo.databaseId),e.sharedClientState=e.da(t),e.persistence=e._a(t),yield e.persistence.start(),e.gcScheduler=e.wa(t),e.localStore=e.ma(t)})()}wa(t){return null}ma(t){return qK(this.persistence,new jK,t.initialUser,this.M)}_a(t){return new ZRe(ND.Wi,this.M)}da(t){return new eQ}terminate(){var t=this;return(0,_e.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class MQ extends bQ{constructor(t,e,i){super(),this.ga=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,_e.Z)(function*(){yield e().call(i,t),yield i.ga.initialize(i,t),yield NA(i.ga.syncEngine),yield ld(i.ga.remoteStore),yield i.persistence.Is(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}ma(t){return qK(this.persistence,new jK,t.initialUser,this.M)}wa(t){return new DRe(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}_a(t){const e=SD(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Yr.withCacheSize(this.cacheSizeBytes):Yr.DEFAULT;return new xD(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,nQ(),ry(),this.M,this.sharedClientState,!!this.forceOwnership)}da(t){return new eQ}}class BOe extends MQ{constructor(t,e){super(t,e,!1),this.ga=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,_e.Z)(function*(){yield e().call(i,t);const r=i.ga.syncEngine;i.sharedClientState instanceof RD&&(i.sharedClientState.syncEngine={kr:HOe.bind(null,r),Mr:POe.bind(null,r),Or:zOe.bind(null,r),Os:OOe.bind(null,r),Nr:VOe.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Is(function(){var s=(0,_e.Z)(function*(c){yield function(n,t){return LA.apply(this,arguments)}(i.ga.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):c||i.gcScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}da(t){const e=nQ();if(!RD.vt(e))throw new Ie(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=SD(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new RD(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class kA{initialize(t,e){var i=this;return(0,_e.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>mQ(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=IOe.bind(null,i.syncEngine),yield XD(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new gOe}createDatastore(t){const e=V9(t.databaseInfo.databaseId),i=new XRe(t.databaseInfo);return new nOe(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=d=>mQ(this.syncEngine,d,0),c=tQ.vt()?new tQ:new KRe,new rOe(e,i,r,s,c);var e,i,r,s,c}createSyncEngine(t,e){return function(i,r,s,c,d,h,_){const M=new MOe(i,r,s,c,d,h);return _&&(M.ca=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,_e.Z)(function*(e){const i=Je(e);ze("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield ad(i),i.du.shutdown(),i._u.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function wQ(n,t=10240){let e=0;return{read:()=>(0,_e.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ay{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.ya(this.observer.next,t)}error(t){this.observer.error?this.ya(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}pa(){this.muted=!0}ya(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class UOe{constructor(t,e){this.Ia=t,this.M=e,this.metadata=new a2,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ia.cancel()}getMetadata(){var t=this;return(0,_e.Z)(function*(){return t.metadata.promise})()}fa(){var t=this;return(0,_e.Z)(function*(){return yield t.getMetadata(),t.Ea()})()}Ea(){var t=this;return(0,_e.Z)(function*(){const e=yield t.Aa();if(null===e)return null;const i=t.Ta.decode(e),r=Number(i);isNaN(r)&&t.Ra(`length string (${i}) is not valid number`);const s=yield t.ba(r);return new _Oe(JSON.parse(s),e.length+r)})()}Pa(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Aa(){var t=this;return(0,_e.Z)(function*(){for(;t.Pa()<0&&!(yield t.Va()););if(0===t.buffer.length)return null;const e=t.Pa();e<0&&t.Ra("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}ba(t){var e=this;return(0,_e.Z)(function*(){for(;e.buffer.length<t;)(yield e.Va())&&e.Ra("Reached the end of bundle when more is expected.");const i=e.Ta.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Ra(t){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${t}`)}Va(){var t=this;return(0,_e.Z)(function*(){const e=yield t.Ia.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class GOe{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ie(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,_e.Z)(function*(s,c){const d=Je(s),h=S9(d.M)+"/documents",_={documents:c.map(N=>x9(d.M,N))},M=yield d.co("BatchGetDocuments",h,_),x=new Map;M.forEach(N=>{const H=function(n,t){return"found"in t?function(e,i){Bt(!!i.found);const r=A3(e,i.found.name),s=c2(i.found.updateTime),c=new Y2({mapValue:{fields:i.found.fields}});return Ti.newFoundDocument(r,s,c)}(n,t):"missing"in t?function(e,i){Bt(!!i.missing),Bt(!!i.readTime);const r=A3(e,i.missing),s=c2(i.readTime);return Ti.newNoDocument(r,s)}(n,t):ft()}(d.M,N);x.set(H.key.toString(),H)});const D=[];return c.forEach(N=>{const H=x.get(N.toString());Bt(!!H),D.push(H)}),D}),function(s,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new v9(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=$e.fromPath(r);t.mutations.push(new lD(s,t.precondition(s)))}),yield(i=(0,_e.Z)(function*(r,s){const c=Je(r),d=S9(c.M)+"/documents",h={writes:s.map(_=>E9(c.M,_))};yield c.ro("Commit",d,h)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ft();e=Ht.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ie(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?D1.updateTime(e):D1.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Ht.min()))throw new Ie(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return D1.updateTime(e)}return D1.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class jOe{constructor(t,e,i,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=i,this.deferred=r,this.va=5,this.So=new OD(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var t=this;this.So.Io((0,_e.Z)(function*(){const e=new GOe(t.datastore),i=t.Da(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Ca(s)}))}).catch(r=>{t.Ca(r)})}))}Da(t){try{const e=this.updateFunction(t);return!f0(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ca(t){this.va>0&&this.xa(t)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(t)}xa(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!KY(e)}return!1}}class qOe{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=N2.UNAUTHENTICATED,this.clientId=fY.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,_e.Z)(function*(d){ze("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(ze("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,_e.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ie(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new a2;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=ud(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function xQ(n,t){return VA.apply(this,arguments)}function VA(){return VA=(0,_e.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,_e.Z)(function*(s){i.isEqual(s)||(yield $K(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),VA.apply(this,arguments)}function SQ(n,t){return HA.apply(this,arguments)}function HA(){return HA=(0,_e.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield RA(n);ze("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>cQ(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>cQ(t.remoteStore,s)),n.onlineComponents=t}),HA.apply(this,arguments)}function RA(n){return OA.apply(this,arguments)}function OA(){return OA=(0,_e.Z)(function*(n){return n.offlineComponents||(ze("FirestoreClient","Using default OfflineComponentProvider"),yield xQ(n,new bQ)),n.offlineComponents}),OA.apply(this,arguments)}function ly(n){return PA.apply(this,arguments)}function PA(){return PA=(0,_e.Z)(function*(n){return n.onlineComponents||(ze("FirestoreClient","Using default OnlineComponentProvider"),yield SQ(n,new kA)),n.onlineComponents}),PA.apply(this,arguments)}function EQ(n){return RA(n).then(t=>t.persistence)}function zA(n){return RA(n).then(t=>t.localStore)}function LQ(n){return ly(n).then(t=>t.remoteStore)}function FA(n){return ly(n).then(t=>t.syncEngine)}function pd(n){return BA.apply(this,arguments)}function BA(){return BA=(0,_e.Z)(function*(n){const t=yield ly(n),e=t.eventManager;return e.onListen=wOe.bind(null,t.syncEngine),e.onUnlisten=xOe.bind(null,t.syncEngine),e}),BA.apply(this,arguments)}function TQ(n,t,e={}){const i=new a2;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(r,s,c,d,h){const _=new ay({next:x=>{s.enqueueAndForget(()=>rA(r,M));const D=x.docs.has(c);!D&&x.fromCache?h.reject(new Ie(de.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&x.fromCache&&d&&"server"===d.source?h.reject(new Ie(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(x)},error:x=>h.reject(x)}),M=new aA(Zu(c.path),_,{includeMetadataChanges:!0,Du:!0});return nA(r,M)}(yield pd(n),n.asyncQueue,t,e,i)})),i.promise}function DQ(n,t,e={}){const i=new a2;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(r,s,c,d,h){const _=new ay({next:x=>{s.enqueueAndForget(()=>rA(r,M)),x.fromCache&&"server"===d.source?h.reject(new Ie(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),M=new aA(c,_,{includeMetadataChanges:!0,Du:!0});return nA(r,M)}(yield pd(n),n.asyncQueue,t,e,i)})),i.promise}const AQ=new Map;function UA(n,t,e){if(!e)throw new Ie(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function IQ(n,t,e,i){if(!0===t&&!0===i)throw new Ie(de.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function NQ(n){if(!$e.isDocumentKey(n))throw new Ie(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kQ(n){if($e.isDocumentKey(n))throw new Ie(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ft()}function yn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ie(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=cy(n);throw new Ie(de.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function VQ(n,t){if(t<=0)throw new Ie(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class HQ{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ie(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ie(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,IQ("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class O9{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HQ({}),this._settingsFrozen=!1,t instanceof J4?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ie(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new J4(r.options.projectId)}(t))}get app(){if(!this._app)throw new Ie(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ie(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HQ(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new nHe;switch(e.type){case"gapi":const i=e.client;return Bt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new oHe(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ie(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=AQ.get(t);e&&(ze("ComponentProvider","Removing Datastore"),AQ.delete(t),e.terminate())}(this),Promise.resolve()}}class Ai{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new I3(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ai(this.firestore,t,this._key)}}class K2{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new K2(this.firestore,t,this._query)}}class I3 extends K2{constructor(t,e,i){super(t,e,Zu(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ai(this.firestore,null,new $e(t))}withConverter(t){return new I3(this.firestore,t,this._path)}}function RQ(n,t,...e){if(n=(0,R.m9)(n),UA("collection","path",t),n instanceof O9){const i=wn.fromString(t,...e);return kQ(i),new I3(n,null,i)}{if(!(n instanceof Ai||n instanceof I3))throw new Ie(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(wn.fromString(t,...e));return kQ(i),new I3(n.firestore,null,i)}}function uy(n,t,...e){if(n=(0,R.m9)(n),1===arguments.length&&(t=fY.R()),UA("doc","path",t),n instanceof O9){const i=wn.fromString(t,...e);return NQ(i),new Ai(n,null,new $e(i))}{if(!(n instanceof Ai||n instanceof I3))throw new Ie(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(wn.fromString(t,...e));return NQ(i),new Ai(n.firestore,n instanceof I3?n.converter:null,new $e(i))}}function OQ(n,t){return n=(0,R.m9)(n),t=(0,R.m9)(t),(n instanceof Ai||n instanceof I3)&&(t instanceof Ai||t instanceof I3)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function PQ(n,t){return n=(0,R.m9)(n),t=(0,R.m9)(t),n instanceof K2&&t instanceof K2&&n.firestore===t.firestore&&C9(n._query,t._query)&&n.converter===t.converter}class nPe{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new OD(this,"async_queue_retry"),this.Ua=()=>{const e=ry();e&&ze("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const t=ry();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.qa(),this.Ga(t)}enterRestrictedMode(t){if(!this.Ma){this.Ma=!0,this.Ba=t||!1;const e=ry();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ua)}}enqueue(t){if(this.qa(),this.Ma)return new Promise(()=>{});const e=new a2;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.ka.push(t),this.Ka()))}Ka(){var t=this;return(0,_e.Z)(function*(){if(0!==t.ka.length){try{yield t.ka[0](),t.ka.shift(),t.So.reset()}catch(e){if(!_0(e))throw e;ze("AsyncQueue","Operation failed with retryable error: "+e)}t.ka.length>0&&t.So.Io(()=>t.Ka())}})()}Ga(t){const e=this.Na.then(()=>(this.$a=!0,t().catch(i=>{throw this.Fa=i,this.$a=!1,T1("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.$a=!1,i))));return this.Na=e,e}enqueueAfterDelay(t,e,i){this.qa(),this.La.indexOf(t)>-1&&(e=0);const r=tA.createAndSchedule(this,t,e,i,s=>this.Qa(s));return this.Oa.push(r),r}qa(){this.Fa&&ft()}verifyOperationInProgress(){}ja(){var t=this;return(0,_e.Z)(function*(){let e;do{e=t.Na,yield e}while(e!==t.Na)})()}Wa(t){for(const e of this.Oa)if(e.timerId===t)return!0;return!1}za(t){return this.ja().then(()=>{this.Oa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Oa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.ja()})}Ha(t){this.La.push(t)}Qa(t){const e=this.Oa.indexOf(t);this.Oa.splice(e,1)}}function GA(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class iPe{constructor(){this._progressObserver={},this._taskCompletionResolver=new a2,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Oi extends O9{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new nPe,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||zQ(this),this._firestoreClient.terminate()}}function I1(n){return n._firestoreClient||zQ(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function zQ(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new fHe(n._databaseId,s,n._persistenceKey,(d=e).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new qOe(n._authCredentials,n._appCheckCredentials,n._queue,i)}function FQ(n,t,e){const i=new a2;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield xQ(n,e),yield SQ(n,t),i.resolve()}catch(r){if(!("FirebaseError"===(s=r).name?s.code===de.FAILED_PRECONDITION||s.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var s})).then(()=>i.promise)}function BQ(n){if(n._initialized||n._terminated)throw new Ie(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class nl{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ie(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new l2(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class N3{constructor(t){this._byteString=t}static fromBase64String(t){try{return new N3(G1.fromBase64String(t))}catch(e){throw new Ie(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new N3(G1.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class E0{constructor(t){this._methodName=t}}class dy{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ie(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ie(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return dn(this._lat,t._lat)||dn(this._long,t._long)}}const hPe=/^__.*__$/;class pPe{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new m0(t,this.data,this.fieldMask,e,this.fieldTransforms):new _9(t,this.data,e,this.fieldTransforms)}}class UQ{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new m0(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function GQ(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class fy{constructor(t,e,i,r,s,c){this.settings=t,this.databaseId=e,this.M=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Ja(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(t){return new fy(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Xa({path:i,tc:!1});return r.ec(t),r}nc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Xa({path:i,tc:!1});return r.Ja(),r}sc(t){return this.Xa({path:void 0,tc:!0})}ic(t){return gy(t,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Ja(){if(this.path)for(let t=0;t<this.path.length;t++)this.ec(this.path.get(t))}ec(t){if(0===t.length)throw this.ic("Document fields must not be empty");if(GQ(this.Ya)&&hPe.test(t))throw this.ic('Document fields cannot begin and end with "__"')}}class gPe{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.M=i||V9(t)}uc(t,e,i,r=!1){return new fy({Ya:t,methodName:e,oc:i,path:l2.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function L0(n){const t=n._freezeSettings(),e=V9(n._databaseId);return new gPe(n._databaseId,!!t.ignoreUndefinedProperties,e)}function hy(n,t,e,i,r,s={}){const c=n.uc(s.merge||s.mergeFields?2:0,t,e,r);WA("Data must be an object, but it was:",c,i);const d=$Q(i,c);let h,_;if(s.merge)h=new Gu(c.fieldMask),_=c.fieldTransforms;else if(s.mergeFields){const M=[];for(const x of s.mergeFields){const D=ZA(t,x,e);if(!c.contains(D))throw new Ie(de.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);ZQ(M,D)||M.push(D)}h=new Gu(M),_=c.fieldTransforms.filter(x=>h.covers(x.field))}else h=null,_=c.fieldTransforms;return new pPe(new Y2(d),h,_)}class P9 extends E0{_toFieldTransform(t){if(2!==t.Ya)throw t.ic(1===t.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof P9}}function jQ(n,t,e){return new fy({Ya:3,oc:t.settings.oc,methodName:n._methodName,tc:e},t.databaseId,t.M,t.ignoreUndefinedProperties)}class jA extends E0{_toFieldTransform(t){return new m9(t.path,new Ku)}isEqual(t){return t instanceof jA}}class CPe extends E0{constructor(t,e){super(t),this.ac=e}_toFieldTransform(t){const e=jQ(this,t,!0),i=this.ac.map(s=>T0(s,e)),r=new g0(i);return new m9(t.path,r)}isEqual(t){return this===t}}class mPe extends E0{constructor(t,e){super(t),this.ac=e}_toFieldTransform(t){const e=jQ(this,t,!0),i=this.ac.map(s=>T0(s,e)),r=new C0(i);return new m9(t.path,r)}isEqual(t){return this===t}}class _Pe extends E0{constructor(t,e){super(t),this.cc=e}_toFieldTransform(t){const e=new Qu(t.M,zY(t.M,this.cc));return new m9(t.path,e)}isEqual(t){return this===t}}function qA(n,t,e,i){const r=n.uc(1,t,e);WA("Data must be an object, but it was:",r,i);const s=[],c=Y2.empty();u0(i,(h,_)=>{const M=py(t,h,e);_=(0,R.m9)(_);const x=r.nc(M);if(_ instanceof P9)s.push(M);else{const D=T0(_,x);null!=D&&(s.push(M),c.set(M,D))}});const d=new Gu(s);return new UQ(c,d,r.fieldTransforms)}function $A(n,t,e,i,r,s){const c=n.uc(1,t,e),d=[ZA(t,i,e)],h=[r];if(s.length%2!=0)throw new Ie(de.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<s.length;D+=2)d.push(ZA(t,s[D])),h.push(s[D+1]);const _=[],M=Y2.empty();for(let D=d.length-1;D>=0;--D)if(!ZQ(_,d[D])){const N=d[D];let H=h[D];H=(0,R.m9)(H);const U=c.nc(N);if(H instanceof P9)_.push(N);else{const Y=T0(H,U);null!=Y&&(_.push(N),M.set(N,Y))}}const x=new Gu(_);return new UQ(M,x,c.fieldTransforms)}function qQ(n,t,e,i=!1){return T0(e,n.uc(i?4:3,t))}function T0(n,t){if(WQ(n=(0,R.m9)(n)))return WA("Unsupported field value:",t,n),$Q(n,t);if(n instanceof E0)return function(e,i){if(!GQ(i.Ya))throw i.ic(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ic(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.tc&&4!==t.Ya)throw t.ic("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const c of e){let d=T0(c,i.sc(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,R.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zY(i.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=y1.fromDate(e);return{timestampValue:w9(i.M,r)}}if(e instanceof y1){const r=new y1(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:w9(i.M,r)}}if(e instanceof dy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof N3)return{bytesValue:rK(i.M,e._byteString)};if(e instanceof Ai){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.ic(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:uD(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ic(`Unsupported field value: ${cy(e)}`)}(n,t)}function $Q(n,t){const e={};return gY(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):u0(n,(i,r)=>{const s=T0(r,t.Za(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function WQ(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof y1||n instanceof dy||n instanceof N3||n instanceof Ai||n instanceof E0)}function WA(n,t,e){if(!WQ(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=cy(e);throw t.ic("an object"===i?n+" a custom object":n+" "+i)}var i}function ZA(n,t,e){if((t=(0,R.m9)(t))instanceof nl)return t._internalPath;if("string"==typeof t)return py(n,t);throw gy("Field path arguments must be of type string or ",n,!1,void 0,e)}const vPe=new RegExp("[~\\*/\\[\\]]");function py(n,t,e){if(t.search(vPe)>=0)throw gy(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new nl(...t.split("."))._internalPath}catch(i){throw gy(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function gy(n,t,e,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(s||c)&&(h+=" (found",s&&(h+=` in field ${i}`),c&&(h+=` in document ${r}`),h+=")"),new Ie(de.INVALID_ARGUMENT,d+n+h)}function ZQ(n,t){return n.some(e=>e.isEqual(t))}class z9{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ai(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new yPe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Cy("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class yPe extends z9{data(){return super.data()}}function Cy(n,t){return"string"==typeof t?py(n,t):t instanceof nl?t._internalPath:t._delegate._internalPath}class D0{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class il extends z9{constructor(t,e,i,r,s,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new F9(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Cy("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class F9 extends il{data(t={}){return super.data(t)}}class Jc{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new D0(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new F9(this._firestore,this._userDataWriter,i.key,i,new D0(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ie(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new F9(i._firestore,i._userDataWriter,c.doc.key,c.doc,new D0(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new F9(i._firestore,i._userDataWriter,c.doc.key,c.doc,new D0(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,_=-1;return 0!==c.type&&(h=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),_=s.indexOf(c.doc.key)),{type:bPe(c.type),doc:d,oldIndex:h,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function bPe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}function YQ(n,t){return n instanceof il&&t instanceof il?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Jc&&t instanceof Jc&&n._firestore===t._firestore&&PQ(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function KQ(n){if(Pv(n)&&0===n.explicitOrderBy.length)throw new Ie(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class B9{}function Xc(n,...t){for(const e of t)n=e._apply(n);return n}class MPe extends B9{constructor(t,e,i){super(),this.hc=t,this.lc=e,this.fc=i,this.type="where"}_apply(t){const e=L0(t.firestore),i=function(r,s,c,d,h,_,M){let x;if(h.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new Ie(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){nJ(M,_);const N=[];for(const H of M)N.push(tJ(d,r,H));x={arrayValue:{values:N}}}else x=tJ(d,r,M)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||nJ(M,_),x=qQ(c,"where",M,"in"===_||"not-in"===_);const D=k2.create(h,_,x);return function(N,H){if(H.S()){const Y=iD(N);if(null!==Y&&!Y.isEqual(H.field))throw new Ie(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Y.toString()}' and '${H.field.toString()}'`);const ae=nD(N);null!==ae&&iJ(0,H.field,ae)}const U=function(Y,ae){for(const ce of Y.filters)if(ae.indexOf(ce.op)>=0)return ce.op;return null}(N,function(Y){switch(Y){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(H.op));if(null!==U)throw new Ie(de.INVALID_ARGUMENT,U===H.op?`Invalid query. You cannot use more than one '${H.op.toString()}' filter.`:`Invalid query. You cannot use '${H.op.toString()}' filters with '${U.toString()}' filters.`)}(r,D),D}(t._query,0,e,t.firestore._databaseId,this.hc,this.lc,this.fc);return new K2(t.firestore,t.converter,function(r,s){const c=r.filters.concat([s]);return new el(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class xPe extends B9{constructor(t,e){super(),this.hc=t,this.dc=e,this.type="orderBy"}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new Ie(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ie(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Wu(r,s);return function(d,h){if(null===nD(d)){const _=iD(d);null!==_&&iJ(0,_,h.field)}}(i,c),c}(t._query,this.hc,this.dc);return new K2(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new el(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class QQ extends B9{constructor(t,e,i){super(),this.type=t,this._c=e,this.wc=i}_apply(t){return new K2(t.firestore,t.converter,kY(t._query,this._c,this.wc))}}class JQ extends B9{constructor(t,e,i){super(),this.type=t,this.mc=e,this.gc=i}_apply(t){const e=eJ(t,this.type,this.mc,this.gc);return new K2(t.firestore,t.converter,(r=e,new el((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class XQ extends B9{constructor(t,e,i){super(),this.type=t,this.mc=e,this.gc=i}_apply(t){const e=eJ(t,this.type,this.mc,this.gc);return new K2(t.firestore,t.converter,(r=e,new el((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function eJ(n,t,e,i){if(e[0]=(0,R.m9)(e[0]),e[0]instanceof z9)return function(r,s,c,d,h){if(!d)throw new Ie(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const _=[];for(const M of Yu(r))if(M.field.isKeyField())_.push(qu(s,d.key));else{const x=d.data.field(M.field);if(JT(x))throw new Ie(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const D=M.field.canonicalString();throw new Ie(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${D}' (used as the orderBy) does not exist.`)}_.push(x)}return new jc(_,h)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=L0(n.firestore);return function(s,c,d,h,_,M){const x=s.explicitOrderBy;if(_.length>x.length)throw new Ie(de.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const D=[];for(let N=0;N<_.length;N++){const H=_[N];if(x[N].field.isKeyField()){if("string"!=typeof H)throw new Ie(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof H}`);if(!rD(s)&&-1!==H.indexOf("/"))throw new Ie(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${H}' contains a slash.`);const U=s.path.child(wn.fromString(H));if(!$e.isDocumentKey(U))throw new Ie(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${U}' is not because it contains an odd number of segments.`);const Y=new $e(U);D.push(qu(c,Y))}else{const U=qQ(d,h,H);D.push(U)}}return new jc(D,M)}(n._query,n.firestore._databaseId,r,t,e,i)}}function tJ(n,t,e){if("string"==typeof(e=(0,R.m9)(e))){if(""===e)throw new Ie(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rD(t)&&-1!==e.indexOf("/"))throw new Ie(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(wn.fromString(e));if(!$e.isDocumentKey(i))throw new Ie(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return qu(n,new $e(i))}if(e instanceof Ai)return qu(n,e._key);throw new Ie(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cy(e)}.`)}function nJ(n,t){if(!Array.isArray(n)||0===n.length)throw new Ie(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ie(de.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function iJ(n,t,e){if(!e.isEqual(t))throw new Ie(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class YA{convertValue(t,e="none"){switch(h0(t)){case 0:return null;case 1:return t.booleanValue;case 2:return c1(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(d0(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ft()}}convertObject(t,e){const i={};return u0(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new dy(c1(t.latitude),c1(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=CY(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(c9(t));default:return null}}convertTimestamp(t){const e=Uc(t);return new y1(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=wn.fromString(t);Bt(pK(i));const r=new J4(i.get(1),i.get(3)),s=new $e(i.popFirst(5));return r.isEqual(e)||T1(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function my(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class NPe extends YA{constructor(t){super(),this.firestore=t}convertBytes(t){return new N3(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ai(this.firestore,null,e)}}class rJ{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=L0(t)}set(t,e,i){this._verifyNotCommitted();const r=e6(t,this._firestore),s=my(r.converter,e,i),c=hy(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,D1.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=e6(t,this._firestore);let c;return c="string"==typeof(e=(0,R.m9)(e))||e instanceof nl?$A(this._dataReader,"WriteBatch.update",s._key,e,i,r):qA(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(c.toMutation(s._key,D1.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=e6(t,this._firestore);return this._mutations=this._mutations.concat(new v9(e._key,D1.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ie(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function e6(n,t){if((n=(0,R.m9)(n)).firestore!==t)throw new Ie(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class A0 extends YA{constructor(t){super(),this.firestore=t}convertBytes(t){return new N3(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ai(this.firestore,null,e)}}function sJ(n,t,e){n=yn(n,Ai);const i=yn(n.firestore,Oi),r=my(n.converter,t,e);return gd(i,[hy(L0(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,D1.none())])}function oJ(n,t,e,...i){n=yn(n,Ai);const r=yn(n.firestore,Oi),s=L0(r);let c;return c="string"==typeof(t=(0,R.m9)(t))||t instanceof nl?$A(s,"updateDoc",n._key,t,e,i):qA(s,"updateDoc",n._key,t),gd(r,[c.toMutation(n._key,D1.exists(!0))])}function aJ(n,...t){var e,i,r;n=(0,R.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||GA(t[c])||(s=t[c],c++);const d={includeMetadataChanges:s.includeMetadataChanges};if(GA(t[c])){const x=t[c];t[c]=null===(e=x.next)||void 0===e?void 0:e.bind(x),t[c+1]=null===(i=x.error)||void 0===i?void 0:i.bind(x),t[c+2]=null===(r=x.complete)||void 0===r?void 0:r.bind(x)}let h,_,M;if(n instanceof Ai)_=yn(n.firestore,Oi),M=Zu(n._key.path),h={next:x=>{t[c]&&t[c](KA(_,n,x))},error:t[c+1],complete:t[c+2]};else{const x=yn(n,K2);_=yn(x.firestore,Oi),M=x._query;const D=new A0(_);h={next:N=>{t[c]&&t[c](new Jc(_,D,x,N))},error:t[c+1],complete:t[c+2]},KQ(n._query)}return function(x,D,N,H){const U=new ay(H),Y=new aA(D,U,N);return x.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return nA(yield pd(x),Y)})),()=>{U.pa(),x.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return rA(yield pd(x),Y)}))}}(I1(_),M,d,h)}function gd(n,t){return function(e,i){const r=new a2;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(n,t,e){return fA.apply(this,arguments)}(yield FA(e),i,r)})),r.promise}(I1(n),t)}function KA(n,t,e){const i=e.docs.get(t._key),r=new A0(n);return new il(n,r,t._key,i,new D0(e.hasPendingWrites,e.fromCache),t.converter)}class UPe extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=L0(t)}get(t){const e=e6(t,this._firestore),i=new NPe(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ft();const s=r[0];if(s.isFoundDocument())return new z9(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new z9(this._firestore,i,e._key,null,e.converter);throw ft()})}set(t,e,i){const r=e6(t,this._firestore),s=my(r.converter,e,i),c=hy(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(t,e,i,...r){const s=e6(t,this._firestore);let c;return c="string"==typeof(e=(0,R.m9)(e))||e instanceof nl?$A(this._dataReader,"Transaction.update",s._key,e,i,r):qA(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,c),this}delete(t){const e=e6(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=e6(t,this._firestore),i=new A0(this._firestore);return super.get(t).then(r=>new il(this._firestore,i,e._key,r._document,new D0(!1,!1),e.converter))}}function QA(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ie("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function cJ(){if("undefined"==typeof Uint8Array)throw new Ie("unimplemented","Uint8Arrays are not available in this environment.")}function uJ(){if("undefined"==typeof atob)throw new Ie("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Bu=hr.SDK_VERSION,(0,hr._registerComponent)(new _a.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),s=new Oi(r,new rHe(e.getProvider("auth-internal")),new aHe(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC")),(0,hr.registerVersion)(cY,"3.4.7",n),(0,hr.registerVersion)(cY,"3.4.7","esm2017")}();class U9{constructor(t){this._delegate=t}static fromBase64String(t){return uJ(),new U9(N3.fromBase64String(t))}static fromUint8Array(t){return cJ(),new U9(N3.fromUint8Array(t))}toBase64(){return uJ(),this._delegate.toBase64()}toUint8Array(){return cJ(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function JA(n){return function(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of["next","error","complete"])if(i in e&&"function"==typeof e[i])return!0;return!1}(n)}class JPe{enableIndexedDbPersistence(t,e){return function(n,t){BQ(n=yn(n,Oi));const e=I1(n),i=n._freezeSettings(),r=new kA;return FQ(e,r,new MQ(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function(n){BQ(n=yn(n,Oi));const t=I1(n),e=n._freezeSettings(),i=new kA;return FQ(t,i,new BOe(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function(n){if(n._initialized&&!n._terminated)throw new Ie(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new a2;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(e=(0,_e.Z)(function*(i){if(!La.vt())return Promise.resolve();const r=i+"main";yield La.delete(r)}),function(i){return e.apply(this,arguments)})(SD(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class dJ{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof J4||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&a9("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function(n,t,e,i={}){var r;const s=(n=yn(n,O9))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&a9("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=N2.MOCK_USER;else{c=(0,R.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new Ie(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new N2(h)}n._authCredentials=new iHe(new uY(c,d))}}(this._delegate,t,e,i)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const t=yield EQ(n),e=yield LQ(n);return t.setNetworkEnabled(!0),function(i){const r=Je(i);return r.lu.delete(0),H9(r)}(e)}))}(I1(n=yn(n,Oi)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const t=yield EQ(n),e=yield LQ(n);return t.setNetworkEnabled(!1),(i=(0,_e.Z)(function*(r){const s=Je(r);s.lu.add(0),yield ad(s),s._u.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(I1(n=yn(n,Oi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,IQ("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(t){const e=new a2;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(n,t){return mA.apply(this,arguments)}(yield FA(t),e)})),e.promise}(I1(n=yn(n,Oi)))}(this._delegate)}onSnapshotsInSync(t){return function(n,t){return function(n,t){const e=new ay(t);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return i=yield pd(n),r=e,Je(i).Tu.add(r),void r.next();var i,r})),()=>{e.pa(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return i=yield pd(n),r=e,void Je(i).Tu.delete(r);var i,r}))}}(I1(n=yn(n,Oi)),GA(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ie("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Cd(this,RQ(this._delegate,t))}catch(e){throw Mr(e,"collection()","Firestore.collection()")}}doc(t){try{return new ko(this,uy(this._delegate,t))}catch(e){throw Mr(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new wr(this,function(n,t){if(n=yn(n,O9),UA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ie(de.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new K2(n,null,(e=t,new el(wn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Mr(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function(n,t){return function(n,t){const e=new a2;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const i=yield(r=n,ly(r).then(s=>s.datastore));var r;new jOe(n.asyncQueue,i,t,e).run()})),e.promise}(I1(n=yn(n,Oi)),e=>t(new UPe(n,e)))}(this._delegate,e=>t(new fJ(this,e)))}batch(){return I1(this._delegate),new hJ(new rJ(this._delegate,t=>gd(this._delegate,t)))}loadBundle(t){return function(n,t){const e=I1(n=yn(n,Oi)),i=new iPe;return function(n,t,e,i){const r=function(s,c){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,h=function(h,_){if(h instanceof Uint8Array)return wQ(h,_);if(h instanceof ArrayBuffer)return wQ(new Uint8Array(h),_);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new UOe(h,c);var h}(e,V9(t));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function(n,t,e){const i=Je(n);var r;(r=(0,_e.Z)(function*(s,c,d){try{const h=yield c.getMetadata();if(yield function(D,N){const H=Je(D),U=c2(N.createTime);return H.persistence.runTransaction("hasNewerBundle","readonly",Y=>H.ds.getBundleMetadata(Y,N.id)).then(Y=>!!Y&&Y.createTime.compareTo(U)>=0)}(s.localStore,h))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(D=h).totalDocuments,bytesLoaded:D.totalBytes,totalDocuments:D.totalDocuments,totalBytes:D.totalBytes}),Promise.resolve(new Set);d._updateProgress(fQ(h));const _=new vOe(h,s.localStore,c.M);let M=yield c.fa();for(;M;){const D=yield _.Nu(M);D&&d._updateProgress(D),M=yield c.fa()}const x=yield _.complete();return yield tl(s,x.Ou,void 0),yield function(D,N){const H=Je(D);return H.persistence.runTransaction("Save bundle","readwrite",U=>H.ds.saveBundleMetadata(U,N))}(s.localStore,h),d._completeWith(x.progress),Promise.resolve(x.Mu)}catch(h){return a9("SyncEngine",`Loading bundle failed with ${h}`),d._failWith(h),Promise.resolve(new Set)}var D}),function(s,c,d){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield FA(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function(n,t){return function(n,t){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(e,i){const r=Je(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.ds.getNamedQuery(s,i))}(yield zA(n),t)}))}(I1(n=yn(n,Oi)),t).then(e=>e?new K2(n,null,e.query):null)}(this._delegate,t).then(e=>e?new wr(this,e):null)}}class _y extends YA{constructor(t){super(),this.firestore=t}convertBytes(t){return new U9(new N3(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return ko.forKey(e,this.firestore,null)}}class fJ{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new _y(t)}get(t){const e=N0(t);return this._delegate.get(e).then(i=>new G9(this._firestore,new il(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=N0(t);return i?(QA("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=N0(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=N0(t);return this._delegate.delete(e),this}}class hJ{constructor(t){this._delegate=t}set(t,e,i){const r=N0(t);return i?(QA("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=N0(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=N0(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class I0{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new F9(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new j9(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=I0.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new I0(t,new _y(t),e),r.set(e,s)),s}}I0.INSTANCES=new WeakMap;class ko{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new _y(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ie("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new ko(e,new Ai(e._delegate,i,new $e(t)))}static forKey(t,e,i){return new ko(e,new Ai(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Cd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Cd(this.firestore,RQ(this._delegate,t))}catch(e){throw Mr(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,R.m9)(t))instanceof Ai&&OQ(this._delegate,t)}set(t,e){e=QA("DocumentReference.set",e);try{return e?sJ(this._delegate,t,e):sJ(this._delegate,t)}catch(i){throw Mr(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?oJ(this._delegate,t):oJ(this._delegate,t,e,...i)}catch(r){throw Mr(r,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return gd(yn(n.firestore,Oi),[new v9(n._key,D1.none())])}(this._delegate)}onSnapshot(...t){const e=pJ(t),i=gJ(t,r=>new G9(this.firestore,new il(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return aJ(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=yn(n,Ai);const t=yn(n.firestore,Oi),e=I1(t),i=new A0(t);return function(n,t){const e=new a2;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(i=(0,_e.Z)(function*(r,s,c){try{const d=yield function(h,_){const M=Je(h);return M.persistence.runTransaction("read document","readonly",x=>M.ai.Bs(x,_))}(r,s);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new Ie(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const h=ud(d,`Failed to get document '${s} from cache`);c.reject(h)}}),function(r,s,c){return i.apply(this,arguments)})(yield zA(n),t,e);var i})),e.promise}(e,n._key).then(r=>new il(t,i,n._key,r,new D0(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=yn(n,Ai);const t=yn(n.firestore,Oi);return TQ(I1(t),n._key,{source:"server"}).then(e=>KA(t,n,e))}(this._delegate):function(n){n=yn(n,Ai);const t=yn(n.firestore,Oi);return TQ(I1(t),n._key).then(e=>KA(t,n,e))}(this._delegate),e.then(i=>new G9(this.firestore,new il(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new ko(this.firestore,this._delegate.withConverter(t?I0.getInstance(this.firestore,t):null))}}function Mr(n,t,e){return n.message=n.message.replace(t,e),n}function pJ(n){for(const t of n)if("object"==typeof t&&!JA(t))return t;return{}}function gJ(n,t){var e,i;let r;return r=JA(n[0])?n[0]:JA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class G9{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new ko(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return YQ(this._delegate,t._delegate)}}class j9 extends G9{data(t){const e=this._delegate.data(t);return function(n,t){n||ft()}(void 0!==e),e}}class wr{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new _y(t)}where(t,e,i){try{return new wr(this.firestore,Xc(this._delegate,function(n,t,e){const i=t,r=Cy("where",n);return new MPe(r,i,e)}(t,e,i)))}catch(r){throw Mr(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new wr(this.firestore,Xc(this._delegate,function(n,t="asc"){const e=t,i=Cy("orderBy",n);return new xPe(i,e)}(t,e)))}catch(i){throw Mr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new wr(this.firestore,Xc(this._delegate,function(n){return VQ("limit",n),new QQ("limit",n,"F")}(t)))}catch(e){throw Mr(e,"limit()","Query.limit()")}}limitToLast(t){try{return new wr(this.firestore,Xc(this._delegate,function(n){return VQ("limitToLast",n),new QQ("limitToLast",n,"L")}(t)))}catch(e){throw Mr(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new wr(this.firestore,Xc(this._delegate,function(...n){return new JQ("startAt",n,!0)}(...t)))}catch(e){throw Mr(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new wr(this.firestore,Xc(this._delegate,function(...n){return new JQ("startAfter",n,!1)}(...t)))}catch(e){throw Mr(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new wr(this.firestore,Xc(this._delegate,function(...n){return new XQ("endBefore",n,!1)}(...t)))}catch(e){throw Mr(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new wr(this.firestore,Xc(this._delegate,function(...n){return new XQ("endAt",n,!0)}(...t)))}catch(e){throw Mr(e,"endAt()","Query.endAt()")}}isEqual(t){return PQ(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=yn(n,K2);const t=yn(n.firestore,Oi),e=I1(t),i=new A0(t);return function(n,t){const e=new a2;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(i=(0,_e.Z)(function*(r,s,c){try{const d=yield ty(r,s,!0),h=new gQ(s,d.hi),_=h.Gu(d.documents),M=h.applyChanges(_,!1);c.resolve(M.snapshot)}catch(d){const h=ud(d,`Failed to execute query '${s} against cache`);c.reject(h)}}),function(r,s,c){return i.apply(this,arguments)})(yield zA(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Jc(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=yn(n,K2);const t=yn(n.firestore,Oi),e=I1(t),i=new A0(t);return DQ(e,n._query,{source:"server"}).then(r=>new Jc(t,i,n,r))}(this._delegate):function(n){n=yn(n,K2);const t=yn(n.firestore,Oi),e=I1(t),i=new A0(t);return KQ(n._query),DQ(e,n._query).then(r=>new Jc(t,i,n,r))}(this._delegate),e.then(i=>new XA(this.firestore,new Jc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=pJ(t),i=gJ(t,r=>new XA(this.firestore,new Jc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return aJ(this._delegate,e,i)}withConverter(t){return new wr(this.firestore,this._delegate.withConverter(t?I0.getInstance(this.firestore,t):null))}}class eze{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new j9(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class XA{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new wr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new j9(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new eze(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new j9(this._firestore,i))})}isEqual(t){return YQ(this._delegate,t._delegate)}}class Cd extends wr{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new ko(this.firestore,t):null}doc(t){try{return new ko(this.firestore,void 0===t?uy(this._delegate):uy(this._delegate,t))}catch(e){throw Mr(e,"doc()","CollectionReference.doc()")}}add(t){return function(n,t){const e=yn(n.firestore,Oi),i=uy(n),r=my(n.converter,t);return gd(e,[hy(L0(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,D1.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new ko(this.firestore,e))}isEqual(t){return OQ(this._delegate,t._delegate)}withConverter(t){return new Cd(this.firestore,this._delegate.withConverter(t?I0.getInstance(this.firestore,t):null))}}function N0(n){return yn(n,Ai)}class eI{constructor(...t){this._delegate=new nl(...t)}static documentId(){return new eI(l2.keyField().canonicalString())}isEqual(t){return(t=(0,R.m9)(t))instanceof nl&&this._delegate._internalPath.isEqual(t._internalPath)}}class k0{constructor(t){this._delegate=t}static serverTimestamp(){const t=new jA("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new k0(t)}static delete(){const t=new P9("deleteField");return t._methodName="FieldValue.delete",new k0(t)}static arrayUnion(...t){const e=function(...n){return new CPe("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new k0(e)}static arrayRemove(...t){const e=function(...n){return new mPe("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new k0(e)}static increment(t){const e=function(n){return new _Pe("increment",n)}(t);return e._methodName="FieldValue.increment",new k0(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const tze={Firestore:dJ,GeoPoint:dy,Timestamp:y1,Blob:U9,Transaction:fJ,WriteBatch:hJ,DocumentReference:ko,DocumentSnapshot:G9,Query:wr,QueryDocumentSnapshot:j9,QuerySnapshot:XA,CollectionReference:Cd,FieldPath:eI,FieldValue:k0,setLogLevel:function(n){!function(n){Bc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function CJ(n,t){return function(n,t=rr.z){return new bn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function tI(n,t){return CJ(n,t).pipe((0,qe.U)(e=>({payload:e,type:"query"})))}function vy(n,t){return tI(n,t).pipe(X1(void 0),rT(),(0,qe.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,d)=>{const h=r.find(M=>M.doc.ref.isEqual(c.ref)),_=null==e?void 0:e.payload.docs.find(M=>M.ref.isEqual(c.ref));h&&JSON.stringify(h.doc.metadata)===JSON.stringify(c.metadata)||!h&&_&&JSON.stringify(_.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),s}))}function mJ(n,t,e){return vy(n,e).pipe(d3((i,r)=>function(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return nI(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return nI(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return nI(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),Xi(),(0,qe.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function nI(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function _J(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function(n){(function(n,t){n.INTERNAL.registerComponent(new _a.wA("firestore-compat",e=>((t,e)=>new dJ(t,e,new JPe))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},tze)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.16")}(lE.Z);class vJ{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=vy(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,qe.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(X1(void 0),rT(),Sn(([i,r])=>r.length>0||!i),(0,qe.U)(([i,r])=>r),zn.iC)}auditTrail(t){return this.stateChanges(t).pipe(d3((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=_J(t);return mJ(this.query,e,this.afs.schedulers.outsideAngular).pipe(zn.iC)}valueChanges(t={}){return tI(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),zn.iC)}get(t){return(0,_n.D)(this.query.get(t)).pipe(zn.iC)}add(t){return this.ref.add(t)}doc(t){return new yJ(this.ref.doc(t),this.afs)}}class yJ{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=bJ(i,e);return new vJ(r,s,this.afs)}snapshotChanges(){return function(n,t){return CJ(n,t).pipe(X1(void 0),rT(),(0,qe.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(zn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,qe.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,_n.D)(this.ref.get(t)).pipe(zn.iC)}}class lze{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?vy(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Sn(e=>e.length>0),zn.iC):vy(this.query,this.afs.schedulers.outsideAngular).pipe(zn.iC)}auditTrail(t){return this.stateChanges(t).pipe(d3((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=_J(t);return mJ(this.query,e,this.afs.schedulers.outsideAngular).pipe(zn.iC)}valueChanges(t={}){return tI(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),zn.iC)}get(t){return(0,_n.D)(this.query.get(t)).pipe(zn.iC)}}const cze=new o.OlP("angularfire2.enableFirestorePersistence"),uze=new o.OlP("angularfire2.firestore.persistenceSettings"),dze=new o.OlP("angularfire2.firestore.settings"),fze=new o.OlP("angularfire2.firestore.use-emulator");function bJ(n,t=(e=>e)){return{query:t(n),ref:n}}let hze=(()=>{class n{constructor(e,i,r,s,c,d,h,_,M,x,D,N,H,U,Y,ae,ce){this.schedulers=h;const ke=(0,U1.on)(e,d,i),Te=M;x&&nT(ke,d,D,H,U,Y,N,ae),[this.firestore,this.persistenceEnabled$]=(0,U1.cc)(`${ke.name}.firestore`,"AngularFirestore",ke.name,()=>{const tt=d.runOutsideAngular(()=>ke.firestore());if(s&&tt.settings(s),Te&&tt.useEmulator(...Te),r&&!gi(c)){const st=()=>{try{return(0,_n.D)(tt.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(an){return"undefined"!=typeof console&&console.warn(an),at(!1)}};return[tt,d.runOutsideAngular(st)]}return[tt,at(!1)]},[s,Te,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:c}=bJ(r,i),d=this.schedulers.ngZone.run(()=>s);return new vJ(d,c,this)}collectionGroup(e,i){const r=i||(c=>c),s=this.firestore.collectionGroup(e);return new lze(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new yJ(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(U1.Dh),o.LFG(U1.xv,8),o.LFG(cze,8),o.LFG(dze,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(zn.HU),o.LFG(uze,8),o.LFG(fze,8),o.LFG(iT,8),o.LFG(KL,8),o.LFG(QL,8),o.LFG(JL,8),o.LFG(XL,8),o.LFG(eT,8),o.LFG(tT,8),o.LFG(fh,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const MJ_firebaseConfig={apiKey:"AIzaSyC-O0-Lj0tjPToBSQpFqIcgGJaMt8Ia6YA",authDomain:"eurouuni-ced0b.firebaseapp.com",databaseURL:"https://eurouuni-ced0b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"eurouuni-ced0b",storageBucket:"eurouuni-ced0b.appspot.com",messagingSenderId:"656902143819",appId:"1:656902143819:web:b9849abebd514f1e30f2ce"},pze=[];let gze=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[ixe]}),n.\u0275inj=o.cJS({providers:[Wf,Ls,E2,hze],imports:[[Br,ss,vg,Uee,SSe,SV,eEe,lte,sne,mH,Vx,Tq,u8,Bb,Ane,Qie,Lwe,U1.hO.initializeApp(MJ_firebaseConfig),$ke,OTe,SV,Tq,Hn,Br,mf.forRoot(pze,{useHash:!0}),Hn,ss]]}),n})();(0,o.G48)(),Zo().bootstrapModule(gze).catch(n=>console.error(n))},5867:(ht,xe,O)=>{O.d(xe,{Mq:()=>o.getApp,C6:()=>o.getApps});var o=O(9681);(0,o.registerVersion)("firebase","9.6.10","app")},127:(ht,xe,O)=>{O.d(xe,{Z:()=>o.Z});var o=O(3942);o.Z.registerVersion("firebase","9.6.10","app-compat")},1254:(ht,xe,O)=>{O.r(xe);var o=O(5861),X=O(3942),P=O(2090),le=O(9681);function ue(v,g){var C={};for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&g.indexOf(b)<0&&(C[b]=v[b]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var T=0;for(b=Object.getOwnPropertySymbols(v);T<b.length;T++)g.indexOf(b[T])<0&&Object.prototype.propertyIsEnumerable.call(v,b[T])&&(C[b[T]]=v[b[T]])}return C}var he=O(1877),Nt=O(4859);const M1=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},kn=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Q2=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Yi=new he.Yd("@firebase/auth");function Ki(v,...g){Yi.logLevel<=he.in.ERROR&&Yi.error(`Auth (${le.SDK_VERSION}): ${v}`,...g)}function Un(v,...g){throw j1(v,...g)}function ti(v,...g){return j1(v,...g)}function Kr(v,g,C){const b=Object.assign(Object.assign({},kn()),{[g]:C});return new P.LL("auth","Firebase",b).create(g,{appName:v.name})}function bi(v,g,C){if(!(g instanceof C))throw C.name!==g.constructor.name&&Un(v,"argument-error"),Kr(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function j1(v,...g){if("string"!=typeof v){const C=g[0],b=[...g.slice(1)];return b[0]&&(b[0].appName=v.name),v._errorFactory.create(C,...b)}return Q2.create(v,...g)}function Ae(v,g,...C){if(!v)throw j1(g,...C)}function Mi(v){const g="INTERNAL ASSERTION FAILED: "+v;throw Ki(g),new Error(g)}function ct(v,g){v||Mi(g)}const fi=new Map;function ni(v){ct(v instanceof Function,"Expected a class definition");let g=fi.get(v);return g?(ct(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,fi.set(v,g),g)}function Pi(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function zi(){return"http:"===ii()||"https:"===ii()}function ii(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class et{constructor(g,C){this.shortDelay=g,this.longDelay=C,ct(C>g,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(zi()||(0,P.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function wt(v,g){ct(v.emulator,"Emulator should always be set here");const{url:C}=v.emulator;return g?`${C}${g.startsWith("/")?g.slice(1):g}`:C}class J2{static initialize(g,C,b){this.fetchImpl=g,C&&(this.headersImpl=C),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const X2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},N1=new et(3e4,6e4);function Et(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function fn(v,g,C,b){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,o.Z)(function*(v,g,C,b,T={}){return pn(v,T,(0,o.Z)(function*(){let I={},G={};b&&("GET"===g?G=b:I={body:JSON.stringify(b)});const te=(0,P.xO)(Object.assign({key:v.config.apiKey},G)).slice(1),Oe=yield v._getAdditionalHeaders();return Oe["Content-Type"]="application/json",v.languageCode&&(Oe["X-Firebase-Locale"]=v.languageCode),J2.fetch()(Se(v,v.config.apiHost,C,te),Object.assign({method:g,headers:Oe,referrerPolicy:"no-referrer"},I))}))})).apply(this,arguments)}function pn(v,g,C){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,o.Z)(function*(v,g,C){v._canInitEmulator=!1;const b=Object.assign(Object.assign({},X2),g);try{const T=new pt(v),I=yield Promise.race([C(),T.promise]);T.clearNetworkTimeout();const G=yield I.json();if("needConfirmation"in G)throw gt(v,"account-exists-with-different-credential",G);if(I.ok&&!("errorMessage"in G))return G;{const te=I.ok?G.errorMessage:G.error.message,[Oe,Ne]=te.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Oe)throw gt(v,"credential-already-in-use",G);if("EMAIL_EXISTS"===Oe)throw gt(v,"email-already-in-use",G);const it=b[Oe]||Oe.toLowerCase().replace(/[_\s]+/g,"-");if(Ne)throw Kr(v,it,Ne);Un(v,it)}}catch(T){if(T instanceof P.ZR)throw T;Un(v,"network-request-failed")}})).apply(this,arguments)}function kt(v,g,C,b){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,o.Z)(function*(v,g,C,b,T={}){const I=yield fn(v,g,C,b,T);return"mfaPendingCredential"in I&&Un(v,"multi-factor-auth-required",{_serverResponse:I}),I})).apply(this,arguments)}function Se(v,g,C,b){const T=`${g}${C}?${b}`;return v.config.emulator?wt(v.config,T):`${v.config.apiScheme}://${T}`}class pt{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((C,b)=>{this.timer=setTimeout(()=>b(ti(this.auth,"network-request-failed")),N1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gt(v,g,C){const b={appName:v.name};C.email&&(b.email=C.email),C.phoneNumber&&(b.phoneNumber=C.phoneNumber);const T=ti(v,g,b);return T.customData._tokenResponse=C,T}function hn(){return(hn=(0,o.Z)(function*(v,g){return fn(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function $(v,g){return B.apply(this,arguments)}function B(){return(B=(0,o.Z)(function*(v,g){return fn(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Z(v,g){return pe.apply(this,arguments)}function pe(){return(pe=(0,o.Z)(function*(v,g){return fn(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function ee(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function ln(){return(ln=(0,o.Z)(function*(v,g=!1){const C=(0,P.m9)(v),b=yield C.getIdToken(g),T=qn(b);Ae(T&&T.exp&&T.auth_time&&T.iat,C.auth,"internal-error");const I="object"==typeof T.firebase?T.firebase:void 0,G=null==I?void 0:I.sign_in_provider;return{claims:T,token:b,authTime:ee(Qi(T.auth_time)),issuedAtTime:ee(Qi(T.iat)),expirationTime:ee(Qi(T.exp)),signInProvider:G||null,signInSecondFactor:(null==I?void 0:I.sign_in_second_factor)||null}})).apply(this,arguments)}function Qi(v){return 1e3*Number(v)}function qn(v){const[g,C,b]=v.split(".");if(void 0===g||void 0===C||void 0===b)return Ki("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,P.tV)(C);return T?JSON.parse(T):(Ki("Failed to decode base64 JWT payload"),null)}catch(T){return Ki("Caught error parsing JWT payload as JSON",T),null}}function xt(v,g){return $n.apply(this,arguments)}function $n(){return($n=(0,o.Z)(function*(v,g,C=!1){if(C)return g;try{return yield g}catch(b){throw b instanceof P.ZR&&hi(b)&&v.auth.currentUser===v&&(yield v.auth.signOut()),b}})).apply(this,arguments)}function hi({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Er{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var C;if(g){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const T=(null!==(C=this.user.stsTokenManager.expirationTime)&&void 0!==C?C:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(g=!1){var C=this;if(!this.isRunning)return;const b=this.getInterval(g);this.timerId=setTimeout((0,o.Z)(function*(){yield C.iteration()}),b)}iteration(){var g=this;return(0,o.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===C.code&&g.schedule(!0))}g.schedule()})()}}class V3{constructor(g,C){this.createdAt=g,this.lastLoginAt=C,this._initializeTime()}_initializeTime(){this.lastSignInTime=ee(this.lastLoginAt),this.creationTime=ee(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function H2(v){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,o.Z)(function*(v){var g;const C=v.auth,b=yield v.getIdToken(),T=yield xt(v,Z(C,{idToken:b}));Ae(null==T?void 0:T.users.length,C,"internal-error");const I=T.users[0];v._notifyReloadListener(I);const G=(null===(g=I.providerUserInfo)||void 0===g?void 0:g.length)?q1(I.providerUserInfo):[],te=n6(v.providerData,G),it=!!v.isAnonymous&&!(v.email&&I.passwordHash||(null==te?void 0:te.length)),ut={uid:I.localId,displayName:I.displayName||null,photoURL:I.photoUrl||null,email:I.email||null,emailVerified:I.emailVerified||!1,phoneNumber:I.phoneNumber||null,tenantId:I.tenantId||null,providerData:te,metadata:new V3(I.createdAt,I.lastLoginAt),isAnonymous:it};Object.assign(v,ut)})).apply(this,arguments)}function ri(){return(ri=(0,o.Z)(function*(v){const g=(0,P.m9)(v);yield H2(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function n6(v,g){return[...v.filter(b=>!g.some(T=>T.providerId===b.providerId)),...g]}function q1(v){return v.map(g=>{var{providerId:C}=g,b=ue(g,["providerId"]);return{providerId:C,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Pt(){return(Pt=(0,o.Z)(function*(v,g){const C=yield pn(v,{},(0,o.Z)(function*(){const b=(0,P.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:T,apiKey:I}=v.config,G=Se(v,T,"/v1/token",`key=${I}`),te=yield v._getAdditionalHeaders();return te["Content-Type"]="application/x-www-form-urlencoded",J2.fetch()(G,{method:"POST",headers:te,body:b})}));return{accessToken:C.access_token,expiresIn:C.expires_in,refreshToken:C.refresh_token}})).apply(this,arguments)}class gn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Ae(g.idToken,"internal-error"),Ae(void 0!==g.idToken,"internal-error"),Ae(void 0!==g.refreshToken,"internal-error");const C="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function(v){const g=qn(v);return Ae(g,"internal-error"),Ae(void 0!==g.exp,"internal-error"),Ae(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,C)}getToken(g,C=!1){var b=this;return(0,o.Z)(function*(){return Ae(!b.accessToken||b.refreshToken,g,"user-token-expired"),C||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(g,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,C){var b=this;return(0,o.Z)(function*(){const{accessToken:T,refreshToken:I,expiresIn:G}=yield function(v,g){return Pt.apply(this,arguments)}(g,C);b.updateTokensAndExpiration(T,I,Number(G))})()}updateTokensAndExpiration(g,C,b){this.refreshToken=C||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(g,C){const{refreshToken:b,accessToken:T,expirationTime:I}=C,G=new gn;return b&&(Ae("string"==typeof b,"internal-error",{appName:g}),G.refreshToken=b),T&&(Ae("string"==typeof T,"internal-error",{appName:g}),G.accessToken=T),I&&(Ae("number"==typeof I,"internal-error",{appName:g}),G.expirationTime=I),G}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new gn,this.toJSON())}_performRefresh(){return Mi("not implemented")}}function si(v,g){Ae("string"==typeof v||void 0===v,"internal-error",{appName:g})}class k1{constructor(g){var{uid:C,auth:b,stsTokenManager:T}=g,I=ue(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Er(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=C,this.auth=b,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=I.displayName||null,this.email=I.email||null,this.emailVerified=I.emailVerified||!1,this.phoneNumber=I.phoneNumber||null,this.photoURL=I.photoURL||null,this.isAnonymous=I.isAnonymous||!1,this.tenantId=I.tenantId||null,this.providerData=I.providerData?[...I.providerData]:[],this.metadata=new V3(I.createdAt||void 0,I.lastLoginAt||void 0)}getIdToken(g){var C=this;return(0,o.Z)(function*(){const b=yield xt(C,C.stsTokenManager.getToken(C.auth,g));return Ae(b,C.auth,"internal-error"),C.accessToken!==b&&(C.accessToken=b,yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)),b})()}getIdTokenResult(g){return function(v){return ln.apply(this,arguments)}(this,g)}reload(){return function(v){return ri.apply(this,arguments)}(this)}_assign(g){this!==g&&(Ae(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(C=>Object.assign({},C)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new k1(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,C=!1){var b=this;return(0,o.Z)(function*(){let T=!1;g.idToken&&g.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(g),T=!0),C&&(yield H2(b)),yield b.auth._persistUserIfCurrent(b),T&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var g=this;return(0,o.Z)(function*(){const C=yield g.getIdToken();return yield xt(g,function(v,g){return hn.apply(this,arguments)}(g.auth,{idToken:C})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,C){var b,T,I,G,te,Oe,Ne,it;const ut=null!==(b=C.displayName)&&void 0!==b?b:void 0,Gt=null!==(T=C.email)&&void 0!==T?T:void 0,Gi=null!==(I=C.phoneNumber)&&void 0!==I?I:void 0,mo=null!==(G=C.photoURL)&&void 0!==G?G:void 0,Bl=null!==(te=C.tenantId)&&void 0!==te?te:void 0,r3=null!==(Oe=C._redirectEventId)&&void 0!==Oe?Oe:void 0,p8=null!==(Ne=C.createdAt)&&void 0!==Ne?Ne:void 0,G6=null!==(it=C.lastLoginAt)&&void 0!==it?it:void 0,{uid:Ul,emailVerified:g8,isAnonymous:Gl,providerData:jl,stsTokenManager:g4}=C;Ae(Ul&&g4,g,"internal-error");const ql=gn.fromJSON(this.name,g4);Ae("string"==typeof Ul,g,"internal-error"),si(ut,g.name),si(Gt,g.name),Ae("boolean"==typeof g8,g,"internal-error"),Ae("boolean"==typeof Gl,g,"internal-error"),si(Gi,g.name),si(mo,g.name),si(Bl,g.name),si(r3,g.name),si(p8,g.name),si(G6,g.name);const $l=new k1({uid:Ul,auth:g,email:Gt,emailVerified:g8,displayName:ut,isAnonymous:Gl,photoURL:mo,phoneNumber:Gi,tenantId:Bl,stsTokenManager:ql,createdAt:p8,lastLoginAt:G6});return jl&&Array.isArray(jl)&&($l.providerData=jl.map(j6=>Object.assign({},j6))),r3&&($l._redirectEventId=r3),$l}static _fromIdTokenResponse(g,C,b=!1){return(0,o.Z)(function*(){const T=new gn;T.updateFromServerResponse(C);const I=new k1({uid:C.localId,auth:g,stsTokenManager:T,isAnonymous:b});return yield H2(I),I})()}}const u1=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(C,b){var T=this;return(0,o.Z)(function*(){T.storage[C]=b})()}_get(C){var b=this;return(0,o.Z)(function*(){const T=b.storage[C];return void 0===T?null:T})()}_remove(C){var b=this;return(0,o.Z)(function*(){delete b.storage[C]})()}_addListener(C,b){}_removeListener(C,b){}}return v.type="NONE",v})();function Ft(v,g,C){return`firebase:${v}:${g}:${C}`}class R2{constructor(g,C,b){this.persistence=g,this.auth=C,this.userKey=b;const{config:T,name:I}=this.auth;this.fullUserKey=Ft(this.userKey,T.apiKey,I),this.fullPersistenceKey=Ft("persistence",T.apiKey,I),this.boundEventHandler=C._onStorageEvent.bind(C),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,o.Z)(function*(){const C=yield g.persistence._get(g.fullUserKey);return C?k1._fromJSON(g.auth,C):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var C=this;return(0,o.Z)(function*(){if(C.persistence===g)return;const b=yield C.getCurrentUser();return yield C.removeCurrentUser(),C.persistence=g,b?C.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,C,b="authUser"){return(0,o.Z)(function*(){if(!C.length)return new R2(ni(u1),g,b);const T=(yield Promise.all(C.map(function(){var Ne=(0,o.Z)(function*(it){if(yield it._isAvailable())return it});return function(it){return Ne.apply(this,arguments)}}()))).filter(Ne=>Ne);let I=T[0]||ni(u1);const G=Ft(b,g.config.apiKey,g.name);let te=null;for(const Ne of C)try{const it=yield Ne._get(G);if(it){const ut=k1._fromJSON(g,it);Ne!==I&&(te=ut),I=Ne;break}}catch(it){}const Oe=T.filter(Ne=>Ne._shouldAllowMigration);return I._shouldAllowMigration&&Oe.length?(I=Oe[0],te&&(yield I._set(G,te.toJSON())),yield Promise.all(C.map(function(){var Ne=(0,o.Z)(function*(it){if(it!==I)try{yield it._remove(G)}catch(ut){}});return function(it){return Ne.apply(this,arguments)}}())),new R2(I,g,b)):new R2(I,g,b)})()}}function Fs(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Bs(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Rt(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Ji(g))return"Blackberry";if(Xr(g))return"Webos";if(tr(g))return"Safari";if((g.includes("chrome/")||Jr(g))&&!g.includes("edge/"))return"Chrome";if(oi(g))return"Android";{const b=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function Rt(v=(0,P.z$)()){return/firefox\//i.test(v)}function tr(v=(0,P.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Jr(v=(0,P.z$)()){return/crios\//i.test(v)}function Bs(v=(0,P.z$)()){return/iemobile/i.test(v)}function oi(v=(0,P.z$)()){return/android/i.test(v)}function Ji(v=(0,P.z$)()){return/blackberry/i.test(v)}function Xr(v=(0,P.z$)()){return/webos/i.test(v)}function zt(v=(0,P.z$)()){return/iphone|ipad|ipod/i.test(v)}function H3(v=(0,P.z$)()){return zt(v)||oi(v)||Xr(v)||Ji(v)||/windows phone/i.test(v)||Bs(v)}function C2(v,g=[]){let C;switch(v){case"Browser":C=Fs((0,P.z$)());break;case"Worker":C=`${Fs((0,P.z$)())}-${v}`;break;default:C=v}const b=g.length?g.join(","):"FirebaseCore-web";return`${C}/JsCore/${le.SDK_VERSION}/${b}`}class Ro{constructor(g,C,b){this.app=g,this.heartbeatServiceProvider=C,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Oo(this),this.idTokenSubscription=new Oo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q2,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(g,C){var b=this;return C&&(this._popupRedirectResolver=ni(C)),this._initializationPromise=this.queue((0,o.Z)(function*(){var T,I;if(!b._deleted&&(b.persistenceManager=yield R2.create(b,g),!b._deleted)){if(null===(T=b._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(G){}yield b.initializeCurrentUser(C),b.lastNotifiedUid=(null===(I=b.currentUser)||void 0===I?void 0:I.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,o.Z)(function*(){if(g._deleted)return;const C=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||C){if(g.currentUser&&C&&g.currentUser.uid===C.uid)return g._currentUser._assign(C),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(C)}})()}initializeCurrentUser(g){var C=this;return(0,o.Z)(function*(){var b;let T=yield C.assertedPersistence.getCurrentUser();if(g&&C.config.authDomain){yield C.getOrInitRedirectPersistenceManager();const I=null===(b=C.redirectUser)||void 0===b?void 0:b._redirectEventId,G=null==T?void 0:T._redirectEventId,te=yield C.tryRedirectSignIn(g);(!I||I===G)&&(null==te?void 0:te.user)&&(T=te.user)}return T?T._redirectEventId?(Ae(C._popupRedirectResolver,C,"argument-error"),yield C.getOrInitRedirectPersistenceManager(),C.redirectUser&&C.redirectUser._redirectEventId===T._redirectEventId?C.directlySetCurrentUser(T):C.reloadAndSetCurrentUserOrClear(T)):C.reloadAndSetCurrentUserOrClear(T):C.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var C=this;return(0,o.Z)(function*(){let b=null;try{b=yield C._popupRedirectResolver._completeRedirectFn(C,g,!0)}catch(T){yield C._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(g){var C=this;return(0,o.Z)(function*(){try{yield H2(g)}catch(b){if("auth/network-request-failed"!==b.code)return C.directlySetCurrentUser(null)}return C.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,o.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var C=this;return(0,o.Z)(function*(){const b=g?(0,P.m9)(g):null;return b&&Ae(b.auth.config.apiKey===C.config.apiKey,C,"invalid-user-token"),C._updateCurrentUser(b&&b._clone(C))})()}_updateCurrentUser(g){var C=this;return(0,o.Z)(function*(){if(!C._deleted)return g&&Ae(C.tenantId===g.tenantId,C,"tenant-id-mismatch"),C.queue((0,o.Z)(function*(){yield C.directlySetCurrentUser(g),C.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,o.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var C=this;return this.queue((0,o.Z)(function*(){yield C.assertedPersistence.setPersistence(ni(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new P.LL("auth","Firebase",g())}onAuthStateChanged(g,C,b){return this.registerStateListener(this.authStateSubscription,g,C,b)}onIdTokenChanged(g,C,b){return this.registerStateListener(this.idTokenSubscription,g,C,b)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,C){var b=this;return(0,o.Z)(function*(){const T=yield b.getOrInitRedirectPersistenceManager(C);return null===g?T.removeCurrentUser():T.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var C=this;return(0,o.Z)(function*(){if(!C.redirectPersistenceManager){const b=g&&ni(g)||C._popupRedirectResolver;Ae(b,C,"argument-error"),C.redirectPersistenceManager=yield R2.create(C,[ni(b._redirectPersistence)],"redirectUser"),C.redirectUser=yield C.redirectPersistenceManager.getCurrentUser()}return C.redirectPersistenceManager})()}_redirectUserForId(g){var C=this;return(0,o.Z)(function*(){var b,T;return C._isInitialized&&(yield C.queue((0,o.Z)(function*(){}))),(null===(b=C._currentUser)||void 0===b?void 0:b._redirectEventId)===g?C._currentUser:(null===(T=C.redirectUser)||void 0===T?void 0:T._redirectEventId)===g?C.redirectUser:null})()}_persistUserIfCurrent(g){var C=this;return(0,o.Z)(function*(){if(g===C.currentUser)return C.queue((0,o.Z)(function*(){return C.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,C;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(C=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==C?C:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,C,b,T){if(this._deleted)return()=>{};const I="function"==typeof C?C:C.next.bind(C),G=this._isInitialized?Promise.resolve():this._initializationPromise;return Ae(G,this,"internal-error"),G.then(()=>I(this.currentUser)),"function"==typeof C?g.addObserver(C,b,T):g.addObserver(C)}directlySetCurrentUser(g){var C=this;return(0,o.Z)(function*(){C.currentUser&&C.currentUser!==g&&(C._currentUser._stopProactiveRefresh(),g&&C.isProactiveRefreshEnabled&&g._startProactiveRefresh()),C.currentUser=g,g?yield C.assertedPersistence.setCurrentUser(g):yield C.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=C2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,o.Z)(function*(){var C;const b={"X-Client-Version":g.clientVersion};g.app.options.appId&&(b["X-Firebase-gmpid"]=g.app.options.appId);const T=yield null===(C=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getHeartbeatsHeader();return T&&(b["X-Firebase-Client"]=T),b})()}}function ai(v){return(0,P.m9)(v)}class Oo{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,P.ne)(C=>this.observer=C)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Us(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function $1(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class Po{constructor(g,C){this.providerId=g,this.signInMethod=C}toJSON(){return Mi("not implemented")}_getIdTokenResponse(g){return Mi("not implemented")}_linkToIdToken(g,C){return Mi("not implemented")}_getReauthenticationResolver(g){return Mi("not implemented")}}function r6(v,g){return sl.apply(this,arguments)}function sl(){return(sl=(0,o.Z)(function*(v,g){return fn(v,"POST","/v1/accounts:resetPassword",Et(v,g))})).apply(this,arguments)}function s6(v,g){return zo.apply(this,arguments)}function zo(){return(zo=(0,o.Z)(function*(v,g){return fn(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Gs(v,g){return ol.apply(this,arguments)}function ol(){return(ol=(0,o.Z)(function*(v,g){return fn(v,"POST","/v1/accounts:update",Et(v,g))})).apply(this,arguments)}function al(){return(al=(0,o.Z)(function*(v,g){return kt(v,"POST","/v1/accounts:signInWithPassword",Et(v,g))})).apply(this,arguments)}function R3(v,g){return ll.apply(this,arguments)}function ll(){return(ll=(0,o.Z)(function*(v,g){return fn(v,"POST","/v1/accounts:sendOobCode",Et(v,g))})).apply(this,arguments)}function O0(v,g){return o6.apply(this,arguments)}function o6(){return(o6=(0,o.Z)(function*(v,g){return R3(v,g)})).apply(this,arguments)}function cl(v,g){return Da.apply(this,arguments)}function Da(){return(Da=(0,o.Z)(function*(v,g){return R3(v,g)})).apply(this,arguments)}function Fo(v,g){return O3.apply(this,arguments)}function O3(){return(O3=(0,o.Z)(function*(v,g){return R3(v,g)})).apply(this,arguments)}function P0(v,g){return P3.apply(this,arguments)}function P3(){return(P3=(0,o.Z)(function*(v,g){return R3(v,g)})).apply(this,arguments)}function js(){return(js=(0,o.Z)(function*(v,g){return kt(v,"POST","/v1/accounts:signInWithEmailLink",Et(v,g))})).apply(this,arguments)}function Aa(){return(Aa=(0,o.Z)(function*(v,g){return kt(v,"POST","/v1/accounts:signInWithEmailLink",Et(v,g))})).apply(this,arguments)}class Ia extends Po{constructor(g,C,b,T=null){super("password",b),this._email=g,this._password=C,this._tenantId=T}static _fromEmailAndPassword(g,C){return new Ia(g,C,"password")}static _fromEmailAndCode(g,C,b=null){return new Ia(g,C,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const C="string"==typeof g?JSON.parse(g):g;if((null==C?void 0:C.email)&&(null==C?void 0:C.password)){if("password"===C.signInMethod)return this._fromEmailAndPassword(C.email,C.password);if("emailLink"===C.signInMethod)return this._fromEmailAndCode(C.email,C.password,C.tenantId)}return null}_getIdTokenResponse(g){var C=this;return(0,o.Z)(function*(){switch(C.signInMethod){case"password":return function(v,g){return al.apply(this,arguments)}(g,{returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function(v,g){return js.apply(this,arguments)}(g,{email:C._email,oobCode:C._password});default:Un(g,"internal-error")}})()}_linkToIdToken(g,C){var b=this;return(0,o.Z)(function*(){switch(b.signInMethod){case"password":return s6(g,{idToken:C,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function(v,g){return Aa.apply(this,arguments)}(g,{idToken:C,email:b._email,oobCode:b._password});default:Un(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Hn(v,g){return O2.apply(this,arguments)}function O2(){return(O2=(0,o.Z)(function*(v,g){return kt(v,"POST","/v1/accounts:signInWithIdp",Et(v,g))})).apply(this,arguments)}class z2 extends Po{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const C=new z2(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(C.idToken=g.idToken),g.accessToken&&(C.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(C.nonce=g.nonce),g.pendingToken&&(C.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(C.accessToken=g.oauthToken,C.secret=g.oauthTokenSecret):Un("argument-error"),C}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const C="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:T}=C,I=ue(C,["providerId","signInMethod"]);if(!b||!T)return null;const G=new z2(b,T);return G.idToken=I.idToken||void 0,G.accessToken=I.accessToken||void 0,G.secret=I.secret,G.nonce=I.nonce,G.pendingToken=I.pendingToken||null,G}_getIdTokenResponse(g){return Hn(g,this.buildRequest())}_linkToIdToken(g,C){const b=this.buildRequest();return b.idToken=C,Hn(g,b)}_getReauthenticationResolver(g){const C=this.buildRequest();return C.autoCreate=!1,Hn(g,C)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const C={};this.idToken&&(C.id_token=this.idToken),this.accessToken&&(C.access_token=this.accessToken),this.secret&&(C.oauth_token_secret=this.secret),C.providerId=this.providerId,this.nonce&&!this.pendingToken&&(C.nonce=this.nonce),g.postBody=(0,P.xO)(C)}return g}}function Uo(v,g){return F2.apply(this,arguments)}function F2(){return(F2=(0,o.Z)(function*(v,g){return fn(v,"POST","/v1/accounts:sendVerificationCode",Et(v,g))})).apply(this,arguments)}function z3(){return(z3=(0,o.Z)(function*(v,g){return kt(v,"POST","/v1/accounts:signInWithPhoneNumber",Et(v,g))})).apply(this,arguments)}function Na(){return(Na=(0,o.Z)(function*(v,g){const C=yield kt(v,"POST","/v1/accounts:signInWithPhoneNumber",Et(v,g));if(C.temporaryProof)throw gt(v,"account-exists-with-different-credential",C);return C})).apply(this,arguments)}const ul={USER_NOT_FOUND:"user-not-found"};function ir(){return(ir=(0,o.Z)(function*(v,g){return kt(v,"POST","/v1/accounts:signInWithPhoneNumber",Et(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),ul)})).apply(this,arguments)}class Cn extends Po{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,C){return new Cn({verificationId:g,verificationCode:C})}static _fromTokenResponse(g,C){return new Cn({phoneNumber:g,temporaryProof:C})}_getIdTokenResponse(g){return function(v,g){return z3.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,C){return function(v,g){return Na.apply(this,arguments)}(g,Object.assign({idToken:C},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function(v,g){return ir.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:C,verificationId:b,verificationCode:T}=this.params;return g&&C?{temporaryProof:g,phoneNumber:C}:{sessionInfo:b,code:T}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:C,verificationCode:b,phoneNumber:T,temporaryProof:I}=g;return b||C||T||I?new Cn({verificationId:C,verificationCode:b,phoneNumber:T,temporaryProof:I}):null}}class Dn{constructor(g){var C,b,T,I,G,te;const Oe=(0,P.zd)((0,P.pd)(g)),Ne=null!==(C=Oe.apiKey)&&void 0!==C?C:null,it=null!==(b=Oe.oobCode)&&void 0!==b?b:null,ut=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Oe.mode)&&void 0!==T?T:null);Ae(Ne&&it&&ut,"argument-error"),this.apiKey=Ne,this.operation=ut,this.code=it,this.continueUrl=null!==(I=Oe.continueUrl)&&void 0!==I?I:null,this.languageCode=null!==(G=Oe.languageCode)&&void 0!==G?G:null,this.tenantId=null!==(te=Oe.tenantId)&&void 0!==te?te:null}static parseLink(g){const C=function(v){const g=(0,P.zd)((0,P.pd)(v)).link,C=g?(0,P.zd)((0,P.pd)(g)).deep_link_id:null,b=(0,P.zd)((0,P.pd)(v)).deep_link_id;return(b?(0,P.zd)((0,P.pd)(b)).link:null)||b||C||g||v}(g);try{return new Dn(C)}catch(b){return null}}}let Lr=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(C,b){return Ia._fromEmailAndPassword(C,b)}static credentialWithLink(C,b){const T=Dn.parseLink(b);return Ae(T,"argument-error"),Ia._fromEmailAndCode(C,T.code,T.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class W1{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Wn extends W1{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Tr extends Wn{static credentialFromJSON(g){const C="string"==typeof g?JSON.parse(g):g;return Ae("providerId"in C&&"signInMethod"in C,"argument-error"),z2._fromParams(C)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Ae(g.idToken||g.accessToken,"argument-error"),z2._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Tr.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Tr.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:C,oauthAccessToken:b,oauthTokenSecret:T,pendingToken:I,nonce:G,providerId:te}=g;if(!b&&!T&&!C&&!I||!te)return null;try{return new Tr(te)._credential({idToken:C,accessToken:b,nonce:G,pendingToken:I})}catch(Oe){return null}}}let Go=(()=>{class v extends Wn{constructor(){super("facebook.com")}static credential(C){return z2._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return v.credentialFromTaggedObject(C)}static credentialFromError(C){return v.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return v.credential(C.oauthAccessToken)}catch(b){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Gn=(()=>{class v extends Wn{constructor(){super("google.com"),this.addScope("profile")}static credential(C,b){return z2._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:C,accessToken:b})}static credentialFromResult(C){return v.credentialFromTaggedObject(C)}static credentialFromError(C){return v.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:b,oauthAccessToken:T}=C;if(!b&&!T)return null;try{return v.credential(b,T)}catch(I){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),w1=(()=>{class v extends Wn{constructor(){super("github.com")}static credential(C){return z2._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return v.credentialFromTaggedObject(C)}static credentialFromError(C){return v.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return v.credential(C.oauthAccessToken)}catch(b){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Dr extends Po{constructor(g,C){super(g,g),this.pendingToken=C}_getIdTokenResponse(g){return Hn(g,this.buildRequest())}_linkToIdToken(g,C){const b=this.buildRequest();return b.idToken=C,Hn(g,b)}_getReauthenticationResolver(g){const C=this.buildRequest();return C.autoCreate=!1,Hn(g,C)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const C="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:T,pendingToken:I}=C;return b&&T&&I&&b===T?new Dr(b,I):null}static _create(g,C){return new Dr(g,C)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class d1 extends W1{constructor(g){Ae(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return d1.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return d1.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const C=Dr.fromJSON(g);return Ae(C,"argument-error"),C}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:C,providerId:b}=g;if(!C||!b)return null;try{return Dr._create(b,C)}catch(T){return null}}}let Ws=(()=>{class v extends Wn{constructor(){super("twitter.com")}static credential(C,b){return z2._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:C,oauthTokenSecret:b})}static credentialFromResult(C){return v.credentialFromTaggedObject(C)}static credentialFromError(C){return v.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthAccessToken:b,oauthTokenSecret:T}=C;if(!b||!T)return null;try{return v.credential(b,T)}catch(I){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function ts(v,g){return _t.apply(this,arguments)}function _t(){return(_t=(0,o.Z)(function*(v,g){return kt(v,"POST","/v1/accounts:signUp",Et(v,g))})).apply(this,arguments)}class x1{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,C,b,T=!1){return(0,o.Z)(function*(){const I=yield k1._fromIdTokenResponse(g,b,T),G=jo(b);return new x1({user:I,providerId:G,_tokenResponse:b,operationType:C})})()}static _forOperation(g,C,b){return(0,o.Z)(function*(){yield g._updateTokensIfNecessary(b,!0);const T=jo(b);return new x1({user:g,providerId:T,_tokenResponse:b,operationType:C})})()}}function jo(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Va(){return(Va=(0,o.Z)(function*(v){var g;const C=ai(v);if(yield C._initializationPromise,null===(g=C.currentUser)||void 0===g?void 0:g.isAnonymous)return new x1({user:C.currentUser,providerId:null,operationType:"signIn"});const b=yield ts(C,{returnSecureToken:!0}),T=yield x1._fromIdTokenResponse(C,"signIn",b,!0);return yield C._updateCurrentUser(T.user),T})).apply(this,arguments)}class Ar extends P.ZR{constructor(g,C,b,T){var I;super(C.code,C.message),this.operationType=b,this.user=T,Object.setPrototypeOf(this,Ar.prototype),this.customData={appName:g.name,tenantId:null!==(I=g.tenantId)&&void 0!==I?I:void 0,_serverResponse:C.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(g,C,b,T){return new Ar(g,C,b,T)}}function q3(v,g,C,b){return("reauthenticate"===g?C._getReauthenticationResolver(v):C._getIdTokenResponse(v)).catch(I=>{throw"auth/multi-factor-auth-required"===I.code?Ar._fromErrorAndOperation(v,I,g,b):I})}function Ha(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function Zt(){return(Zt=(0,o.Z)(function*(v,g){const C=(0,P.m9)(v);yield Ra(!0,C,g);const{providerUserInfo:b}=yield $(C.auth,{idToken:yield C.getIdToken(),deleteProvider:[g]}),T=Ha(b||[]);return C.providerData=C.providerData.filter(I=>T.has(I.providerId)),T.has("phone")||(C.phoneNumber=null),yield C.auth._persistUserIfCurrent(C),C})).apply(this,arguments)}function Ir(v,g){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,o.Z)(function*(v,g,C=!1){const b=yield xt(v,g._linkToIdToken(v.auth,yield v.getIdToken()),C);return x1._forOperation(v,"link",b)})).apply(this,arguments)}function Ra(v,g,C){return Z1.apply(this,arguments)}function Z1(){return(Z1=(0,o.Z)(function*(v,g,C){yield H2(g);const T=!1===v?"provider-already-linked":"no-such-provider";Ae(Ha(g.providerData).has(C)===v,g.auth,T)})).apply(this,arguments)}function H1(v,g){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,o.Z)(function*(v,g,C=!1){const{auth:b}=v,T="reauthenticate";try{const I=yield xt(v,q3(b,T,g,v),C);Ae(I.idToken,b,"internal-error");const G=qn(I.idToken);Ae(G,b,"internal-error");const{sub:te}=G;return Ae(v.uid===te,b,"user-mismatch"),x1._forOperation(v,T,I)}catch(I){throw"auth/user-not-found"===(null==I?void 0:I.code)&&Un(b,"user-mismatch"),I}})).apply(this,arguments)}function qo(v,g){return dl.apply(this,arguments)}function dl(){return(dl=(0,o.Z)(function*(v,g,C=!1){const b="signIn",T=yield q3(v,b,g),I=yield x1._fromIdTokenResponse(v,b,T);return C||(yield v._updateCurrentUser(I.user)),I})).apply(this,arguments)}function Oa(v,g){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,o.Z)(function*(v,g){return qo(ai(v),g)})).apply(this,arguments)}function ns(v,g){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,o.Z)(function*(v,g){const C=(0,P.m9)(v);return yield Ra(!1,C,g.providerId),Ir(C,g)})).apply(this,arguments)}function Y1(v,g){return $o.apply(this,arguments)}function $o(){return($o=(0,o.Z)(function*(v,g){return H1((0,P.m9)(v),g)})).apply(this,arguments)}function is(v,g){return R1.apply(this,arguments)}function R1(){return(R1=(0,o.Z)(function*(v,g){return kt(v,"POST","/v1/accounts:signInWithCustomToken",Et(v,g))})).apply(this,arguments)}function Ks(){return(Ks=(0,o.Z)(function*(v,g){const C=ai(v),b=yield is(C,{token:g,returnSecureToken:!0}),T=yield x1._fromIdTokenResponse(C,"signIn",b);return yield C._updateCurrentUser(T.user),T})).apply(this,arguments)}class Pa{constructor(g,C){this.factorId=g,this.uid=C.mfaEnrollmentId,this.enrollmentTime=new Date(C.enrolledAt).toUTCString(),this.displayName=C.displayName}static _fromServerResponse(g,C){return"phoneInfo"in C?Wo._fromServerResponse(g,C):Un(g,"internal-error")}}class Wo extends Pa{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,C){return new Wo(C)}}function rs(v,g,C){var b;Ae((null===(b=C.url)||void 0===b?void 0:b.length)>0,v,"invalid-continue-uri"),Ae(void 0===C.dynamicLinkDomain||C.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=C.url,g.dynamicLinkDomain=C.dynamicLinkDomain,g.canHandleCodeInApp=C.handleCodeInApp,C.iOS&&(Ae(C.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=C.iOS.bundleId),C.android&&(Ae(C.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=C.android.installApp,g.androidMinimumVersionCode=C.android.minimumVersion,g.androidPackageName=C.android.packageName)}function za(){return(za=(0,o.Z)(function*(v,g,C){const b=(0,P.m9)(v),T={requestType:"PASSWORD_RESET",email:g};C&&rs(b,T,C),yield cl(b,T)})).apply(this,arguments)}function fl(){return(fl=(0,o.Z)(function*(v,g,C){yield r6((0,P.m9)(v),{oobCode:g,newPassword:C})})).apply(this,arguments)}function os(){return(os=(0,o.Z)(function*(v,g){yield Gs((0,P.m9)(v),{oobCode:g})})).apply(this,arguments)}function $3(v,g){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,o.Z)(function*(v,g){const C=(0,P.m9)(v),b=yield r6(C,{oobCode:g}),T=b.requestType;switch(Ae(T,C,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ae(b.newEmail,C,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ae(b.mfaInfo,C,"internal-error");default:Ae(b.email,C,"internal-error")}let I=null;return b.mfaInfo&&(I=Pa._fromServerResponse(ai(C),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:I},operation:T}})).apply(this,arguments)}function Fa(){return(Fa=(0,o.Z)(function*(v,g){const{data:C}=yield $3((0,P.m9)(v),g);return C.email})).apply(this,arguments)}function Z3(){return(Z3=(0,o.Z)(function*(v,g,C){const b=ai(v),T=yield ts(b,{returnSecureToken:!0,email:g,password:C}),I=yield x1._fromIdTokenResponse(b,"signIn",T);return yield b._updateCurrentUser(I.user),I})).apply(this,arguments)}function K1(){return(K1=(0,o.Z)(function*(v,g,C){const b=(0,P.m9)(v),T={requestType:"EMAIL_SIGNIN",email:g};Ae(C.handleCodeInApp,b,"argument-error"),C&&rs(b,T,C),yield Fo(b,T)})).apply(this,arguments)}function Y3(){return(Y3=(0,o.Z)(function*(v,g,C){const b=(0,P.m9)(v),T=Lr.credentialWithLink(g,C||Pi());return Ae(T._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Oa(b,T)})).apply(this,arguments)}function Cl(v,g){return l6.apply(this,arguments)}function l6(){return(l6=(0,o.Z)(function*(v,g){return fn(v,"POST","/v1/accounts:createAuthUri",Et(v,g))})).apply(this,arguments)}function Qs(){return(Qs=(0,o.Z)(function*(v,g){const b={identifier:g,continueUri:zi()?Pi():"http://localhost"},{signinMethods:T}=yield Cl((0,P.m9)(v),b);return T||[]})).apply(this,arguments)}function Js(){return(Js=(0,o.Z)(function*(v,g){const C=(0,P.m9)(v),T={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&rs(C.auth,T,g);const{email:I}=yield O0(C.auth,T);I!==v.email&&(yield v.reload())})).apply(this,arguments)}function Ua(){return(Ua=(0,o.Z)(function*(v,g,C){const b=(0,P.m9)(v),I={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};C&&rs(b.auth,I,C);const{email:G}=yield P0(b.auth,I);G!==v.email&&(yield v.reload())})).apply(this,arguments)}function ml(v,g){return wi.apply(this,arguments)}function wi(){return(wi=(0,o.Z)(function*(v,g){return fn(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Xs(){return(Xs=(0,o.Z)(function*(v,{displayName:g,photoURL:C}){if(void 0===g&&void 0===C)return;const b=(0,P.m9)(v),I={idToken:yield b.getIdToken(),displayName:g,photoUrl:C,returnSecureToken:!0},G=yield xt(b,ml(b.auth,I));b.displayName=G.displayName||null,b.photoURL=G.photoUrl||null;const te=b.providerData.find(({providerId:Oe})=>"password"===Oe);te&&(te.displayName=b.displayName,te.photoURL=b.photoURL),yield b._updateTokensIfNecessary(G)})).apply(this,arguments)}function as(v,g,C){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,o.Z)(function*(v,g,C){const{auth:b}=v,I={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(I.email=g),C&&(I.password=C);const G=yield xt(v,s6(b,I));yield v._updateTokensIfNecessary(G,!0)})).apply(this,arguments)}class eo{constructor(g,C,b={}){this.isNewUser=g,this.providerId=C,this.profile=b}}class _l extends eo{constructor(g,C,b,T){super(g,C,b),this.username=T}}class vd extends eo{constructor(g,C){super(g,"facebook.com",C)}}class bn extends _l{constructor(g,C){super(g,"github.com",C,"string"==typeof(null==C?void 0:C.login)?null==C?void 0:C.login:null)}}class li extends eo{constructor(g,C){super(g,"google.com",C)}}class B2 extends _l{constructor(g,C,b){super(g,"twitter.com",C,b)}}function _n(v){const{user:g,_tokenResponse:C}=v;return g.isAnonymous&&!C?{providerId:null,isNewUser:!1,profile:null}:function(v){var g,C;if(!v)return null;const{providerId:b}=v,T=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},I=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!b&&(null==v?void 0:v.idToken)){const G=null===(C=null===(g=qn(v.idToken))||void 0===g?void 0:g.firebase)||void 0===C?void 0:C.sign_in_provider;if(G)return new eo(I,"anonymous"!==G&&"custom"!==G?G:null)}if(!b)return null;switch(b){case"facebook.com":return new vd(I,T);case"github.com":return new bn(I,T);case"google.com":return new li(I,T);case"twitter.com":return new B2(I,T,v.screenName||null);case"custom":case"anonymous":return new eo(I,null);default:return new eo(I,b,T)}}(C)}class U2{constructor(g,C){this.type=g,this.credential=C}static _fromIdtoken(g){return new U2("enroll",g)}static _fromMfaPendingCredential(g){return new U2("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var C,b;if(null==g?void 0:g.multiFactorSession){if(null===(C=g.multiFactorSession)||void 0===C?void 0:C.pendingCredential)return U2._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(b=g.multiFactorSession)||void 0===b?void 0:b.idToken)return U2._fromIdtoken(g.multiFactorSession.idToken)}return null}}class to{constructor(g,C,b){this.session=g,this.hints=C,this.signInResolver=b}static _fromError(g,C){const b=ai(g),T=C.customData._serverResponse,I=(T.mfaInfo||[]).map(te=>Pa._fromServerResponse(b,te));Ae(T.mfaPendingCredential,b,"internal-error");const G=U2._fromMfaPendingCredential(T.mfaPendingCredential);return new to(G,I,function(){var te=(0,o.Z)(function*(Oe){const Ne=yield Oe._process(b,G);delete T.mfaInfo,delete T.mfaPendingCredential;const it=Object.assign(Object.assign({},T),{idToken:Ne.idToken,refreshToken:Ne.refreshToken});switch(C.operationType){case"signIn":const ut=yield x1._fromIdTokenResponse(b,C.operationType,it);return yield b._updateCurrentUser(ut.user),ut;case"reauthenticate":return Ae(C.user,b,"internal-error"),x1._forOperation(C.user,C.operationType,it);default:Un(b,"internal-error")}});return function(Oe){return te.apply(this,arguments)}}())}resolveSignIn(g){var C=this;return(0,o.Z)(function*(){return C.signInResolver(g)})()}}function u6(v,g){return fn(v,"POST","/v2/accounts/mfaEnrollment:start",Et(v,g))}class no{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(C=>{C.mfaInfo&&(this.enrolledFactors=C.mfaInfo.map(b=>Pa._fromServerResponse(g.auth,b)))})}static _fromUser(g){return new no(g)}getSession(){var g=this;return(0,o.Z)(function*(){return U2._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,C){var b=this;return(0,o.Z)(function*(){const T=g,I=yield b.getSession(),G=yield xt(b.user,T._process(b.user.auth,I,C));return yield b.user._updateTokensIfNecessary(G),b.user.reload()})()}unenroll(g){var C=this;return(0,o.Z)(function*(){const b="string"==typeof g?g:g.uid,T=yield C.user.getIdToken(),I=yield xt(C.user,function(v,g){return fn(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Et(v,g))}(C.user.auth,{idToken:T,mfaEnrollmentId:b}));C.enrolledFactors=C.enrolledFactors.filter(({uid:G})=>G!==b),yield C.user._updateTokensIfNecessary(I);try{yield C.user.reload()}catch(G){if("auth/user-token-expired"!==G.code)throw G}})()}}const kr=new WeakMap,Q1="__sak";class rr{constructor(g,C){this.storageRetriever=g,this.type=C}_isAvailable(){try{return this.storage?(this.storage.setItem(Q1,"1"),this.storage.removeItem(Q1),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,C){return this.storage.setItem(g,JSON.stringify(C)),Promise.resolve()}_get(g){const C=this.storage.getItem(g);return Promise.resolve(C?JSON.parse(C):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const sr=(()=>{class v extends rr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(C,b)=>this.onStorageEvent(C,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,P.z$)();return tr(v)||zt(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=H3(),this._shouldAllowMigration=!0}forAllChangedKeys(C){for(const b of Object.keys(this.listeners)){const T=this.storage.getItem(b),I=this.localCache[b];T!==I&&C(b,I,T)}}onStorageEvent(C,b=!1){if(!C.key)return void this.forAllChangedKeys((te,Oe,Ne)=>{this.notifyListeners(te,Ne)});const T=C.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const te=this.storage.getItem(T);if(C.newValue!==te)null!==C.newValue?this.storage.setItem(T,C.newValue):this.storage.removeItem(T);else if(this.localCache[T]===C.newValue&&!b)return}const I=()=>{const te=this.storage.getItem(T);!b&&this.localCache[T]===te||this.notifyListeners(T,te)},G=this.storage.getItem(T);(0,P.w1)()&&10===document.documentMode&&G!==C.newValue&&C.newValue!==C.oldValue?setTimeout(I,10):I()}notifyListeners(C,b){this.localCache[C]=b;const T=this.listeners[C];if(T)for(const I of Array.from(T))I(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((C,b,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:C,oldValue:b,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(C,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[C]||(this.listeners[C]=new Set,this.localCache[C]=this.storage.getItem(C)),this.listeners[C].add(b)}_removeListener(C,b){this.listeners[C]&&(this.listeners[C].delete(b),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(C,b){var T=()=>super._set,I=this;return(0,o.Z)(function*(){yield T().call(I,C,b),I.localCache[C]=JSON.stringify(b)})()}_get(C){var b=()=>super._get,T=this;return(0,o.Z)(function*(){const I=yield b().call(T,C);return T.localCache[C]=JSON.stringify(I),I})()}_remove(C){var b=()=>super._remove,T=this;return(0,o.Z)(function*(){yield b().call(T,C),delete T.localCache[C]})()}}return v.type="LOCAL",v})(),J1=(()=>{class v extends rr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(C,b){}_removeListener(C,b){}}return v.type="SESSION",v})();let Qn=(()=>{class v{constructor(C){this.eventTarget=C,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(C){const b=this.receivers.find(I=>I.isListeningto(C));if(b)return b;const T=new v(C);return this.receivers.push(T),T}isListeningto(C){return this.eventTarget===C}handleEvent(C){var b=this;return(0,o.Z)(function*(){const T=C,{eventId:I,eventType:G,data:te}=T.data,Oe=b.handlersMap[G];if(!(null==Oe?void 0:Oe.size))return;T.ports[0].postMessage({status:"ack",eventId:I,eventType:G});const Ne=Array.from(Oe).map(function(){var ut=(0,o.Z)(function*(Gt){return Gt(T.origin,te)});return function(Gt){return ut.apply(this,arguments)}}()),it=yield function(v){return Promise.all(v.map(function(){var g=(0,o.Z)(function*(C){try{return{fulfilled:!0,value:yield C}}catch(b){return{fulfilled:!1,reason:b}}});return function(C){return g.apply(this,arguments)}}()))}(Ne);T.ports[0].postMessage({status:"done",eventId:I,eventType:G,response:it})})()}_subscribe(C,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[C]||(this.handlersMap[C]=new Set),this.handlersMap[C].add(b)}_unsubscribe(C,b){this.handlersMap[C]&&b&&this.handlersMap[C].delete(b),(!b||0===this.handlersMap[C].size)&&delete this.handlersMap[C],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function ro(v="",g=10){let C="";for(let b=0;b<g;b++)C+=Math.floor(10*Math.random());return v+C}class Vr{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,C,b=50){var T=this;return(0,o.Z)(function*(){const I="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!I)throw new Error("connection_unavailable");let G,te;return new Promise((Oe,Ne)=>{const it=ro("",20);I.port1.start();const ut=setTimeout(()=>{Ne(new Error("unsupported_event"))},b);te={messageChannel:I,onMessage(Gt){const Gi=Gt;if(Gi.data.eventId===it)switch(Gi.data.status){case"ack":clearTimeout(ut),G=setTimeout(()=>{Ne(new Error("timeout"))},3e3);break;case"done":clearTimeout(G),Oe(Gi.data.response);break;default:clearTimeout(ut),clearTimeout(G),Ne(new Error("invalid_response"))}}},T.handlers.add(te),I.port1.addEventListener("message",te.onMessage),T.target.postMessage({eventType:g,eventId:it,data:C},[I.port2])}).finally(()=>{te&&T.removeMessageHandler(te)})})()}}function Ci(){return window}function so(){return void 0!==Ci().WorkerGlobalScope&&"function"==typeof Ci().importScripts}function O1(){return(O1=(0,o.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Rr="firebaseLocalStorageDb",qa="firebaseLocalStorage",ea="fbase_key";class vn{constructor(g){this.request=g}toPromise(){return new Promise((g,C)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{C(this.request.error)})})}}function yl(v,g){return v.transaction([qa],g?"readwrite":"readonly").objectStore(qa)}function $a(){const v=indexedDB.open(Rr,1);return new Promise((g,C)=>{v.addEventListener("error",()=>{C(v.error)}),v.addEventListener("upgradeneeded",()=>{const b=v.result;try{b.createObjectStore(qa,{keyPath:ea})}catch(T){C(T)}}),v.addEventListener("success",(0,o.Z)(function*(){const b=v.result;b.objectStoreNames.contains(qa)?g(b):(b.close(),yield function(){const v=indexedDB.deleteDatabase(Rr);return new vn(v).toPromise()}(),g(yield $a()))}))})}function B0(v,g,C){return oo.apply(this,arguments)}function oo(){return(oo=(0,o.Z)(function*(v,g,C){const b=yl(v,!0).put({[ea]:g,value:C});return new vn(b).toPromise()})).apply(this,arguments)}function ci(){return(ci=(0,o.Z)(function*(v,g){const C=yl(v,!1).get(g),b=yield new vn(C).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Tt(v,g){const C=yl(v,!0).delete(g);return new vn(C).toPromise()}const Xi=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var C=this;return(0,o.Z)(function*(){return C.db||(C.db=yield $a()),C.db})()}_withRetries(C){var b=this;return(0,o.Z)(function*(){let T=0;for(;;)try{const I=yield b._openDb();return yield C(I)}catch(I){if(T++>3)throw I;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var C=this;return(0,o.Z)(function*(){return so()?C.initializeReceiver():C.initializeSender()})()}initializeReceiver(){var C=this;return(0,o.Z)(function*(){C.receiver=Qn._getInstance(so()?self:null),C.receiver._subscribe("keyChanged",function(){var b=(0,o.Z)(function*(T,I){return{keyProcessed:(yield C._poll()).includes(I.key)}});return function(T,I){return b.apply(this,arguments)}}()),C.receiver._subscribe("ping",function(){var b=(0,o.Z)(function*(T,I){return["keyChanged"]});return function(T,I){return b.apply(this,arguments)}}())})()}initializeSender(){var C=this;return(0,o.Z)(function*(){var b,T;if(C.activeServiceWorker=yield function(){return O1.apply(this,arguments)}(),!C.activeServiceWorker)return;C.sender=new Vr(C.activeServiceWorker);const I=yield C.sender._send("ping",{},800);!I||(null===(b=I[0])||void 0===b?void 0:b.fulfilled)&&(null===(T=I[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(C.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(C){var b=this;return(0,o.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:C},b.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const C=yield $a();return yield B0(C,Q1,"1"),yield Tt(C,Q1),!0}catch(C){}return!1})()}_withPendingWrite(C){var b=this;return(0,o.Z)(function*(){b.pendingWrites++;try{yield C()}finally{b.pendingWrites--}})()}_set(C,b){var T=this;return(0,o.Z)(function*(){return T._withPendingWrite((0,o.Z)(function*(){return yield T._withRetries(I=>B0(I,C,b)),T.localCache[C]=b,T.notifyServiceWorker(C)}))})()}_get(C){var b=this;return(0,o.Z)(function*(){const T=yield b._withRetries(I=>function(v,g){return ci.apply(this,arguments)}(I,C));return b.localCache[C]=T,T})()}_remove(C){var b=this;return(0,o.Z)(function*(){return b._withPendingWrite((0,o.Z)(function*(){return yield b._withRetries(T=>Tt(T,C)),delete b.localCache[C],b.notifyServiceWorker(C)}))})()}_poll(){var C=this;return(0,o.Z)(function*(){const b=yield C._withRetries(G=>{const te=yl(G,!1).getAll();return new vn(te).toPromise()});if(!b)return[];if(0!==C.pendingWrites)return[];const T=[],I=new Set;for(const{fbase_key:G,value:te}of b)I.add(G),JSON.stringify(C.localCache[G])!==JSON.stringify(te)&&(C.notifyListeners(G,te),T.push(G));for(const G of Object.keys(C.localCache))C.localCache[G]&&!I.has(G)&&(C.notifyListeners(G,null),T.push(G));return T})()}notifyListeners(C,b){this.localCache[C]=b;const T=this.listeners[C];if(T)for(const I of Array.from(T))I(b)}startPolling(){var C=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return C._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(C,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[C]||(this.listeners[C]=new Set,this._get(C)),this.listeners[C].add(b)}_removeListener(C,b){this.listeners[C]&&(this.listeners[C].delete(b),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function U0(v,g){return fn(v,"POST","/v2/accounts/mfaSignIn:start",Et(v,g))}function h1(){return(h1=(0,o.Z)(function*(v){return(yield fn(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function us(v){return new Promise((g,C)=>{const b=document.createElement("script");b.setAttribute("src",v),b.onload=g,b.onerror=T=>{const I=ti("internal-error");I.customData=T,C(I)},b.type="text/javascript",b.charset="UTF-8",function(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(b)})}function ds(v){return`__${v}${Math.floor(1e6*Math.random())}`}const fs=1e12;class t4{constructor(g){this.auth=g,this.counter=fs,this._widgets=new Map}render(g,C){const b=this.counter;return this._widgets.set(b,new Or(g,this.auth.name,C||{})),this.counter++,b}reset(g){var C;const b=g||fs;null===(C=this._widgets.get(b))||void 0===C||C.delete(),this._widgets.delete(b)}getResponse(g){var C;return(null===(C=this._widgets.get(g||fs))||void 0===C?void 0:C.getResponse())||""}execute(g){var C=this;return(0,o.Z)(function*(){var b;return null===(b=C._widgets.get(g||fs))||void 0===b||b.execute(),""})()}}class Or{constructor(g,C,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof g?document.getElementById(g):g;Ae(T,"argument-error",{appName:C}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const g=[],C="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<50;b++)g.push(C.charAt(Math.floor(Math.random()*C.length)));return g.join("")}();const{callback:g,"expired-callback":C}=this.params;if(g)try{g(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,C)try{C()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ui=ds("rcb"),n4=new et(3e4,6e4);class yd{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ci().grecaptcha}load(g,C=""){return Ae((v=C).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),g,"argument-error"),this.shouldResolveImmediately(C)?Promise.resolve(Ci().grecaptcha):new Promise((b,T)=>{const I=Ci().setTimeout(()=>{T(ti(g,"network-request-failed"))},n4.get());Ci()[Ui]=()=>{Ci().clearTimeout(I),delete Ci()[Ui];const te=Ci().grecaptcha;if(!te)return void T(ti(g,"internal-error"));const Oe=te.render;te.render=(Ne,it)=>{const ut=Oe(Ne,it);return this.counter++,ut},this.hostLanguage=C,b(te)},us(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:Ui,render:"explicit",hl:C})}`).catch(()=>{clearTimeout(I),T(ti(g,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!Ci().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class G2{load(g){return(0,o.Z)(function*(){return new t4(g)})()}clearedOneInstance(){}}const S1="recaptcha",i4={theme:"light",type:"image"};class t1{constructor(g,C=Object.assign({},i4),b){this.parameters=C,this.type=S1,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ai(b),this.isInvisible="invisible"===this.parameters.size,Ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof g?document.getElementById(g):g;Ae(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new G2:new yd,this.validateStartingState()}verify(){var g=this;return(0,o.Z)(function*(){g.assertNotDestroyed();const C=yield g.render(),b=g.getAssertedRecaptcha();return b.getResponse(C)||new Promise(I=>{const G=te=>{!te||(g.tokenChangeListeners.delete(G),I(te))};g.tokenChangeListeners.add(G),g.isInvisible&&b.execute(C)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Ae(!this.parameters.sitekey,this.auth,"argument-error"),Ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return C=>{if(this.tokenChangeListeners.forEach(b=>b(C)),"function"==typeof g)g(C);else if("string"==typeof g){const b=Ci()[g];"function"==typeof b&&b(C)}}}assertNotDestroyed(){Ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,o.Z)(function*(){if(yield g.init(),!g.widgetId){let C=g.container;if(!g.isInvisible){const b=document.createElement("div");C.appendChild(b),C=b}g.widgetId=g.getAssertedRecaptcha().render(C,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,o.Z)(function*(){Ae(zi()&&!so(),g.auth,"internal-error"),yield function(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const C=yield function(v){return h1.apply(this,arguments)}(g.auth);Ae(C,g.auth,"internal-error"),g.parameters.sitekey=C})()}getAssertedRecaptcha(){return Ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class j2{constructor(g,C){this.verificationId=g,this.onConfirmation=C}confirm(g){const C=Cn._fromVerification(this.verificationId,g);return this.onConfirmation(C)}}function P1(){return(P1=(0,o.Z)(function*(v,g,C){const b=ai(v),T=yield ia(b,g,(0,P.m9)(C));return new j2(T,I=>Oa(b,I))})).apply(this,arguments)}function hs(){return(hs=(0,o.Z)(function*(v,g,C){const b=(0,P.m9)(v);yield Ra(!1,b,"phone");const T=yield ia(b.auth,g,(0,P.m9)(C));return new j2(T,I=>ns(b,I))})).apply(this,arguments)}function ps(){return(ps=(0,o.Z)(function*(v,g,C){const b=(0,P.m9)(v),T=yield ia(b.auth,g,(0,P.m9)(C));return new j2(T,I=>Y1(b,I))})).apply(this,arguments)}function ia(v,g,C){return r4.apply(this,arguments)}function r4(){return(r4=(0,o.Z)(function*(v,g,C){var b;const T=yield C.verify();try{let I;if(Ae("string"==typeof T,v,"argument-error"),Ae(C.type===S1,v,"argument-error"),I="string"==typeof g?{phoneNumber:g}:g,"session"in I){const G=I.session;if("phoneNumber"in I)return Ae("enroll"===G.type,v,"internal-error"),(yield u6(v,{idToken:G.credential,phoneEnrollmentInfo:{phoneNumber:I.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{Ae("signin"===G.type,v,"internal-error");const te=(null===(b=I.multiFactorHint)||void 0===b?void 0:b.uid)||I.multiFactorUid;return Ae(te,v,"missing-multi-factor-info"),(yield U0(v,{mfaPendingCredential:G.credential,mfaEnrollmentId:te,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:G}=yield Uo(v,{phoneNumber:I.phoneNumber,recaptchaToken:T});return G}}finally{C._reset()}})).apply(this,arguments)}function L(){return(L=(0,o.Z)(function*(v,g){yield Ir((0,P.m9)(v),g)})).apply(this,arguments)}let V=(()=>{class v{constructor(C){this.providerId=v.PROVIDER_ID,this.auth=ai(C)}verifyPhoneNumber(C,b){return ia(this.auth,C,(0,P.m9)(b))}static credential(C,b){return Cn._fromVerification(C,b)}static credentialFromResult(C){return v.credentialFromTaggedObject(C)}static credentialFromError(C){return v.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{phoneNumber:b,temporaryProof:T}=C;return b&&T?Cn._fromTokenResponse(b,T):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function F(v,g){return g?ni(g):(Ae(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class K extends Po{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Hn(g,this._buildIdpRequest())}_linkToIdToken(g,C){return Hn(g,this._buildIdpRequest(C))}_getReauthenticationResolver(g){return Hn(g,this._buildIdpRequest())}_buildIdpRequest(g){const C={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(C.idToken=g),C}}function oe(v){return qo(v.auth,new K(v),v.bypassAuthState)}function Me(v){const{auth:g,user:C}=v;return Ae(C,g,"internal-error"),H1(C,new K(v),v.bypassAuthState)}function nt(v){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,o.Z)(function*(v){const{auth:g,user:C}=v;return Ae(C,g,"internal-error"),Ir(C,new K(v),v.bypassAuthState)})).apply(this,arguments)}class Mt{constructor(g,C,b,T,I=!1){this.auth=g,this.resolver=b,this.user=T,this.bypassAuthState=I,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(C)?C:[C]}execute(){var g=this;return new Promise(function(){var C=(0,o.Z)(function*(b,T){g.pendingPromise={resolve:b,reject:T};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(I){g.reject(I)}});return function(b,T){return C.apply(this,arguments)}}())}onAuthEvent(g){var C=this;return(0,o.Z)(function*(){const{urlResponse:b,sessionId:T,postBody:I,tenantId:G,error:te,type:Oe}=g;if(te)return void C.reject(te);const Ne={auth:C.auth,requestUri:b,sessionId:T,tenantId:G||void 0,postBody:I||void 0,user:C.user,bypassAuthState:C.bypassAuthState};try{C.resolve(yield C.getIdpTask(Oe)(Ne))}catch(it){C.reject(it)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return oe;case"linkViaPopup":case"linkViaRedirect":return nt;case"reauthViaPopup":case"reauthViaRedirect":return Me;default:Un(this.auth,"internal-error")}}resolve(g){ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xt=new et(2e3,1e4);function p1(){return(p1=(0,o.Z)(function*(v,g,C){const b=ai(v);bi(v,g,W1);const T=F(b,C);return new g1(b,"signInViaPopup",g,T).executeNotNull()})).apply(this,arguments)}function v2(){return(v2=(0,o.Z)(function*(v,g,C){const b=(0,P.m9)(v);bi(b.auth,g,W1);const T=F(b.auth,C);return new g1(b.auth,"reauthViaPopup",g,T,b).executeNotNull()})).apply(this,arguments)}function b2(){return(b2=(0,o.Z)(function*(v,g,C){const b=(0,P.m9)(v);bi(b.auth,g,W1);const T=F(b.auth,C);return new g1(b.auth,"linkViaPopup",g,T,b).executeNotNull()})).apply(this,arguments)}let g1=(()=>{class v extends Mt{constructor(C,b,T,I,G){super(C,b,I,G),this.provider=T,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var C=this;return(0,o.Z)(function*(){const b=yield C.execute();return Ae(b,C.auth,"internal-error"),b})()}onExecution(){var C=this;return(0,o.Z)(function*(){ct(1===C.filter.length,"Popup operations only handle one event");const b=ro();C.authWindow=yield C.resolver._openPopup(C.auth,C.provider,C.filter[0],b),C.authWindow.associatedEvent=b,C.resolver._originValidation(C.auth).catch(T=>{C.reject(T)}),C.resolver._isIframeWebStorageSupported(C.auth,T=>{T||C.reject(ti(C.auth,"web-storage-unsupported"))}),C.pollUserCancellation()})()}get eventId(){var C;return(null===(C=this.authWindow)||void 0===C?void 0:C.associatedEvent)||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const C=()=>{var b,T;this.pollId=(null===(T=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(C,Xt.get())};C()}}return v.currentPopupAction=null,v})();const Cs=new Map;class zr extends Mt{constructor(g,C,b=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],C,void 0,b),this.eventId=null}execute(){var g=()=>super.execute,C=this;return(0,o.Z)(function*(){let b=Cs.get(C.auth._key());if(!b){try{const I=(yield function(v,g){return s4.apply(this,arguments)}(C.resolver,C.auth))?yield g().call(C):null;b=()=>Promise.resolve(I)}catch(T){b=()=>Promise.reject(T)}Cs.set(C.auth._key(),b)}return C.bypassAuthState||Cs.set(C.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(g){var C=()=>super.onAuthEvent,b=this;return(0,o.Z)(function*(){if("signInViaRedirect"===g.type)return C().call(b,g);if("unknown"!==g.type){if(g.eventId){const T=yield b.auth._redirectUserForId(g.eventId);if(T)return b.user=T,C().call(b,g);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function s4(){return(s4=(0,o.Z)(function*(v,g){const C=wl(g),b=w2(v);if(!(yield b._isAvailable()))return!1;const T="true"===(yield b._get(C));return yield b._remove(C),T})).apply(this,arguments)}function G0(v,g){return j0.apply(this,arguments)}function j0(){return(j0=(0,o.Z)(function*(v,g){return w2(v)._set(wl(g),"true")})).apply(this,arguments)}function w2(v){return ni(v._redirectPersistence)}function wl(v){return Ft("pendingRedirect",v.config.apiKey,v.name)}function o4(){return(o4=(0,o.Z)(function*(v,g,C){const b=ai(v);bi(v,g,W1);const T=F(b,C);return yield G0(T,b),T._openRedirect(b,g,"signInViaRedirect")})).apply(this,arguments)}function $0(){return($0=(0,o.Z)(function*(v,g,C){const b=(0,P.m9)(v);bi(b.auth,g,W1);const T=F(b.auth,C);yield G0(T,b.auth);const I=yield ao(b);return T._openRedirect(b.auth,g,"reauthViaRedirect",I)})).apply(this,arguments)}function xl(){return(xl=(0,o.Z)(function*(v,g,C){const b=(0,P.m9)(v);bi(b.auth,g,W1);const T=F(b.auth,C);yield Ra(!1,b,g.providerId),yield G0(T,b.auth);const I=yield ao(b);return T._openRedirect(b.auth,g,"linkViaRedirect",I)})).apply(this,arguments)}function m6(){return(m6=(0,o.Z)(function*(v,g){return yield ai(v)._initializationPromise,ra(v,g,!1)})).apply(this,arguments)}function ra(v,g){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,o.Z)(function*(v,g,C=!1){const b=ai(v),T=F(b,g),G=yield new zr(b,T,C).execute();return G&&!C&&(delete G.user._redirectEventId,yield b._persistUserIfCurrent(G.user),yield b._setRedirectUser(null,g)),G})).apply(this,arguments)}function ao(v){return lo.apply(this,arguments)}function lo(){return(lo=(0,o.Z)(function*(v){const g=ro(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class l4{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let C=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(g,b)&&(C=!0,this.sendToConsumer(g,b),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return co(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,C||(this.queuedRedirectEvent=g,C=!0)),C}sendToConsumer(g,C){var b;if(g.error&&!co(g)){const T=(null===(b=g.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";C.onError(ti(this.auth,T))}else C.onAuthEvent(g)}isEventForConsumer(g,C){const b=null===C.eventId||!!g.eventId&&g.eventId===C.eventId;return C.filter.includes(g.type)&&b}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ka(g))}saveEventToCache(g){this.cachedEventUids.add(Ka(g)),this.lastProcessedEventTime=Date.now()}}function Ka(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function co({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===(null==g?void 0:g.code)}function _6(v){return v6.apply(this,arguments)}function v6(){return(v6=(0,o.Z)(function*(v,g={}){return fn(v,"GET","/v1/projects",g)})).apply(this,arguments)}const Z0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Md=/^https?/;function fo(){return(fo=(0,o.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield _6(v);for(const C of g)try{if(Sl(C))return}catch(b){}Un(v,"unauthorized-domain")})).apply(this,arguments)}function Sl(v){const g=Pi(),{protocol:C,hostname:b}=new URL(g);if(v.startsWith("chrome-extension://")){const G=new URL(v);return""===G.hostname&&""===b?"chrome-extension:"===C&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===C&&G.hostname===b}if(!Md.test(C))return!1;if(Z0.test(v))return b===v;const T=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(b)}const wd=new et(3e4,6e4);function y6(){const v=Ci().___jsl;if(null==v?void 0:v.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let C=0;C<v.CP.length;C++)v.CP[C]=null}let sa=null;function Y9(v){return sa=sa||function(v){return new Promise((g,C)=>{var b,T,I;function G(){y6(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{y6(),C(ti(v,"network-request-failed"))},timeout:wd.get()})}if(null===(T=null===(b=Ci().gapi)||void 0===b?void 0:b.iframes)||void 0===T?void 0:T.Iframe)g(gapi.iframes.getContext());else{if(!(null===(I=Ci().gapi)||void 0===I?void 0:I.load)){const te=ds("iframefcb");return Ci()[te]=()=>{gapi.load?G():C(ti(v,"network-request-failed"))},us(`https://apis.google.com/js/api.js?onload=${te}`).catch(Oe=>C(Oe))}G()}}).catch(g=>{throw sa=null,g})}(v),sa}const Qa=new et(5e3,15e3),c4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y0(v){const g=v.config;Ae(g.authDomain,v,"auth-domain-config-required");const C=g.emulator?wt(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,b={apiKey:g.apiKey,appName:v.name,v:le.SDK_VERSION},T=xd.get(v.config.apiHost);T&&(b.eid=T);const I=v._getFrameworks();return I.length&&(b.fw=I.join(",")),`${C}?${(0,P.xO)(b).slice(1)}`}function ms(){return ms=(0,o.Z)(function*(v){const g=yield Y9(v),C=Ci().gapi;return Ae(C,v,"internal-error"),g.open({where:document.body,url:Y0(v),messageHandlersFilter:C.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c4,dontclear:!0},b=>new Promise(function(){var T=(0,o.Z)(function*(I,G){yield b.restyle({setHideOnLeave:!1});const te=ti(v,"network-request-failed"),Oe=Ci().setTimeout(()=>{G(te)},Qa.get());function Ne(){Ci().clearTimeout(Oe),I(b)}b.ping(Ne).then(Ne,()=>{G(te)})});return function(I,G){return T.apply(this,arguments)}}()))}),ms.apply(this,arguments)}const M6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Xa{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Al(v,g,C,b,T,I){Ae(v.config.authDomain,v,"auth-domain-config-required"),Ae(v.config.apiKey,v,"invalid-api-key");const G={apiKey:v.config.apiKey,appName:v.name,authType:C,redirectUrl:b,v:le.SDK_VERSION,eventId:T};if(g instanceof W1){g.setDefaultLanguage(v.languageCode),G.providerId=g.providerId||"",(0,P.xb)(g.getCustomParameters())||(G.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Oe,Ne]of Object.entries(I||{}))G[Oe]=Ne}if(g instanceof Wn){const Oe=g.getScopes().filter(Ne=>""!==Ne);Oe.length>0&&(G.scopes=Oe.join(","))}v.tenantId&&(G.tid=v.tenantId);const te=G;for(const Oe of Object.keys(te))void 0===te[Oe]&&delete te[Oe];return`${function({config:v}){return v.emulator?wt(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,P.xO)(te).slice(1)}`}const Sd="webStorageSupport";class x6 extends class{constructor(g){this.factorId=g}_process(g,C,b){switch(C.type){case"enroll":return this._finalizeEnroll(g,C.credential,b);case"signin":return this._finalizeSignIn(g,C.credential);default:return Mi("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new x6(g)}_finalizeEnroll(g,C,b){return function(v,g){return fn(v,"POST","/v2/accounts/mfaEnrollment:finalize",Et(v,g))}(g,{idToken:C,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,C){return function(v,g){return fn(v,"POST","/v2/accounts/mfaSignIn:finalize",Et(v,g))}(g,{mfaPendingCredential:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let X0=(()=>{class v{constructor(){}static assertion(C){return x6._fromCredential(C)}}return v.FACTOR_ID="phone",v})();var v,Il="@firebase/auth",Fr="0.19.11";class Nl{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var C=this;return(0,o.Z)(function*(){return C.assertAuthConfigured(),yield C.auth._initializationPromise,C.auth.currentUser?{accessToken:yield C.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const C=this.auth.onIdTokenChanged(b=>{var T;g((null===(T=b)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,C),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const C=this.internalListeners.get(g);!C||(this.internalListeners.delete(g),C(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function An(){return window}function u4(){return u4=(0,o.Z)(function*(v,g,C){var b;const{BuildInfo:T}=An();ct(g.sessionId,"AuthEvent did not contain a session ID");const I=yield Q9(g.sessionId),G={};return zt()?G.ibi=T.packageName:oi()?G.apn=T.packageName:Un(v,"operation-not-supported-in-this-environment"),T.displayName&&(G.appDisplayName=T.displayName),G.sessionId=I,Al(v,C,g.type,void 0,null!==(b=g.eventId)&&void 0!==b?b:void 0,G)}),u4.apply(this,arguments)}function d4(){return d4=(0,o.Z)(function*(v){const{BuildInfo:g}=An(),C={};zt()?C.iosBundleId=g.packageName:oi()?C.androidPackageName=g.packageName:Un(v,"operation-not-supported-in-this-environment"),yield _6(v,C)}),d4.apply(this,arguments)}function D6(){return D6=(0,o.Z)(function*(v,g,C){const{cordova:b}=An();let T=()=>{};try{yield new Promise((I,G)=>{let te=null;function Oe(){var ut;I();const Gt=null===(ut=b.plugins.browsertab)||void 0===ut?void 0:ut.close;"function"==typeof Gt&&Gt(),"function"==typeof(null==C?void 0:C.close)&&C.close()}function Ne(){te||(te=window.setTimeout(()=>{G(ti(v,"redirect-cancelled-by-user"))},2e3))}function it(){"visible"===(null==document?void 0:document.visibilityState)&&Ne()}g.addPassiveListener(Oe),document.addEventListener("resume",Ne,!1),oi()&&document.addEventListener("visibilitychange",it,!1),T=()=>{g.removePassiveListener(Oe),document.removeEventListener("resume",Ne,!1),document.removeEventListener("visibilitychange",it,!1),te&&window.clearTimeout(te)}})}finally{T()}}),D6.apply(this,arguments)}function Q9(v){return f4.apply(this,arguments)}function f4(){return f4=(0,o.Z)(function*(v){const g=h4(v),C=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(C)).map(T=>T.toString(16).padStart(2,"0")).join("")}),f4.apply(this,arguments)}function h4(v){if(ct(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const g=new ArrayBuffer(v.length),C=new Uint8Array(g);for(let b=0;b<v.length;b++)C[b]=v.charCodeAt(b);return C}v="Browser",(0,le._registerComponent)(new Nt.wA("auth",(g,{options:C})=>{const b=g.getProvider("app").getImmediate(),T=g.getProvider("heartbeat"),{apiKey:I,authDomain:G}=b.options;return((te,Oe)=>{Ae(I&&!I.includes(":"),"invalid-api-key",{appName:te.name}),Ae(!(null==G?void 0:G.includes(":")),"argument-error",{appName:te.name});const Ne={apiKey:I,authDomain:G,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C2(v)},it=new Ro(te,Oe,Ne);return function(v,g){const C=(null==g?void 0:g.persistence)||[],b=(Array.isArray(C)?C:[C]).map(ni);(null==g?void 0:g.errorMap)&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(b,null==g?void 0:g.popupRedirectResolver)}(it,C),it})(b,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,C,b)=>{g.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new Nt.wA("auth-internal",g=>{const C=ai(g.getProvider("auth").getImmediate());return new Nl(C)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(Il,Fr,void 0),(0,le.registerVersion)(Il,Fr,"esm2017");class kl extends l4{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(C=>C(g)),super.onEvent(g)}initialized(){var g=this;return(0,o.Z)(function*(){yield g.initPromise})()}}function C1(v){return go.apply(this,arguments)}function go(){return go=(0,o.Z)(function*(v){const g=yield N6()._get(Vl(v));return g&&(yield N6()._remove(Vl(v))),g}),go.apply(this,arguments)}function I6(){const v=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<20;C++){const b=Math.floor(Math.random()*g.length);v.push(g.charAt(b))}return v.join("")}function N6(){return ni(sr)}function Vl(v){return Ft("authEvent",v.config.apiKey,v.name)}function k6(v){if(!(null==v?void 0:v.includes("?")))return{};const[g,...C]=v.split("?");return(0,P.zd)(C.join("?"))}function V6(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ti("no-auth-event")}}function aa(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function a8(v=(0,P.z$)()){return!("file:"!==aa()&&"ionic:"!==aa()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function c8(){try{const v=self.localStorage,g=ro();if(v)return v.setItem(g,"1"),v.removeItem(g),!function(v=(0,P.z$)()){return(0,P.w1)()&&11===(null==document?void 0:document.documentMode)||function(v=(0,P.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,P.hl)()}catch(v){return p4()&&(0,P.hl)()}return!1}function p4(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Rl(){return("http:"===aa()||"https:"===aa()||(0,P.ru)()||a8())&&!((0,P.b$)()||(0,P.UG)())&&c8()&&!p4()}function R6(){return a8()&&"undefined"!=typeof document}function Ol(){return Ol=(0,o.Z)(function*(){return!!R6()&&new Promise(v=>{const g=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),v(!0)})})}),Ol.apply(this,arguments)}const S2={LOCAL:"local",NONE:"none",SESSION:"session"},Pl=Ae,O6="persistence";function Br(v){return $2.apply(this,arguments)}function $2(){return $2=(0,o.Z)(function*(v){yield v._initializationPromise;const g=tp(),C=Ft(O6,v.config.apiKey,v.name);g&&g.setItem(C,v._getPersistence())}),$2.apply(this,arguments)}function tp(){var v;try{return(null===(v="undefined"!=typeof window?window:null)||void 0===v?void 0:v.sessionStorage)||null}catch(g){return null}}const d8=Ae;class la{constructor(){this.browserResolver=ni(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J1,this._completeRedirectFn=ra}_openPopup(g,C,b,T){var I=this;return(0,o.Z)(function*(){var G;ct(null===(G=I.eventManagers[g._key()])||void 0===G?void 0:G.manager,"_initialize() not called before _openPopup()");const te=Al(g,C,b,Pi(),T);return function(v,g,C,b=500,T=600){const I=Math.max((window.screen.availHeight-T)/2,0).toString(),G=Math.max((window.screen.availWidth-b)/2,0).toString();let te="";const Oe=Object.assign(Object.assign({},M6),{width:b.toString(),height:T.toString(),top:I,left:G}),Ne=(0,P.z$)().toLowerCase();C&&(te=Jr(Ne)?"_blank":C),Rt(Ne)&&(g=g||"http://localhost",Oe.scrollbars="yes");const it=Object.entries(Oe).reduce((Gt,[Gi,mo])=>`${Gt}${Gi}=${mo},`,"");if(function(v=(0,P.z$)()){var g;return zt(v)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Ne)&&"_self"!==te)return function(v,g){const C=document.createElement("a");C.href=v,C.target=g;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),C.dispatchEvent(b)}(g||"",te),new Xa(null);const ut=window.open(g||"",te,it);Ae(ut,v,"popup-blocked");try{ut.focus()}catch(Gt){}return new Xa(ut)}(g,te,ro())})()}_openRedirect(g,C,b,T){var I=this;return(0,o.Z)(function*(){return yield I._originValidation(g),v=Al(g,C,b,Pi(),T),Ci().location.href=v,new Promise(()=>{});var v})()}_initialize(g){const C=g._key();if(this.eventManagers[C]){const{manager:T,promise:I}=this.eventManagers[C];return T?Promise.resolve(T):(ct(I,"If manager is not set, promise should be"),I)}const b=this.initAndGetManager(g);return this.eventManagers[C]={promise:b},b.catch(()=>{delete this.eventManagers[C]}),b}initAndGetManager(g){var C=this;return(0,o.Z)(function*(){const b=yield function(v){return ms.apply(this,arguments)}(g),T=new l4(g);return b.register("authEvent",I=>(Ae(null==I?void 0:I.authEvent,g,"invalid-auth-event"),{status:T.onEvent(I.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),C.eventManagers[g._key()]={manager:T},C.iframes[g._key()]=b,T})()}_isIframeWebStorageSupported(g,C){this.iframes[g._key()].send(Sd,{type:Sd},T=>{var I;const G=null===(I=null==T?void 0:T[0])||void 0===I?void 0:I[Sd];void 0!==G&&C(!!G),Un(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const C=g._key();return this.originValidationPromises[C]||(this.originValidationPromises[C]=function(v){return fo.apply(this,arguments)}(g)),this.originValidationPromises[C]}get _shouldInitProactively(){return H3()||tr()||zt()}}),this.cordovaResolver=ni(class{constructor(){this._redirectPersistence=J1,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ra}_initialize(g){var C=this;return(0,o.Z)(function*(){const b=g._key();let T=C.eventManagers.get(b);return T||(T=new kl(g),C.eventManagers.set(b,T),C.attachCallbackListeners(g,T)),T})()}_openPopup(g){Un(g,"operation-not-supported-in-this-environment")}_openRedirect(g,C,b,T){var I=this;return(0,o.Z)(function*(){!function(v){var g,C,b,T,I,G,te,Oe,Ne,it;const ut=An();Ae("function"==typeof(null===(g=null==ut?void 0:ut.universalLinks)||void 0===g?void 0:g.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ae(void 0!==(null===(C=null==ut?void 0:ut.BuildInfo)||void 0===C?void 0:C.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ae("function"==typeof(null===(I=null===(T=null===(b=null==ut?void 0:ut.cordova)||void 0===b?void 0:b.plugins)||void 0===T?void 0:T.browsertab)||void 0===I?void 0:I.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ae("function"==typeof(null===(Oe=null===(te=null===(G=null==ut?void 0:ut.cordova)||void 0===G?void 0:G.plugins)||void 0===te?void 0:te.browsertab)||void 0===Oe?void 0:Oe.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ae("function"==typeof(null===(it=null===(Ne=null==ut?void 0:ut.cordova)||void 0===Ne?void 0:Ne.InAppBrowser)||void 0===it?void 0:it.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const G=yield I._initialize(g);yield G.initialized(),G.resetRedirect(),Cs.clear(),yield I._originValidation(g);const te=function(v,g,C=null){return{type:g,eventId:C,urlResponse:null,sessionId:I6(),postBody:null,tenantId:v.tenantId,error:ti(v,"no-auth-event")}}(g,b,T);yield function(v,g){return N6()._set(Vl(v),g)}(g,te);const Oe=yield function(v,g,C){return u4.apply(this,arguments)}(g,te,C),Ne=yield function(v){const{cordova:g}=An();return new Promise(C=>{g.plugins.browsertab.isAvailable(b=>{let T=null;b?g.plugins.browsertab.openUrl(v):T=g.InAppBrowser.open(v,function(v=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),C(T)})})}(Oe);return function(v,g,C){return D6.apply(this,arguments)}(g,G,Ne)})()}_isIframeWebStorageSupported(g,C){throw new Error("Method not implemented.")}_originValidation(g){const C=g._key();return this.originValidationPromises[C]||(this.originValidationPromises[C]=function(v){return d4.apply(this,arguments)}(g)),this.originValidationPromises[C]}attachCallbackListeners(g,C){const{universalLinks:b,handleOpenURL:T,BuildInfo:I}=An(),G=setTimeout((0,o.Z)(function*(){yield C1(g),C.onEvent(V6())}),500),te=function(){var it=(0,o.Z)(function*(ut){clearTimeout(G);const Gt=yield C1(g);let Gi=null;Gt&&(null==ut?void 0:ut.url)&&(Gi=function(v,g){var C,b;const T=function(v){const g=k6(v),C=g.link?decodeURIComponent(g.link):void 0,b=k6(C).link,T=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return k6(T).link||T||b||C||v}(g);if(T.includes("/__/auth/callback")){const I=k6(T),G=I.firebaseError?function(v){try{return JSON.parse(v)}catch(g){return null}}(decodeURIComponent(I.firebaseError)):null,te=null===(b=null===(C=null==G?void 0:G.code)||void 0===C?void 0:C.split("auth/"))||void 0===b?void 0:b[1],Oe=te?ti(te):null;return Oe?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Oe,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:T,postBody:null}}return null}(Gt,ut.url)),C.onEvent(Gi||V6())});return function(Gt){return it.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,te);const Oe=T,Ne=`${I.packageName.toLowerCase()}://`;An().handleOpenURL=function(){var it=(0,o.Z)(function*(ut){if(ut.toLowerCase().startsWith(Ne)&&te({url:ut}),"function"==typeof Oe)try{Oe(ut)}catch(Gt){console.error(Gt)}});return function(ut){return it.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=J1,this._completeRedirectFn=ra}_initialize(g){var C=this;return(0,o.Z)(function*(){return yield C.selectUnderlyingResolver(),C.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,C,b,T){var I=this;return(0,o.Z)(function*(){return yield I.selectUnderlyingResolver(),I.assertedUnderlyingResolver._openPopup(g,C,b,T)})()}_openRedirect(g,C,b,T){var I=this;return(0,o.Z)(function*(){return yield I.selectUnderlyingResolver(),I.assertedUnderlyingResolver._openRedirect(g,C,b,T)})()}_isIframeWebStorageSupported(g,C){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,C)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return R6()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return d8(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,o.Z)(function*(){if(g.underlyingResolver)return;const C=yield function(){return Ol.apply(this,arguments)}();g.underlyingResolver=C?g.cordovaResolver:g.browserResolver})()}}function ar(v){return v.unwrap()}function z6(v){return F6(v)}function F6(v){const{_tokenResponse:g}=v instanceof P.ZR?v.customData:v;if(!g)return null;if(!(v instanceof P.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return V.credentialFromResult(v);const C=g.providerId;if(!C||"password"===C)return null;let b;switch(C){case"google.com":b=Gn;break;case"facebook.com":b=Go;break;case"github.com":b=w1;break;case"twitter.com":b=Ws;break;default:const{oauthIdToken:T,oauthAccessToken:I,oauthTokenSecret:G,pendingToken:te,nonce:Oe}=g;return I||G||T||te?te?C.startsWith("saml.")?Dr._create(C,te):z2._fromParams({providerId:C,signInMethod:C,pendingToken:te,idToken:T,accessToken:I}):new Tr(C).credential({idToken:T,accessToken:I,rawNonce:Oe}):null}return v instanceof P.ZR?b.credentialFromError(v):b.credentialFromResult(v)}function m1(v,g){return g.catch(C=>{throw C instanceof P.ZR&&function(v,g){var C;const b=null===(C=g.customData)||void 0===C?void 0:C._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new B6(v,function(v,g){var C;const b=(0,P.m9)(v),T=g;return Ae(g.customData.operationType,b,"argument-error"),Ae(null===(C=T.customData._serverResponse)||void 0===C?void 0:C.mfaPendingCredential,b,"argument-error"),to._fromError(b,T)}(v,g));else if(b){const T=F6(g),I=g;T&&(I.credential=T,I.tenantId=b.tenantId||void 0,I.email=b.email||void 0,I.phoneNumber=b.phoneNumber||void 0)}}(v,C),C}).then(C=>{const T=C.user;return{operationType:C.operationType,credential:z6(C),additionalUserInfo:_n(C),user:lr.getOrCreate(T)}})}function zl(v,g){return Fl.apply(this,arguments)}function Fl(){return Fl=(0,o.Z)(function*(v,g){const C=yield g;return{verificationId:C.verificationId,confirm:b=>m1(v,C.confirm(b))}}),Fl.apply(this,arguments)}class B6{constructor(g,C){this.resolver=C,this.auth=function(v){return v.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return m1(ar(this.auth),this.resolver.resolveSignIn(g))}}class lr{constructor(g){this._delegate=g,this.multiFactor=function(v){const g=(0,P.m9)(v);return kr.has(g)||kr.set(g,no._fromUser(g)),kr.get(g)}(g)}static getOrCreate(g){return lr.USER_MAP.has(g)||lr.USER_MAP.set(g,new lr(g)),lr.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var C=this;return(0,o.Z)(function*(){return m1(C.auth,ns(C._delegate,g))})()}linkWithPhoneNumber(g,C){var b=this;return(0,o.Z)(function*(){return zl(b.auth,function(v,g,C){return hs.apply(this,arguments)}(b._delegate,g,C))})()}linkWithPopup(g){var C=this;return(0,o.Z)(function*(){return m1(C.auth,function(v,g,C){return b2.apply(this,arguments)}(C._delegate,g,la))})()}linkWithRedirect(g){var C=this;return(0,o.Z)(function*(){return yield Br(ai(C.auth)),function(v,g,C){return function(v,g,C){return xl.apply(this,arguments)}(v,g,C)}(C._delegate,g,la)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var C=this;return(0,o.Z)(function*(){return m1(C.auth,Y1(C._delegate,g))})()}reauthenticateWithPhoneNumber(g,C){return zl(this.auth,function(v,g,C){return ps.apply(this,arguments)}(this._delegate,g,C))}reauthenticateWithPopup(g){return m1(this.auth,function(v,g,C){return v2.apply(this,arguments)}(this._delegate,g,la))}reauthenticateWithRedirect(g){var C=this;return(0,o.Z)(function*(){return yield Br(ai(C.auth)),function(v,g,C){return function(v,g,C){return $0.apply(this,arguments)}(v,g,C)}(C._delegate,g,la)})()}sendEmailVerification(g){return function(v,g){return Js.apply(this,arguments)}(this._delegate,g)}unlink(g){var C=this;return(0,o.Z)(function*(){return yield function(v,g){return Zt.apply(this,arguments)}(C._delegate,g),C})()}updateEmail(g){return function(v,g){return as((0,P.m9)(v),g,null)}(this._delegate,g)}updatePassword(g){return function(v,g){return as((0,P.m9)(v),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function(v,g){return L.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function(v,g){return Xs.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,C){return function(v,g,C){return Ua.apply(this,arguments)}(this._delegate,g,C)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}lr.USER_MAP=new WeakMap;const t3=Ae;let kd=(()=>{class v{constructor(C,b){if(this.app=C,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=C.options;t3(T,"invalid-api-key",{appName:C.name}),t3(T,"invalid-api-key",{appName:C.name});const I="undefined"!=typeof window?la:void 0;this._delegate=b.initialize({options:{persistence:f8(T,C.name),popupRedirectResolver:I}}),this._delegate._updateErrorMap(M1),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?lr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(C){this._delegate.languageCode=C}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(C){this._delegate.tenantId=C}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(C,b){!function(v,g,C){const b=ai(v);Ae(b._canInitEmulator,b,"emulator-config-failed"),Ae(/^https?:\/\//.test(g),b,"invalid-emulator-scheme");const T=!!(null==C?void 0:C.disableWarnings),I=Us(g),{host:G,port:te}=function(v){const g=Us(v),C=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!C)return{host:"",port:null};const b=C[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(b);if(T){const I=T[1];return{host:I,port:$1(b.substr(I.length+1))}}{const[I,G]=b.split(":");return{host:I,port:$1(G)}}}(g);b.config.emulator={url:`${I}//${G}${null===te?"":`:${te}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:G,port:te,protocol:I.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function(){function v(){const g=document.createElement("p"),C=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",C.position="fixed",C.width="100%",C.backgroundColor="#ffffff",C.border=".1em solid #000000",C.color="#b50000",C.bottom="0px",C.left="0px",C.margin="0px",C.zIndex="10000",C.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,C,b)}applyActionCode(C){return function(v,g){return os.apply(this,arguments)}(this._delegate,C)}checkActionCode(C){return $3(this._delegate,C)}confirmPasswordReset(C,b){return function(v,g,C){return fl.apply(this,arguments)}(this._delegate,C,b)}createUserWithEmailAndPassword(C,b){var T=this;return(0,o.Z)(function*(){return m1(T._delegate,function(v,g,C){return Z3.apply(this,arguments)}(T._delegate,C,b))})()}fetchProvidersForEmail(C){return this.fetchSignInMethodsForEmail(C)}fetchSignInMethodsForEmail(C){return function(v,g){return Qs.apply(this,arguments)}(this._delegate,C)}isSignInWithEmailLink(C){return function(v,g){const C=Dn.parseLink(g);return"EMAIL_SIGNIN"===(null==C?void 0:C.operation)}(0,C)}getRedirectResult(){var C=this;return(0,o.Z)(function*(){t3(Rl(),C._delegate,"operation-not-supported-in-this-environment");const b=yield function(v,g){return m6.apply(this,arguments)}(C._delegate,la);return b?m1(C._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(C){!function(v,g){ai(v)._logFramework(g)}(this._delegate,C)}onAuthStateChanged(C,b,T){const{next:I,error:G,complete:te}=n3(C,b,T);return this._delegate.onAuthStateChanged(I,G,te)}onIdTokenChanged(C,b,T){const{next:I,error:G,complete:te}=n3(C,b,T);return this._delegate.onIdTokenChanged(I,G,te)}sendSignInLinkToEmail(C,b){return function(v,g,C){return K1.apply(this,arguments)}(this._delegate,C,b)}sendPasswordResetEmail(C,b){return function(v,g,C){return za.apply(this,arguments)}(this._delegate,C,b||void 0)}setPersistence(C){var b=this;return(0,o.Z)(function*(){let T;switch(function(v,g){Pl(Object.values(S2).includes(g),v,"invalid-persistence-type"),(0,P.b$)()?Pl(g!==S2.SESSION,v,"unsupported-persistence-type"):(0,P.UG)()?Pl(g===S2.NONE,v,"unsupported-persistence-type"):p4()?Pl(g===S2.NONE||g===S2.LOCAL&&(0,P.hl)(),v,"unsupported-persistence-type"):Pl(g===S2.NONE||c8(),v,"unsupported-persistence-type")}(b._delegate,C),C){case S2.SESSION:T=J1;break;case S2.LOCAL:T=(yield ni(Xi)._isAvailable())?Xi:sr;break;case S2.NONE:T=u1;break;default:return Un("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(C){return this.signInWithCredential(C)}signInAnonymously(){return m1(this._delegate,function(v){return Va.apply(this,arguments)}(this._delegate))}signInWithCredential(C){return m1(this._delegate,Oa(this._delegate,C))}signInWithCustomToken(C){return m1(this._delegate,function(v,g){return Ks.apply(this,arguments)}(this._delegate,C))}signInWithEmailAndPassword(C,b){return m1(this._delegate,function(v,g,C){return Oa((0,P.m9)(v),Lr.credential(g,C))}(this._delegate,C,b))}signInWithEmailLink(C,b){return m1(this._delegate,function(v,g,C){return Y3.apply(this,arguments)}(this._delegate,C,b))}signInWithPhoneNumber(C,b){return zl(this._delegate,function(v,g,C){return P1.apply(this,arguments)}(this._delegate,C,b))}signInWithPopup(C){var b=this;return(0,o.Z)(function*(){return t3(Rl(),b._delegate,"operation-not-supported-in-this-environment"),m1(b._delegate,function(v,g,C){return p1.apply(this,arguments)}(b._delegate,C,la))})()}signInWithRedirect(C){var b=this;return(0,o.Z)(function*(){return t3(Rl(),b._delegate,"operation-not-supported-in-this-environment"),yield Br(b._delegate),function(v,g,C){return function(v,g,C){return o4.apply(this,arguments)}(v,g,C)}(b._delegate,C,la)})()}updateCurrentUser(C){return this._delegate.updateCurrentUser(C)}verifyPasswordResetCode(C){return function(v,g){return Fa.apply(this,arguments)}(this._delegate,C)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=S2,v})();function n3(v,g,C){let b=v;"function"!=typeof v&&({next:b,error:g,complete:C}=v);const T=b;return{next:G=>T(G&&lr.getOrCreate(G)),error:g,complete:C}}function f8(v,g){const C=function(v,g){const C=tp();if(!C)return[];const b=Ft(O6,v,g);switch(C.getItem(b)){case S2.NONE:return[u1];case S2.LOCAL:return[Xi,J1];case S2.SESSION:return[J1];default:return[]}}(v,g);if("undefined"!=typeof self&&!C.includes(Xi)&&C.push(Xi),"undefined"!=typeof window)for(const b of[sr,J1])C.includes(b)||C.push(b);return C.includes(u1)||C.push(u1),C}class U6{constructor(){this.providerId="phone",this._delegate=new V(ar(X.Z.auth()))}static credential(g,C){return V.credential(g,C)}verifyPhoneNumber(g,C){return this._delegate.verifyPhoneNumber(g,C)}unwrap(){return this._delegate}}U6.PHONE_SIGN_IN_METHOD=V.PHONE_SIGN_IN_METHOD,U6.PROVIDER_ID=V.PROVIDER_ID;const np=Ae;class h8{constructor(g,C,b=X.Z.app()){var T;np(null===(T=b.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new t1(g,C,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(v){v.INTERNAL.registerComponent(new Nt.wA("auth-compat",g=>{const C=g.getProvider("app-compat").getImmediate(),b=g.getProvider("auth");return new kd(C,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Lr,FacebookAuthProvider:Go,GithubAuthProvider:w1,GoogleAuthProvider:Gn,OAuthProvider:Tr,SAMLAuthProvider:d1,PhoneAuthProvider:U6,PhoneMultiFactorGenerator:X0,RecaptchaVerifier:h8,TwitterAuthProvider:Ws,Auth:kd,AuthCredential:Po,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.11")}(X.Z)},8306:(ht,xe,O)=>{O.d(xe,{y:()=>q});var o=O(930),X=O(727),P=O(8822),le=O(4671);var J=O(2416),ue=O(576),ge=O(2806);let q=(()=>{class Le{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const Fe=new Le;return Fe.source=this,Fe.operator=Ue,Fe}subscribe(Ue,Fe,ne){const De=function(Le){return Le&&Le instanceof o.Lv||function(Le){return Le&&(0,ue.m)(Le.next)&&(0,ue.m)(Le.error)&&(0,ue.m)(Le.complete)}(Le)&&(0,X.Nn)(Le)}(Ue)?Ue:new o.Hp(Ue,Fe,ne);return(0,ge.x)(()=>{const{operator:Be,source:He}=this;De.add(Be?Be.call(De,He):He?this._subscribe(De):this._trySubscribe(De))}),De}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(Fe){Ue.error(Fe)}}forEach(Ue,Fe){return new(Fe=W(Fe))((ne,De)=>{let Be;Be=this.subscribe(He=>{try{Ue(He)}catch(ot){De(ot),null==Be||Be.unsubscribe()}},De,ne)})}_subscribe(Ue){var Fe;return null===(Fe=this.source)||void 0===Fe?void 0:Fe.subscribe(Ue)}[P.L](){return this}pipe(...Ue){return function(Le){return 0===Le.length?le.y:1===Le.length?Le[0]:function(Ue){return Le.reduce((Fe,ne)=>ne(Fe),Ue)}}(Ue)(this)}toPromise(Ue){return new(Ue=W(Ue))((Fe,ne)=>{let De;this.subscribe(Be=>De=Be,Be=>ne(Be),()=>Fe(De))})}}return Le.create=Ze=>new Le(Ze),Le})();function W(Le){var Ze;return null!==(Ze=null!=Le?Le:J.v.Promise)&&void 0!==Ze?Ze:Promise}},7579:(ht,xe,O)=>{O.d(xe,{x:()=>J});var o=O(8306),X=O(727);const le=(0,O(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=O(8737),ye=O(2806);let J=(()=>{class ge extends o.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const re=new ue(this,this);return re.operator=W,re}_throwIfClosed(){if(this.closed)throw new le}next(W){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const re=this.observers.slice();for(const We of re)We.next(W)}})}error(W){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:re}=this;for(;re.length;)re.shift().error(W)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:re,isStopped:We,observers:Le}=this;return re||We?X.Lc:(Le.push(W),new X.w0(()=>(0,se.P)(Le,W)))}_checkFinalizedStatuses(W){const{hasError:re,thrownError:We,isStopped:Le}=this;re?W.error(We):Le&&W.complete()}asObservable(){const W=new o.y;return W.source=this,W}}return ge.create=(q,W)=>new ue(q,W),ge})();class ue extends J{constructor(q,W){super(),this.destination=q,this.source=W}next(q){var W,re;null===(re=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===re||re.call(W,q)}error(q){var W,re;null===(re=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===re||re.call(W,q)}complete(){var q,W;null===(W=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===W||W.call(q)}_subscribe(q){var W,re;return null!==(re=null===(W=this.source)||void 0===W?void 0:W.subscribe(q))&&void 0!==re?re:X.Lc}}},930:(ht,xe,O)=>{O.d(xe,{Hp:()=>We,Lv:()=>re});var o=O(576),X=O(727),P=O(2416),le=O(7849),se=O(5032);const ye=ge("C",void 0,void 0);function ge(ne,De,Be){return{kind:ne,value:De,error:Be}}var q=O(3410),W=O(2806);class re extends X.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,X.Nn)(De)&&De.add(this)):this.destination=Fe}static create(De,Be,He){return new We(De,Be,He)}next(De){this.isStopped?Ue(ge("N",De,void 0),this):this._next(De)}error(De){this.isStopped?Ue(ge("E",void 0,De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?Ue(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class We extends re{constructor(De,Be,He){let ot;if(super(),(0,o.m)(De))ot=De;else if(De){let Ve;({next:ot,error:Be,complete:He}=De),this&&P.v.useDeprecatedNextContext?(Ve=Object.create(De),Ve.unsubscribe=()=>this.unsubscribe()):Ve=De,ot=null==ot?void 0:ot.bind(Ve),Be=null==Be?void 0:Be.bind(Ve),He=null==He?void 0:He.bind(Ve)}this.destination={next:ot?Le(ot):se.Z,error:Le(null!=Be?Be:Ze),complete:He?Le(He):se.Z}}}function Le(ne,De){return(...Be)=>{try{ne(...Be)}catch(He){P.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(He):(0,le.h)(He)}}}function Ze(ne){throw ne}function Ue(ne,De){const{onStoppedNotification:Be}=P.v;Be&&q.z.setTimeout(()=>Be(ne,De))}const Fe={closed:!0,next:se.Z,error:Ze,complete:se.Z}},727:(ht,xe,O)=>{O.d(xe,{Lc:()=>ye,w0:()=>se,Nn:()=>J});var o=O(576);const P=(0,O(3888).d)(ge=>function(W){ge(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((re,We)=>`${We+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var le=O(8737);class se{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Le of W)Le.remove(this);else W.remove(this);const{initialTeardown:re}=this;if((0,o.m)(re))try{re()}catch(Le){q=Le instanceof P?Le.errors:[Le]}const{_teardowns:We}=this;if(We){this._teardowns=null;for(const Le of We)try{ue(Le)}catch(Ze){q=null!=q?q:[],Ze instanceof P?q=[...q,...Ze.errors]:q.push(Ze)}}if(q)throw new P(q)}}add(q){var W;if(q&&q!==this)if(this.closed)ue(q);else{if(q instanceof se){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._teardowns=null!==(W=this._teardowns)&&void 0!==W?W:[]).push(q)}}_hasParent(q){const{_parentage:W}=this;return W===q||Array.isArray(W)&&W.includes(q)}_addParent(q){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(q),W):W?[W,q]:q}_removeParent(q){const{_parentage:W}=this;W===q?this._parentage=null:Array.isArray(W)&&(0,le.P)(W,q)}remove(q){const{_teardowns:W}=this;W&&(0,le.P)(W,q),q instanceof se&&q._removeParent(this)}}se.EMPTY=(()=>{const ge=new se;return ge.closed=!0,ge})();const ye=se.EMPTY;function J(ge){return ge instanceof se||ge&&"closed"in ge&&(0,o.m)(ge.remove)&&(0,o.m)(ge.add)&&(0,o.m)(ge.unsubscribe)}function ue(ge){(0,o.m)(ge)?ge():ge.unsubscribe()}},2416:(ht,xe,O)=>{O.d(xe,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ht,xe,O)=>{O.d(xe,{E:()=>X});const X=new(O(8306).y)(se=>se.complete())},8996:(ht,xe,O)=>{O.d(xe,{D:()=>ot});var o=O(8421),X=O(5363),P=O(9468),ye=O(8306),ue=O(2202),ge=O(576),q=O(9672);function re(Ve,Ke){if(!Ve)throw new Error("Iterable cannot be null");return new ye.y(Xe=>{(0,q.f)(Xe,Ke,()=>{const vt=Ve[Symbol.asyncIterator]();(0,q.f)(Xe,Ke,()=>{vt.next().then(ie=>{ie.done?Xe.complete():Xe.next(ie.value)})},0,!0)})})}var We=O(3670),Le=O(8239),Ze=O(1144),Ue=O(6495),Fe=O(2206),ne=O(4532),De=O(3260);function ot(Ve,Ke){return Ke?function(Ve,Ke){if(null!=Ve){if((0,We.c)(Ve))return function(Ve,Ke){return(0,o.Xf)(Ve).pipe((0,P.R)(Ke),(0,X.Q)(Ke))}(Ve,Ke);if((0,Ze.z)(Ve))return function(Ve,Ke){return new ye.y(Xe=>{let vt=0;return Ke.schedule(function(){vt===Ve.length?Xe.complete():(Xe.next(Ve[vt++]),Xe.closed||this.schedule())})})}(Ve,Ke);if((0,Le.t)(Ve))return function(Ve,Ke){return(0,o.Xf)(Ve).pipe((0,P.R)(Ke),(0,X.Q)(Ke))}(Ve,Ke);if((0,Fe.D)(Ve))return re(Ve,Ke);if((0,Ue.T)(Ve))return function(Ve,Ke){return new ye.y(Xe=>{let vt;return(0,q.f)(Xe,Ke,()=>{vt=Ve[ue.h](),(0,q.f)(Xe,Ke,()=>{let ie,fe;try{({value:ie,done:fe}=vt.next())}catch(ve){return void Xe.error(ve)}fe?Xe.complete():Xe.next(ie)},0,!0)}),()=>(0,ge.m)(null==vt?void 0:vt.return)&&vt.return()})}(Ve,Ke);if((0,De.L)(Ve))return function(Ve,Ke){return re((0,De.Q)(Ve),Ke)}(Ve,Ke)}throw(0,ne.z)(Ve)}(Ve,Ke):(0,o.Xf)(Ve)}},8421:(ht,xe,O)=>{O.d(xe,{Xf:()=>We});var o=O(5987),X=O(1144),P=O(8239),le=O(8306),se=O(3670),ye=O(2206),J=O(4532),ue=O(6495),ge=O(3260),q=O(576),W=O(7849),re=O(8822);function We(He){if(He instanceof le.y)return He;if(null!=He){if((0,se.c)(He))return function(He){return new le.y(ot=>{const Ve=He[re.L]();if((0,q.m)(Ve.subscribe))return Ve.subscribe(ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(He);if((0,X.z)(He))return function(He){return new le.y(ot=>{for(let Ve=0;Ve<He.length&&!ot.closed;Ve++)ot.next(He[Ve]);ot.complete()})}(He);if((0,P.t)(He))return function(He){return new le.y(ot=>{He.then(Ve=>{ot.closed||(ot.next(Ve),ot.complete())},Ve=>ot.error(Ve)).then(null,W.h)})}(He);if((0,ye.D)(He))return ne(He);if((0,ue.T)(He))return function(He){return new le.y(ot=>{for(const Ve of He)if(ot.next(Ve),ot.closed)return;ot.complete()})}(He);if((0,ge.L)(He))return function(He){return ne((0,ge.Q)(He))}(He)}throw(0,J.z)(He)}function ne(He){return new le.y(ot=>{(function(He,ot){var Ve,Ke,Xe,vt;return(0,o.mG)(this,void 0,void 0,function*(){try{for(Ve=(0,o.KL)(He);!(Ke=yield Ve.next()).done;)if(ot.next(Ke.value),ot.closed)return}catch(ie){Xe={error:ie}}finally{try{Ke&&!Ke.done&&(vt=Ve.return)&&(yield vt.call(Ve))}finally{if(Xe)throw Xe.error}}ot.complete()})})(He,ot).catch(Ve=>ot.error(Ve))})}},6451:(ht,xe,O)=>{O.d(xe,{T:()=>ye});var o=O(8189),X=O(8421),P=O(515),le=O(3269),se=O(8996);function ye(...J){const ue=(0,le.yG)(J),ge=(0,le._6)(J,1/0),q=J;return q.length?1===q.length?(0,X.Xf)(q[0]):(0,o.J)(ge)((0,se.D)(q,ue)):P.E}},5403:(ht,xe,O)=>{O.d(xe,{Q:()=>X});var o=O(930);class X extends o.Lv{constructor(le,se,ye,J,ue){super(le),this.onFinalize=ue,this._next=se?function(ge){try{se(ge)}catch(q){le.error(q)}}:super._next,this._error=J?function(ge){try{J(ge)}catch(q){le.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=ye?function(){try{ye()}catch(ge){le.error(ge)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;const{closed:se}=this;super.unsubscribe(),!se&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}},4004:(ht,xe,O)=>{O.d(xe,{U:()=>P});var o=O(4482),X=O(5403);function P(le,se){return(0,o.e)((ye,J)=>{let ue=0;ye.subscribe(new X.Q(J,ge=>{J.next(le.call(se,ge,ue++))}))})}},8189:(ht,xe,O)=>{O.d(xe,{J:()=>P});var o=O(5577),X=O(4671);function P(le=1/0){return(0,o.z)(X.y,le)}},5577:(ht,xe,O)=>{O.d(xe,{z:()=>ue});var o=O(4004),X=O(8421),P=O(4482),se=(O(9672),O(5403)),J=O(576);function ue(ge,q,W=1/0){return(0,J.m)(q)?ue((re,We)=>(0,o.U)((Le,Ze)=>q(re,Le,We,Ze))((0,X.Xf)(ge(re,We))),W):("number"==typeof q&&(W=q),(0,P.e)((re,We)=>function(ge,q,W,re,We,Le,Ze,Ue){const Fe=[];let ne=0,De=0,Be=!1;const He=()=>{Be&&!Fe.length&&!ne&&q.complete()},ot=Ke=>ne<re?Ve(Ke):Fe.push(Ke),Ve=Ke=>{ne++;let Xe=!1;(0,X.Xf)(W(Ke,De++)).subscribe(new se.Q(q,vt=>{q.next(vt)},()=>{Xe=!0},void 0,()=>{if(Xe)try{for(ne--;Fe.length&&ne<re;){const vt=Fe.shift();Ve(vt)}He()}catch(vt){q.error(vt)}}))};return ge.subscribe(new se.Q(q,ot,()=>{Be=!0,He()})),()=>{}}(re,We,ge,W)))}},5363:(ht,xe,O)=>{O.d(xe,{Q:()=>le});var o=O(9672),X=O(4482),P=O(5403);function le(se,ye=0){return(0,X.e)((J,ue)=>{J.subscribe(new P.Q(ue,ge=>(0,o.f)(ue,se,()=>ue.next(ge),ye),()=>(0,o.f)(ue,se,()=>ue.complete(),ye),ge=>(0,o.f)(ue,se,()=>ue.error(ge),ye)))})}},3099:(ht,xe,O)=>{O.d(xe,{B:()=>ye});var o=O(8996),X=O(5698),P=O(7579),le=O(930),se=O(4482);function ye(ue={}){const{connector:ge=(()=>new P.x),resetOnError:q=!0,resetOnComplete:W=!0,resetOnRefCountZero:re=!0}=ue;return We=>{let Le=null,Ze=null,Ue=null,Fe=0,ne=!1,De=!1;const Be=()=>{null==Ze||Ze.unsubscribe(),Ze=null},He=()=>{Be(),Le=Ue=null,ne=De=!1},ot=()=>{const Ve=Le;He(),null==Ve||Ve.unsubscribe()};return(0,se.e)((Ve,Ke)=>{Fe++,!De&&!ne&&Be();const Xe=Ue=null!=Ue?Ue:ge();Ke.add(()=>{Fe--,0===Fe&&!De&&!ne&&(Ze=J(ot,re))}),Xe.subscribe(Ke),Le||(Le=new le.Hp({next:vt=>Xe.next(vt),error:vt=>{De=!0,Be(),Ze=J(He,q,vt),Xe.error(vt)},complete:()=>{ne=!0,Be(),Ze=J(He,W),Xe.complete()}}),(0,o.D)(Ve).subscribe(Le))})(We)}}function J(ue,ge,...q){return!0===ge?(ue(),null):!1===ge?null:ge(...q).pipe((0,X.q)(1)).subscribe(()=>ue())}},9468:(ht,xe,O)=>{O.d(xe,{R:()=>X});var o=O(4482);function X(P,le=0){return(0,o.e)((se,ye)=>{ye.add(P.schedule(()=>se.subscribe(ye),le))})}},5698:(ht,xe,O)=>{O.d(xe,{q:()=>le});var o=O(515),X=O(4482),P=O(5403);function le(se){return se<=0?()=>o.E:(0,X.e)((ye,J)=>{let ue=0;ye.subscribe(new P.Q(J,ge=>{++ue<=se&&(J.next(ge),se<=ue&&J.complete())}))})}},8505:(ht,xe,O)=>{O.d(xe,{b:()=>se});var o=O(576),X=O(4482),P=O(5403),le=O(4671);function se(ye,J,ue){const ge=(0,o.m)(ye)||J||ue?{next:ye,error:J,complete:ue}:ye;return ge?(0,X.e)((q,W)=>{var re;null===(re=ge.subscribe)||void 0===re||re.call(ge);let We=!0;q.subscribe(new P.Q(W,Le=>{var Ze;null===(Ze=ge.next)||void 0===Ze||Ze.call(ge,Le),W.next(Le)},()=>{var Le;We=!1,null===(Le=ge.complete)||void 0===Le||Le.call(ge),W.complete()},Le=>{var Ze;We=!1,null===(Ze=ge.error)||void 0===Ze||Ze.call(ge,Le),W.error(Le)},()=>{var Le,Ze;We&&(null===(Le=ge.unsubscribe)||void 0===Le||Le.call(ge)),null===(Ze=ge.finalize)||void 0===Ze||Ze.call(ge)}))}):le.y}},4408:(ht,xe,O)=>{O.d(xe,{o:()=>se});var o=O(727);class X extends o.w0{constructor(J,ue){super()}schedule(J,ue=0){return this}}const P={setInterval(...ye){const{delegate:J}=P;return((null==J?void 0:J.setInterval)||setInterval)(...ye)},clearInterval(ye){const{delegate:J}=P;return((null==J?void 0:J.clearInterval)||clearInterval)(ye)},delegate:void 0};var le=O(8737);class se extends X{constructor(J,ue){super(J,ue),this.scheduler=J,this.work=ue,this.pending=!1}schedule(J,ue=0){if(this.closed)return this;this.state=J;const ge=this.id,q=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(q,ge,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId(q,this.id,ue),this}requestAsyncId(J,ue,ge=0){return P.setInterval(J.flush.bind(J,this),ge)}recycleAsyncId(J,ue,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return ue;P.clearInterval(ue)}execute(J,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(J,ue);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(J,ue){let q,ge=!1;try{this.work(J)}catch(W){ge=!0,q=W||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:J,scheduler:ue}=this,{actions:ge}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(ge,this),null!=J&&(this.id=this.recycleAsyncId(ue,J,null)),this.delay=null,super.unsubscribe()}}}},7565:(ht,xe,O)=>{O.d(xe,{v:()=>P});var o=O(6063);class X{constructor(se,ye=X.now){this.schedulerActionCtor=se,this.now=ye}schedule(se,ye=0,J){return new this.schedulerActionCtor(this,se).schedule(J,ye)}}X.now=o.l.now;class P extends X{constructor(se,ye=X.now){super(se,ye),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:ye}=this;if(this._active)return void ye.push(se);let J;this._active=!0;do{if(J=se.execute(se.state,se.delay))break}while(se=ye.shift());if(this._active=!1,J){for(;se=ye.shift();)se.unsubscribe();throw J}}}},4986:(ht,xe,O)=>{O.d(xe,{z:()=>P,P:()=>le});var o=O(4408);const P=new(O(7565).v)(o.o),le=P},6063:(ht,xe,O)=>{O.d(xe,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},3410:(ht,xe,O)=>{O.d(xe,{z:()=>o});const o={setTimeout(...X){const{delegate:P}=o;return((null==P?void 0:P.setTimeout)||setTimeout)(...X)},clearTimeout(X){const{delegate:P}=o;return((null==P?void 0:P.clearTimeout)||clearTimeout)(X)},delegate:void 0}},2202:(ht,xe,O)=>{O.d(xe,{h:()=>X});const X="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},8822:(ht,xe,O)=>{O.d(xe,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ht,xe,O)=>{O.d(xe,{jO:()=>le,yG:()=>se,_6:()=>ye});var o=O(576),X=O(3532);function P(J){return J[J.length-1]}function le(J){return(0,o.m)(P(J))?J.pop():void 0}function se(J){return(0,X.K)(P(J))?J.pop():void 0}function ye(J,ue){return"number"==typeof P(J)?J.pop():ue}},8737:(ht,xe,O)=>{function o(X,P){if(X){const le=X.indexOf(P);0<=le&&X.splice(le,1)}}O.d(xe,{P:()=>o})},3888:(ht,xe,O)=>{function o(X){const le=X(se=>{Error.call(se),se.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}O.d(xe,{d:()=>o})},2806:(ht,xe,O)=>{O.d(xe,{x:()=>P,O:()=>le});var o=O(2416);let X=null;function P(se){if(o.v.useDeprecatedSynchronousErrorHandling){const ye=!X;if(ye&&(X={errorThrown:!1,error:null}),se(),ye){const{errorThrown:J,error:ue}=X;if(X=null,J)throw ue}}else se()}function le(se){o.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=se)}},9672:(ht,xe,O)=>{function o(X,P,le,se=0,ye=!1){const J=P.schedule(function(){le(),ye?X.add(this.schedule(null,se)):this.unsubscribe()},se);if(X.add(J),!ye)return J}O.d(xe,{f:()=>o})},4671:(ht,xe,O)=>{function o(X){return X}O.d(xe,{y:()=>o})},1144:(ht,xe,O)=>{O.d(xe,{z:()=>o});const o=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(ht,xe,O)=>{O.d(xe,{D:()=>X});var o=O(576);function X(P){return Symbol.asyncIterator&&(0,o.m)(null==P?void 0:P[Symbol.asyncIterator])}},576:(ht,xe,O)=>{function o(X){return"function"==typeof X}O.d(xe,{m:()=>o})},3670:(ht,xe,O)=>{O.d(xe,{c:()=>P});var o=O(8822),X=O(576);function P(le){return(0,X.m)(le[o.L])}},6495:(ht,xe,O)=>{O.d(xe,{T:()=>P});var o=O(2202),X=O(576);function P(le){return(0,X.m)(null==le?void 0:le[o.h])}},8239:(ht,xe,O)=>{O.d(xe,{t:()=>X});var o=O(576);function X(P){return(0,o.m)(null==P?void 0:P.then)}},3260:(ht,xe,O)=>{O.d(xe,{Q:()=>P,L:()=>le});var o=O(5987),X=O(576);function P(se){return(0,o.FC)(this,arguments,function*(){const J=se.getReader();try{for(;;){const{value:ue,done:ge}=yield(0,o.qq)(J.read());if(ge)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(ue)}}finally{J.releaseLock()}})}function le(se){return(0,X.m)(null==se?void 0:se.getReader)}},3532:(ht,xe,O)=>{O.d(xe,{K:()=>X});var o=O(576);function X(P){return P&&(0,o.m)(P.schedule)}},4482:(ht,xe,O)=>{O.d(xe,{A:()=>X,e:()=>P});var o=O(576);function X(le){return(0,o.m)(null==le?void 0:le.lift)}function P(le){return se=>{if(X(se))return se.lift(function(ye){try{return le(ye,this)}catch(J){this.error(J)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ht,xe,O)=>{function o(){}O.d(xe,{Z:()=>o})},7849:(ht,xe,O)=>{O.d(xe,{h:()=>P});var o=O(2416),X=O(3410);function P(le){X.z.setTimeout(()=>{const{onUnhandledError:se}=o.v;if(!se)throw le;se(le)})}},4532:(ht,xe,O)=>{function o(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(xe,{z:()=>o})},5987:(ht,xe,O)=>{function ue(ie,fe,ve,be){return new(ve||(ve=Promise))(function(he,Nt){function Tn(Qt){try{Ot(be.next(Qt))}catch(yt){Nt(yt)}}function Rn(Qt){try{Ot(be.throw(Qt))}catch(yt){Nt(yt)}}function Ot(Qt){Qt.done?he(Qt.value):function(he){return he instanceof ve?he:new ve(function(Nt){Nt(he)})}(Qt.value).then(Tn,Rn)}Ot((be=be.apply(ie,fe||[])).next())})}function Fe(ie){return this instanceof Fe?(this.v=ie,this):new Fe(ie)}function ne(ie,fe,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,be=ve.apply(ie,fe||[]),he=[];return Re={},Nt("next"),Nt("throw"),Nt("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function Nt(Nn){be[Nn]&&(Re[Nn]=function(p2){return new Promise(function(M1,kn){he.push([Nn,p2,M1,kn])>1||Tn(Nn,p2)})})}function Tn(Nn,p2){try{!function(Nn){Nn.value instanceof Fe?Promise.resolve(Nn.value.v).then(Ot,Qt):yt(he[0][2],Nn)}(be[Nn](p2))}catch(M1){yt(he[0][3],M1)}}function Ot(Nn){Tn("next",Nn)}function Qt(Nn){Tn("throw",Nn)}function yt(Nn,p2){Nn(p2),he.shift(),he.length&&Tn(he[0][0],he[0][1])}}function Be(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,fe=ie[Symbol.asyncIterator];return fe?fe.call(ie):(ie=function(ie){var fe="function"==typeof Symbol&&Symbol.iterator,ve=fe&&ie[fe],be=0;if(ve)return ve.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&be>=ie.length&&(ie=void 0),{value:ie&&ie[be++],done:!ie}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ie),ve={},be("next"),be("throw"),be("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function be(he){ve[he]=ie[he]&&function(Nt){return new Promise(function(Tn,Rn){!function(he,Nt,Tn,Rn){Promise.resolve(Rn).then(function(Ot){he({value:Ot,done:Tn})},Nt)}(Tn,Rn,(Nt=ie[he](Nt)).done,Nt.value)})}}}O.d(xe,{mG:()=>ue,qq:()=>Fe,FC:()=>ne,KL:()=>Be})},5e3:(ht,xe,O)=>{O.d(xe,{deG:()=>yl,tb:()=>pw,AFp:()=>Af,ip1:()=>zC,CZH:()=>A5,hGG:()=>jw,z2F:()=>lu,sBO:()=>ek,Sil:()=>BC,_Vd:()=>hc,EJc:()=>Cw,SBq:()=>C3,qLn:()=>Co,vpe:()=>o1,tBr:()=>v2,XFs:()=>ct,OlP:()=>vn,zs3:()=>bs,ZZ4:()=>Rf,aQg:()=>Of,soG:()=>If,YKP:()=>mC,h0i:()=>Cc,PXZ:()=>$N,R0b:()=>$r,FiY:()=>y2,Lbi:()=>hw,g9A:()=>fw,n_E:()=>ga,Qsj:()=>EM,FYo:()=>pC,JOm:()=>ar,q3G:()=>An,tp0:()=>g1,Rgc:()=>Ca,dDg:()=>yw,q4F:()=>af,GfV:()=>gC,s_b:()=>E5,ifc:()=>et,eFA:()=>ww,G48:()=>XN,Gpc:()=>W,f3M:()=>Dt,X6Q:()=>JN,_c5:()=>zw,VLi:()=>UN,c2e:()=>gw,zSh:()=>o7,wAp:()=>St,vHH:()=>Ze,EiD:()=>S6,mCW:()=>ms,qzn:()=>fo,JVY:()=>wd,pB0:()=>Y9,eBb:()=>b6,L6k:()=>y6,LAX:()=>sa,cg1:()=>F8,kL8:()=>E1,yhl:()=>Sl,dqk:()=>Et,sIi:()=>L8,CqO:()=>Nb,QGY:()=>k8,F4k:()=>Ib,RDi:()=>ul,AaK:()=>ue,z3N:()=>uo,qOj:()=>Bp,TTD:()=>Bo,_Bn:()=>b5,xp6:()=>fp,uIk:()=>nc,Tol:()=>zb,ekj:()=>Dg,Suo:()=>F1,Xpm:()=>$,lG2:()=>Qi,Yz7:()=>kn,cJS:()=>Ii,oAB:()=>Ge,Yjl:()=>qn,Y36:()=>s5,_UZ:()=>Lb,qZA:()=>fg,TgZ:()=>dg,EpF:()=>Ab,n5z:()=>Ci,Ikx:()=>d5,SDv:()=>fc,QtT:()=>g3,pQV:()=>I4,LFG:()=>Me,$8M:()=>so,$Z:()=>Eb,NdJ:()=>pg,CRH:()=>IC,oxw:()=>Rb,Hsn:()=>vg,F$t:()=>_g,Q6J:()=>ug,s9C:()=>l3,MGl:()=>o5,VKq:()=>uf,WLB:()=>df,kEZ:()=>ff,iGM:()=>Xn,MAs:()=>m7,CHM:()=>Ir,oJD:()=>e8,LSH:()=>u4,Udp:()=>Tg,WFA:()=>gg,d8E:()=>z7,YNc:()=>D8,W1O:()=>V4,_uU:()=>O8,Oqu:()=>k7,hij:()=>P8,Gf:()=>E2});var o=O(7579),X=O(727),P=O(8306),le=O(6451),se=O(3099);function ye(a){for(let l in a)if(a[l]===ye)return l;throw Error("Could not find renamed property on target object.")}function J(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function ue(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(ue).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function ge(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const q=ye({__forward_ref__:ye});function W(a){return a.__forward_ref__=W,a.toString=function(){return ue(this())},a}function re(a){return We(a)?a():a}function We(a){return"function"==typeof a&&a.hasOwnProperty(q)&&a.__forward_ref__===W}class Ze extends Error{constructor(l,u){super(function(a,l){return`${a?`NG0${a}: `:""}${l}`}(l,u)),this.code=l}}function ne(a){return"string"==typeof a?a:null==a?"":String(a)}function De(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():ne(a)}function Ve(a,l){const u=l?` in ${l}`:"";throw new Ze("201",`No provider for ${De(a)} found${u}`)}function yt(a,l,u,f){throw new Error(`ASSERTION ERROR: ${a}`+(null==f?"":` [Expected=> ${u} ${f} ${l} <=Actual]`))}function kn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Ii(a){return{providers:a.providers||[],imports:a.imports||[]}}function Yi(a){return Ki(a,bi)||Ki(a,Ae)}function Ki(a,l){return a.hasOwnProperty(l)?a[l]:null}function Kr(a){return a&&(a.hasOwnProperty(j1)||a.hasOwnProperty(Mi))?a[j1]:null}const bi=ye({\u0275prov:ye}),j1=ye({\u0275inj:ye}),Ae=ye({ngInjectableDef:ye}),Mi=ye({ngInjectorDef:ye});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let fi;function Ni(a){const l=fi;return fi=a,l}function xr(a,l,u){const f=Yi(a);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:u&ct.Optional?null:void 0!==l?l:void Ve(ue(a),"Injector")}function zi(a){return{toString:a}.toString()}var ii=(()=>((ii=ii||{})[ii.OnPush=0]="OnPush",ii[ii.Default=1]="Default",ii))(),et=(()=>{return(a=et||(et={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",et;var a})();const wt="undefined"!=typeof globalThis&&globalThis,J2="undefined"!=typeof window&&window,X2="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Et=wt||"undefined"!=typeof global&&global||J2||X2,pn={},Ut=[],kt=ye({\u0275cmp:ye}),Qe=ye({\u0275dir:ye}),Se=ye({\u0275pipe:ye}),pt=ye({\u0275mod:ye}),gt=ye({\u0275fac:ye}),tn=ye({__NG_ELEMENT_ID__:ye});let hn=0;function $(a){return zi(()=>{const u={},f={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===ii.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||Ut,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||et.Emulated,id:"c",styles:a.styles||Ut,_:null,setInput:null,schemas:a.schemas||null,tView:null},p=a.directives,m=a.features,y=a.pipes;return f.id+=hn++,f.inputs=ln(a.inputs,u),f.outputs=ln(a.outputs),m&&m.forEach(w=>w(f)),f.directiveDefs=p?()=>("function"==typeof p?p():p).map(Z):null,f.pipeDefs=y?()=>("function"==typeof y?y():y).map(pe):null,f})}function Z(a){return Vn(a)||function(a){return a[Qe]||null}(a)}function pe(a){return function(a){return a[Se]||null}(a)}const ee={};function Ge(a){return zi(()=>{const l={type:a.type,bootstrap:a.bootstrap||Ut,declarations:a.declarations||Ut,imports:a.imports||Ut,exports:a.exports||Ut,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(ee[a.id]=a.type),l})}function ln(a,l){if(null==a)return pn;const u={};for(const f in a)if(a.hasOwnProperty(f)){let p=a[f],m=p;Array.isArray(p)&&(m=p[1],p=p[0]),u[p]=f,l&&(l[p]=m)}return u}const Qi=$;function qn(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function Vn(a){return a[kt]||null}function hi(a,l){const u=a[pt]||null;if(!u&&!0===l)throw new Error(`Type ${ue(a)} does not have '\u0275mod' property.`);return u}function nr(a){return Array.isArray(a)&&"object"==typeof a[1]}function C2(a){return Array.isArray(a)&&!0===a[1]}function Ro(a){return 0!=(8&a.flags)}function ai(a){return 2==(2&a.flags)}function Oo(a){return 1==(1&a.flags)}function V1(a){return null!==a.template}function Us(a){return 0!=(512&a[2])}function es(a,l){return a.hasOwnProperty(gt)?a[gt]:null}class js{constructor(l,u,f){this.previousValue=l,this.currentValue=u,this.firstChange=f}isFirstChange(){return this.firstChange}}function Bo(){return Aa}function Aa(a){return a.type.prototype.ngOnChanges&&(a.setInput=Hn),Ia}function Ia(){const a=P2(this),l=null==a?void 0:a.current;if(l){const u=a.previous;if(u===pn)a.previous=l;else for(let f in l)u[f]=l[f];a.current=null,this.ngOnChanges(l)}}function Hn(a,l,u,f){const p=P2(a)||function(a,l){return a[O2]=l}(a,{previous:pn,current:null}),m=p.current||(p.current={}),y=p.previous,w=this.declaredInputs[u],S=y[w];m[w]=new js(S&&S.currentValue,l,y===pn),a[f]=l}Bo.ngInherit=!0;const O2="__ngSimpleChanges__";function P2(a){return a[O2]||null}let Na;function ul(a){Na=a}function B3(){return void 0!==Na?Na:"undefined"!=typeof document?document:void 0}function Cn(a){return!!a.listen}const U3={createRenderer:(a,l)=>B3()};function Dn(a){for(;Array.isArray(a);)a=a[0];return a}function W1(a,l){return Dn(l[a])}function Wn(a,l){return Dn(l[a.index])}function Go(a,l){return a.data[l]}function w1(a,l){const u=l[a];return nr(u)?u:u[0]}function qs(a){return 4==(4&a[2])}function Dr(a){return 128==(128&a[2])}function d1(a,l){return null==l?null:a[l]}function Ws(a){a[18]=0}function ts(a,l){a[5]+=l;let u=a,f=a[3];for(;null!==f&&(1===l&&1===u[5]||-1===l&&0===u[5]);)f[5]+=l,u=f,f=f[3]}const _t={lFrame:Yo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ar(){return _t.bindingsEnabled}function Ee(){return _t.lFrame.lView}function Zt(){return _t.lFrame.tView}function Ir(a){return _t.lFrame.contextLView=a,a[8]}function Pn(){let a=Ra();for(;null!==a&&64===a.type;)a=a.parent;return a}function Ra(){return _t.lFrame.currentTNode}function Z1(){const a=_t.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}function H1(a,l){const u=_t.lFrame;u.currentTNode=a,u.isParent=l}function Zs(){return _t.lFrame.isParent}function qo(){_t.lFrame.isParent=!1}function Ys(){return _t.isInCheckNoChangesMode}function ns(a){_t.isInCheckNoChangesMode=a}function Fi(){const a=_t.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function is(){return _t.lFrame.bindingIndex++}function R1(a){const l=_t.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function Ks(a){_t.lFrame.inI18n=a}function Pa(a,l){const u=_t.lFrame;u.bindingIndex=u.bindingRootIndex=a,rs(l)}function rs(a){_t.lFrame.currentDirectiveIndex=a}function Zo(a){const l=_t.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function za(){return _t.lFrame.currentQueryIndex}function ss(a){_t.lFrame.currentQueryIndex=a}function fl(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function hl(a,l,u){if(u&ct.SkipSelf){let p=l,m=a;for(;!(p=p.parent,null!==p||u&ct.Host||(p=fl(m),null===p||(m=m[15],10&p.type))););if(null===p)return!1;l=p,a=m}const f=_t.lFrame=$3();return f.currentTNode=l,f.lView=a,!0}function os(a){const l=$3(),u=a[1];_t.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function $3(){const a=_t.lFrame,l=null===a?null:a.child;return null===l?Yo(a):l}function Yo(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function pl(){const a=_t.lFrame;return _t.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Fa=pl;function W3(){const a=pl();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Zn(){return _t.lFrame.selectedIndex}function K1(a){_t.lFrame.selectedIndex=a}function Yn(){const a=_t.lFrame;return Go(a.tView,a.selectedIndex)}function K3(a,l){for(let u=l.directiveStart,f=l.directiveEnd;u<f;u++){const m=a.data[u].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:S,ngAfterViewChecked:A,ngOnDestroy:k}=m;y&&(a.contentHooks||(a.contentHooks=[])).push(-u,y),w&&((a.contentHooks||(a.contentHooks=[])).push(u,w),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,w)),S&&(a.viewHooks||(a.viewHooks=[])).push(-u,S),A&&((a.viewHooks||(a.viewHooks=[])).push(u,A),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,A)),null!=k&&(a.destroyHooks||(a.destroyHooks=[])).push(u,k)}}function Js(a,l,u){ml(a,l,3,u)}function Q3(a,l,u,f){(3&a[2])===u&&ml(a,l,u,f)}function Ua(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function ml(a,l,u,f){const m=null!=f?f:-1,y=l.length-1;let w=0;for(let S=void 0!==f?65535&a[18]:0;S<y;S++)if("number"==typeof l[S+1]){if(w=l[S],null!=f&&w>=f)break}else l[S]<0&&(a[18]+=65536),(w<m||-1==m)&&(wi(a,u,l,S),a[18]=(4294901760&a[18])+S+2),S++}function wi(a,l,u,f){const p=u[f]<0,m=u[f+1],w=a[p?-u[f]:u[f]];if(p){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{m.call(w)}finally{}}}else try{m.call(w)}finally{}}class Xs{constructor(l,u,f){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=f}}function bn(a,l,u){const f=Cn(a);let p=0;for(;p<u.length;){const m=u[p];if("number"==typeof m){if(0!==m)break;p++;const y=u[p++],w=u[p++],S=u[p++];f?a.setAttribute(l,w,S,y):l.setAttributeNS(y,w,S)}else{const y=m,w=u[++p];B2(y)?f&&a.setProperty(l,y,w):f?a.setAttribute(l,y,w):l.setAttribute(y,w),p++}}return p}function li(a){return 3===a||4===a||6===a}function B2(a){return 64===a.charCodeAt(0)}function _n(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let f=0;f<l.length;f++){const p=l[f];"number"==typeof p?u=p:0===u||at(a,u,p,null,-1===u||2===u?l[++f]:null)}}return a}function at(a,l,u,f,p){let m=0,y=a.length;if(-1===l)y=-1;else for(;m<a.length;){const w=a[m++];if("number"==typeof w){if(w===l){y=-1;break}if(w>l){y=m-1;break}}}for(;m<a.length;){const w=a[m];if("number"==typeof w)break;if(w===u){if(null===f)return void(null!==p&&(a[m+1]=p));if(f===a[m+1])return void(a[m+2]=p)}m++,null!==f&&m++,null!==p&&m++}-1!==y&&(a.splice(y,0,l),m=y+1),a.splice(m++,0,u),null!==f&&a.splice(m++,0,f),null!==p&&a.splice(m++,0,p)}function mt(a){return-1!==a}function f1(a){return 32767&a}function cs(a,l){let u=function(a){return a>>16}(a),f=l;for(;u>0;)f=f[15],u--;return f}let m2=!0;function qe(a){const l=m2;return m2=a,l}let c6=0;function Ko(a,l){const u=no(a,l);if(-1!==u)return u;const f=l[1];f.firstCreatePass&&(a.injectorIndex=l.length,Kn(f.data,a),Kn(l,null),Kn(f.blueprint,null));const p=kr(a,l),m=a.injectorIndex;if(mt(p)){const y=f1(p),w=cs(p,l),S=w[1].data;for(let A=0;A<8;A++)l[m+A]=w[y+A]|S[y+A]}return l[m+8]=p,m}function Kn(a,l){a.push(0,0,0,0,0,0,0,0,l)}function no(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function kr(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,f=null,p=l;for(;null!==p;){const m=p[1],y=m.type;if(f=2===y?m.declTNode:1===y?p[6]:null,null===f)return-1;if(u++,p=p[15],-1!==f.injectorIndex)return f.injectorIndex|u<<16}return-1}function ja(a,l,u){!function(a,l,u){let f;"string"==typeof u?f=u.charCodeAt(0)||0:u.hasOwnProperty(tn)&&(f=u[tn]),null==f&&(f=u[tn]=c6++);const p=255&f;l.data[a+(p>>5)]|=1<<p}(a,l,u)}function rr(a,l,u){if(u&ct.Optional)return a;Ve(l,"NodeInjector")}function X3(a,l,u,f){if(u&ct.Optional&&void 0===f&&(f=null),0==(u&(ct.Self|ct.Host))){const p=a[9],m=Ni(void 0);try{return p?p.get(l,f,u&ct.Optional):xr(l,f,u&ct.Optional)}finally{Ni(m)}}return rr(f,l,u)}function Qo(a,l,u,f=ct.Default,p){if(null!==a){const m=function(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(tn)?a[tn]:void 0;return"number"==typeof l?l>=0?255&l:d6:l}(u);if("function"==typeof m){if(!hl(l,a,f))return f&ct.Host?rr(p,u,f):X3(l,u,f,p);try{const y=m(f);if(null!=y||f&ct.Optional)return y;Ve(u)}finally{Fa()}}else if("number"==typeof m){let y=null,w=no(a,l),S=-1,A=f&ct.Host?l[16][6]:null;for((-1===w||f&ct.SkipSelf)&&(S=-1===w?kr(a,l):l[w+8],-1!==S&&ro(f,!1)?(y=l[1],w=f1(S),l=cs(S,l)):w=-1);-1!==w;){const k=l[1];if(Qn(m,w,k.data)){const z=sr(w,l,u,y,f,A);if(z!==io)return z}S=l[w+8],-1!==S&&ro(f,l[1].data[w+8]===A)&&Qn(m,w,l)?(y=k,w=f1(S),l=cs(S,l)):w=-1}}}return X3(l,u,f,p)}const io={};function d6(){return new Vr(Pn(),Ee())}function sr(a,l,u,f,p,m){const y=l[1],w=y.data[a+8],k=Mn(w,y,u,null==f?ai(w)&&m2:f!=y&&0!=(3&w.type),p&ct.Host&&m===w);return null!==k?J1(l,y,k,w):io}function Mn(a,l,u,f,p){const m=a.providerIndexes,y=l.data,w=1048575&m,S=a.directiveStart,k=m>>20,j=p?w+k:a.directiveEnd;for(let Q=f?w:w+k;Q<j;Q++){const me=y[Q];if(Q<S&&u===me||Q>=S&&me.type===u)return Q}if(p){const Q=y[S];if(Q&&V1(Q)&&Q.type===u)return S}return null}function J1(a,l,u,f){let p=a[u];const m=l.data;if(function(a){return a instanceof Xs}(p)){const y=p;y.resolving&&function(a,l){throw new Ze("200",`Circular dependency in DI detected for ${a}`)}(De(m[u]));const w=qe(y.canSeeViewProviders);y.resolving=!0;const S=y.injectImpl?Ni(y.injectImpl):null;hl(a,f,ct.Default);try{p=a[u]=y.factory(void 0,m,a,f),l.firstCreatePass&&u>=f.directiveStart&&function(a,l,u){const{ngOnChanges:f,ngOnInit:p,ngDoCheck:m}=l.type.prototype;if(f){const y=Aa(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,y)}p&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,p),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,m))}(u,m[u],l)}finally{null!==S&&Ni(S),qe(w),y.resolving=!1,Fa()}}return p}function Qn(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function ro(a,l){return!(a&ct.Self||a&ct.Host&&l)}class Vr{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,f){return Qo(this._tNode,this._lView,l,f,u)}}function Ci(a){return zi(()=>{const l=a.prototype.constructor,u=l[gt]||Jo(l),f=Object.prototype;let p=Object.getPrototypeOf(a.prototype).constructor;for(;p&&p!==f;){const m=p[gt]||Jo(p);if(m&&m!==u)return m;p=Object.getPrototypeOf(p)}return m=>new m})}function Jo(a){return We(a)?()=>{const l=Jo(re(a));return l&&l()}:es(a)}function so(a){return function(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const f=u.length;let p=0;for(;p<f;){const m=u[p];if(li(m))break;if(0===m)p+=2;else if("number"==typeof m)for(p++;p<f&&"string"==typeof u[p];)p++;else{if(m===l)return u[p+1];p+=2}}}return null}(Pn(),a)}const O1="__parameters__";function Xo(a,l,u){return zi(()=>{const f=function(a){return function(...u){if(a){const f=a(...u);for(const p in f)this[p]=f[p]}}}(l);function p(...m){if(this instanceof p)return f.apply(this,m),this;const y=new p(...m);return w.annotation=y,w;function w(S,A,k){const z=S.hasOwnProperty(O1)?S[O1]:Object.defineProperty(S,O1,{value:[]})[O1];for(;z.length<=k;)z.push(null);return(z[k]=z[k]||[]).push(y),S}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=a,p.annotationCls=p,p})}class vn{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=kn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const yl=new vn("AnalyzeForEntryComponents");function Jt(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let f=a[u];Array.isArray(f)?(l===a&&(l=a.slice(0,u)),Jt(f,l)):l!==a&&l.push(f)}return l}function h1(a,l){a.forEach(u=>Array.isArray(u)?h1(u,l):l(u))}function e4(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function us(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function ds(a,l){const u=[];for(let f=0;f<a;f++)u.push(l);return u}function Ui(a,l,u){let f=ta(a,l);return f>=0?a[1|f]=u:(f=~f,function(a,l,u,f){let p=a.length;if(p==l)a.push(u,f);else if(1===p)a.push(f,a[0]),a[0]=u;else{for(p--,a.push(a[p-1],a[p]);p>l;)a[p]=a[p-2],p--;a[l]=u,a[l+1]=f}}(a,f,l,u)),f}function n4(a,l){const u=ta(a,l);if(u>=0)return a[1|u]}function ta(a,l){return function(a,l,u){let f=0,p=a.length>>u;for(;p!==f;){const m=f+(p-f>>1),y=a[m<<u];if(l===y)return m<<u;y>l?p=m:f=m+1}return~(p<<u)}(a,l,1)}const hs={},na="__NG_DI_FLAG__",ps="ngTempTokenPath",r4=/\n/gm,L="__source",V=ye({provide:String,useValue:ye});let F;function K(a){const l=F;return F=a,l}function oe(a,l=ct.Default){if(void 0===F)throw new Error("inject() must be called from an injection context");return null===F?xr(a,void 0,l):F.get(a,l&ct.Optional?null:void 0,l)}function Me(a,l=ct.Default){return(fi||oe)(re(a),l)}const Dt=Me;function Mt(a){const l=[];for(let u=0;u<a.length;u++){const f=re(a[u]);if(Array.isArray(f)){if(0===f.length)throw new Error("Arguments array must have arguments.");let p,m=ct.Default;for(let y=0;y<f.length;y++){const w=f[y],S=Vt(w);"number"==typeof S?-1===S?p=w.token:m|=S:p=w}l.push(Me(p,m))}else l.push(Me(f))}return l}function Xt(a,l){return a[na]=l,a.prototype[na]=l,a}function Vt(a){return a[na]}const v2=Xt(Xo("Inject",a=>({token:a})),-1),y2=Xt(Xo("Optional"),8),g1=Xt(Xo("SkipSelf"),4);let C6,ao;function a4(a){var l;return(null===(l=function(){if(void 0===C6&&(C6=null,Et.trustedTypes))try{C6=Et.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return C6}())||void 0===l?void 0:l.createHTML(a))||a}function W0(a){var l;return(null===(l=function(){if(void 0===ao&&(ao=null,Et.trustedTypes))try{ao=Et.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return ao}())||void 0===l?void 0:l.createHTML(a))||a}class co{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class bd extends co{getTypeName(){return"HTML"}}class _6 extends co{getTypeName(){return"Style"}}class v6 extends co{getTypeName(){return"Script"}}class Z0 extends co{getTypeName(){return"URL"}}class Md extends co{getTypeName(){return"ResourceURL"}}function uo(a){return a instanceof co?a.changingThisBreaksApplicationSecurity:a}function fo(a,l){const u=Sl(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function Sl(a){return a instanceof co&&a.getTypeName()||null}function wd(a){return new bd(a)}function y6(a){return new _6(a)}function b6(a){return new v6(a)}function sa(a){return new Z0(a)}function Y9(a){return new Md(a)}function Qa(a){const l=new Ja(a);return function(){try{return!!(new window.DOMParser).parseFromString(a4(""),"text/html")}catch(a){return!1}}()?new El(l):l}class El{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(a4(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class Ja{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const f=this.inertDocument.createElement("body");u.appendChild(f)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=a4(l),u;const f=this.inertDocument.createElement("body");return f.innerHTML=a4(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(l){const u=l.attributes;for(let p=u.length-1;0<p;p--){const y=u.item(p).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&l.removeAttribute(y)}let f=l.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const xd=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,K0=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ms(a){return(a=String(a)).match(xd)||a.match(K0)?a:"unsafe:"+a}function M6(a){return(a=String(a)).split(",").map(l=>ms(l.trim())).join(", ")}function q2(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function oa(...a){const l={};for(const u of a)for(const f in u)u.hasOwnProperty(f)&&(l[f]=!0);return l}const Jn=q2("area,br,col,hr,img,wbr"),x2=q2("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xa=q2("rp,rt"),Dl=oa(Jn,oa(x2,q2("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),oa(Xa,q2("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),oa(Xa,x2)),Al=q2("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Q0=q2("srcset"),w6=oa(Al,Q0,q2("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),q2("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),J0=q2("script,style,template");class x6{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,f=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?f=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,f&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let p=this.checkClobberedElement(u,u.nextSibling);if(p){u=p;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Dl.hasOwnProperty(u))return this.sanitizedSomething=!0,!J0.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const f=l.attributes;for(let p=0;p<f.length;p++){const m=f.item(p),y=m.name,w=y.toLowerCase();if(!w6.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let S=m.value;Al[w]&&(S=ms(S)),Q0[w]&&(S=M6(S)),this.buf.push(" ",y,'="',Fr(S),'"')}return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Dl.hasOwnProperty(u)&&!Jn.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(Fr(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const X0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Il=/([^\#-~ |!])/g;function Fr(a){return a.replace(/&/g,"&amp;").replace(X0,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Il,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Nl;function S6(a,l){let u=null;try{Nl=Nl||Qa(a);let f=l?String(l):"";u=Nl.getInertBodyElement(f);let p=5,m=f;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,f=m,m=u.innerHTML,u=Nl.getInertBodyElement(f)}while(f!==m);return a4((new x6).sanitizeChildren(E6(u)||u))}finally{if(u){const f=E6(u)||u;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function E6(a){return"content"in a&&function(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var An=(()=>((An=An||{})[An.NONE=0]="NONE",An[An.HTML=1]="HTML",An[An.STYLE=2]="STYLE",An[An.SCRIPT=3]="SCRIPT",An[An.URL=4]="URL",An[An.RESOURCE_URL=5]="RESOURCE_URL",An))();function e8(a){const l=h4();return l?W0(l.sanitize(An.HTML,a)||""):fo(a,"HTML")?W0(uo(a)):S6(B3(),ne(a))}function u4(a){const l=h4();return l?l.sanitize(An.URL,a)||"":fo(a,"URL")?uo(a):ms(ne(a))}function h4(){const a=Ee();return a&&a[12]}const po="__ngContext__";function C1(a,l){a[po]=l}function A6(a){const l=function(a){return a[po]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function aa(a){return a.ngOriginalError}function a8(a,...l){a.error(...l)}class Co{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l),f=(a=l)&&a.ngErrorLogger||a8;var a;f(this._console,"ERROR",l),u&&f(this._console,"ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&aa(l);for(;u&&aa(u);)u=aa(u);return u||null}}const H6=/^>|^->|<!--|-->|--!>|<!-$/g,c8=/(<|>)/;const S2=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Et))();function $2(a){return a instanceof Function?a():a}var ar=(()=>((ar=ar||{})[ar.Important=1]="Important",ar[ar.DashCase=2]="DashCase",ar))();let P6;function z6(a,l){return P6(a,l)}function m1(a){const l=a[3];return C2(l)?l[3]:l}function B6(a){return t3(a[13])}function lr(a){return t3(a[4])}function t3(a){for(;null!==a&&!C2(a);)a=a[4];return a}function n3(a,l,u,f,p){if(null!=f){let m,y=!1;C2(f)?m=f:nr(f)&&(y=!0,f=f[0]);const w=Dn(f);0===a&&null!==u?null==p?Gi(l,u,w):Gt(l,u,w,p||null,!0):1===a&&null!==u?Gt(l,u,w,p||null,!0):2===a?rp(l,w,y):3===a&&l.destroyNode(w),null!=m&&function(a,l,u,f,p){const m=u[7];m!==Dn(u)&&n3(l,a,f,m,p);for(let w=10;w<u.length;w++){const S=u[w];q6(S[1],S,a,l,f,m)}}(l,a,m,u,p)}}function f8(a,l){return Cn(a)?a.createText(l):a.createTextNode(l)}function U6(a,l,u){Cn(a)?a.setValue(l,u):l.textContent=u}function np(a,l){return a.createComment(function(a){return a.replace(H6,l=>l.replace(c8,"\u200b$1\u200b"))}(l))}function h8(a,l,u){return Cn(a)?a.createElement(l,u):null===u?a.createElement(l):a.createElementNS(u,l)}function T(a,l){const u=a[9],f=u.indexOf(l),p=l[3];1024&l[2]&&(l[2]&=-1025,ts(p,-1)),u.splice(f,1)}function I(a,l){if(a.length<=10)return;const u=10+l,f=a[u];if(f){const p=f[17];null!==p&&p!==a&&T(p,f),l>0&&(a[u-1][4]=f[4]);const m=us(a,10+l);!function(a,l){q6(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(f[1],f);const y=m[19];null!==y&&y.detachView(m[1]),f[3]=null,f[4]=null,f[2]&=-129}return f}function G(a,l){if(!(256&l[2])){const u=l[11];Cn(u)&&u.destroyNode&&q6(a,l,u,3,null,null),function(a){let l=a[13];if(!l)return te(a[1],a);for(;l;){let u=null;if(nr(l))u=l[13];else{const f=l[10];f&&(u=f)}if(!u){for(;l&&!l[4]&&l!==a;)nr(l)&&te(l[1],l),l=l[3];null===l&&(l=a),nr(l)&&te(l[1],l),u=l&&l[4]}l=u}}(l)}}function te(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let f=0;f<u.length;f+=2){const p=l[u[f]];if(!(p instanceof Xs)){const m=u[f+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const w=p[m[y]],S=m[y+1];try{S.call(w)}finally{}}else try{m.call(p)}finally{}}}}(a,l),function(a,l){const u=a.cleanup,f=l[7];let p=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const y=u[m+1],w="function"==typeof y?y(l):Dn(l[y]),S=f[p=u[m+2]],A=u[m+3];"boolean"==typeof A?w.removeEventListener(u[m],S,A):A>=0?f[p=A]():f[p=-A].unsubscribe(),m+=2}else{const y=f[p=u[m+1]];u[m].call(y)}if(null!==f){for(let m=p+1;m<f.length;m++)f[m]();l[7]=null}}(a,l),1===l[1].type&&Cn(l[11])&&l[11].destroy();const u=l[17];if(null!==u&&C2(l[3])){u!==l[3]&&T(u,l);const f=l[19];null!==f&&f.detachView(a)}}}function it(a,l,u){return ut(a,l.parent,u)}function ut(a,l,u){let f=l;for(;null!==f&&40&f.type;)f=(l=f).parent;if(null===f)return u[0];if(2&f.flags){const p=a.data[f.directiveStart].encapsulation;if(p===et.None||p===et.Emulated)return null}return Wn(f,u)}function Gt(a,l,u,f,p){Cn(a)?a.insertBefore(l,u,f,p):l.insertBefore(u,f,p)}function Gi(a,l,u){Cn(a)?a.appendChild(l,u):l.appendChild(u)}function mo(a,l,u,f,p){null!==f?Gt(a,l,u,f,p):Gi(a,l,u)}function r3(a,l){return Cn(a)?a.parentNode(l):l.parentNode}function G6(a,l,u){return g8(a,l,u)}function Ul(a,l,u){return 40&a.type?Wn(a,u):null}let Gl,g8=Ul;function jl(a,l){g8=a,Gl=l}function g4(a,l,u,f){const p=it(a,f,l),m=l[11],w=G6(f.parent||l[6],f,l);if(null!=p)if(Array.isArray(u))for(let S=0;S<u.length;S++)mo(m,p,u[S],w,!1);else mo(m,p,u,w,!1);void 0!==Gl&&Gl(m,f,l,u,p)}function ql(a,l){if(null!==l){const u=l.type;if(3&u)return Wn(l,a);if(4&u)return j6(-1,a[l.index]);if(8&u){const f=l.child;if(null!==f)return ql(a,f);{const p=a[l.index];return C2(p)?j6(-1,p):Dn(p)}}if(32&u)return z6(l,a)()||Dn(a[l.index]);{const f=$l(a,l);return null!==f?Array.isArray(f)?f[0]:ql(m1(a[16]),f):ql(a,l.next)}}return null}function $l(a,l){return null!==l?a[16][6].projection[l.projection]:null}function j6(a,l){const u=10+a+1;if(u<l.length){const f=l[u],p=f[1].firstChild;if(null!==p)return ql(f,p)}return l[7]}function rp(a,l,u){const f=r3(a,l);f&&function(a,l,u,f){Cn(a)?a.removeChild(l,u,f):l.removeChild(u)}(a,f,l,u)}function Hd(a,l,u,f,p,m,y){for(;null!=u;){const w=f[u.index],S=u.type;if(y&&0===l&&(w&&C1(Dn(w),f),u.flags|=4),64!=(64&u.flags))if(8&S)Hd(a,l,u.child,f,p,m,!1),n3(l,a,p,w,m);else if(32&S){const A=z6(u,f);let k;for(;k=A();)n3(l,a,p,k,m);n3(l,a,p,w,m)}else 16&S?sp(a,l,f,u,p,m):n3(l,a,p,w,m);u=y?u.projectionNext:u.next}}function q6(a,l,u,f,p,m){Hd(u,f,a.firstChild,l,p,m,!1)}function sp(a,l,u,f,p,m){const y=u[16],S=y[6].projection[f.projection];if(Array.isArray(S))for(let A=0;A<S.length;A++)n3(l,a,p,S[A],m);else Hd(a,l,S,y[3],p,m,!0)}function op(a,l,u){Cn(a)?a.setAttribute(l,"style",u):l.style.cssText=u}function Rd(a,l,u){Cn(a)?""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u):l.className=u}function ap(a,l,u){let f=a.length;for(;;){const p=a.indexOf(l,u);if(-1===p)return p;if(0===p||a.charCodeAt(p-1)<=32){const m=l.length;if(p+m===f||a.charCodeAt(p+m)<=32)return p}u=p+1}}const lp="ng-template";function Ey(a,l,u){let f=0;for(;f<a.length;){let p=a[f++];if(u&&"class"===p){if(p=a[f],-1!==ap(p.toLowerCase(),l,0))return!0}else if(1===p){for(;f<a.length&&"string"==typeof(p=a[f++]);)if(p.toLowerCase()===l)return!0;return!1}}return!1}function cp(a){return 4===a.type&&a.value!==lp}function Ly(a,l,u){return l===(4!==a.type||u?a.value:lp)}function Ty(a,l,u){let f=4;const p=a.attrs||[],m=function(a){for(let l=0;l<a.length;l++)if(li(a[l]))return l;return a.length}(p);let y=!1;for(let w=0;w<l.length;w++){const S=l[w];if("number"!=typeof S){if(!y)if(4&f){if(f=2|1&f,""!==S&&!Ly(a,S,u)||""===S&&1===l.length){if(cr(f))return!1;y=!0}}else{const A=8&f?S:l[++w];if(8&f&&null!==a.attrs){if(!Ey(a.attrs,A,u)){if(cr(f))return!1;y=!0}continue}const z=Dy(8&f?"class":S,p,cp(a),u);if(-1===z){if(cr(f))return!1;y=!0;continue}if(""!==A){let j;j=z>m?"":p[z+1].toLowerCase();const Q=8&f?j:null;if(Q&&-1!==ap(Q,A,0)||2&f&&A!==j){if(cr(f))return!1;y=!0}}}}else{if(!y&&!cr(f)&&!cr(S))return!1;if(y&&cr(S))continue;y=!1,f=S|1&f}}return cr(f)||y}function cr(a){return 0==(1&a)}function Dy(a,l,u,f){if(null===l)return-1;let p=0;if(f||!u){let m=!1;for(;p<l.length;){const y=l[p];if(y===a)return p;if(3===y||6===y)m=!0;else{if(1===y||2===y){let w=l[++p];for(;"string"==typeof w;)w=l[++p];continue}if(4===y)break;if(0===y){p+=4;continue}}p+=m?1:2}return-1}return function(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const f=a[u];if("number"==typeof f)return-1;if(f===l)return u;u++}return-1}(l,a)}function up(a,l,u=!1){for(let f=0;f<l.length;f++)if(Ty(a,l[f],u))return!0;return!1}function ky(a,l){e:for(let u=0;u<l.length;u++){const f=l[u];if(a.length===f.length){for(let p=0;p<a.length;p++)if(a[p]!==f[p])continue e;return!0}}return!1}function dp(a,l){return a?":not("+l.trim()+")":l}function Vy(a){let l=a[0],u=1,f=2,p="",m=!1;for(;u<a.length;){let y=a[u];if("string"==typeof y)if(2&f){const w=a[++u];p+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&f?p+="."+y:4&f&&(p+=" "+y);else""!==p&&!cr(y)&&(l+=dp(m,p),p=""),f=y,m=m||!cr(f);u++}return""!==p&&(l+=dp(m,p)),l}const jt={};function fp(a){Oy(Zt(),Ee(),Zn()+a,Ys())}function Oy(a,l,u,f){if(!f)if(3==(3&l[2])){const m=a.preOrderCheckHooks;null!==m&&Js(l,m,u)}else{const m=a.preOrderHooks;null!==m&&Q3(l,m,0,u)}K1(u)}function Od(a,l){return a<<17|l<<2}function _s(a){return a>>17&32767}function hp(a){return 2|a}function s3(a){return(131068&a)>>2}function pp(a,l){return-131069&a|l<<2}function Pd(a){return 1|a}function jd(a,l){const u=a.contentQueries;if(null!==u)for(let f=0;f<u.length;f+=2){const p=u[f],m=u[f+1];if(-1!==m){const y=a.data[m];ss(p),y.contentQueries(2,l[m],m)}}}function Zl(a,l,u,f,p,m,y,w,S,A){const k=l.blueprint.slice();return k[0]=p,k[2]=140|f,Ws(k),k[3]=k[15]=a,k[8]=u,k[10]=y||a&&a[10],k[11]=w||a&&a[11],k[12]=S||a&&a[12]||null,k[9]=A||a&&a[9]||null,k[6]=m,k[16]=2==l.type?a[16]:k,k}function m4(a,l,u,f,p){let m=a.data[l];if(null===m)m=wp(a,l,u,f,p),_t.lFrame.inI18n&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=f,m.attrs=p;const y=Z1();m.injectorIndex=null===y?-1:y.injectorIndex}return H1(m,!0),m}function wp(a,l,u,f,p){const m=Ra(),y=Zs(),S=a.data[l]=function(a,l,u,f,p,m){return{type:u,index:f,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,u,l,f,p);return null===a.firstChild&&(a.firstChild=S),null!==m&&(y?null==m.child&&null!==S.parent&&(m.child=S):null===m.next&&(m.next=S)),S}function _4(a,l,u,f){if(0===u)return-1;const p=l.length;for(let m=0;m<u;m++)l.push(f),a.blueprint.push(f),a.data.push(null);return p}function v8(a,l,u){os(l);try{const f=a.viewQuery;null!==f&&Tp(1,f,u);const p=a.template;null!==p&&$d(a,l,p,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&jd(a,l),a.staticViewQueries&&Tp(2,a.viewQuery,u);const m=a.components;null!==m&&function(a,l){for(let u=0;u<l.length;u++)LI(a,l[u])}(l,m)}catch(f){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),f}finally{l[2]&=-5,W3()}}function Z6(a,l,u,f){const p=l[2];if(256==(256&p))return;os(l);const m=Ys();try{Ws(l),function(a){_t.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&$d(a,l,u,2,f);const y=3==(3&p);if(!m)if(y){const A=a.preOrderCheckHooks;null!==A&&Js(l,A,null)}else{const A=a.preOrderHooks;null!==A&&Q3(l,A,0,null),Ua(l,0)}if(function(a){for(let l=B6(a);null!==l;l=lr(l)){if(!l[2])continue;const u=l[9];for(let f=0;f<u.length;f++){const p=u[f],m=p[3];0==(1024&p[2])&&ts(m,1),p[2]|=1024}}}(l),function(a){for(let l=B6(a);null!==l;l=lr(l))for(let u=10;u<l.length;u++){const f=l[u],p=f[1];Dr(f)&&Z6(p,f,p.template,f[8])}}(l),null!==a.contentQueries&&jd(a,l),!m)if(y){const A=a.contentCheckHooks;null!==A&&Js(l,A)}else{const A=a.contentHooks;null!==A&&Q3(l,A,1),Ua(l,1)}!function(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let f=0;f<u.length;f++){const p=u[f];if(p<0)K1(~p);else{const m=p,y=u[++f],w=u[++f];Pa(y,m),w(2,l[m])}}}finally{K1(-1)}}(a,l);const w=a.components;null!==w&&function(a,l){for(let u=0;u<l.length;u++)EI(a,l[u])}(l,w);const S=a.viewQuery;if(null!==S&&Tp(2,S,f),!m)if(y){const A=a.viewCheckHooks;null!==A&&Js(l,A)}else{const A=a.viewHooks;null!==A&&Q3(l,A,2),Ua(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),m||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,ts(l[3],-1))}finally{W3()}}function pI(a,l,u,f){const p=l[10],m=!Ys(),y=qs(l);try{m&&!y&&p.begin&&p.begin(),y&&v8(a,l,f),Z6(a,l,u,f)}finally{m&&!y&&p.end&&p.end()}}function $d(a,l,u,f,p){const m=Zn(),y=2&f;try{K1(-1),y&&l.length>20&&Oy(a,l,20,Ys()),u(f,p)}finally{K1(m)}}function Wd(a,l,u){!Ar()||(function(a,l,u,f){const p=u.directiveStart,m=u.directiveEnd;a.firstCreatePass||Ko(u,l),C1(f,l);const y=u.initialInputs;for(let w=p;w<m;w++){const S=a.data[w],A=V1(S);A&&MI(l,u,S);const k=J1(l,a,w,u);C1(k,l),null!==y&&wI(0,w-p,k,S,0,y),A&&(w1(u.index,l)[8]=k)}}(a,l,u,Wn(u,l)),128==(128&u.flags)&&function(a,l,u){const f=u.directiveStart,p=u.directiveEnd,y=u.index,w=_t.lFrame.currentDirectiveIndex;try{K1(y);for(let S=f;S<p;S++){const A=a.data[S],k=l[S];rs(S),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Jy(A,k)}}finally{K1(-1),rs(w)}}(a,l,u))}function Zd(a,l,u=Wn){const f=l.localNames;if(null!==f){let p=l.index+1;for(let m=0;m<f.length;m+=2){const y=f[m+1],w=-1===y?u(l,a):a[y];a[p++]=w}}}function Yd(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=b8(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function b8(a,l,u,f,p,m,y,w,S,A){const k=20+f,z=k+p,j=function(a,l){const u=[];for(let f=0;f<l;f++)u.push(f<a?null:jt);return u}(k,z),Q="function"==typeof A?A():A;return j[1]={type:a,blueprint:j,template:u,queries:null,viewQuery:w,declTNode:l,data:j.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:S,consts:Q,incompleteFirstPass:!1}}function Yl(a,l,u,f){const p=sb(l);null===u?p.push(f):(p.push(u),a.firstCreatePass&&Y6(a).push(f,p.length-1))}function xp(a,l,u){for(let f in a)if(a.hasOwnProperty(f)){const p=a[f];(u=null===u?{}:u).hasOwnProperty(f)?u[f].push(l,p):u[f]=[l,p]}return u}function ur(a,l,u,f,p,m,y,w){const S=Wn(l,u);let k,A=l.inputs;!w&&null!=A&&(k=A[f])?(Ap(a,u,k,f,p),ai(l)&&function(a,l){const u=w1(l,a);16&u[2]||(u[2]|=64)}(u,l.index)):3&l.type&&(f=function(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(f),p=null!=y?y(p,l.value||"",f):p,Cn(m)?m.setProperty(S,f,p):B2(f)||(S.setProperty?S.setProperty(f,p):S[f]=p))}function w8(a,l,u,f){let p=!1;if(Ar()){const m=function(a,l,u){const f=a.directiveRegistry;let p=null;if(f)for(let m=0;m<f.length;m++){const y=f[m];up(u,y.selectors,!1)&&(p||(p=[]),ja(Ko(u,l),a,y.type),V1(y)?(Xy(a,u),p.unshift(y)):p.push(y))}return p}(a,l,u),y=null===f?null:{"":-1};if(null!==m){p=!0,eb(u,a.data.length,m.length);for(let k=0;k<m.length;k++){const z=m[k];z.providersResolver&&z.providersResolver(z)}let w=!1,S=!1,A=_4(a,l,m.length,null);for(let k=0;k<m.length;k++){const z=m[k];u.mergedAttrs=_n(u.mergedAttrs,z.hostAttrs),tb(a,u,l,A,z),bI(A,z,y),null!==z.contentQueries&&(u.flags|=8),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(u.flags|=128);const j=z.type.prototype;!w&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),w=!0),!S&&(j.ngOnChanges||j.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),S=!0),A++}!function(a,l){const f=l.directiveEnd,p=a.data,m=l.attrs,y=[];let w=null,S=null;for(let A=l.directiveStart;A<f;A++){const k=p[A],z=k.inputs,j=null===m||cp(l)?null:xI(z,m);y.push(j),w=xp(z,A,w),S=xp(k.outputs,A,S)}null!==w&&(w.hasOwnProperty("class")&&(l.flags|=16),w.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=y,l.inputs=w,l.outputs=S}(a,u)}y&&function(a,l,u){if(l){const f=a.localNames=[];for(let p=0;p<l.length;p+=2){const m=u[l[p+1]];if(null==m)throw new Ze("301",`Export of name '${l[p+1]}' not found!`);f.push(l[p],m)}}}(u,f,y)}return u.mergedAttrs=_n(u.mergedAttrs,u.attrs),p}function ys(a,l,u,f,p,m){const y=m.hostBindings;if(y){let w=a.hostBindingOpCodes;null===w&&(w=a.hostBindingOpCodes=[]);const S=~l.index;(function(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(w)!=S&&w.push(S),w.push(f,p,y)}}function Jy(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function Xy(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function bI(a,l,u){if(u){if(l.exportAs)for(let f=0;f<l.exportAs.length;f++)u[l.exportAs[f]]=a;V1(l)&&(u[""]=a)}}function eb(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function tb(a,l,u,f,p){a.data[f]=p;const m=p.factory||(p.factory=es(p.type)),y=new Xs(m,V1(p),null);a.blueprint[f]=y,u[f]=y,ys(a,l,0,f,_4(a,u,p.hostVars,jt),p)}function MI(a,l,u){const f=Wn(l,a),p=Yd(u),m=a[10],y=t7(a,Zl(a,p,null,u.onPush?64:16,f,l,m,m.createRenderer(f,u),null,null));a[l.index]=y}function Xd(a,l,u,f,p,m,y){if(null==m)Cn(a)?a.removeAttribute(l,p,u):l.removeAttribute(p);else{const w=null==y?ne(m):y(m,f||"",p);Cn(a)?a.setAttribute(l,p,w,u):u?l.setAttributeNS(u,p,w):l.setAttribute(p,w)}}function wI(a,l,u,f,p,m){const y=m[l];if(null!==y){const w=f.setInput;for(let S=0;S<y.length;){const A=y[S++],k=y[S++],z=y[S++];null!==w?f.setInput(u,z,A,k):u[k]=z}}}function xI(a,l){let u=null,f=0;for(;f<l.length;){const p=l[f];if(0!==p)if(5!==p){if("number"==typeof p)break;a.hasOwnProperty(p)&&(null===u&&(u=[]),u.push(p,a[p],l[f+1])),f+=2}else f+=2;else f+=4}return u}function nb(a,l,u,f){return new Array(a,!0,!1,l,null,0,f,u,null,null)}function EI(a,l){const u=w1(l,a);if(Dr(u)){const f=u[1];80&u[2]?Z6(f,u,f.template,u[8]):u[5]>0&&e7(u)}}function e7(a){for(let f=B6(a);null!==f;f=lr(f))for(let p=10;p<f.length;p++){const m=f[p];if(1024&m[2]){const y=m[1];Z6(y,m,y.template,m[8])}else m[5]>0&&e7(m)}const u=a[1].components;if(null!==u)for(let f=0;f<u.length;f++){const p=w1(u[f],a);Dr(p)&&p[5]>0&&e7(p)}}function LI(a,l){const u=w1(l,a),f=u[1];(function(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(f,u),v8(f,u,u[8])}function t7(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function Ep(a){for(;a;){a[2]|=64;const l=m1(a);if(Us(a)&&!l)return a;a=l}return null}function Lp(a,l,u){const f=l[10];f.begin&&f.begin();try{Z6(a,l,a.template,u)}catch(p){throw Dp(l,p),p}finally{f.end&&f.end()}}function rb(a){!function(a){for(let l=0;l<a.components.length;l++){const u=a.components[l],f=A6(u),p=f[1];pI(p,f,p.template,u)}}(a[8])}function Tp(a,l,u){ss(0),l(a,u)}const II=(()=>Promise.resolve(null))();function sb(a){return a[7]||(a[7]=[])}function Y6(a){return a.cleanup||(a.cleanup=[])}function i7(a,l,u){return(null===a||V1(a))&&(u=function(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(u[l.index])),u[11]}function Dp(a,l){const u=a[9],f=u?u.get(Co,null):null;f&&f.handleError(l)}function Ap(a,l,u,f,p){for(let m=0;m<u.length;){const y=u[m++],w=u[m++],S=l[y],A=a.data[y];null!==A.setInput?A.setInput(S,p,f,w):S[w]=p}}function K6(a,l,u){let f=u?a.styles:null,p=u?a.classes:null,m=0;if(null!==l)for(let y=0;y<l.length;y++){const w=l[y];"number"==typeof w?m=w:1==m?p=ge(p,w):2==m&&(f=ge(f,w+": "+l[++y]+";"))}u?a.styles=f:a.stylesWithoutHost=f,u?a.classes=p:a.classesWithoutHost=p}const r7=new vn("INJECTOR",-1);class s7{get(l,u=hs){if(u===hs){const f=new Error(`NullInjectorError: No provider for ${ue(l)}!`);throw f.name="NullInjectorError",f}return u}}const o7=new vn("Set Injector scope."),x8={},kI={};let Np;function kp(){return void 0===Np&&(Np=new s7),Np}function ab(a,l=null,u=null,f){const p=lb(a,l,u,f);return p._resolveInjectorDefTypes(),p}function lb(a,l=null,u=null,f){return new VI(a,u,l||kp(),f)}class VI{constructor(l,u,f,p=null){this.parent=f,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];u&&h1(u,w=>this.processProvider(w,l,u)),h1([l],w=>this.processInjectorType(w,[],m)),this.records.set(r7,Q6(void 0,this));const y=this.records.get(o7);this.scope=null!=y?y.value:null,this.source=p||("object"==typeof l?null:ue(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,u=hs,f=ct.Default){this.assertNotDestroyed();const p=K(this),m=Ni(void 0);try{if(!(f&ct.SkipSelf)){let w=this.records.get(l);if(void 0===w){const S=("function"==typeof(a=l)||"object"==typeof a&&a instanceof vn)&&Yi(l);w=S&&this.injectableDefInScope(S)?Q6(Vp(l),x8):null,this.records.set(l,w)}if(null!=w)return this.hydrate(l,w)}return(f&ct.Self?kp():this.parent).get(l,u=f&ct.Optional&&u===hs?null:u)}catch(y){if("NullInjectorError"===y.name){if((y[ps]=y[ps]||[]).unshift(ue(l)),p)throw y;return function(a,l,u,f){const p=a[ps];throw l[L]&&p.unshift(l[L]),a.message=function(a,l,u,f=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let p=ue(l);if(Array.isArray(l))p=l.map(ue).join(" -> ");else if("object"==typeof l){let m=[];for(let y in l)if(l.hasOwnProperty(y)){let w=l[y];m.push(y+":"+("string"==typeof w?JSON.stringify(w):ue(w)))}p=`{${m.join(", ")}}`}return`${u}${f?"("+f+")":""}[${p}]: ${a.replace(r4,"\n  ")}`}("\n"+a.message,p,u,f),a.ngTokenPath=p,a[ps]=null,a}(y,l,"R3InjectorError",this.source)}throw y}finally{Ni(m),K(p)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((f,p)=>l.push(ue(p))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(l,u,f){if(!(l=re(l)))return!1;let p=Kr(l);const m=null==p&&l.ngModule||void 0,y=void 0===m?l:m,w=-1!==f.indexOf(y);if(void 0!==m&&(p=Kr(m)),null==p)return!1;if(null!=p.imports&&!w){let k;f.push(y);try{h1(p.imports,z=>{this.processInjectorType(z,u,f)&&(void 0===k&&(k=[]),k.push(z))})}finally{}if(void 0!==k)for(let z=0;z<k.length;z++){const{ngModule:j,providers:Q}=k[z];h1(Q,me=>this.processProvider(me,j,Q||Ut))}}this.injectorDefTypes.add(y);const S=es(y)||(()=>new y);this.records.set(y,Q6(S,x8));const A=p.providers;if(null!=A&&!w){const k=l;h1(A,z=>this.processProvider(z,k,A))}return void 0!==m&&void 0!==l.providers}processProvider(l,u,f){let p=J6(l=re(l))?l:re(l&&l.provide);const m=(a=l,ub(a)?Q6(void 0,a.useValue):Q6(cb(a),x8));var a;if(J6(l)||!0!==l.multi)this.records.get(p);else{let y=this.records.get(p);y||(y=Q6(void 0,x8,!0),y.factory=()=>Mt(y.multi),this.records.set(p,y)),p=l,y.multi.push(l)}this.records.set(p,m)}hydrate(l,u){return u.value===x8&&(u.value=kI,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(a=u.value)&&"object"==typeof a&&"function"==typeof a.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var a}injectableDefInScope(l){if(!l.providedIn)return!1;const u=re(l.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Vp(a){const l=Yi(a),u=null!==l?l.factory:es(a);if(null!==u)return u;if(a instanceof vn)throw new Error(`Token ${ue(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function(a){const l=a.length;if(l>0){const f=ds(l,"?");throw new Error(`Can't resolve all parameters for ${ue(a)}: (${f.join(", ")}).`)}const u=function(a){const l=a&&(a[bi]||a[Ae]);if(l){const u=function(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Error("unreachable")}function cb(a,l,u){let f;if(J6(a)){const p=re(a);return es(p)||Vp(p)}if(ub(a))f=()=>re(a.useValue);else if(function(a){return!(!a||!a.useFactory)}(a))f=()=>a.useFactory(...Mt(a.deps||[]));else if(function(a){return!(!a||!a.useExisting)}(a))f=()=>Me(re(a.useExisting));else{const p=re(a&&(a.useClass||a.provide));if(!function(a){return!!a.deps}(a))return es(p)||Vp(p);f=()=>new p(...Mt(a.deps))}return f}function Q6(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function ub(a){return null!==a&&"object"==typeof a&&V in a}function J6(a){return"function"==typeof a}let bs=(()=>{class a{static create(u,f){var p;if(Array.isArray(u))return ab({name:""},f,u,"");{const m=null!==(p=u.name)&&void 0!==p?p:"";return ab({name:m},u.parent,u.providers,m)}}}return a.THROW_IF_NOT_FOUND=hs,a.NULL=new s7,a.\u0275prov=kn({token:a,providedIn:"any",factory:()=>Me(r7)}),a.__NG_ELEMENT_ID__=-1,a})();function E8(a,l){K3(A6(a)[1],Pn())}function Bp(a){let l=function(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const f=[a];for(;l;){let p;if(V1(a))p=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Error("Directives cannot inherit Components");p=l.\u0275dir}if(p){if(u){f.push(p);const y=a;y.inputs=Up(a.inputs),y.declaredInputs=Up(a.declaredInputs),y.outputs=Up(a.outputs);const w=p.hostBindings;w&&WI(a,w);const S=p.viewQuery,A=p.contentQueries;if(S&&qI(a,S),A&&$I(a,A),J(a.inputs,p.inputs),J(a.declaredInputs,p.declaredInputs),J(a.outputs,p.outputs),V1(p)&&p.data.animation){const k=a.data;k.animation=(k.animation||[]).concat(p.data.animation)}}const m=p.features;if(m)for(let y=0;y<m.length;y++){const w=m[y];w&&w.ngInherit&&w(a),w===Bp&&(u=!1)}}l=Object.getPrototypeOf(l)}!function(a){let l=0,u=null;for(let f=a.length-1;f>=0;f--){const p=a[f];p.hostVars=l+=p.hostVars,p.hostAttrs=_n(p.hostAttrs,u=_n(u,p.hostAttrs))}}(f)}function Up(a){return a===pn?{}:a===Ut?[]:a}function qI(a,l){const u=a.viewQuery;a.viewQuery=u?(f,p)=>{l(f,p),u(f,p)}:l}function $I(a,l){const u=a.contentQueries;a.contentQueries=u?(f,p,m)=>{l(f,p,m),u(f,p,m)}:l}function WI(a,l){const u=a.hostBindings;a.hostBindings=u?(f,p)=>{l(f,p),u(f,p)}:l}let h7=null;function t5(){if(!h7){const a=Et.Symbol;if(a&&a.iterator)h7=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const f=l[u];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(h7=f)}}}return h7}function L8(a){return!!T8(a)&&(Array.isArray(a)||!(a instanceof Map)&&t5()in a)}function T8(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function vo(a,l,u){return a[l]=u}function z1(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function a3(a,l,u,f){const p=z1(a,l,u);return z1(a,l+1,f)||p}function nc(a,l,u,f){const p=Ee();return z1(p,is(),l)&&(Zt(),function(a,l,u,f,p,m){const y=Wn(a,l);Xd(l[11],y,m,a.value,u,f,p)}(Yn(),p,a,l,u,f)),nc}function b4(a,l,u,f){return z1(a,is(),u)?l+ne(u)+f:jt}function D8(a,l,u,f,p,m,y,w){const S=Ee(),A=Zt(),k=a+20,z=A.firstCreatePass?function(a,l,u,f,p,m,y,w,S){const A=l.consts,k=m4(l,a,4,y||null,d1(A,w));w8(l,u,k,d1(A,S)),K3(l,k);const z=k.tViews=b8(2,k,f,p,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,A);return null!==l.queries&&(l.queries.template(l,k),z.queries=l.queries.embeddedTView(k)),k}(k,A,S,l,u,f,p,m,y):A.data[k];H1(z,!1);const j=S[11].createComment("");g4(A,S,j,z),C1(j,S),t7(S,S[k]=nb(j,S,j,z)),Oo(z)&&Wd(A,S,z),null!=y&&Zd(S,z,w)}function m7(a){return function(a,l){return a[l]}(_t.lFrame.contextLView,20+a)}function s5(a,l=ct.Default){const u=Ee();return null===u?Me(a,l):Qo(Pn(),u,re(a),l)}function Eb(){throw new Error("invalid")}function ug(a,l,u){const f=Ee();return z1(f,is(),l)&&ur(Zt(),Yn(),f,a,l,f[11],u,!1),ug}function N8(a,l,u,f,p){const y=p?"class":"style";Ap(a,u,l.inputs[y],y,f)}function dg(a,l,u,f){const p=Ee(),m=Zt(),y=20+a,w=p[11],S=p[y]=h8(w,l,_t.lFrame.currentNamespace),A=m.firstCreatePass?function(a,l,u,f,p,m,y){const w=l.consts,A=m4(l,a,2,p,d1(w,m));return w8(l,u,A,d1(w,y)),null!==A.attrs&&K6(A,A.attrs,!1),null!==A.mergedAttrs&&K6(A,A.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,A),A}(y,m,p,0,l,u,f):m.data[y];H1(A,!0);const k=A.mergedAttrs;null!==k&&bn(w,S,k);const z=A.classes;null!==z&&Rd(w,S,z);const j=A.styles;null!==j&&op(w,S,j),64!=(64&A.flags)&&g4(m,p,S,A),0===_t.lFrame.elementDepthCount&&C1(S,p),_t.lFrame.elementDepthCount++,Oo(A)&&(Wd(m,p,A),function(a,l,u){if(Ro(l)){const p=l.directiveEnd;for(let m=l.directiveStart;m<p;m++){const y=a.data[m];y.contentQueries&&y.contentQueries(1,u[m],m)}}}(m,A,p)),null!==f&&Zd(p,A)}function fg(){let a=Pn();Zs()?qo():(a=a.parent,H1(a,!1));const l=a;_t.lFrame.elementDepthCount--;const u=Zt();u.firstCreatePass&&(K3(u,a),Ro(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function(a){return 0!=(16&a.flags)}(l)&&N8(u,l,Ee(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function(a){return 0!=(32&a.flags)}(l)&&N8(u,l,Ee(),l.stylesWithoutHost,!1)}function Lb(a,l,u,f){dg(a,l,u,f),fg()}function Ab(){return Ee()}function k8(a){return!!a&&"function"==typeof a.then}function Ib(a){return!!a&&"function"==typeof a.subscribe}const Nb=Ib;function pg(a,l,u,f){const p=Ee(),m=Zt(),y=Pn();return Vb(m,p,p[11],y,a,l,!!u,f),pg}function gg(a,l){const u=Pn(),f=Ee(),p=Zt();return Vb(p,f,i7(Zo(p.data),u,f),u,a,l,!1),gg}function Vb(a,l,u,f,p,m,y,w){const S=Oo(f),k=a.firstCreatePass&&Y6(a),z=l[8],j=sb(l);let Q=!0;if(3&f.type||w){const je=Wn(f,l),rt=w?w(je):je,we=j.length,bt=w?cn=>w(Dn(cn[f.index])):f.index;if(Cn(u)){let cn=null;if(!w&&S&&(cn=function(a,l,u,f){const p=a.cleanup;if(null!=p)for(let m=0;m<p.length-1;m+=2){const y=p[m];if(y===u&&p[m+1]===f){const w=l[7],S=p[m+2];return w.length>S?w[S]:null}"string"==typeof y&&(m+=2)}return null}(a,l,p,f.index)),null!==cn)(cn.__ngLastListenerFn__||cn).__ngNextListenerFn__=m,cn.__ngLastListenerFn__=m,Q=!1;else{m=Cg(f,l,z,m,!1);const En=u.listen(rt,p,m);j.push(m,En),k&&k.push(p,bt,we,we+1)}}else m=Cg(f,l,z,m,!0),rt.addEventListener(p,m,y),j.push(m),k&&k.push(p,bt,we,y)}else m=Cg(f,l,z,m,!1);const me=f.outputs;let Pe;if(Q&&null!==me&&(Pe=me[p])){const je=Pe.length;if(je)for(let rt=0;rt<je;rt+=2){const fr=l[Pe[rt]][Pe[rt+1]].subscribe(m),L2=j.length;j.push(m,fr),k&&k.push(p,f.index,L2,-(L2+1))}}}function Hb(a,l,u,f){try{return!1!==u(f)}catch(p){return Dp(a,p),!1}}function Cg(a,l,u,f,p){return function m(y){if(y===Function)return f;const w=2&a.flags?w1(a.index,l):l;0==(32&l[2])&&Ep(w);let S=Hb(l,0,f,y),A=m.__ngNextListenerFn__;for(;A;)S=Hb(l,0,A,y)&&S,A=A.__ngNextListenerFn__;return p&&!1===S&&(y.preventDefault(),y.returnValue=!1),S}}function Rb(a=1){return function(a){return(_t.lFrame.contextLView=function(a,l){for(;a>0;)l=l[15],a--;return l}(a,_t.lFrame.contextLView))[8]}(a)}function mg(a,l){let u=null;const f=function(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let p=0;p<l.length;p++){const m=l[p];if("*"!==m){if(null===f?up(a,m,!0):ky(f,m))return p}else u=p}return u}function _g(a){const l=Ee()[16][6];if(!l.projection){const f=l.projection=ds(a?a.length:1,null),p=f.slice();let m=l.child;for(;null!==m;){const y=a?mg(m,a):0;null!==y&&(p[y]?p[y].projectionNext=m:f[y]=m,p[y]=m),m=m.next}}}function vg(a,l=0,u){const f=Ee(),p=Zt(),m=m4(p,20+a,16,null,u||null);null===m.projection&&(m.projection=l),qo(),64!=(64&m.flags)&&function(a,l,u){sp(l[11],0,l,u,it(a,u,l),G6(u.parent||l[6],u,l))}(p,f,m)}function l3(a,l,u){return o5(a,"",l,"",u),l3}function o5(a,l,u,f,p){const m=Ee(),y=b4(m,l,u,f);return y!==jt&&ur(Zt(),Yn(),m,a,y,m[11],p,!1),o5}function xg(a,l,u,f,p){const m=a[u+1],y=null===l;let w=f?_s(m):s3(m),S=!1;for(;0!==w&&(!1===S||y);){const k=a[w+1];Sg(a[w],l)&&(S=!0,a[w+1]=f?Pd(k):hp(k)),w=f?_s(k):s3(k)}S&&(a[u+1]=f?hp(m):Pd(m))}function Sg(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&ta(a,l)>=0}const s1={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function S7(a){return a.substring(s1.key,s1.keyEnd)}function ji(a,l){const u=s1.textEnd;return u===l?-1:(l=s1.keyEnd=function(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,s1.key=l,u),w4(a,l,u))}function w4(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function Tg(a,l,u){return Ss(a,l,u,!1),Tg}function Dg(a,l){return Ss(a,l,null,!0),Dg}function zb(a){!function(a,l,u,f){const p=Zt(),m=R1(2);p.firstUpdatePass&&H8(p,null,m,f);const y=Ee();if(u!==jt&&z1(y,m,u)){const w=p.data[Zn()];if(Ts(w,f)&&!D7(p,m)){let S=f?w.classesWithoutHost:w.stylesWithoutHost;null!==S&&(u=ge(S,u||"")),N8(p,w,y,u,f)}else!function(a,l,u,f,p,m,y,w){p===jt&&(p=Ut);let S=0,A=0,k=0<p.length?p[0]:null,z=0<m.length?m[0]:null;for(;null!==k||null!==z;){const j=S<p.length?p[S+1]:void 0,Q=A<m.length?m[A+1]:void 0;let Pe,me=null;k===z?(S+=2,A+=2,j!==Q&&(me=z,Pe=Q)):null===z||null!==k&&k<z?(S+=2,me=k):(A+=2,me=z,Pe=Q),null!==me&&Ub(a,l,u,f,me,Pe,y,w),k=S<p.length?p[S]:null,z=A<m.length?m[A]:null}}(p,w,y,y[11],y[m+1],y[m+1]=function(a,l,u){if(null==u||""===u)return Ut;const f=[],p=uo(u);if(Array.isArray(p))for(let m=0;m<p.length;m++)a(f,p[m],!0);else if("object"==typeof p)for(const m in p)p.hasOwnProperty(m)&&a(f,m,p[m]);else"string"==typeof p&&l(f,p);return f}(a,l,u),f,m)}}(Ui,fa,a,!0)}function fa(a,l){for(let u=function(a){return function(a){s1.key=0,s1.keyEnd=0,s1.value=0,s1.valueEnd=0,s1.textEnd=a.length}(a),ji(a,w4(a,0,s1.textEnd))}(l);u>=0;u=ji(l,u))Ui(a,S7(l),!0)}function Ss(a,l,u,f){const p=Ee(),m=Zt(),y=R1(2);m.firstUpdatePass&&H8(m,a,y,f),l!==jt&&z1(p,y,l)&&Ub(m,m.data[Zn()],p,p[11],a,p[y+1]=function(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=ue(uo(a)))),a}(l,u),f,y)}function D7(a,l){return l>=a.expandoStartIndex}function H8(a,l,u,f){const p=a.data;if(null===p[u+1]){const m=p[Zn()],y=D7(a,u);Ts(m,f)&&null===l&&!y&&(l=!1),l=function(a,l,u,f){const p=Zo(a);let m=f?l.residualClasses:l.residualStyles;if(null===p)0===(f?l.classBindings:l.styleBindings)&&(u=R8(u=N7(null,a,l,u,f),l.attrs,f),m=null);else{const y=l.directiveStylingLast;if(-1===y||a[y]!==p)if(u=N7(p,a,l,u,f),null===m){let S=function(a,l,u){const f=u?l.classBindings:l.styleBindings;if(0!==s3(f))return a[_s(f)]}(a,l,f);void 0!==S&&Array.isArray(S)&&(S=N7(null,a,l,S[1],f),S=R8(S,l.attrs,f),function(a,l,u,f){a[_s(u?l.classBindings:l.styleBindings)]=f}(a,l,f,S))}else m=function(a,l,u){let f;const p=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<p;m++)f=R8(f,a[m].hostAttrs,u);return R8(f,l.attrs,u)}(a,l,f)}return void 0!==m&&(f?l.residualClasses=m:l.residualStyles=m),u}(p,m,l,f),function(a,l,u,f,p,m){let y=m?l.classBindings:l.styleBindings,w=_s(y),S=s3(y);a[f]=u;let k,A=!1;if(Array.isArray(u)){const z=u;k=z[1],(null===k||ta(z,k)>0)&&(A=!0)}else k=u;if(p)if(0!==S){const j=_s(a[w+1]);a[f+1]=Od(j,w),0!==j&&(a[j+1]=pp(a[j+1],f)),a[w+1]=function(a,l){return 131071&a|l<<17}(a[w+1],f)}else a[f+1]=Od(w,0),0!==w&&(a[w+1]=pp(a[w+1],f)),w=f;else a[f+1]=Od(S,0),0===w?w=f:a[S+1]=pp(a[S+1],f),S=f;A&&(a[f+1]=hp(a[f+1])),xg(a,k,f,!0),xg(a,k,f,!1),function(a,l,u,f,p){const m=p?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof l&&ta(m,l)>=0&&(u[f+1]=Pd(u[f+1]))}(l,k,a,f,m),y=Od(w,S),m?l.classBindings=y:l.styleBindings=y}(p,m,l,u,y,f)}}function N7(a,l,u,f,p){let m=null;const y=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<y&&(m=l[w],f=R8(f,m.hostAttrs,p),m!==a);)w++;return null!==a&&(u.directiveStylingLast=w),f}function R8(a,l,u){const f=u?1:2;let p=-1;if(null!==l)for(let m=0;m<l.length;m++){const y=l[m];"number"==typeof y?p=y:p===f&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Ui(a,y,!!u||l[++m]))}return void 0===a?null:a}function Ub(a,l,u,f,p,m,y,w){if(!(3&l.type))return;const S=a.data,A=S[w+1];Ls(function(a){return 1==(1&a)}(A)?Gb(S,l,u,p,s3(A),y):void 0)||(Ls(m)||function(a){return 2==(2&a)}(A)&&(m=Gb(S,null,u,p,w,y)),function(a,l,u,f,p){const m=Cn(a);if(l)p?m?a.addClass(u,f):u.classList.add(f):m?a.removeClass(u,f):u.classList.remove(f);else{let y=-1===f.indexOf("-")?void 0:ar.DashCase;if(null==p)m?a.removeStyle(u,f,y):u.style.removeProperty(f);else{const w="string"==typeof p&&p.endsWith("!important");w&&(p=p.slice(0,-10),y|=ar.Important),m?a.setStyle(u,f,p,y):u.style.setProperty(f,p,w?"important":"")}}}(f,y,W1(Zn(),u),p,m))}function Gb(a,l,u,f,p,m){const y=null===l;let w;for(;p>0;){const S=a[p],A=Array.isArray(S),k=A?S[1]:S,z=null===k;let j=u[p+1];j===jt&&(j=z?Ut:void 0);let Q=z?n4(j,f):k===f?j:void 0;if(A&&!Ls(Q)&&(Q=n4(S,f)),Ls(Q)&&(w=Q,y))return w;const me=a[p+1];p=y?_s(me):s3(me)}if(null!==l){let S=m?l.residualClasses:l.residualStyles;null!=S&&(w=n4(S,f))}return w}function Ls(a){return void 0!==a}function Ts(a,l){return 0!=(a.flags&(l?16:32))}function O8(a,l=""){const u=Ee(),f=Zt(),p=a+20,m=f.firstCreatePass?m4(f,p,1,l,null):f.data[p],y=u[p]=f8(u[11],l);g4(f,u,y,m),H1(m,!1)}function k7(a){return P8("",a,""),k7}function P8(a,l,u){const f=Ee(),p=b4(f,a,l,u);return p!==jt&&function(a,l,u){const f=W1(l,a);U6(a[11],f,u)}(f,Zn(),p),P8}function d5(a,l,u){const f=Ee();return z1(f,is(),l)&&ur(Zt(),Yn(),f,a,l,f[11],u,!0),d5}function z7(a,l,u){const f=Ee();if(z1(f,is(),l)){const m=Zt(),y=Yn();ur(m,y,f,a,l,i7(Zo(m.data),y,f),u,!0)}return z7}const L4=void 0;var bo=["en",[["a","p"],["AM","PM"],L4],[["AM","PM"],L4,L4],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],L4,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],L4,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",L4,"{1} 'at' {0}",L4],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(a){const u=Math.floor(Math.abs(a)),f=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===f?1:5}];let T4={};function F8(a){const l=function(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=Ds(l);if(u)return u;const f=l.split("-")[0];if(u=Ds(f),u)return u;if("en"===f)return bo;throw new Error(`Missing locale data for the locale "${a}".`)}function E1(a){return F8(a)[St.PluralCase]}function Ds(a){return a in T4||(T4[a]=Et.ng&&Et.ng.common&&Et.ng.common.locales&&Et.ng.common.locales[a]),T4[a]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const $g=["zero","one","two","few","many"],f5="en-US",h5={marker:"element"},p5={marker:"ICU"};var ui=(()=>((ui=ui||{})[ui.SHIFT=2]="SHIFT",ui[ui.APPEND_EAGERLY=1]="APPEND_EAGERLY",ui[ui.COMMENT=2]="COMMENT",ui))();let rn=f5;function f3(a,l,u){const f=l.insertBeforeIndex,p=Array.isArray(f)?f[0]:f;return null===p?Ul(a,0,u):Dn(u[p])}function Wg(a,l,u,f,p){const m=l.insertBeforeIndex;if(Array.isArray(m)){let y=f,w=null;if(3&l.type||(w=y,y=p),null!==y&&0==(2&l.flags))for(let S=1;S<m.length;S++)Gt(a,y,u[m[S]],w,!1)}}function F7(a,l){if(a.push(l),a.length>1)for(let u=a.length-2;u>=0;u--){const f=a[u];B7(f)||iM(f,l)&&null===B8(f)&&C5(f,l.index)}}function B7(a){return!(64&a.type)}function iM(a,l){return B7(l)||a.index>l.index}function B8(a){const l=a.insertBeforeIndex;return Array.isArray(l)?l[0]:l}function C5(a,l){const u=a.insertBeforeIndex;Array.isArray(u)?u[0]=l:(jl(f3,Wg),a.insertBeforeIndex=l)}function lc(a,l){const u=a.data[l];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function U7(a,l,u){const f=wp(a,u,64,null,null);return F7(l,f),f}function D4(a,l){const u=l[a.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function G7(a){return a>>>17}function j7(a){return(131070&a)>>>1}let m5=0,h3=0;function Yg(a,l,u,f){const p=u[11];let y,m=null;for(let w=0;w<l.length;w++){const S=l[w];if("string"==typeof S){const A=l[++w];null===u[A]&&(u[A]=f8(p,S))}else if("number"==typeof S)switch(1&S){case 0:const A=G7(S);let k,z;if(null===m&&(m=A,y=r3(p,f)),A===m?(k=f,z=y):(k=null,z=Dn(u[A])),null!==z){const Pe=j7(S);Gt(p,z,u[Pe],k,!1);const rt=lc(a,Pe);if(null!==rt&&"object"==typeof rt){const we=D4(rt,u);null!==we&&Yg(a,rt.create[we],u,u[rt.anchorIdx])}}break;case 1:const Q=l[++w],me=l[++w];Xd(p,W1(S>>>1,u),null,null,Q,me,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${S}"`)}else switch(S){case p5:const A=l[++w],k=l[++w];null===u[k]&&C1(u[k]=np(p,A),u);break;case h5:const z=l[++w],j=l[++w];null===u[j]&&C1(u[j]=h8(p,z,null),u)}}}function Kg(a,l,u,f,p){for(let m=0;m<u.length;m++){const y=u[m],w=u[++m];if(y&p){let S="";for(let A=m+1;A<=m+w;A++){const k=u[A];if("string"==typeof k)S+=k;else if("number"==typeof k)if(k<0)S+=ne(l[f-k]);else{const z=k>>>2;switch(3&k){case 1:const j=u[++A],Q=u[++A],me=a.data[z];"string"==typeof me?Xd(l[11],l[z],null,me,j,S,Q):ur(a,me,l,j,S,l[11],Q,!1);break;case 0:const Pe=l[z];null!==Pe&&U6(l[11],Pe,S);break;case 2:$7(a,lc(a,z),l,S);break;case 3:q7(a,lc(a,z),f,l)}}}}else{const S=u[m+1];if(S>0&&3==(3&S)){const k=lc(a,S>>>2);l[k.currentCaseLViewIndex]<0&&q7(a,k,f,l)}}m+=w}}function q7(a,l,u,f){let p=f[l.currentCaseLViewIndex];if(null!==p){let m=m5;p<0&&(p=f[l.currentCaseLViewIndex]=~p,m=-1),Kg(a,f,l.update[p],u,m)}}function $7(a,l,u,f){const p=function(a,l){let u=a.cases.indexOf(l);if(-1===u)switch(a.type){case 1:{const f=function(a,l){const u=E1(l)(parseInt(a,10)),f=$g[u];return void 0!==f?f:"other"}(l,rn);u=a.cases.indexOf(f),-1===u&&"other"!==f&&(u=a.cases.indexOf("other"));break}case 0:u=a.cases.indexOf("other")}return-1===u?null:u}(l,f);if(D4(l,u)!==p&&(G8(a,l,u),u[l.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const y=u[l.anchorIdx];y&&Yg(a,l.create[p],u,y)}}function G8(a,l,u){let f=D4(l,u);if(null!==f){const p=l.remove[f];for(let m=0;m<p.length;m++){const y=p[m];if(y>0){const w=W1(y,u);null!==w&&rp(u[11],w)}else G8(a,lc(a,~y),u)}}}function cc(){const a=[];let u,f,l=-1;function m(w,S){l=0;const A=D4(w,S);f=null!==A?w.remove[A]:Ut}function y(){if(l<f.length){const w=f[l++];return w>0?u[w]:(a.push(l,f),m(u[1].data[~w],u),y())}return 0===a.length?null:(f=a.pop(),l=a.pop(),y())}return function(w,S){for(u=S;a.length;)a.pop();return m(w.value,S),y}}const j8=/\ufffd(\d+):?\d*\ufffd/gi,Qg=/\ufffd(\d+)\ufffd/,$8=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Z7=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Y7=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,dM=/\uE500/g;function Jg(a,l,u,f,p,m,y){const w=_4(a,f,1,null);let S=w<<ui.SHIFT,A=Z1();l===A&&(A=null),null===A&&(S|=ui.APPEND_EAGERLY),y&&(S|=ui.COMMENT,function(a){void 0===P6&&(P6=a())}(cc)),p.push(S,null===m?"":m);const k=wp(a,w,y?32:1,null===m?"":m,null);F7(u,k);const z=k.index;return H1(k,!1),null!==A&&l!==A&&function(a,l){let u=a.insertBeforeIndex;null===u?(jl(f3,Wg),u=a.insertBeforeIndex=[null,l]):(function(a,l,u){a!=l&&yt(u,a,l,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(l))}(A,z),k}function hM(a,l,u,f,p,m,y){const w=y.match(j8),S=Jg(a,l,u,m,f,w?null:y,!1);w&&Mo(p,y,S.index,null,0,null)}function Mo(a,l,u,f,p,m){const y=a.length,w=y+1;a.push(null,null);const S=y+2,A=l.split(j8);let k=0;for(let z=0;z<A.length;z++){const j=A[z];if(1&z){const Q=p+parseInt(j,10);a.push(-1-Q),k|=Q7(Q)}else""!==j&&a.push(j)}return a.push(u<<2|(f?1:0)),f&&a.push(f,m),a[y]=k,a[w]=a.length-S,k}function Q7(a){return 1<<Math.min(a,31)}function eC(a){let l,m,u="",f=0,p=!1;for(;null!==(l=Z7.exec(a));)p?l[0]===`\ufffd/*${m}\ufffd`&&(f=l.index,p=!1):(u+=a.substring(f,l.index+l[0].length),m=l[1],p=!0);return u+=a.substr(f),u}function tC(a,l,u,f,p,m){let y=0;const w={type:p.type,currentCaseLViewIndex:_4(a,l,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function(a,l,u){a.push(Q7(l.mainBinding),2,-1-l.mainBinding,u<<2|2)})(u,p,m),function(a,l,u){const f=a.data[l];null===f?a.data[l]=u:f.value=u}(a,m,w);const S=p.values;for(let A=0;A<S.length;A++){const k=S[A],z=[];for(let j=0;j<k.length;j++){const Q=k[j];if("string"!=typeof Q){const me=z.push(Q)-1;k[j]=`\x3c!--\ufffd${me}\ufffd--\x3e`}}y=nC(a,w,l,u,f,p.cases[A],k.join(""),z)|y}y&&function(a,l,u){a.push(l,1,u<<2|3)}(u,y,m)}function pM(a){const l=[],u=[];let f=1,p=0;const m=X7(a=a.replace($8,function(y,w,S){return f="select"===S?0:1,p=parseInt(w.substr(1),10),""}));for(let y=0;y<m.length;){let w=m[y++].trim();1===f&&(w=w.replace(/\s*(?:=)?(\w+)\s*/,"$1")),w.length&&l.push(w);const S=X7(m[y++]);l.length>u.length&&u.push(S)}return{type:f,mainBinding:p,cases:l,values:u}}function X7(a){if(!a)return[];let l=0;const u=[],f=[],p=/[{}]/g;let m;for(p.lastIndex=0;m=p.exec(a);){const w=m.index;if("}"==m[0]){if(u.pop(),0==u.length){const S=a.substring(l,w);$8.test(S)?f.push(pM(S)):f.push(S),l=w+1}}else{if(0==u.length){const S=a.substring(l,w);f.push(S),l=w+1}u.push("{")}}const y=a.substring(l);return f.push(y),f}function nC(a,l,u,f,p,m,y,w){const S=[],A=[],k=[];l.cases.push(m),l.create.push(S),l.remove.push(A),l.update.push(k);const j=Qa(B3()).getInertBodyElement(y),Q=E6(j)||j;return Q?v5(a,l,u,f,S,A,k,Q,p,w,0):0}function v5(a,l,u,f,p,m,y,w,S,A,k){let z=0,j=w.firstChild;for(;j;){const Q=_4(a,u,1,null);switch(j.nodeType){case Node.ELEMENT_NODE:const me=j,Pe=me.tagName.toLowerCase();if(Dl.hasOwnProperty(Pe)){Z8(p,h5,Pe,S,Q),a.data[Q]=Pe;const bt=me.attributes;for(let cn=0;cn<bt.length;cn++){const En=bt.item(cn),fr=En.name.toLowerCase();En.value.match(j8)?w6.hasOwnProperty(fr)&&Mo(y,En.value,Q,En.name,0,Al[fr]?ms:Q0[fr]?M6:null):CM(p,Q,En)}z=v5(a,l,u,f,p,m,y,j,Q,A,k+1)|z,iC(m,Q,k)}break;case Node.TEXT_NODE:const je=j.textContent||"",rt=je.match(j8);Z8(p,null,rt?"":je,S,Q),iC(m,Q,k),rt&&(z=Mo(y,je,Q,null,0,null)|z);break;case Node.COMMENT_NODE:const we=Qg.exec(j.textContent||"");if(we){const cn=A[parseInt(we[1],10)];Z8(p,p5,"",S,Q),tC(a,u,f,S,cn,Q),ef(m,Q,k)}}j=j.nextSibling}return z}function iC(a,l,u){0===u&&a.push(l)}function ef(a,l,u){0===u&&(a.push(~l),a.push(l))}function Z8(a,l,u,f,p){null!==l&&a.push(l),a.push(u,p,function(a,l,u){return 0|l<<17|u<<1}(0,f,p))}function CM(a,l,u){a.push(l<<1|1,u.name,u.value)}function oC(a,l,u=-1){const f=Zt(),p=Ee(),m=20+a,y=d1(f.consts,l),w=Z1();f.firstCreatePass&&function(a,l,u,f,p,m){const y=Z1(),w=[],S=[],A=[[]];p=function(a,l){if(function(a){return-1===a}(l))return eC(a);{const u=a.indexOf(`:${l}\ufffd`)+2+l.toString().length,f=a.search(new RegExp(`\ufffd\\/\\*\\d+:${l}\ufffd`));return eC(a.substring(u,f))}}(p,m);const k=function(a){return a.replace(dM," ")}(p).split(Y7);for(let z=0;z<k.length;z++){let j=k[z];if(0==(1&z)){const Q=X7(j);for(let me=0;me<Q.length;me++){let Pe=Q[me];if(0==(1&me)){const je=Pe;""!==je&&hM(a,y,A[0],w,S,u,je)}else{const je=Pe;if("object"!=typeof je)throw new Error(`Unable to parse ICU expression in "${p}" message.`);tC(a,u,S,l,je,Jg(a,y,A[0],u,w,"",!0).index)}}}else{const Q=47===j.charCodeAt(0),Pe=(j.charCodeAt(Q?1:0),20+Number.parseInt(j.substring(Q?2:1)));if(Q)A.shift(),H1(Z1(),!1);else{const je=U7(a,A[0],Pe);A.unshift([]),H1(je,!0)}}}a.data[f]={create:w,update:S}}(f,null===w?0:w.index,p,m,y,u);const S=f.data[m],k=ut(f,w===p[6]?null:w,p);(function(a,l,u,f){const p=a[11];for(let m=0;m<l.length;m++){const y=l[m++],w=l[m],S=(y&ui.COMMENT)===ui.COMMENT,A=(y&ui.APPEND_EAGERLY)===ui.APPEND_EAGERLY,k=y>>>ui.SHIFT;let z=a[k];null===z&&(z=a[k]=S?p.createComment(w):f8(p,w)),A&&null!==u&&Gt(p,u,z,f,!1)}})(p,S.create,k,w&&8&w.type?p[w.index]:null),Ks(!0)}function fc(a,l,u){oC(a,l,u),Ks(!1)}function I4(a){return function(a){a&&(m5|=1<<Math.min(h3,31)),h3++}(z1(Ee(),is(),a)),I4}function g3(a){!function(a,l,u){if(h3>0){const f=a.data[u];Kg(a,l,Array.isArray(f)?f:f.update,_t.lFrame.bindingIndex-h3-1,m5)}m5=0,h3=0}(Zt(),Ee(),a+20)}function Y8(a,l,u,f,p){if(a=re(a),Array.isArray(a))for(let m=0;m<a.length;m++)Y8(a[m],l,u,f,p);else{const m=Zt(),y=Ee();let w=J6(a)?a:re(a.provide),S=cb(a);const A=Pn(),k=1048575&A.providerIndexes,z=A.directiveStart,j=A.providerIndexes>>20;if(J6(a)||!a.multi){const Q=new Xs(S,p,s5),me=y5(w,l,p?k:k+j,z);-1===me?(ja(Ko(A,y),m,w),nf(m,a,l.length),l.push(w),A.directiveStart++,A.directiveEnd++,p&&(A.providerIndexes+=1048576),u.push(Q),y.push(Q)):(u[me]=Q,y[me]=Q)}else{const Q=y5(w,l,k+j,z),me=y5(w,l,k,k+j),Pe=Q>=0&&u[Q],je=me>=0&&u[me];if(p&&!je||!p&&!Pe){ja(Ko(A,y),m,w);const rt=function(a,l,u,f,p){const m=new Xs(a,u,s5);return m.multi=[],m.index=l,m.componentProviders=0,lC(m,p,f&&!u),m}(p?cC:jr,u.length,p,f,S);!p&&je&&(u[me].providerFactory=rt),nf(m,a,l.length,0),l.push(w),A.directiveStart++,A.directiveEnd++,p&&(A.providerIndexes+=1048576),u.push(rt),y.push(rt)}else nf(m,a,Q>-1?Q:me,lC(u[p?me:Q],S,!p&&f));!p&&f&&je&&u[me].componentProviders++}}}function nf(a,l,u,f){const p=J6(l),m=function(a){return!!a.useClass}(l);if(p||m){const S=(m?re(l.useClass):l).prototype.ngOnDestroy;if(S){const A=a.destroyHooks||(a.destroyHooks=[]);if(!p&&l.multi){const k=A.indexOf(u);-1===k?A.push(u,[f,S]):A[k+1].push(f,S)}else A.push(u,S)}}}function lC(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function y5(a,l,u,f){for(let p=u;p<f;p++)if(l[p]===a)return p;return-1}function jr(a,l,u,f){return K8(this.multi,[])}function cC(a,l,u,f){const p=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=J1(u,u[1],this.providerFactory.index,f);m=w.slice(0,y),K8(p,m);for(let S=y;S<w.length;S++)m.push(w[S])}else m=[],K8(p,m);return m}function K8(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function b5(a,l=[]){return u=>{u.providersResolver=(f,p)=>function(a,l,u){const f=Zt();if(f.firstCreatePass){const p=V1(a);Y8(u,f.data,f.blueprint,p,!0),Y8(l,f.data,f.blueprint,p,!1)}}(f,p?p(a):a,l)}}class uC{}class fC{resolveComponentFactory(l){throw function(a){const l=Error(`No component factory found for ${ue(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let hc=(()=>{class a{}return a.NULL=new fC,a})();function M5(){return N4(Pn(),Ee())}function N4(a,l){return new C3(Wn(a,l))}let C3=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=M5,a})();function hC(a){return a instanceof C3?a.nativeElement:a}class pC{}let EM=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function(){const a=Ee(),u=w1(Pn().index,a);return function(a){return a[11]}(nr(u)?u:a)}(),a})(),sf=(()=>{class a{}return a.\u0275prov=kn({token:a,providedIn:"root",factory:()=>null}),a})();class gC{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const af=new gC("13.1.1"),pc={};function J8(a,l,u,f,p=!1){for(;null!==u;){const m=l[u.index];if(null!==m&&f.push(Dn(m)),C2(m))for(let w=10;w<m.length;w++){const S=m[w],A=S[1].firstChild;null!==A&&J8(S[1],S,A,f)}const y=u.type;if(8&y)J8(a,l,u.child,f);else if(32&y){const w=z6(u,l);let S;for(;S=w();)f.push(S)}else if(16&y){const w=$l(l,u);if(Array.isArray(w))f.push(...w);else{const S=m1(l[16]);J8(S[1],S,w,f,!0)}}u=p?u.projectionNext:u.next}return f}class w5{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return J8(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(C2(l)){const u=l[8],f=u?u.indexOf(this):-1;f>-1&&(I(l,f),us(u,f))}this._attachedToViewContainer=!1}G(this._lView[1],this._lView)}onDestroy(l){Yl(this._lView[1],this._lView,null,l)}markForCheck(){Ep(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Lp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(a,l,u){ns(!0);try{Lp(a,l,u)}finally{ns(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var l;this._appRef=null,q6(this._lView[1],l=this._lView,l[11],2,null,null)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=l}}class X8 extends w5{constructor(l){super(l),this._view=l}detectChanges(){rb(this._view)}checkNoChanges(){!function(a){ns(!0);try{rb(a)}finally{ns(!1)}}(this._view)}get context(){return null}}class CC extends hc{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=Vn(l);return new lf(u,this.ngModule)}}function gc(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}const AM=new vn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>S2});class lf extends uC{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=l.selectors.map(Vy).join(","),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return gc(this.componentDef.inputs)}get outputs(){return gc(this.componentDef.outputs)}create(l,u,f,p){const m=(p=p||this.ngModule)?function(a,l){return{get:(u,f,p)=>{const m=a.get(u,pc,p);return m!==pc||f===pc?m:l.get(u,f,p)}}}(l,p.injector):l,y=m.get(pC,U3),w=m.get(sf,null),S=y.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",k=f?function(a,l,u){if(Cn(a))return a.selectRootElement(l,u===et.ShadowDom);let f="string"==typeof l?a.querySelector(l):l;return f.textContent="",f}(S,f,this.componentDef.encapsulation):h8(y.createRenderer(null,this.componentDef),A,function(a){const l=a.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(A)),z=this.componentDef.onPush?576:528,j=function(a,l){return{components:[],scheduler:a||S2,clean:II,playerHandler:l||null,flags:0}}(),Q=b8(0,null,null,1,0,null,null,null,null,null),me=Zl(null,Q,j,z,null,null,y,S,w,m);let Pe,je;os(me);try{const rt=function(a,l,u,f,p,m){const y=u[1];u[20]=a;const S=m4(y,20,2,"#host",null),A=S.mergedAttrs=l.hostAttrs;null!==A&&(K6(S,A,!0),null!==a&&(bn(p,a,A),null!==S.classes&&Rd(p,a,S.classes),null!==S.styles&&op(p,a,S.styles)));const k=f.createRenderer(a,l),z=Zl(u,Yd(l),null,l.onPush?64:16,u[20],S,f,k,m||null,null);return y.firstCreatePass&&(ja(Ko(S,u),y,l.type),Xy(y,S),eb(S,u.length,1)),t7(u,z),u[20]=z}(k,this.componentDef,me,y,S);if(k)if(f)bn(S,k,["ng-version",af.full]);else{const{attrs:we,classes:bt}=function(a){const l=[],u=[];let f=1,p=2;for(;f<a.length;){let m=a[f];if("string"==typeof m)2===p?""!==m&&l.push(m,a[++f]):8===p&&u.push(m);else{if(!cr(p))break;p=m}f++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);we&&bn(S,k,we),bt&&bt.length>0&&Rd(S,k,bt.join(" "))}if(je=Go(Q,20),void 0!==u){const we=je.projection=[];for(let bt=0;bt<this.ngContentSelectors.length;bt++){const cn=u[bt];we.push(null!=cn?Array.from(cn):null)}}Pe=function(a,l,u,f,p){const m=u[1],y=function(a,l,u){const f=Pn();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),tb(a,f,l,_4(a,l,1,null),u));const p=J1(l,a,f.directiveStart,f);C1(p,l);const m=Wn(f,l);return m&&C1(m,l),p}(m,u,l);if(f.components.push(y),a[8]=y,p&&p.forEach(S=>S(y,l)),l.contentQueries){const S=Pn();l.contentQueries(1,y,S.directiveStart)}const w=Pn();return!m.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(K1(w.index),ys(u[1],w,0,w.directiveStart,w.directiveEnd,l),Jy(l,y)),y}(rt,this.componentDef,me,j,[E8]),v8(Q,me,null)}finally{W3()}return new NM(this.componentType,Pe,N4(je,me),me,je)}}class NM extends class{}{constructor(l,u,f,p,m){super(),this.location=f,this._rootLView=p,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new X8(p),this.componentType=l}get injector(){return new Vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class Cc{}class mC{}const mc=new Map;class vC extends Cc{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new CC(this);const f=hi(l);this._bootstrapComponents=$2(f.bootstrap),this._r3Injector=lb(l,u,[{provide:Cc,useValue:this},{provide:hc,useValue:this.componentFactoryResolver}],ue(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,u=bs.THROW_IF_NOT_FOUND,f=ct.Default){return l===bs||l===Cc||l===r7?this:this._r3Injector.get(l,u,f)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class eu extends mC{constructor(l){super(),this.moduleType=l,null!==hi(l)&&function(a){const l=new Set;!function u(f){const p=hi(f,!0),m=p.id;null!==m&&(function(a,l,u){if(l&&l!==u)throw new Error(`Duplicate module registered for ${a} - ${ue(l)} vs ${ue(l.name)}`)}(m,mc.get(m),f),mc.set(m,f));const y=$2(p.imports);for(const w of y)l.has(w)||(l.add(w),u(w))}(a)}(l)}create(l){return new vC(this.moduleType,l)}}function uf(a,l,u,f){return function(a,l,u,f,p,m){const y=l+u;return z1(a,y,p)?vo(a,y+1,m?f.call(m,p):f(p)):k4(a,y+1)}(Ee(),Fi(),a,l,u,f)}function df(a,l,u,f,p){return function(a,l,u,f,p,m,y){const w=l+u;return a3(a,w,p,m)?vo(a,w+2,y?f.call(y,p,m):f(p,m)):k4(a,w+2)}(Ee(),Fi(),a,l,u,f,p)}function ff(a,l,u,f,p,m){return function(a,l,u,f,p,m,y,w){const S=l+u;return function(a,l,u,f,p){const m=a3(a,l,u,f);return z1(a,l+2,p)||m}(a,S,p,m,y)?vo(a,S+3,w?f.call(w,p,m,y):f(p,m,y)):k4(a,S+3)}(Ee(),Fi(),a,l,u,f,p,m)}function k4(a,l){const u=a[l];return u===jt?void 0:u}function _c(a){return l=>{setTimeout(a,void 0,l)}}const o1=class extends o.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,f){var p,m,y;let w=l,S=u||(()=>null),A=f;if(l&&"object"==typeof l){const z=l;w=null===(p=z.next)||void 0===p?void 0:p.bind(z),S=null===(m=z.error)||void 0===m?void 0:m.bind(z),A=null===(y=z.complete)||void 0===y?void 0:y.bind(z)}this.__isAsync&&(S=_c(S),w&&(w=_c(w)),A&&(A=_c(A)));const k=super.subscribe({next:w,error:S,complete:A});return l instanceof X.w0&&l.add(k),k}};function nu(){return this._results[t5()]()}class ga{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=t5(),f=ga.prototype;f[u]||(f[u]=nu)}get changes(){return this._changes||(this._changes=new o1)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const f=this;f.dirty=!1;const p=Jt(l);(this._changesDetected=!function(a,l,u){if(a.length!==l.length)return!1;for(let f=0;f<a.length;f++){let p=a[f],m=l[f];if(u&&(p=u(p),m=u(m)),m!==p)return!1}return!0}(f._results,p,u))&&(f._results=p,f.length=p.length,f.last=p[this.length-1],f.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ca=(()=>{class a{}return a.__NG_ELEMENT_ID__=ZM,a})();const WM=Ca,SC=class extends WM{constructor(l,u,f){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=f}createEmbeddedView(l){const u=this._declarationTContainer.tViews,f=Zl(this._declarationLView,u,l,16,null,u.declTNode,null,null,null,null);f[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(f[19]=m.createEmbeddedView(u)),v8(u,f,l),new w5(f)}};function ZM(){return S5(Pn(),Ee())}function S5(a,l){return 4&a.type?new SC(l,a,N4(a,l)):null}let E5=(()=>{class a{}return a.__NG_ELEMENT_ID__=pf,a})();function pf(){return EC(Pn(),Ee())}const MN=E5,m3=class extends MN{constructor(l,u,f){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=f}get element(){return N4(this._hostTNode,this._hostLView)}get injector(){return new Vr(this._hostTNode,this._hostLView)}get parentInjector(){const l=kr(this._hostTNode,this._hostLView);if(mt(l)){const u=cs(l,this._hostLView),f=f1(l);return new Vr(u[1].data[f+8],u)}return new Vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=gf(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,f){const p=l.createEmbeddedView(u||{});return this.insert(p,f),p}createComponent(l,u,f,p,m){const y=l&&!("function"==typeof l);let w;if(y)w=u;else{const z=u||{};w=z.index,f=z.injector,p=z.projectableNodes,m=z.ngModuleRef}const S=y?l:new lf(Vn(l)),A=f||this.parentInjector;if(!m&&null==S.ngModule&&A){const z=A.get(Cc,null);z&&(m=z)}const k=S.create(A,p,void 0,m);return this.insert(k.hostView,w),k}insert(l,u){const f=l._lView,p=f[1];if(C2(f[3])){const k=this.indexOf(l);if(-1!==k)this.detach(k);else{const z=f[3],j=new m3(z,z[6],z[3]);j.detach(j.indexOf(l))}}const m=this._adjustIndex(u),y=this._lContainer;!function(a,l,u,f){const p=10+f,m=u.length;f>0&&(u[p-1][4]=l),f<m-10?(l[4]=u[p],e4(u,10+f,l)):(u.push(l),l[4]=null),l[3]=u;const y=l[17];null!==y&&u!==y&&function(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(y,l);const w=l[19];null!==w&&w.insertView(a),l[2]|=128}(p,f,y,m);const w=j6(m,y),S=f[11],A=r3(S,y[7]);return null!==A&&function(a,l,u,f,p,m){f[0]=p,f[6]=l,q6(a,f,u,1,p,m)}(p,y[6],S,f,A,w),l.attachToViewContainerRef(),e4(Cf(y),m,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=gf(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),f=I(this._lContainer,u);f&&(us(Cf(this._lContainer),u),G(f[1],f))}detach(l){const u=this._adjustIndex(l,-1),f=I(this._lContainer,u);return f&&null!=us(Cf(this._lContainer),u)?new w5(f):null}_adjustIndex(l,u=0){return null==l?this.length+u:l}};function gf(a){return a[8]}function Cf(a){return a[8]||(a[8]=[])}function EC(a,l){let u;const f=l[a.index];if(C2(f))u=f;else{let p;if(8&a.type)p=Dn(f);else{const m=l[11];p=m.createComment("");const y=Wn(a,l);Gt(m,r3(m,y),p,function(a,l){return Cn(a)?a.nextSibling(l):l.nextSibling}(m,y),!1)}l[a.index]=u=nb(f,l,p,a),t7(l,u)}return new m3(u,a,l)}class _f{constructor(l){this.queryList=l,this.matches=null}clone(){return new _f(this.queryList)}setDirty(){this.queryList.setDirty()}}class iu{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const f=null!==l.contentQueries?l.contentQueries[0]:u.length,p=[];for(let m=0;m<f;m++){const y=u.getByIndex(m);p.push(this.queries[y.indexInDeclarationView].clone())}return new iu(p)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==XM(l,u).matches&&this.queries[u].setDirty()}}class LC{constructor(l,u,f=null){this.predicate=l,this.flags=u,this.read=f}}class vf{constructor(l=[]){this.queries=l}elementStart(l,u){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let f=0;f<this.length;f++){const p=null!==u?u.length:0,m=this.getByIndex(f).embeddedTView(l,p);m&&(m.indexInDeclarationView=f,null!==u?u.push(m):u=[m])}return null!==u?new vf(u):null}template(l,u){for(let f=0;f<this.queries.length;f++)this.queries[f].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class yf{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new yf(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let f=l.parent;for(;null!==f&&8&f.type&&f.index!==u;)f=f.parent;return u===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const f=this.metadata.predicate;if(Array.isArray(f))for(let p=0;p<f.length;p++){const m=f[p];this.matchTNodeWithReadOption(l,u,bf(u,m)),this.matchTNodeWithReadOption(l,u,Mn(u,l,m,!1,!1))}else f===Ca?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,Mn(u,l,f,!1,!1))}matchTNodeWithReadOption(l,u,f){if(null!==f){const p=this.metadata.read;if(null!==p)if(p===C3||p===E5||p===Ca&&4&u.type)this.addMatch(u.index,-2);else{const m=Mn(u,l,p,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,f)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function bf(a,l){const u=a.localNames;if(null!==u)for(let f=0;f<u.length;f+=2)if(u[f]===l)return u[f+1];return null}function QM(a,l,u,f){return-1===u?function(a,l){return 11&a.type?N4(a,l):4&a.type?S5(a,l):null}(l,a):-2===u?function(a,l,u){return u===C3?N4(l,a):u===Ca?S5(l,a):u===E5?EC(l,a):void 0}(a,l,f):J1(a,a[1],u,l)}function DC(a,l,u,f){const p=l[19].queries[f];if(null===p.matches){const m=a.data,y=u.matches,w=[];for(let S=0;S<y.length;S+=2){const A=y[S];w.push(A<0?null:QM(l,m[A],y[S+1],u.metadata.read))}p.matches=w}return p.matches}function AC(a,l,u,f){const p=a.queries.getByIndex(u),m=p.matches;if(null!==m){const y=DC(a,l,p,u);for(let w=0;w<m.length;w+=2){const S=m[w];if(S>0)f.push(y[w/2]);else{const A=m[w+1],k=l[-S];for(let z=10;z<k.length;z++){const j=k[z];j[17]===j[3]&&AC(j[1],j,A,f)}if(null!==k[9]){const z=k[9];for(let j=0;j<z.length;j++){const Q=z[j];AC(Q[1],Q,A,f)}}}}}return f}function Xn(a){const l=Ee(),u=Zt(),f=za();ss(f+1);const p=XM(u,f);if(a.dirty&&qs(l)===(2==(2&p.metadata.flags))){if(null===p.matches)a.reset([]);else{const m=p.crossesNgTemplate?AC(u,l,f,[]):DC(u,l,p,f);a.reset(m,hC),a.notifyOnChanges()}return!0}return!1}function E2(a,l,u){const f=Zt();f.firstCreatePass&&(kC(f,new LC(a,l,u),-1),2==(2&l)&&(f.staticViewQueries=!0)),NC(f,Ee(),l)}function F1(a,l,u,f){const p=Zt();if(p.firstCreatePass){const m=Pn();kC(p,new LC(l,u,f),m.index),function(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(p,a),2==(2&u)&&(p.staticContentQueries=!0)}NC(p,Ee(),u)}function IC(){return a=Ee(),l=za(),a[19].queries[l].queryList;var a,l}function NC(a,l,u){const f=new ga(4==(4&u));Yl(a,l,f,f.destroy),null===l[19]&&(l[19]=new iu),l[19].queries.push(new _f(f))}function kC(a,l,u){null===a.queries&&(a.queries=new vf),a.queries.track(new yf(l,u))}function XM(a,l){return a.queries.getByIndex(l)}function V4(a,l){return S5(a,l)}function Df(...a){}const zC=new vn("Application Initializer");let A5=(()=>{class a{constructor(u){this.appInits=u,this.resolve=Df,this.reject=Df,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,p)=>{this.resolve=f,this.reject=p})}runInitializers(){if(this.initialized)return;const u=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const m=this.appInits[p]();if(k8(m))u.push(m);else if(Nb(m)){const y=new Promise((w,S)=>{m.subscribe({complete:w,error:S})});u.push(y)}}Promise.all(u).then(()=>{f()}).catch(p=>{this.reject(p)}),0===u.length&&f(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(Me(zC,8))},a.\u0275prov=kn({token:a,factory:a.\u0275fac}),a})();const Af=new vn("AppId"),kN={provide:Af,useFactory:function(){return`${FC()}${FC()}${FC()}`},deps:[]};function FC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const fw=new vn("Platform Initializer"),hw=new vn("Platform ID"),pw=new vn("appBootstrapListener");let gw=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=kn({token:a,factory:a.\u0275fac}),a})();const If=new vn("LocaleId"),Cw=new vn("DefaultCurrencyCode");class VN{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let BC=(()=>{class a{compileModuleSync(u){return new eu(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const f=this.compileModuleSync(u),m=$2(hi(u).declarations).reduce((y,w)=>{const S=Vn(w);return S&&y.push(new lf(S)),y},[]);return new VN(f,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=kn({token:a,factory:a.\u0275fac}),a})();const RN=(()=>Promise.resolve(0))();function UC(a){"undefined"==typeof Zone?RN.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class $r{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new o1(!1),this.onMicrotaskEmpty=new o1(!1),this.onStable=new o1(!1),this.onError=new o1(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!f&&u,p.shouldCoalesceRunChangeDetection=f,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function(){let a=Et.requestAnimationFrame,l=Et.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function(a){const l=()=>{!function(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Et,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Nf(a),a.isCheckStableRunning=!0,GC(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Nf(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,f,p,m,y,w)=>{try{return _w(a),u.invokeTask(p,m,y,w)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&l(),vw(a)}},onInvoke:(u,f,p,m,y,w,S)=>{try{return _w(a),u.invoke(p,m,y,w,S)}finally{a.shouldCoalesceRunChangeDetection&&l(),vw(a)}},onHasTask:(u,f,p,m)=>{u.hasTask(p,m),f===p&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,Nf(a),GC(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,f,p,m)=>(u.handleError(p,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(p)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$r.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if($r.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,u,f){return this._inner.run(l,u,f)}runTask(l,u,f,p){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+p,l,PN,Df,Df);try{return m.runTask(y,u,f)}finally{m.cancelTask(y)}}runGuarded(l,u,f){return this._inner.runGuarded(l,u,f)}runOutsideAngular(l){return this._outer.run(l)}}const PN={};function GC(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Nf(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function _w(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function vw(a){a._nesting--,GC(a)}class FN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new o1,this.onMicrotaskEmpty=new o1,this.onStable=new o1,this.onError=new o1}run(l,u,f){return l.apply(u,f)}runGuarded(l,u,f){return l.apply(u,f)}runOutsideAngular(l){return l()}runTask(l,u,f,p){return l.apply(u,f)}}let yw=(()=>{class a{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$r.assertNotInAngularZone(),UC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())UC(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(u)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,f,p){let m=-1;f&&f>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),u(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:p})}whenStable(u,f,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,f,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,f,p){return[]}}return a.\u0275fac=function(u){return new(u||a)(Me($r))},a.\u0275prov=kn({token:a,factory:a.\u0275fac}),a})(),bw=(()=>{class a{constructor(){this._applications=new Map,jC.addToWindow(this)}registerApplication(u,f){this._applications.set(u,f)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,f=!0){return jC.findTestabilityInTree(this,u,f)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=kn({token:a,factory:a.\u0275fac}),a})();class BN{addToWindow(l){}findTestabilityInTree(l,u,f){return null}}function UN(a){jC=a}let wo,jC=new BN;const Mw=new vn("AllowMultipleToken");class $N{constructor(l,u){this.name=l,this.token=u}}function ww(a,l,u=[]){const f=`Platform: ${l}`,p=new vn(f);return(m=[])=>{let y=xw();if(!y||y.injector.get(Mw,!1))if(a)a(u.concat(m).concat({provide:p,useValue:!0}));else{const w=u.concat(m).concat({provide:p,useValue:!0},{provide:o7,useValue:"platform"});!function(a){if(wo&&!wo.destroyed&&!wo.injector.get(Mw,!1))throw new Ze("400","");wo=a.get(Sw);const l=a.get(fw,null);l&&l.forEach(u=>u())}(bs.create({providers:w,name:f}))}return function(a){const l=xw();if(!l)throw new Ze("401","");return l}()}}function xw(){return wo&&!wo.destroyed?wo:null}let Sw=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,f){const w=function(a,l){let u;return u="noop"===a?new FN:("zone.js"===a?void 0:a)||new $r({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),u}(f?f.ngZone:void 0,{ngZoneEventCoalescing:f&&f.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:f&&f.ngZoneRunCoalescing||!1}),S=[{provide:$r,useValue:w}];return w.run(()=>{const A=bs.create({providers:S,parent:this.injector,name:u.moduleType.name}),k=u.create(A),z=k.injector.get(Co,null);if(!z)throw new Ze("402","");return w.runOutsideAngular(()=>{const j=w.onError.subscribe({next:Q=>{z.handleError(Q)}});k.onDestroy(()=>{qC(this._modules,k),j.unsubscribe()})}),function(a,l,u){try{const f=u();return k8(f)?f.catch(p=>{throw l.runOutsideAngular(()=>a.handleError(p)),p}):f}catch(f){throw l.runOutsideAngular(()=>a.handleError(f)),f}}(z,w,()=>{const j=k.injector.get(A5);return j.runInitializers(),j.donePromise.then(()=>(function(a){(function(a,l){null==a&&yt(l,a,null,"!=")})(a,"Expected localeId to be defined"),"string"==typeof a&&(rn=a.toLowerCase().replace(/_/g,"-"))}(k.injector.get(If,f5)||f5),this._moduleDoBootstrap(k),k))})})}bootstrapModule(u,f=[]){const p=Ew({},f);return function(a,l,u){const f=new eu(u);return Promise.resolve(f)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,p))}_moduleDoBootstrap(u){const f=u.injector.get(lu);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>f.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new Ze("403","");u.instance.ngDoBootstrap(f)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ze("404","");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(Me(bs))},a.\u0275prov=kn({token:a,factory:a.\u0275fac}),a})();function Ew(a,l){return Array.isArray(l)?l.reduce(Ew,a):Object.assign(Object.assign({},a),l)}let lu=(()=>{class a{constructor(u,f,p,m,y){this._zone=u,this._injector=f,this._exceptionHandler=p,this._componentFactoryResolver=m,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new P.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),S=new P.y(A=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{$r.assertNotInAngularZone(),UC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const z=this._zone.onUnstable.subscribe(()=>{$r.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{k.unsubscribe(),z.unsubscribe()}});this.isStable=(0,le.T)(w,S.pipe((0,se.B)()))}bootstrap(u,f){if(!this._initStatus.done)throw new Ze("405","");let p;p=u instanceof uC?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(p.componentType);const m=function(a){return a.isBoundToModule}(p)?void 0:this._injector.get(Cc),w=p.create(bs.NULL,[],f||p.selector,m),S=w.location.nativeElement,A=w.injector.get(yw,null),k=A&&w.injector.get(bw);return A&&k&&k.registerApplication(S,A),w.onDestroy(()=>{this.detachView(w.hostView),qC(this.components,w),k&&k.unregisterApplication(S)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Ze("101","");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const f=u;this._views.push(f),f.attachToAppRef(this)}detachView(u){const f=u;qC(this._views,f),f.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(pw,[]).concat(this._bootstrapListeners).forEach(p=>p(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(u){return new(u||a)(Me($r),Me(bs),Me(Co),Me(hc),Me(A5))},a.\u0275prov=kn({token:a,factory:a.\u0275fac}),a})();function qC(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}let Tw=!0,Dw=!1;function JN(){return Dw=!0,Tw}function XN(){if(Dw)throw new Error("Cannot enable prod mode after platform setup.");Tw=!1}let ek=(()=>{class a{}return a.__NG_ELEMENT_ID__=tk,a})();function tk(a){return function(a,l,u){if(ai(a)&&!u){const f=w1(a.index,l);return new w5(f,f)}return 47&a.type?new w5(l[16],l):null}(Pn(),Ee(),16==(16&a))}class Hf{constructor(){}supports(l){return L8(l)}create(l){return new ck(l)}}const lk=(a,l)=>l;class ck{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||lk}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,f=this._removalsHead,p=0,m=null;for(;u||f;){const y=!f||u&&u.currentIndex<Hw(f,p,m)?u:f,w=Hw(y,p,m),S=y.currentIndex;if(y===f)p--,f=f._nextRemoved;else if(u=u._next,null==y.previousIndex)p++;else{m||(m=[]);const A=w-p,k=S-p;if(A!=k){for(let j=0;j<A;j++){const Q=j<m.length?m[j]:m[j]=0,me=Q+j;k<=me&&me<A&&(m[j]=Q+1)}m[y.previousIndex]=k-A}}w!==S&&l(y,w,S)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!L8(l))throw new Error(`Error trying to diff '${ue(l)}'. Only arrays and iterables are allowed`);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let p,m,y,u=this._itHead,f=!1;if(Array.isArray(l)){this.length=l.length;for(let w=0;w<this.length;w++)m=l[w],y=this._trackByFn(w,m),null!==u&&Object.is(u.trackById,y)?(f&&(u=this._verifyReinsertion(u,m,y,w)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,y,w),f=!0),u=u._next}else p=0,function(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[t5()]();let f;for(;!(f=u.next()).done;)l(f.value)}}(l,w=>{y=this._trackByFn(p,w),null!==u&&Object.is(u.trackById,y)?(f&&(u=this._verifyReinsertion(u,w,y,p)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,y,p),f=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,f,p){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,m,p)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(f,p))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,m,p)):l=this._addAfter(new YC(u,f),m,p),l}_verifyReinsertion(l,u,f,p){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==m?l=this._reinsertAfter(m,l._prev,p):l.currentIndex!=p&&(l.currentIndex=p,this._addToMoves(l,p)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const p=l._prevRemoved,m=l._nextRemoved;return null===p?this._removalsHead=m:p._nextRemoved=m,null===m?this._removalsTail=p:m._prevRemoved=p,this._insertAfter(l,u,f),this._addToMoves(l,f),l}_moveAfter(l,u,f){return this._unlink(l),this._insertAfter(l,u,f),this._addToMoves(l,f),l}_addAfter(l,u,f){return this._insertAfter(l,u,f),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,f){const p=null===u?this._itHead:u._next;return l._next=p,l._prev=u,null===p?this._itTail=l:p._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new KC),this._linkedRecords.put(l),l.currentIndex=f,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,f=l._next;return null===u?this._itHead=f:u._next=f,null===f?this._itTail=u:f._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new KC),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class YC{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uk{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===u||u<=f.currentIndex)&&Object.is(f.trackById,l))return f;return null}remove(l){const u=l._prevDup,f=l._nextDup;return null===u?this._head=f:u._nextDup=f,null===f?this._tail=u:f._prevDup=u,null===this._head}}class KC{constructor(){this.map=new Map}put(l){const u=l.trackById;let f=this.map.get(u);f||(f=new uk,this.map.set(u,f)),f.add(l)}get(l,u){const p=this.map.get(l);return p?p.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Hw(a,l,u){const f=a.previousIndex;if(null===f)return f;let p=0;return u&&f<u.length&&(p=u[f]),f+l+p}class QC{constructor(){}supports(l){return l instanceof Map||T8(l)}create(){return new dk}}class dk{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||T8(l)))throw new Error(`Error trying to diff '${ue(l)}'. Only maps and objects are allowed`)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(f,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,f),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(p,f);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let f=u;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const f=l._prev;return u._next=l,u._prev=f,l._prev=u,f&&(f._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const p=this._records.get(l);this._maybeAddToChanges(p,u);const m=p._prev,y=p._next;return m&&(m._next=y),y&&(y._prev=m),p._next=null,p._prev=null,p}const f=new fk(l);return this._records.set(l,f),f.currentValue=u,this._addToAdditions(f),f}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(f=>u(l[f],f))}}class fk{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Rw(){return new Rf([new Hf])}let Rf=(()=>{class a{constructor(u){this.factories=u}static create(u,f){if(null!=f){const p=f.factories.slice();u=u.concat(p)}return new a(u)}static extend(u){return{provide:a,useFactory:f=>a.create(u,f||Rw()),deps:[[a,new g1,new y2]]}}find(u){const f=this.factories.find(p=>p.supports(u));if(null!=f)return f;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(a){return a.name||typeof a}(u)}'`)}}return a.\u0275prov=kn({token:a,providedIn:"root",factory:Rw}),a})();function JC(){return new Of([new QC])}let Of=(()=>{class a{constructor(u){this.factories=u}static create(u,f){if(f){const p=f.factories.slice();u=u.concat(p)}return new a(u)}static extend(u){return{provide:a,useFactory:f=>a.create(u,f||JC()),deps:[[a,new g1,new y2]]}}find(u){const f=this.factories.find(p=>p.supports(u));if(f)return f;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return a.\u0275prov=kn({token:a,providedIn:"root",factory:JC}),a})();const Ow=[new QC],XC=new Rf([new Hf]),Pw=new Of(Ow),zw=ww(null,"core",[{provide:hw,useValue:"unknown"},{provide:Sw,deps:[bs]},{provide:bw,deps:[]},{provide:gw,deps:[]}]),em=[{provide:lu,useClass:lu,deps:[$r,bs,Co,hc,A5]},{provide:AM,deps:[$r],useFactory:function(a){let l=[];return a.onStable.subscribe(()=>{for(;l.length;)l.pop()()}),function(u){l.push(u)}}},{provide:A5,useClass:A5,deps:[[new y2,zC]]},{provide:BC,useClass:BC,deps:[]},kN,{provide:Rf,useFactory:function(){return XC},deps:[]},{provide:Of,useFactory:function(){return Pw},deps:[]},{provide:If,useFactory:function(a){return a||"undefined"!=typeof $localize&&$localize.locale||f5},deps:[[new v2(If),new y2,new g1]]},{provide:Cw,useValue:"USD"}];let jw=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(Me(lu))},a.\u0275mod=Ge({type:a}),a.\u0275inj=Ii({providers:em}),a})()},3942:(ht,xe,O)=>{O.d(xe,{Z:()=>Ze});var o=O(2090),X=O(4859),P=O(9681),le=O(1877);class se{constructor(Fe,ne){this._delegate=Fe,this.firebase=ne,(0,P._addComponent)(Fe,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=Fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this._delegate.automaticDataCollectionEnabled=Fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Fe=>{this._delegate.checkDestroyed(),Fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(Fe,ne=P._DEFAULT_ENTRY_NAME){var De;this._delegate.checkDestroyed();const Be=this._delegate.container.getProvider(Fe);return!Be.isInitialized()&&"EXPLICIT"===(null===(De=Be.getComponent())||void 0===De?void 0:De.instantiationMode)&&Be.initialize(),Be.getImmediate({identifier:ne})}_removeServiceInstance(Fe,ne=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Fe).clearInstance(ne)}_addComponent(Fe){(0,P._addComponent)(this._delegate,Fe)}_addOrOverwriteComponent(Fe){(0,P._addOrOverwriteComponent)(this._delegate,Fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const J=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function ge(){const Ue=function(Ue){const Fe={},ne={__esModule:!0,initializeApp:function(Xe,vt={}){const ie=P.initializeApp(Xe,vt);if((0,o.r3)(Fe,ie.name))return Fe[ie.name];const fe=new Ue(ie,ne);return Fe[ie.name]=fe,fe},app:Be,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function(Xe){const vt=Xe.name,ie=vt.replace("-compat","");if(P._registerComponent(Xe)&&"PUBLIC"===Xe.type){const fe=(ve=Be())=>{if("function"!=typeof ve[ie])throw J.create("invalid-app-argument",{appName:vt});return ve[ie]()};void 0!==Xe.serviceProps&&(0,o.ZB)(fe,Xe.serviceProps),ne[ie]=fe,Ue.prototype[ie]=function(...ve){return this._getService.bind(this,vt).apply(this,Xe.multipleInstances?ve:[])}}return"PUBLIC"===Xe.type?ne[ie]:null},removeApp:function(Xe){delete Fe[Xe]},useAsService:function(Xe,vt){return"serverAuth"===vt?null:vt},modularAPIs:P}};function Be(Xe){if(!(0,o.r3)(Fe,Xe=Xe||P._DEFAULT_ENTRY_NAME))throw J.create("no-app",{appName:Xe});return Fe[Xe]}return ne.default=ne,Object.defineProperty(ne,"apps",{get:function(){return Object.keys(Fe).map(Xe=>Fe[Xe])}}),Be.App=Ue,ne}(se);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function(ne){(0,o.ZB)(Ue,ne)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),Ue}(),W=new le.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=q;(0,P.registerVersion)("@firebase/app-compat","0.1.21",undefined)},9681:(ht,xe,O)=>{O.r(xe),O.d(xe,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>ti,_DEFAULT_ENTRY_NAME:()=>Rn,_addComponent:()=>Nn,_addOrOverwriteComponent:()=>p2,_apps:()=>Qt,_clearComponents:()=>Ii,_components:()=>yt,_getProvider:()=>kn,_registerComponent:()=>M1,_removeServiceInstance:()=>Q2,deleteApp:()=>Ae,getApp:()=>bi,getApps:()=>j1,initializeApp:()=>Kr,onLog:()=>fi,registerVersion:()=>ct,setLogLevel:()=>ni});var o=O(5861),X=O(4859),P=O(1877),le=O(2090);class se{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(pt=>{if(function(Qe){const Se=Qe.getComponent();return"VERSION"===(null==Se?void 0:Se.type)}(pt)){const gt=pt.getImmediate();return`${gt.library}/${gt.version}`}return null}).filter(pt=>pt).join(" ")}}const J="@firebase/app",ge=new P.Yd("@firebase/app"),Rn="[DEFAULT]",Ot={[J]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qt=new Map,yt=new Map;function Nn(Qe,Se){try{Qe.container.addComponent(Se)}catch(pt){ge.debug(`Component ${Se.name} failed to register with FirebaseApp ${Qe.name}`,pt)}}function p2(Qe,Se){Qe.container.addOrOverwriteComponent(Se)}function M1(Qe){const Se=Qe.name;if(yt.has(Se))return ge.debug(`There were multiple attempts to register component ${Se}.`),!1;yt.set(Se,Qe);for(const pt of Qt.values())Nn(pt,Qe);return!0}function kn(Qe,Se){const pt=Qe.container.getProvider("heartbeat").getImmediate({optional:!0});return pt&&pt.triggerHeartbeat(),Qe.container.getProvider(Se)}function Q2(Qe,Se,pt=Rn){kn(Qe,Se).clearInstance(pt)}function Ii(){yt.clear()}const Ki=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Un{constructor(Se,pt,gt){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},pt),this._name=pt.name,this._automaticDataCollectionEnabled=pt.automaticDataCollectionEnabled,this._container=gt,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}const ti="9.6.10";function Kr(Qe,Se={}){"object"!=typeof Se&&(Se={name:Se});const pt=Object.assign({name:Rn,automaticDataCollectionEnabled:!1},Se),gt=pt.name;if("string"!=typeof gt||!gt)throw Ki.create("bad-app-name",{appName:String(gt)});const tn=Qt.get(gt);if(tn){if((0,le.vZ)(Qe,tn.options)&&(0,le.vZ)(pt,tn.config))return tn;throw Ki.create("duplicate-app",{appName:gt})}const hn=new X.H0(gt);for(const B of yt.values())hn.addComponent(B);const $=new Un(Qe,pt,hn);return Qt.set(gt,$),$}function bi(Qe=Rn){const Se=Qt.get(Qe);if(!Se)throw Ki.create("no-app",{appName:Qe});return Se}function j1(){return Array.from(Qt.values())}function Ae(Qe){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,o.Z)(function*(Qe){const Se=Qe.name;Qt.has(Se)&&(Qt.delete(Se),yield Promise.all(Qe.container.getProviders().map(pt=>pt.delete())),Qe.isDeleted=!0)})).apply(this,arguments)}function ct(Qe,Se,pt){var gt;let tn=null!==(gt=Ot[Qe])&&void 0!==gt?gt:Qe;pt&&(tn+=`-${pt}`);const hn=tn.match(/\s|\//),$=Se.match(/\s|\//);if(hn||$){const B=[`Unable to register library "${tn}" with version "${Se}":`];return hn&&B.push(`library name "${tn}" contains illegal characters (whitespace or "/")`),hn&&$&&B.push("and"),$&&B.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void ge.warn(B.join(" "))}M1(new X.wA(`${tn}-version`,()=>({library:tn,version:Se}),"VERSION"))}function fi(Qe,Se){if(null!==Qe&&"function"!=typeof Qe)throw Ki.create("invalid-log-argument");(0,P.Am)(Qe,Se)}function ni(Qe){(0,P.Ub)(Qe)}const Pi="firebase-heartbeat-store";let zi=null;function ii(){return zi||(zi=(0,le.X3)("firebase-heartbeat-database",1,(Qe,Se)=>{0===Se&&Qe.createObjectStore(Pi)}).catch(Qe=>{throw Ki.create("storage-open",{originalErrorMessage:Qe.message})})),zi}function On(){return(On=(0,o.Z)(function*(Qe){try{return(yield ii()).transaction(Pi).objectStore(Pi).get(J2(Qe))}catch(Se){throw Ki.create("storage-get",{originalErrorMessage:Se.message})}})).apply(this,arguments)}function et(Qe,Se){return wt.apply(this,arguments)}function wt(){return(wt=(0,o.Z)(function*(Qe,Se){try{const gt=(yield ii()).transaction(Pi,"readwrite");return yield gt.objectStore(Pi).put(Se,J2(Qe)),gt.complete}catch(pt){throw Ki.create("storage-set",{originalErrorMessage:pt.message})}})).apply(this,arguments)}function J2(Qe){return`${Qe.name}!${Qe.options.appId}`}class Et{constructor(Se){this.container=Se,this._heartbeatsCache=null;const pt=this.container.getProvider("app").getImmediate();this._storage=new pn(pt),this._heartbeatsCachePromise=this._storage.read().then(gt=>(this._heartbeatsCache=gt,gt))}triggerHeartbeat(){var Se=this;return(0,o.Z)(function*(){const gt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),tn=fn();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==tn&&!Se._heartbeatsCache.heartbeats.some(hn=>hn.date===tn))return Se._heartbeatsCache.heartbeats.push({date:tn,agent:gt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(hn=>{const $=new Date(hn.date).valueOf();return Date.now()-$<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,o.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const pt=fn(),{heartbeatsToSend:gt,unsentEntries:tn}=function(Qe,Se=1024){const pt=[];let gt=Qe.slice();for(const tn of Qe){const hn=pt.find($=>$.agent===tn.agent);if(hn){if(hn.dates.push(tn.date),Ut(pt)>Se){hn.dates.pop();break}}else if(pt.push({agent:tn.agent,dates:[tn.date]}),Ut(pt)>Se){pt.pop();break}gt=gt.slice(1)}return{heartbeatsToSend:pt,unsentEntries:gt}}(Se._heartbeatsCache.heartbeats),hn=(0,le.L)(JSON.stringify({version:2,heartbeats:gt}));return Se._heartbeatsCache.lastSentHeartbeatDate=pt,tn.length>0?(Se._heartbeatsCache.heartbeats=tn,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),hn})()}}function fn(){return(new Date).toISOString().substring(0,10)}class pn{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,o.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function(Qe){return On.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var pt=this;return(0,o.Z)(function*(){var gt;if(yield pt._canUseIndexedDBPromise){const hn=yield pt.read();return et(pt.app,{lastSentHeartbeatDate:null!==(gt=Se.lastSentHeartbeatDate)&&void 0!==gt?gt:hn.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var pt=this;return(0,o.Z)(function*(){var gt;if(yield pt._canUseIndexedDBPromise){const hn=yield pt.read();return et(pt.app,{lastSentHeartbeatDate:null!==(gt=Se.lastSentHeartbeatDate)&&void 0!==gt?gt:hn.lastSentHeartbeatDate,heartbeats:[...hn.heartbeats,...Se.heartbeats]})}})()}}function Ut(Qe){return(0,le.L)(JSON.stringify({version:2,heartbeats:Qe})).length}M1(new X.wA("platform-logger",Se=>new se(Se),"PRIVATE")),M1(new X.wA("heartbeat",Se=>new Et(Se),"PRIVATE")),ct(J,"0.7.20",""),ct(J,"0.7.20","esm2017"),ct("fire-js","")},4859:(ht,xe,O)=>{O.d(xe,{wA:()=>P,H0:()=>ue,zt:()=>se});var o=O(5861),X=O(2090);class P{constructor(q,W,re){this.name=q,this.instanceFactory=W,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const le="[DEFAULT]";class se{constructor(q,W){this.name=q,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const W=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(W)){const re=new X.BH;if(this.instancesDeferred.set(W,re),this.isInitialized(W)||this.shouldAutoInitialize())try{const We=this.getOrInitializeService({instanceIdentifier:W});We&&re.resolve(We)}catch(We){}}return this.instancesDeferred.get(W).promise}getImmediate(q){var W;const re=this.normalizeInstanceIdentifier(null==q?void 0:q.identifier),We=null!==(W=null==q?void 0:q.optional)&&void 0!==W&&W;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(We)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(Le){if(We)return null;throw Le}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if("EAGER"===q.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:le})}catch(W){}for(const[W,re]of this.instancesDeferred.entries()){const We=this.normalizeInstanceIdentifier(W);try{const Le=this.getOrInitializeService({instanceIdentifier:We});re.resolve(Le)}catch(Le){}}}}clearInstance(q=le){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,o.Z)(function*(){const W=Array.from(q.instances.values());yield Promise.all([...W.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...W.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=le){return this.instances.has(q)}getOptions(q=le){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:W={}}=q,re=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const We=this.getOrInitializeService({instanceIdentifier:re,options:W});for(const[Le,Ze]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(Le)&&Ze.resolve(We);return We}onInit(q,W){var re;const We=this.normalizeInstanceIdentifier(W),Le=null!==(re=this.onInitCallbacks.get(We))&&void 0!==re?re:new Set;Le.add(q),this.onInitCallbacks.set(We,Le);const Ze=this.instances.get(We);return Ze&&q(Ze,We),()=>{Le.delete(q)}}invokeOnInitCallbacks(q,W){const re=this.onInitCallbacks.get(W);if(re)for(const We of re)try{We(q,W)}catch(Le){}}getOrInitializeService({instanceIdentifier:q,options:W={}}){let re=this.instances.get(q);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=q,ge===le?void 0:ge),options:W}),this.instances.set(q,re),this.instancesOptions.set(q,W),this.invokeOnInitCallbacks(re,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,re)}catch(We){}var ge;return re||null}normalizeInstanceIdentifier(q=le){return this.component?this.component.multipleInstances?q:le:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const W=this.getProvider(q.name);if(W.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);W.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const W=new se(q,this);return this.providers.set(q,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(ht,xe,O)=>{O.d(xe,{in:()=>X,Yd:()=>J,Ub:()=>ue,Am:()=>ge});const o=[];var X=(()=>{return(q=X||(X={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",X;var q})();const P={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},le=X.INFO,se={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ye=(q,W,...re)=>{if(W<q.logLevel)return;const We=(new Date).toISOString(),Le=se[W];if(!Le)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Le](`[${We}]  ${q.name}:`,...re)};class J{constructor(W){this.name=W,this._logLevel=le,this._logHandler=ye,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in X))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?P[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...W),this._logHandler(this,X.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...W),this._logHandler(this,X.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,X.INFO,...W),this._logHandler(this,X.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,X.WARN,...W),this._logHandler(this,X.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...W),this._logHandler(this,X.ERROR,...W)}}function ue(q){o.forEach(W=>{W.setLogLevel(q)})}function ge(q,W){for(const re of o){let We=null;W&&W.level&&(We=P[W.level]),re.userLogHandler=null===q?null:(Le,Ze,...Ue)=>{const Fe=Ue.map(ne=>{if(null==ne)return null;if("string"==typeof ne)return ne;if("number"==typeof ne||"boolean"==typeof ne)return ne.toString();if(ne instanceof Error)return ne.message;try{return JSON.stringify(ne)}catch(De){return null}}).filter(ne=>ne).join(" ");Ze>=(null!=We?We:Le.logLevel)&&q({level:X[Ze].toLowerCase(),message:Fe,args:Ue,type:Le.name})}}}},5861:(ht,xe,O)=>{function o(P,le,se,ye,J,ue,ge){try{var q=P[ue](ge),W=q.value}catch(re){return void se(re)}q.done?le(W):Promise.resolve(W).then(ye,J)}function X(P){return function(){var le=this,se=arguments;return new Promise(function(ye,J){var ue=P.apply(le,se);function ge(W){o(ue,ye,J,ge,q,"next",W)}function q(W){o(ue,ye,J,ge,q,"throw",W)}ge(void 0)})}}O.d(xe,{Z:()=>X})}},ht=>{ht(ht.s=5746)}]);